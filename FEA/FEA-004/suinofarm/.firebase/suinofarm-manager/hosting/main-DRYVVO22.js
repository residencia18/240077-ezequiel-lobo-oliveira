import{A as Da,B as Ob,C as kb,D as U,E as Bt,F as tt,G as ap,H as Fb,I as Ea,J as At,K as mi,L as jc,M as lp,N as Lb,O as $o,P as xa,Q as Vb,R as jb,S as Qi,T as Pt,a as N,b as ce,c as on,d as Db,e as kc,f as Eb,g as xb,h as S,i as Uo,j as Fc,k as Ib,l as Sb,m as ot,n as Mb,o as sp,p as Tb,q as Wn,r as Ab,s as Pb,t as Lc,u as Qe,v as Nb,w as Rb,x as sn,y as Ki,z as Vc}from"./chunk-TIG7Q4RW.js";var Bb=null;var cp=1,up=Symbol("SIGNAL");function ge(t){let e=Bb;return Bb=t,e}var Ub={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function IP(t){if(!(fp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===cp)){if(!t.producerMustRecompute(t)&&!dp(t)){t.dirty=!1,t.lastCleanEpoch=cp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=cp}}function $b(t){return t&&(t.nextProducerIndex=0),ge(t)}function Hb(t,e){if(ge(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(fp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)hp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function dp(t){Bc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(IP(n),i!==n.version))return!0}return!1}function zb(t){if(Bc(t),fp(t))for(let e=0;e<t.producerNode.length;e++)hp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function hp(t,e){if(SP(t),Bc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)hp(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Bc(r),r.producerIndexOfThis[i]=e}}function fp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Bc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function SP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function MP(){throw new Error}var TP=MP;function Wb(t){TP=t}function H(t){return typeof t=="function"}function Ho(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Uc=Ho(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function zr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var qe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(H(i))try{i()}catch(o){e=o instanceof Uc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Gb(o)}catch(s){e=e??[],s instanceof Uc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Uc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Gb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&zr(n,e)}remove(e){let{_finalizers:n}=this;n&&zr(n,e),e instanceof t&&e._removeParent(this)}};qe.EMPTY=(()=>{let t=new qe;return t.closed=!0,t})();var pp=qe.EMPTY;function $c(t){return t instanceof qe||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function Gb(t){H(t)?t():t.unsubscribe()}var Sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var zo={setTimeout(t,e,...n){let{delegate:i}=zo;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=zo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Hc(t){zo.setTimeout(()=>{let{onUnhandledError:e}=Sn;if(e)e(t);else throw t})}function Wr(){}var qb=gp("C",void 0,void 0);function Yb(t){return gp("E",void 0,t)}function Kb(t){return gp("N",t,void 0)}function gp(t,e,n){return{kind:t,value:e,error:n}}var Gr=null;function Wo(t){if(Sn.useDeprecatedSynchronousErrorHandling){let e=!Gr;if(e&&(Gr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Gr;if(Gr=null,n)throw i}}else t()}function Qb(t){Sn.useDeprecatedSynchronousErrorHandling&&Gr&&(Gr.errorThrown=!0,Gr.error=t)}var qr=class extends qe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$c(e)&&e.add(this)):this.destination=NP}static create(e,n,i){return new yi(e,n,i)}next(e){this.isStopped?yp(Kb(e),this):this._next(e)}error(e){this.isStopped?yp(Yb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?yp(qb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},AP=Function.prototype.bind;function mp(t,e){return AP.call(t,e)}var vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){zc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){zc(i)}else zc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){zc(n)}}},yi=class extends qr{constructor(e,n,i){super();let r;if(H(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&mp(e.next,o),error:e.error&&mp(e.error,o),complete:e.complete&&mp(e.complete,o)}):r=e}this.destination=new vp(r)}};function zc(t){Sn.useDeprecatedSynchronousErrorHandling?Qb(t):Hc(t)}function PP(t){throw t}function yp(t,e){let{onStoppedNotification:n}=Sn;n&&zo.setTimeout(()=>n(t,e))}var NP={closed:!0,next:Wr,error:PP,complete:Wr};var Go=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function _p(...t){return bp(t)}function bp(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var X=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=OP(n)?n:new yi(n,i,r);return Wo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=Zb(i),new i((r,o)=>{let s=new yi({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Go](){return this}pipe(...n){return bp(n)(this)}toPromise(n){return n=Zb(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function Zb(t){var e;return(e=t??Sn.Promise)!==null&&e!==void 0?e:Promise}function RP(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function OP(t){return t&&t instanceof qr||RP(t)&&$c(t)}function Cp(t){return H(t?.lift)}function Y(t){return e=>{if(Cp(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,i,r){return new wp(t,e,n,i,r)}var wp=class extends qr{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function qo(){return Y((t,e)=>{let n=null;t._refCount++;let i=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Yo=class extends X{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Cp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new qe;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=qe.EMPTY)}return e}refCount(){return qo()(this)}};var Xb=Ho(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends X{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Wc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new Xb}next(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Wo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?pp:(this.currentObservers=null,o.push(n),new qe(()=>{this.currentObservers=null,zr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new X;return n.source=this,n}}return t.create=(e,n)=>new Wc(e,n),t})(),Wc=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:pp}};var gt=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Ia={now(){return(Ia.delegate||Date).now()},delegate:void 0};var Gc=class extends nt{constructor(e=1/0,n=1/0,i=Ia){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var qc=class extends qe{constructor(e,n){super()}schedule(e,n=0){return this}};var Sa={setInterval(t,e,...n){let{delegate:i}=Sa;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Sa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ko=class extends qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Sa.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Sa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,zr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Qo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Qo.now=Ia.now;var Zo=class extends Qo{constructor(e,n=Qo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Ma=new Zo(Ko);var Yc=class extends Ko{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Kc=class extends Zo{};var Dp=new Kc(Yc);var Ut=new X(t=>t.complete());function Jb(t){return t&&H(t.schedule)}function Ep(t){return t[t.length-1]}function Xo(t){return H(Ep(t))?t.pop():void 0}function Gn(t){return Jb(Ep(t))?t.pop():void 0}function eC(t,e){return typeof Ep(t)=="number"?t.pop():e}var Qc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Zc(t){return H(t?.then)}function Xc(t){return H(t[Go])}function Jc(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function eu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function kP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var tu=kP();function nu(t){return H(t?.[tu])}function iu(t){return Eb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield kc(n.read());if(r)return yield kc(void 0);yield yield kc(i)}}finally{n.releaseLock()}})}function ru(t){return H(t?.getReader)}function De(t){if(t instanceof X)return t;if(t!=null){if(Xc(t))return FP(t);if(Qc(t))return LP(t);if(Zc(t))return VP(t);if(Jc(t))return tC(t);if(nu(t))return jP(t);if(ru(t))return BP(t)}throw eu(t)}function FP(t){return new X(e=>{let n=t[Go]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LP(t){return new X(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function VP(t){return new X(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Hc)})}function jP(t){return new X(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function tC(t){return new X(e=>{UP(t,e).catch(n=>e.error(n))})}function BP(t){return tC(iu(t))}function UP(t,e){var n,i,r,o;return Db(this,void 0,void 0,function*(){try{for(n=xb(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function $t(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function an(t,e=0){return Y((n,i)=>{n.subscribe(z(i,r=>$t(i,t,()=>i.next(r),e),()=>$t(i,t,()=>i.complete(),e),r=>$t(i,t,()=>i.error(r),e)))})}function Mn(t,e=0){return Y((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function nC(t,e){return De(t).pipe(Mn(e),an(e))}function iC(t,e){return De(t).pipe(Mn(e),an(e))}function rC(t,e){return new X(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function oC(t,e){return new X(n=>{let i;return $t(n,e,()=>{i=t[tu](),$t(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>H(i?.return)&&i.return()})}function ou(t,e){if(!t)throw new Error("Iterable cannot be null");return new X(n=>{$t(n,e,()=>{let i=t[Symbol.asyncIterator]();$t(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function sC(t,e){return ou(iu(t),e)}function aC(t,e){if(t!=null){if(Xc(t))return nC(t,e);if(Qc(t))return rC(t,e);if(Zc(t))return iC(t,e);if(Jc(t))return ou(t,e);if(nu(t))return oC(t,e);if(ru(t))return sC(t,e)}throw eu(t)}function he(t,e){return e?aC(t,e):De(t)}function j(...t){let e=Gn(t);return he(t,e)}function Jo(t,e){let n=H(t)?t:()=>t,i=r=>r.error(n());return new X(e?r=>e.schedule(i,0,r):i)}function xp(t){return!!t&&(t instanceof X||H(t.lift)&&H(t.subscribe))}var vi=Ho(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B(t,e){return Y((n,i)=>{let r=0;n.subscribe(z(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:$P}=Array;function HP(t,e){return $P(e)?t(...e):t(e)}function su(t){return B(e=>HP(t,e))}var{isArray:zP}=Array,{getPrototypeOf:WP,prototype:GP,keys:qP}=Object;function au(t){if(t.length===1){let e=t[0];if(zP(e))return{args:e,keys:null};if(YP(e)){let n=qP(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function YP(t){return t&&typeof t=="object"&&WP(t)===GP}function lu(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Ta(...t){let e=Gn(t),n=Xo(t),{args:i,keys:r}=au(t);if(i.length===0)return he([],e);let o=new X(KP(i,e,r?s=>lu(r,s):pt));return n?o.pipe(su(n)):o}function KP(t,e,n=pt){return i=>{lC(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)lC(e,()=>{let c=he(t[l],e),u=!1;c.subscribe(z(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function lC(t,e,n){t?$t(n,t,e):e()}function cC(t,e,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let m=!1;De(n(g,u++)).subscribe(z(e,y=>{r?.(y),o?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<i;){let y=l.shift();s?$t(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(z(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Ze(t,e,n=1/0){return H(e)?Ze((i,r)=>B((o,s)=>e(i,o,r,s))(De(t(i,r))),n):(typeof e=="number"&&(n=e),Y((i,r)=>cC(i,r,t,n)))}function Zi(t=1/0){return Ze(pt,t)}function uC(){return Zi(1)}function es(...t){return uC()(he(t,Gn(t)))}function cu(t){return new X(e=>{De(t()).subscribe(e)})}function Ip(...t){let e=Xo(t),{args:n,keys:i}=au(t),r=new X(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;De(n[u]).subscribe(z(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?lu(i,a):a),o.complete())}))}});return e?r.pipe(su(e)):r}function ts(...t){let e=Gn(t),n=eC(t,1/0),i=t;return i.length?i.length===1?De(i[0]):Zi(n)(he(i,e)):Ut}function Dt(t,e){return Y((n,i)=>{let r=0;n.subscribe(z(i,o=>t.call(e,o,r++)&&i.next(o)))})}function Xi(t){return Y((e,n)=>{let i=null,r=!1,o;i=e.subscribe(z(n,void 0,void 0,s=>{o=De(t(s,Xi(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function dC(t,e,n,i,r){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(z(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function _i(t,e){return H(e)?Ze(t,e,1):Ze(t,1)}function Ji(t){return Y((e,n)=>{let i=!1;e.subscribe(z(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function bi(t){return t<=0?()=>Ut:Y((e,n)=>{let i=0;e.subscribe(z(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Sp(t){return B(()=>t)}function Mp(t,e=pt){return t=t??QP,Y((n,i)=>{let r,o=!0;n.subscribe(z(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function QP(t,e){return t===e}function uu(t=ZP){return Y((e,n)=>{let i=!1;e.subscribe(z(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function ZP(){return new vi}function er(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ln(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Dt((r,o)=>t(r,o,i)):pt,bi(1),n?Ji(e):uu(()=>new vi))}function ns(t){return t<=0?()=>Ut:Y((e,n)=>{let i=[];e.subscribe(z(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Tp(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Dt((r,o)=>t(r,o,i)):pt,ns(1),n?Ji(e):uu(()=>new vi))}function is(t,e){return Y(dC(t,e,arguments.length>=2,!0))}function Aa(t={}){let{connector:e=()=>new nt,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let g=s;f(),g?.unsubscribe()};return Y((g,m)=>{c++,!d&&!u&&h();let y=l=l??e();m.add(()=>{c--,c===0&&!d&&!u&&(a=Ap(p,r))}),y.subscribe(m),!s&&c>0&&(s=new yi({next:v=>y.next(v),error:v=>{d=!0,h(),a=Ap(f,n,v),y.error(v)},complete:()=>{u=!0,h(),a=Ap(f,i),y.complete()}}),De(g).subscribe(s))})(o)}}function Ap(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new yi({next:()=>{i.unsubscribe(),t()}});return De(e(...n)).subscribe(i)}function du(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,Aa({connector:()=>new Gc(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Pp(t){return Y((e,n)=>{let i=!1,r=0;e.subscribe(z(n,o=>(i||(i=!t(o,r++)))&&n.next(o)))})}function Np(...t){let e=Gn(t);return Y((n,i)=>{(e?es(t,n,e):es(t,n)).subscribe(i)})}function Me(t,e){return Y((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(z(i,l=>{r?.unsubscribe();let c=0,u=o++;De(t(l,u)).subscribe(r=z(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function hu(t,e){return H(e)?Me(()=>t,e):Me(()=>t)}function Rp(t){return Y((e,n)=>{De(t).subscribe(z(n,()=>n.complete(),Wr)),!n.closed&&e.subscribe(n)})}function Ye(t,e,n){let i=H(t)||e||n?{next:t,error:e,complete:n}:t;return i?Y((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(z(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):pt}function Op(...t){let e=Xo(t);return Y((n,i)=>{let r=t.length,o=new Array(r),s=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)De(t[l]).subscribe(z(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(pt))&&(s=null))},Wr));n.subscribe(z(i,l=>{if(a){let c=[l,...o];i.next(e?e(...c):c)}}))})}var XP="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(zu(e,n)),this.code=e}};function zu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Zp=class extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=ge(null);try{super.next(e)}finally{ge(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=kp(o),r&&(r=kp(r)),s&&(s=kp(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof qe&&e.add(a),a}};function kp(t){return e=>{setTimeout(t,void 0,e)}}var Ve=Zp;var ne=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ne||{});function Rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function hC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var QC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(QC||{}),Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{});function Ha(t){return{toString:t}.toString()}var mt=globalThis;var us={},cn=[];function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function JP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var eN=Ee({\u0275cmp:Ee}),tN=Ee({\u0275dir:Ee}),nN=Ee({\u0275pipe:Ee}),iN=Ee({\u0275mod:Ee}),Du=Ee({\u0275fac:Ee}),Pa=Ee({__NG_ELEMENT_ID__:Ee}),fC=Ee({__NG_ENV_ID__:Ee}),yt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(yt||{});function ZC(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function Xp(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];oN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function rN(t){return t===3||t===4||t===6}function oN(t){return t.charCodeAt(0)===64}function Ra(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?pC(t,n,r,null,e[++i]):pC(t,n,r,null,null))}}return t}function pC(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var XC="ng-template";function sN(t,e,n){let i=0,r=!0;for(;i<t.length;){let o=t[i++];if(typeof o=="string"&&r){let s=t[i++];if(n&&o==="class"&&ZC(s.toLowerCase(),e,0)!==-1)return!0}else if(o===1){for(;i<t.length&&typeof(o=t[i++])=="string";)if(o.toLowerCase()===e)return!0;return!1}else typeof o=="number"&&(r=!1)}return!1}function JC(t){return t.type===4&&t.value!==XC}function aN(t,e,n){let i=t.type===4&&!n?XC:t.value;return e===i}function lN(t,e,n){let i=4,r=t.attrs||[],o=dN(r),s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Tn(i)&&!Tn(l))return!1;if(s&&Tn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!aN(t,l,n)||l===""&&e.length===1){if(Tn(i))return!1;s=!0}}else{let c=i&8?l:e[++a];if(i&8&&t.attrs!==null){if(!sN(t.attrs,c,n)){if(Tn(i))return!1;s=!0}continue}let u=i&8?"class":l,d=cN(u,r,JC(t),n);if(d===-1){if(Tn(i))return!1;s=!0;continue}if(c!==""){let h;d>o?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&ZC(f,c,0)!==-1||i&2&&c!==h){if(Tn(i))return!1;s=!0}}}}return Tn(i)||s}function Tn(t){return(t&1)===0}function cN(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return hN(e,t)}function uN(t,e,n=!1){for(let i=0;i<e.length;i++)if(lN(t,e[i],n))return!0;return!1}function dN(t){for(let e=0;e<t.length;e++){let n=t[e];if(rN(n))return e}return t.length}function hN(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function gC(t,e){return t?":not("+e.trim()+")":e}function fN(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Tn(s)&&(e+=gC(o,r),r=""),i=s,o=o||!Tn(i);n++}return r!==""&&(e+=gC(o,r)),e}function pN(t){return t.map(fN).join(",")}function gN(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Tn(r))break;r=o}i++}return{attrs:e,classes:n}}function Fe(t){return Ha(()=>{let e=ow(t),n=ce(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===QC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||cn,_:null,schemas:t.schemas||null,tView:null,id:""});sw(n);let i=t.dependencies;return n.directiveDefs=yC(i,!1),n.pipeDefs=yC(i,!0),n.id=vN(n),n})}function mN(t){return ir(t)||tw(t)}function yN(t){return t!==null}function je(t){return Ha(()=>({type:t.type,bootstrap:t.bootstrap||cn,declarations:t.declarations||cn,imports:t.imports||cn,exports:t.exports||cn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function mC(t,e){if(t==null)return us;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=yt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==yt.None?[i,a]:i,e[o]=s):n[o]=i}return n}function Be(t){return Ha(()=>{let e=ow(t);return sw(e),e})}function ew(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function ir(t){return t[eN]||null}function tw(t){return t[tN]||null}function nw(t){return t[nN]||null}function iw(t){let e=ir(t)||tw(t)||nw(t);return e!==null?e.standalone:!1}function rw(t,e){let n=t[iN]||null;if(!n&&e===!0)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return n}function ow(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||us,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||cn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:mC(t.inputs,e),outputs:mC(t.outputs),debugInfo:null}}function sw(t){t.features?.forEach(e=>e(t))}function yC(t,e){if(!t)return null;let n=e?nw:mN;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(yN)}function vN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var Ei=0,Z=1,$=2,vt=3,An=4,Nn=5,Eu=6,Oa=7,Pn=8,ds=9,rr=10,Xe=11,ka=12,vC=13,vs=14,Qn=15,za=16,rs=17,Ci=18,Wu=19,aw=20,nr=21,Fp=22,Zr=23,un=25,lw=1;var Xr=7,xu=8,hs=9,Zt=10,Wg=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Wg||{});function Kr(t){return Array.isArray(t)&&typeof t[lw]=="object"}function xi(t){return Array.isArray(t)&&t[lw]===!0}function Gg(t){return(t.flags&4)!==0}function Gu(t){return t.componentOffset>-1}function qu(t){return(t.flags&1)===1}function or(t){return!!t.template}function _N(t){return(t[$]&512)!==0}var bN="svg",CN="math",wN=!1;function DN(){return wN}function Zn(t){for(;Array.isArray(t);)t=t[Ei];return t}function cw(t,e){return Zn(e[t])}function dn(t,e){return Zn(e[t.index])}function uw(t,e){return t.data[e]}function dw(t,e){return t[e]}function lr(t,e){let n=e[t];return Kr(n)?n:n[Ei]}function EN(t){return(t[$]&4)===4}function qg(t){return(t[$]&128)===128}function xN(t){return xi(t[vt])}function fs(t,e){return e==null?null:t[e]}function hw(t){t[rs]=0}function IN(t){t[$]&1024||(t[$]|=1024,qg(t)&&Fa(t))}function SN(t,e){for(;t>0;)e=e[vs],t--;return e}function Yg(t){return!!(t[$]&9216||t[Zr]?.dirty)}function Jp(t){Yg(t)?Fa(t):t[$]&64&&(DN()?(t[$]|=1024,Fa(t)):t[rr].changeDetectionScheduler?.notify())}function Fa(t){t[rr].changeDetectionScheduler?.notify();let e=La(t);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!qg(e)));)e=La(e)}function fw(t,e){if((t[$]&256)===256)throw new L(911,!1);t[nr]===null&&(t[nr]=[]),t[nr].push(e)}function MN(t,e){if(t[nr]===null)return;let n=t[nr].indexOf(e);n!==-1&&t[nr].splice(n,1)}function La(t){let e=t[vt];return xi(e)?e[vt]:e}var J={lFrame:bw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function TN(){return J.lFrame.elementDepthCount}function AN(){J.lFrame.elementDepthCount++}function PN(){J.lFrame.elementDepthCount--}function pw(){return J.bindingsEnabled}function NN(){return J.skipHydrationRootTNode!==null}function RN(t){return J.skipHydrationRootTNode===t}function ON(){J.skipHydrationRootTNode=null}function ve(){return J.lFrame.lView}function st(){return J.lFrame.tView}function Rn(t){return J.lFrame.contextLView=t,t[Pn]}function On(t){return J.lFrame.contextLView=null,t}function zt(){let t=gw();for(;t!==null&&t.type===64;)t=t.parent;return t}function gw(){return J.lFrame.currentTNode}function kN(){let t=J.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function so(t,e){let n=J.lFrame;n.currentTNode=t,n.isParent=e}function Kg(){return J.lFrame.isParent}function mw(){J.lFrame.isParent=!1}function FN(){return J.lFrame.contextLView}function LN(){let t=J.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function VN(t){return J.lFrame.bindingIndex=t}function Yu(){return J.lFrame.bindingIndex++}function jN(t){let e=J.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function BN(){return J.lFrame.inI18n}function UN(t,e){let n=J.lFrame;n.bindingIndex=n.bindingRootIndex=t,eg(e)}function $N(){return J.lFrame.currentDirectiveIndex}function eg(t){J.lFrame.currentDirectiveIndex=t}function HN(t){let e=J.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function yw(){return J.lFrame.currentQueryIndex}function Qg(t){J.lFrame.currentQueryIndex=t}function zN(t){let e=t[Z];return e.type===2?e.declTNode:e.type===1?t[Nn]:null}function vw(t,e,n){if(n&ne.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&ne.Host);)if(r=zN(o),r===null||(o=o[vs],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=J.lFrame=_w();return i.currentTNode=e,i.lView=t,!0}function Zg(t){let e=_w(),n=t[Z];J.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function _w(){let t=J.lFrame,e=t===null?null:t.child;return e===null?bw(t):e}function bw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Cw(){let t=J.lFrame;return J.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var ww=Cw;function Xg(){let t=Cw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function WN(t){return(J.lFrame.contextLView=SN(t,J.lFrame.contextLView))[Pn]}function _s(){return J.lFrame.selectedIndex}function Jr(t){J.lFrame.selectedIndex=t}function Jg(){let t=J.lFrame;return uw(t.tView,t.selectedIndex)}function GN(){return J.lFrame.currentNamespace}var Dw=!0;function Ku(){return Dw}function Qu(t){Dw=t}function qN(){return bs(zt(),ve())}function bs(t,e){return new hn(dn(t,e))}var hn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=qN;let t=e;return t})();function YN(t){return t instanceof hn?t.nativeElement:t}function KN(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function QN(t){return t.flat(Number.POSITIVE_INFINITY)}function em(t,e){t.forEach(n=>Array.isArray(n)?em(n,e):e(n))}function Ew(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Iu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ZN(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function XN(t,e,n){let i=Wa(t,e);return i>=0?t[i|1]=n:(i=~i,ZN(t,i,e,n)),i}function Lp(t,e){let n=Wa(t,e);if(n>=0)return t[n|1]}function Wa(t,e){return JN(t,e,1)}function JN(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}function eR(){return this._results[Symbol.iterator]()}var tg=class t{get changes(){return this._changes??=new Ve}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=eR)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=QN(e);(this._changesDetected=!KN(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function xw(t){return(t.flags&128)===128}var ng;function Iw(t){ng=t}function tR(){if(ng!==void 0)return ng;if(typeof document<"u")return document;throw new L(210,!1)}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ue(t){return{providers:t.providers||[],imports:t.imports||[]}}function Zu(t){return _C(t,Mw)||_C(t,Tw)}function Sw(t){return Zu(t)!==null}function _C(t,e){return t.hasOwnProperty(e)?t[e]:null}function nR(t){let e=t&&(t[Mw]||t[Tw]);return e||null}function bC(t){return t&&(t.hasOwnProperty(CC)||t.hasOwnProperty(iR))?t[CC]:null}var Mw=Ee({\u0275prov:Ee}),CC=Ee({\u0275inj:Ee}),Tw=Ee({ngInjectableDef:Ee}),iR=Ee({ngInjectorDef:Ee}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Xu=new R("",{providedIn:"root",factory:()=>rR}),rR="ng",tm=new R(""),Et=new R("",{providedIn:"platform",factory:()=>"unknown"});var nm=new R("",{providedIn:"root",factory:()=>tR().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var oR=Ee({__forward_ref__:Ee});function fn(t){return t.__forward_ref__=fn,t.toString=function(){return Rt(this())},t}function Nt(t){return Aw(t)?t():t}function Aw(t){return typeof t=="function"&&t.hasOwnProperty(oR)&&t.__forward_ref__===fn}function Pw(t){return t&&!!t.\u0275providers}function im(t){return typeof t=="string"?t:t==null?"":String(t)}function sR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():im(t)}function aR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function rm(t,e){throw new L(-201,!1)}var ig;function Nw(){return ig}function Ht(t){let e=ig;return ig=t,e}function Rw(t,e,n){let i=Zu(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ne.Optional)return null;if(e!==void 0)return e;rm(t,"Injector")}var lR={},Va=lR,rg="__NG_DI_FLAG__",Su="ngTempTokenPath",cR="ngTokenPath",uR=/\n/gm,dR="\u0275",wC="__source",ls;function hR(){return ls}function tr(t){let e=ls;return ls=t,e}function fR(t,e=ne.Default){if(ls===void 0)throw new L(-203,!1);return ls===null?Rw(t,void 0,e):ls.get(t,e&ne.Optional?null:void 0,e)}function I(t,e=ne.Default){return(Nw()||fR)(Nt(t),e)}function P(t,e=ne.Default){return I(t,Ju(e))}function Ju(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function og(t){let e=[];for(let n=0;n<t.length;n++){let i=Nt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new L(900,!1);let r,o=ne.Default;for(let s=0;s<i.length;s++){let a=i[s],l=pR(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(I(r,o))}else e.push(I(i))}return e}function Ow(t,e){return t[rg]=e,t.prototype[rg]=e,t}function pR(t){return t[rg]}function gR(t,e,n,i){let r=t[Su];throw e[wC]&&r.unshift(e[wC]),t.message=mR(`
`+t.message,r,n,i),t[cR]=r,t[Su]=null,t}function mR(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==dR?t.slice(2):t;let r=Rt(e);if(Array.isArray(e))r=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(uR,`
  `)}`}var yR="h",vR="b";var _R=()=>null;function om(t,e,n=!1){return _R(t,e,n)}var fu="__parameters__";function bR(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function kw(t,e,n){return Ha(()=>{let i=bR(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(fu)?l[fu]:Object.defineProperty(l,fu,{value:[]})[fu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var Cs=Ow(kw("Optional"),8);var sm=Ow(kw("SkipSelf"),4);function eo(t,e){let n=t.hasOwnProperty(Du);return n?t[Du]:null}var ps=new R(""),Fw=new R("",-1),Lw=new R(""),Mu=class{get(e,n=Va){if(n===Va){let i=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw i.name="NullInjectorError",i}return n}};function ed(t){return{\u0275providers:t}}function CR(...t){return{\u0275providers:Vw(!0,t),\u0275fromNgModule:!0}}function Vw(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return em(e,s=>{let a=s;sg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&jw(r,o),n}function jw(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];am(r,o=>{e(o,i)})}}function sg(t,e,n,i){if(t=Nt(t),!t)return!1;let r=null,o=bC(t),s=!o&&ir(t);if(!o&&!s){let l=t.ngModule;if(o=bC(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)sg(c,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{em(o.imports,u=>{sg(u,e,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&jw(c,e)}if(!a){let c=eo(r)||(()=>new r);e({provide:r,useFactory:c,deps:cn},r),e({provide:Lw,useValue:r,multi:!0},r),e({provide:ps,useValue:()=>I(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;am(l,u=>{e(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function am(t,e){for(let n of t)Pw(n)&&(n=n.\u0275providers),Array.isArray(n)?am(n,e):e(n)}var wR=Ee({provide:String,useValue:Ee});function Bw(t){return t!==null&&typeof t=="object"&&wR in t}function DR(t){return!!(t&&t.useExisting)}function ER(t){return!!(t&&t.useFactory)}function gs(t){return typeof t=="function"}function xR(t){return!!t.useClass}var td=new R(""),yu={},IR={},Vp;function lm(){return Vp===void 0&&(Vp=new Mu),Vp}var Ot=class{},ja=class extends Ot{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,lg(e,s=>this.processProvider(s)),this.records.set(Fw,os(void 0,this)),r.has("environment")&&this.records.set(Ot,os(void 0,this));let o=this.records.get(td);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Lw,cn,ne.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=ge(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ge(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=tr(this),i=Ht(void 0),r;try{return e()}finally{tr(n),Ht(i)}}get(e,n=Va,i=ne.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(fC))return e[fC](this);i=Ju(i);let r,o=tr(this),s=Ht(void 0);try{if(!(i&ne.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=PR(e)&&Zu(e);c&&this.injectableDefInScope(c)?l=os(ag(e),yu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&ne.Self?lm():this.parent;return n=i&ne.Optional&&n===Va?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Su]=a[Su]||[]).unshift(Rt(e)),o)throw a;return gR(a,e,"R3InjectorError",this.source)}else throw a}finally{Ht(s),tr(o)}}resolveInjectorInitializers(){let e=ge(null),n=tr(this),i=Ht(void 0),r;try{let o=this.get(ps,cn,ne.Self);for(let s of o)s()}finally{tr(n),Ht(i),ge(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Rt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=Nt(e);let n=gs(e)?e:Nt(e&&e.provide),i=MR(e);if(!gs(e)&&e.multi===!0){let r=this.records.get(n);r||(r=os(void 0,yu,!0),r.factory=()=>og(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=ge(null);try{return n.value===yu&&(n.value=IR,n.value=n.factory()),typeof n.value=="object"&&n.value&&AR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{ge(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ag(t){let e=Zu(t),n=e!==null?e.factory:eo(t);if(n!==null)return n;if(t instanceof R)throw new L(204,!1);if(t instanceof Function)return SR(t);throw new L(204,!1)}function SR(t){if(t.length>0)throw new L(204,!1);let n=nR(t);return n!==null?()=>n.factory(t):()=>new t}function MR(t){if(Bw(t))return os(void 0,t.useValue);{let e=Uw(t);return os(e,yu)}}function Uw(t,e,n){let i;if(gs(t)){let r=Nt(t);return eo(r)||ag(r)}else if(Bw(t))i=()=>Nt(t.useValue);else if(ER(t))i=()=>t.useFactory(...og(t.deps||[]));else if(DR(t))i=()=>I(Nt(t.useExisting));else{let r=Nt(t&&(t.useClass||t.provide));if(TR(t))i=()=>new r(...og(t.deps));else return eo(r)||ag(r)}return i}function os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function TR(t){return!!t.deps}function AR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function PR(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function lg(t,e){for(let n of t)Array.isArray(n)?lg(n,e):n&&Pw(n)?lg(n.\u0275providers,e):e(n)}function Jn(t,e){t instanceof ja&&t.assertNotDestroyed();let n,i=tr(t),r=Ht(void 0);try{return e()}finally{tr(i),Ht(r)}}function NR(t){if(!Nw()&&!hR())throw new L(-203,!1)}function RR(t){let e=mt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function OR(t){return typeof t=="function"}var cg=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function $w(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Ii(){return Hw}function Hw(t){return t.type.prototype.ngOnChanges&&(t.setInput=FR),kR}Ii.ngInherit=!0;function kR(){let t=Ww(this),e=t?.current;if(e){let n=t.previous;if(n===us)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function FR(t,e,n,i,r){let o=this.declaredInputs[i],s=Ww(t)||LR(t,{previous:us,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new cg(c&&c.currentValue,n,l===us),$w(t,e,r,n)}var zw="__ngSimpleChanges__";function Ww(t){return t[zw]||null}function LR(t,e){return t[zw]=e}var DC=null;var qn=function(t,e,n){DC?.(t,e,n)};function VR(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=Hw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function nd(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function vu(t,e,n){Gw(t,e,3,n)}function _u(t,e,n,i){(t[$]&3)===n&&Gw(t,e,n,i)}function jp(t,e){let n=t[$];(n&3)===e&&(n&=16383,n+=1,t[$]=n)}function Gw(t,e,n,i){let r=i!==void 0?t[rs]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[rs]+=65536),(a<o||o==-1)&&(jR(t,n,e,l),t[rs]=(t[rs]&4294901760)+l+2),l++}function EC(t,e){qn(4,t,e);let n=ge(null);try{e.call(t)}finally{ge(n),qn(5,t,e)}}function jR(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[$]>>14<t[rs]>>16&&(t[$]&3)===e&&(t[$]+=16384,EC(a,o)):EC(a,o)}var cs=-1,to=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function BR(t){return t instanceof to}function UR(t){return(t.flags&8)!==0}function $R(t){return(t.flags&16)!==0}function qw(t){return t!==cs}function Tu(t){return t&32767}function HR(t){return t>>16}function Au(t,e){let n=HR(t),i=e;for(;n>0;)i=i[vs],n--;return i}var ug=!0;function Pu(t){let e=ug;return ug=t,e}var zR=256,Yw=zR-1,Kw=5,WR=0,Yn={};function GR(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Pa)&&(i=n[Pa]),i==null&&(i=n[Pa]=WR++);let r=i&Yw,o=1<<r;e.data[t+(r>>Kw)]|=o}function Nu(t,e){let n=Qw(t,e);if(n!==-1)return n;let i=e[Z];i.firstCreatePass&&(t.injectorIndex=e.length,Bp(i.data,t),Bp(e,null),Bp(i.blueprint,null));let r=cm(t,e),o=t.injectorIndex;if(qw(r)){let s=Tu(r),a=Au(r,e),l=a[Z].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Bp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Qw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cm(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=tD(r),i===null)return cs;if(n++,r=r[vs],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return cs}function dg(t,e,n){GR(t,e,n)}function Zw(t,e,n){if(n&ne.Optional||t!==void 0)return t;rm(e,"NodeInjector")}function Xw(t,e,n,i){if(n&ne.Optional&&i===void 0&&(i=null),!(n&(ne.Self|ne.Host))){let r=t[ds],o=Ht(void 0);try{return r?r.get(e,i,n&ne.Optional):Rw(e,i,n&ne.Optional)}finally{Ht(o)}}return Zw(i,e,n)}function Jw(t,e,n,i=ne.Default,r){if(t!==null){if(e[$]&2048&&!(i&ne.Self)){let s=QR(t,e,n,i,Yn);if(s!==Yn)return s}let o=eD(t,e,n,i,Yn);if(o!==Yn)return o}return Xw(e,n,i,r)}function eD(t,e,n,i,r){let o=YR(n);if(typeof o=="function"){if(!vw(e,t,i))return i&ne.Host?Zw(r,n,i):Xw(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&ne.Optional))rm(n);else return s}finally{ww()}}else if(typeof o=="number"){let s=null,a=Qw(t,e),l=cs,c=i&ne.Host?e[Qn][Nn]:null;for((a===-1||i&ne.SkipSelf)&&(l=a===-1?cm(t,e):e[a+8],l===cs||!IC(i,!1)?a=-1:(s=e[Z],a=Tu(l),e=Au(l,e)));a!==-1;){let u=e[Z];if(xC(o,a,u.data)){let d=qR(a,e,n,s,i,c);if(d!==Yn)return d}l=e[a+8],l!==cs&&IC(i,e[Z].data[a+8]===c)&&xC(o,a,e)?(s=u,a=Tu(l),e=Au(l,e)):a=-1}}return r}function qR(t,e,n,i,r,o){let s=e[Z],a=s.data[t+8],l=i==null?Gu(a)&&ug:i!=s&&(a.type&3)!==0,c=r&ne.Host&&o===a,u=bu(a,s,n,l,c);return u!==null?no(e,s,u,a):Yn}function bu(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&or(f)&&f.type===n)return l}return null}function no(t,e,n,i){let r=t[n],o=e.data;if(BR(r)){let s=r;s.resolving&&aR(sR(o[n]));let a=Pu(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?Ht(s.injectImpl):null,u=vw(t,i,ne.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&VR(n,o[n],e)}finally{c!==null&&Ht(c),Pu(a),s.resolving=!1,ww()}}return r}function YR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pa)?t[Pa]:void 0;return typeof e=="number"?e>=0?e&Yw:KR:e}function xC(t,e,n){let i=1<<t;return!!(n[e+(t>>Kw)]&i)}function IC(t,e){return!(t&ne.Self)&&!(t&ne.Host&&e)}var Qr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return Jw(this._tNode,this._lView,e,Ju(i),n)}};function KR(){return new Qr(zt(),ve())}function Si(t){return Ha(()=>{let e=t.prototype.constructor,n=e[Du]||hg(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Du]||hg(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function hg(t){return Aw(t)?()=>{let e=hg(Nt(t));return e&&e()}:eo(t)}function QR(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[$]&2048&&!(s[$]&512);){let a=eD(o,s,n,i|ne.Self,Yn);if(a!==Yn)return a;let l=o.parent;if(!l){let c=s[aw];if(c){let u=c.get(n,Yn,i);if(u!==Yn)return u}l=tD(s),s=s[vs]}o=l}return r}function tD(t){let e=t[Z],n=e.type;return n===2?e.declTNode:n===1?t[Nn]:null}function SC(t,e=null,n=null,i){let r=nD(t,e,n,i);return r.resolveInjectorInitializers(),r}function nD(t,e=null,n=null,i,r=new Set){let o=[n||cn,CR(t)];return i=i||(typeof t=="object"?void 0:Rt(t)),new ja(o,e||lm(),i||null,r)}var kn=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return SC({name:""},r,i,"");{let o=i.name??"";return SC({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=Va,e.NULL=new Mu,e.\u0275prov=O({token:e,providedIn:"any",factory:()=>I(Fw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),ZR="ngOriginalError";function Up(t){return t[ZR]}var Xn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Up(e);for(;n&&Up(n);)n=Up(n);return n||null}},iD=new R("",{providedIn:"root",factory:()=>P(Xn).handleError.bind(void 0)});var rD=!1,XR=new R("",{providedIn:"root",factory:()=>rD});var fg=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${XP})`}};function um(t){return t instanceof fg?t.changingThisBreaksApplicationSecurity:t}var JR=/^>|^->|<!--|-->|--!>|<!-$/g,eO=/(<|>)/g,tO="\u200B$1\u200B";function nO(t){return t.replace(JR,e=>e.replace(eO,tO))}var oD=new Map,iO=0;function rO(){return iO++}function oO(t){oD.set(t[Wu],t)}function sO(t){oD.delete(t[Wu])}var MC="__ngContext__";function sr(t,e){Kr(e)?(t[MC]=e[Wu],oO(e)):t[MC]=e}function sD(t){return t instanceof Function?t():t}function aO(t){return(t??P(kn)).get(Et)==="browser"}var wi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(wi||{}),lO;function dm(t,e){return lO(t,e)}function ss(t,e,n,i,r){if(i!=null){let o,s=!1;xi(i)?o=i:Kr(i)&&(s=!0,i=i[Ei]);let a=Zn(i);t===0&&n!==null?r==null?dD(e,n,a):Ru(e,n,a,r||null,!0):t===1&&n!==null?Ru(e,n,a,r||null,!0):t===2?IO(e,a,s):t===3&&e.destroyNode(a),o!=null&&MO(e,t,o,n,r)}}function cO(t,e){return t.createText(e)}function uO(t,e,n){t.setValue(e,n)}function dO(t,e){return t.createComment(nO(e))}function aD(t,e,n){return t.createElement(e,n)}function hO(t,e){lD(t,e),e[Ei]=null,e[Nn]=null}function fO(t,e,n,i,r,o){i[Ei]=r,i[Nn]=e,rd(t,i,n,1,r,o)}function lD(t,e){rd(t,e,e[Xe],2,null,null)}function pO(t){let e=t[ka];if(!e)return $p(t[Z],t);for(;e;){let n=null;if(Kr(e))n=e[ka];else{let i=e[Zt];i&&(n=i)}if(!n){for(;e&&!e[An]&&e!==t;)Kr(e)&&$p(e[Z],e),e=e[vt];e===null&&(e=t),Kr(e)&&$p(e[Z],e),n=e&&e[An]}e=n}}function gO(t,e,n,i){let r=Zt+i,o=n.length;i>0&&(n[r-1][An]=e),i<o-Zt?(e[An]=n[r],Ew(n,Zt+i,e)):(n.push(e),e[An]=null),e[vt]=n;let s=e[za];s!==null&&n!==s&&mO(s,e);let a=e[Ci];a!==null&&a.insertView(t),Jp(e),e[$]|=128}function mO(t,e){let n=t[hs],r=e[vt][vt][Qn];e[Qn]!==r&&(t[$]|=Wg.HasTransplantedViews),n===null?t[hs]=[e]:n.push(e)}function cD(t,e){let n=t[hs],i=n.indexOf(e);n.splice(i,1)}function pg(t,e){if(t.length<=Zt)return;let n=Zt+e,i=t[n];if(i){let r=i[za];r!==null&&r!==t&&cD(r,i),e>0&&(t[n-1][An]=i[An]);let o=Iu(t,Zt+e);hO(i[Z],i);let s=o[Ci];s!==null&&s.detachView(o[Z]),i[vt]=null,i[An]=null,i[$]&=-129}return i}function uD(t,e){if(!(e[$]&256)){let n=e[Xe];n.destroyNode&&rd(t,e,n,3,null,null),pO(e)}}function $p(t,e){if(e[$]&256)return;let n=ge(null);try{e[$]&=-129,e[$]|=256,e[Zr]&&zb(e[Zr]),vO(t,e),yO(t,e),e[Z].type===1&&e[Xe].destroy();let i=e[za];if(i!==null&&xi(e[vt])){i!==e[vt]&&cD(i,e);let r=e[Ci];r!==null&&r.detachView(t)}sO(e)}finally{ge(n)}}function yO(t,e){let n=t.cleanup,i=e[Oa];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Oa]=null);let r=e[nr];if(r!==null){e[nr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function vO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof to)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];qn(4,a,l);try{l.call(a)}finally{qn(5,a,l)}}else{qn(4,r,o);try{o.call(r)}finally{qn(5,r,o)}}}}}function _O(t,e,n){return bO(t,e.parent,n)}function bO(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[Ei];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Kn.None||o===Kn.Emulated)return null}return dn(i,n)}}function Ru(t,e,n,i,r){t.insertBefore(e,n,i,r)}function dD(t,e,n){t.appendChild(e,n)}function TC(t,e,n,i,r){i!==null?Ru(t,e,n,i,r):dD(t,e,n)}function CO(t,e,n,i){t.removeChild(e,n,i)}function hm(t,e){return t.parentNode(e)}function wO(t,e){return t.nextSibling(e)}function DO(t,e,n){return xO(t,e,n)}function EO(t,e,n){return t.type&40?dn(t,n):null}var xO=EO,AC;function id(t,e,n,i){let r=_O(t,i,e),o=e[Xe],s=i.parent||e[Nn],a=DO(s,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)TC(o,r,n[l],a,!1);else TC(o,r,n,a,!1);AC!==void 0&&AC(o,i,e,n,r)}function Cu(t,e){if(e!==null){let n=e.type;if(n&3)return dn(e,t);if(n&4)return gg(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Cu(t,i);{let r=t[e.index];return xi(r)?gg(-1,r):Zn(r)}}else{if(n&32)return dm(e,t)()||Zn(t[e.index]);{let i=hD(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=La(t[Qn]);return Cu(r,i)}else return Cu(t,e.next)}}}return null}function hD(t,e){if(e!==null){let i=t[Qn][Nn],r=e.projection;return i.projection[r]}return null}function gg(t,e){let n=Zt+t+1;if(n<e.length){let i=e[n],r=i[Z].firstChild;if(r!==null)return Cu(i,r)}return e[Xr]}function IO(t,e,n){let i=hm(t,e);i&&CO(t,i,e,n)}function fm(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],l=n.type;if(s&&e===0&&(a&&sr(Zn(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)fm(t,e,n.child,i,r,o,!1),ss(e,t,r,a,o);else if(l&32){let c=dm(n,i),u;for(;u=c();)ss(e,t,r,u,o);ss(e,t,r,a,o)}else l&16?SO(t,e,i,n,r,o):ss(e,t,r,a,o);n=s?n.projectionNext:n.next}}function rd(t,e,n,i,r,o){fm(n,i,t.firstChild,e,r,o,!1)}function SO(t,e,n,i,r,o){let s=n[Qn],l=s[Nn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ss(e,t,r,u,o)}else{let c=l,u=s[vt];xw(i)&&(c.flags|=128),fm(t,e,c,u,r,o,!0)}}function MO(t,e,n,i,r){let o=n[Xr],s=Zn(n);o!==s&&ss(e,t,i,o,r);for(let a=Zt;a<n.length;a++){let l=n[a];rd(l[Z],l,t,e,i,o)}}function TO(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:wi.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=wi.Important),t.setStyle(n,i,r,o))}}function AO(t,e,n){t.setAttribute(e,"style",n)}function fD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function pD(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&Xp(t,e,i),r!==null&&fD(t,e,r),o!==null&&AO(t,e,o)}var ao={};function M(t=1){gD(st(),ve(),_s()+t,!1)}function gD(t,e,n,i){if(!i)if((e[$]&3)===3){let o=t.preOrderCheckHooks;o!==null&&vu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&_u(e,o,0,n)}Jr(n)}function k(t,e=ne.Default){let n=ve();if(n===null)return I(t,e);let i=zt();return Jw(i,n,Nt(t),e)}function mD(){let t="invalid";throw new Error(t)}function yD(t,e,n,i,r,o){let s=ge(null);try{let a=null;r&yt.SignalBased&&(a=e[i][up]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&yt.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):$w(e,a,i,o)}finally{ge(s)}}function PO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Jr(~r);else{let o=r,s=n[++i],a=n[++i];UN(s,o);let l=e[o];a(2,l)}}}finally{Jr(-1)}}function od(t,e,n,i,r,o,s,a,l,c,u){let d=e.blueprint.slice();return d[Ei]=r,d[$]=i|4|128|8|64,(c!==null||t&&t[$]&2048)&&(d[$]|=2048),hw(d),d[vt]=d[vs]=t,d[Pn]=n,d[rr]=s||t&&t[rr],d[Xe]=a||t&&t[Xe],d[ds]=l||t&&t[ds]||null,d[Nn]=o,d[Wu]=rO(),d[Eu]=u,d[aw]=c,d[Qn]=e.type==2?t[Qn]:d,d}function Ga(t,e,n,i,r){let o=t.data[e];if(o===null)o=NO(t,e,n,i,r),BN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=kN();o.injectorIndex=s===null?-1:s.injectorIndex}return so(o,!0),o}function NO(t,e,n,i,r){let o=gw(),s=Kg(),a=s?o:o&&o.parent,l=t.data[e]=VO(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function vD(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function _D(t,e,n,i,r){let o=_s(),s=i&2;try{Jr(-1),s&&e.length>un&&gD(t,e,un,!1),qn(s?2:0,r),n(i,r)}finally{Jr(o),qn(s?3:1,r)}}function pm(t,e,n){if(Gg(e)){let i=ge(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{ge(i)}}}function gm(t,e,n){pw()&&(zO(t,e,n,dn(n,e)),(n.flags&64)===64&&DD(t,e,n))}function mm(t,e,n=dn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function bD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=ym(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function ym(t,e,n,i,r,o,s,a,l,c,u){let d=un+i,h=d+r,f=RO(d,h),p=typeof c=="function"?c():c;return f[Z]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function RO(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:ao);return n}function OO(t,e,n,i){let o=i.get(XR,rD)||n===Kn.ShadowDom,s=t.selectRootElement(e,o);return kO(s),s}function kO(t){FO(t)}var FO=()=>null;function LO(t,e,n,i){let r=ID(e);r.push(n),t.firstCreatePass&&SD(t).push(i,r.length-1)}function VO(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return NN()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function PC(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=yt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?NC(i,n,c,a,l):NC(i,n,c,a)}return i}function NC(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function jO(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=PC(0,d.inputs,u,l,f),c=PC(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!JC(e)?tk(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function BO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function CD(t,e,n,i,r,o,s,a){let l=dn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(_m(t,n,u,i,r),Gu(e)&&UO(n,e.index)):e.type&3?(i=BO(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function UO(t,e){let n=lr(e,t);n[$]&16||(n[$]|=64)}function vm(t,e,n,i){if(pw()){let r=i===null?null:{"":-1},o=GO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&wD(t,e,n,s,r,a),r&&qO(n,i,r)}n.mergedAttrs=Ra(n.mergedAttrs,n.attrs)}function wD(t,e,n,i,r,o){for(let c=0;c<i.length;c++)dg(Nu(n,e),t,i[c].type);KO(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=vD(t,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ra(n.mergedAttrs,u.hostAttrs),QO(t,n,e,l,u),YO(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}jO(t,n,o)}function $O(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;HO(s)!=a&&s.push(a),s.push(n,i,o)}}function HO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function zO(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;Gu(n)&&ZO(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Nu(n,e),sr(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=no(e,t,a,n);if(sr(c,e),s!==null&&ek(e,a-r,c,l,n,s),or(l)){let u=lr(n.index,e);u[Pn]=no(e,t,a,n)}}}function DD(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=$N();try{Jr(o);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];eg(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&WO(l,c)}}finally{Jr(-1),eg(s)}}function WO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function GO(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(uN(e,s.selectors,!1))if(i||(i=[]),or(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;mg(t,e,l)}else i.unshift(s),mg(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function mg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function qO(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new L(-301,!1);i.push(e[r],o)}}}function YO(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;or(e)&&(n[""]=t)}}function KO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function QO(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=eo(r.type,!0)),s=new to(o,or(r),k);t.blueprint[i]=s,n[i]=s,$O(t,e,i,vD(t,n,r.hostVars,ao),r)}function ZO(t,e,n){let i=dn(e,t),r=bD(n),o=t[rr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=sd(t,od(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function XO(t,e,n,i,r,o){let s=dn(t,e);JO(e[Xe],s,o,t.value,n,i,r)}function JO(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?im(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function ek(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];yD(i,n,l,c,u,d)}}function tk(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function ED(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function xD(t,e){let n=t.contentQueries;if(n!==null){let i=ge(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];Qg(o),a.contentQueries(2,e[s],s)}}}finally{ge(i)}}}function sd(t,e){return t[ka]?t[vC][An]=e:t[ka]=e,t[vC]=e,e}function yg(t,e,n){Qg(0);let i=ge(null);try{e(t,n)}finally{ge(i)}}function ID(t){return t[Oa]||(t[Oa]=[])}function SD(t){return t.cleanup||(t.cleanup=[])}function MD(t,e){let n=t[ds],i=n?n.get(Xn,null):null;i&&i.handleError(e)}function _m(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];yD(u,c,i,a,l,r)}}function nk(t,e,n){let i=cw(e,t);uO(t[Xe],i,n)}function ik(t,e){let n=lr(e,t),i=n[Z];rk(i,n);let r=n[Ei];r!==null&&n[Eu]===null&&(n[Eu]=om(r,n[ds])),bm(i,n,n[Pn])}function rk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function bm(t,e,n){Zg(e);try{let i=t.viewQuery;i!==null&&yg(1,i,n);let r=t.template;r!==null&&_D(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ci]?.finishViewCreation(t),t.staticContentQueries&&xD(t,e),t.staticViewQueries&&yg(2,t.viewQuery,n);let o=t.components;o!==null&&ok(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[$]&=-5,Xg()}}function ok(t,e){for(let n=0;n<e.length;n++)ik(t,e[n])}function sk(t,e,n,i){let r=ge(null);try{let o=e.tView,a=t[$]&4096?4096:16,l=od(t,o,n,a,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];l[za]=c;let u=t[Ci];return u!==null&&(l[Ci]=u.createEmbeddedView(o)),bm(o,l,n),l}finally{ge(r)}}function RC(t,e){return!e||e.firstChild===null||xw(t)}function ak(t,e,n,i=!0){let r=e[Z];if(gO(r,e,t,n),i){let s=gg(n,t),a=e[Xe],l=hm(a,t[Xr]);l!==null&&fO(r,t[Nn],a,e,l,s)}let o=e[Eu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Ou(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Zn(o)),xi(o)&&lk(o,i);let s=n.type;if(s&8)Ou(t,e,n.child,i);else if(s&32){let a=dm(n,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=hD(e,n);if(Array.isArray(a))i.push(...a);else{let l=La(e[Qn]);Ou(l[Z],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function lk(t,e){for(let n=Zt;n<t.length;n++){let i=t[n],r=i[Z].firstChild;r!==null&&Ou(i[Z],i,r,e)}t[Xr]!==t[Ei]&&e.push(t[Xr])}var TD=[];function ck(t){return t[Zr]??uk(t)}function uk(t){let e=TD.pop()??Object.create(hk);return e.lView=t,e}function dk(t){t.lView[Zr]!==t&&(t.lView=null,TD.push(t))}var hk=ce(N({},Ub),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Fa(t.lView)},consumerOnSignalRead(){this.lView[Zr]=this}});function AD(t){return ND(t[ka])}function PD(t){return ND(t[An])}function ND(t){for(;t!==null&&!xi(t);)t=t[An];return t}var RD=100;function OD(t,e=!0,n=0){let i=t[rr],r=i.rendererFactory,o=!1;o||r.begin?.();try{fk(t,n)}catch(s){throw e&&MD(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function fk(t,e){vg(t,e);let n=0;for(;Yg(t);){if(n===RD)throw new L(103,!1);n++,vg(t,1)}}function pk(t,e,n,i){let r=e[$];if((r&256)===256)return;let o=!1;!o&&e[rr].inlineEffectRunner?.flush(),Zg(e);let s=null,a=null;!o&&gk(t)&&(a=ck(e),s=$b(a));try{hw(e),VN(t.bindingStartIndex),n!==null&&_D(t,e,n,2,i);let l=(r&3)===3;if(!o)if(l){let d=t.preOrderCheckHooks;d!==null&&vu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&_u(e,d,0,null),jp(e,0)}if(mk(e),kD(e,0),t.contentQueries!==null&&xD(t,e),!o)if(l){let d=t.contentCheckHooks;d!==null&&vu(e,d)}else{let d=t.contentHooks;d!==null&&_u(e,d,1),jp(e,1)}PO(t,e);let c=t.components;c!==null&&LD(e,c,0);let u=t.viewQuery;if(u!==null&&yg(2,u,i),!o)if(l){let d=t.viewCheckHooks;d!==null&&vu(e,d)}else{let d=t.viewHooks;d!==null&&_u(e,d,2),jp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Fp]){for(let d of e[Fp])d();e[Fp]=null}o||(e[$]&=-73)}catch(l){throw Fa(e),l}finally{a!==null&&(Hb(a,s),dk(a)),Xg()}}function gk(t){return t.type!==2}function kD(t,e){for(let n=AD(t);n!==null;n=PD(n))for(let i=Zt;i<n.length;i++){let r=n[i];FD(r,e)}}function mk(t){for(let e=AD(t);e!==null;e=PD(e)){if(!(e[$]&Wg.HasTransplantedViews))continue;let n=e[hs];for(let i=0;i<n.length;i++){let r=n[i],o=r[vt];IN(r)}}}function yk(t,e,n){let i=lr(e,t);FD(i,n)}function FD(t,e){qg(t)&&vg(t,e)}function vg(t,e){let i=t[Z],r=t[$],o=t[Zr],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&dp(o)),o&&(o.dirty=!1),t[$]&=-9217,s)pk(i,t,i.template,t[Pn]);else if(r&8192){kD(t,1);let a=i.components;a!==null&&LD(t,a,1)}}function LD(t,e,n){for(let i=0;i<e.length;i++)yk(t,e[i],n)}function Cm(t){for(t[rr].changeDetectionScheduler?.notify();t;){t[$]|=64;let e=La(t);if(_N(t)&&!e)return t;t=e}return null}var io=class{get rootNodes(){let e=this._lView,n=e[Z];return Ou(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Pn]}set context(e){this._lView[Pn]=e}get destroyed(){return(this._lView[$]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(xi(e)){let n=e[xu],i=n?n.indexOf(this):-1;i>-1&&(pg(e,i),Iu(n,i))}this._attachedToViewContainer=!1}uD(this._lView[Z],this._lView)}onDestroy(e){fw(this._lView,e)}markForCheck(){Cm(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){Jp(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,OD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,lD(this._lView[Z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,Jp(this._lView)}},ro=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=bk;let t=e;return t})(),vk=ro,_k=class extends vk{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=sk(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new io(r)}};function bk(){return wm(zt(),ve())}function wm(t,e){return t.type&4?new _k(e,t,bs(t,e)):null}var uK=new RegExp(`^(\\d+)*(${vR}|${yR})*(.*)`);var Ck=()=>null;function OC(t,e){return Ck(t,e)}var _g=class{},bg=class{},ku=class{};function wk(t){let e=Error(`No component factory found for ${Rt(t)}.`);return e[Dk]=t,e}var Dk="ngComponent";var Cg=class{resolveComponentFactory(e){throw wk(e)}},ad=(()=>{let e=class e{};e.NULL=new Cg;let t=e;return t})(),Ba=class{},cr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Ek();let t=e;return t})();function Ek(){let t=ve(),e=zt(),n=lr(e.index,t);return(Kr(n)?n:t)[Xe]}var xk=(()=>{let e=class e{};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Hp={},VD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Ik,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),wg=class extends VD{constructor(e){super(),this._lView=e}onDestroy(e){return fw(this._lView,e),()=>MN(this._lView,e)}};function Ik(){return new wg(ve())}var kC=new Set;function ld(t){kC.has(t)||(kC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function FC(...t){}function Sk(){let t=typeof mt.requestAnimationFrame=="function",e=mt[t?"requestAnimationFrame":"setTimeout"],n=mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ue=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=Sk().nativeRequestAnimationFrame,Ak(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Mk,FC,FC);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Mk={};function Dm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Tk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Dg(t),t.isCheckStableRunning=!0,Dm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Dg(t))}function Ak(t){let e=()=>{Tk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(Pk(a))return n.invokeTask(r,o,s,a);try{return LC(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),VC(t)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return LC(t),n.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),VC(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Dg(t),Dm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Dg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function LC(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function VC(t){t._nesting--,Dm(t)}var Eg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function Pk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Nk(t="zone.js",e){return t==="noop"?new Eg:t==="zone.js"?new ue(e):t}var as=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(as||{}),Rk={destroy(){}};function Em(t,e){!e&&NR(Em);let n=e?.injector??P(kn);if(!aO(n))return Rk;ld("NgAfterNextRender");let i=n.get(xm),r=i.handler??=new Ig,o=e?.phase??as.MixedReadWrite,s=()=>{r.unregister(l),a()},a=n.get(VD).onDestroy(s),l=new xg(n,o,()=>{s(),t()});return r.register(l),{destroy:s}}var xg=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(ue),this.errorHandler=e.get(Xn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ig=class{constructor(){this.executingCallbacks=!1,this.buckets={[as.EarlyRead]:new Set,[as.Write]:new Set,[as.MixedReadWrite]:new Set,[as.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},xm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Fu(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=hC(r,a);else if(o==2){let l=a,c=e[++s];i=hC(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Lu=class extends ad{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=ir(e);return new ms(n,this.ngModule)}};function jC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function Ok(t){let e=t.toLowerCase();return e==="svg"?bN:e==="math"?CN:null}var Sg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Ju(i);let r=this.injector.get(e,Hp,i);return r!==Hp||n===Hp?r:this.parentInjector.get(e,n,i)}},ms=class extends ku{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=jC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return jC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=pN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=ge(null);try{r=r||this.ngModule;let s=r instanceof Ot?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Sg(e,s):e,l=a.get(Ba,null);if(l===null)throw new L(407,!1);let c=a.get(xk,null),u=a.get(xm,null),d=a.get(_g,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?OO(f,i,this.componentDef.encapsulation,a):aD(f,p,Ok(p)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=om(g,a,!0));let v=ym(0,null,null,1,0,null,null,null,null,null,null),C=od(null,v,null,m,null,null,h,f,a,null,y);Zg(C);let D,w;try{let x=this.componentDef,A,T=null;x.findHostDirectiveDefs?(A=[],T=new Map,x.findHostDirectiveDefs(x,A,T),A.push(x)):A=[x];let F=kk(C,g),q=Fk(F,g,x,A,C,h,f);w=uw(v,un),g&&jk(f,x,g,i),n!==void 0&&Bk(w,this.ngContentSelectors,n),D=Vk(q,x,A,T,C,[Uk]),bm(v,C,null)}finally{Xg()}return new Mg(this.componentType,D,bs(w,C),C,w)}finally{ge(o)}}},Mg=class extends bg{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new io(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;_m(o[Z],o,r,e,n),this.previousInputValues.set(e,n);let s=lr(this._tNode.index,o);Cm(s)}}get injector(){return new Qr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function kk(t,e){let n=t[Z],i=un;return t[i]=e,Ga(n,i,2,"#host",null)}function Fk(t,e,n,i,r,o,s){let a=r[Z];Lk(i,t,e,s);let l=null;e!==null&&(l=om(e,r[ds]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=od(r,bD(n),null,u,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&mg(a,t,i.length-1),sd(r,d),r[t.index]=d}function Lk(t,e,n,i){for(let r of t)e.mergedAttrs=Ra(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Fu(e,e.mergedAttrs,!0),n!==null&&pD(i,n,e))}function Vk(t,e,n,i,r,o){let s=zt(),a=r[Z],l=dn(s,r);wD(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=no(r,a,d,s);sr(h,r)}DD(a,r,s),l&&sr(l,r);let c=no(r,a,s.directiveStart+s.componentOffset,s);if(t[Pn]=r[Pn]=c,o!==null)for(let u of o)u(c,e);return pm(a,s,r),c}function jk(t,e,n,i){if(i)Xp(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:o}=gN(e.selectors[0]);r&&Xp(t,n,r),o&&o.length>0&&fD(t,n,o.join(" "))}}function Bk(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function Uk(){let t=zt();nd(ve()[Z],t)}var ur=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$k;let t=e;return t})();function $k(){let t=zt();return BD(t,ve())}var Hk=ur,jD=class extends Hk{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return bs(this._hostTNode,this._hostLView)}get injector(){return new Qr(this._hostTNode,this._hostLView)}get parentInjector(){let e=cm(this._hostTNode,this._hostLView);if(qw(e)){let n=Au(e,this._hostLView),i=Tu(e),r=n[Z].data[i+8];return new Qr(r,n)}else return new Qr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=BC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Zt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=OC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,RC(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!OR(e),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new ms(ir(e)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(Ot,null);g&&(o=g)}let u=ir(l.componentType??{}),d=OC(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,RC(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(xN(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[vt],c=new jD(l,l[Nn],l[vt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ak(s,r,o,i),e.attachToViewContainerRef(),Ew(zp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=BC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=pg(this._lContainer,n);i&&(Iu(zp(this._lContainer),n),uD(i[Z],i))}detach(e){let n=this._adjustIndex(e,-1),i=pg(this._lContainer,n);return i&&Iu(zp(this._lContainer),n)!=null?new io(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function BC(t){return t[xu]}function zp(t){return t[xu]||(t[xu]=[])}function BD(t,e){let n,i=e[t.index];return xi(i)?n=i:(n=ED(i,e,null,t),e[t.index]=n,sd(e,n)),Wk(n,e,t,i),new jD(n,t,e)}function zk(t,e){let n=t[Xe],i=n.createComment(""),r=dn(e,t),o=hm(n,r);return Ru(n,o,i,wO(n,r),!1),i}var Wk=Yk,Gk=()=>!1;function qk(t,e,n){return Gk(t,e,n)}function Yk(t,e,n,i){if(t[Xr])return;let r;n.type&8?r=Zn(i):r=zk(e,n),t[Xr]=r}var Tg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ag=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Im(e,n).matches!==null&&this.queries[n].setDirty()}},Pg=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=n1(e):this.predicate=e}},Ng=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Rg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,Kk(n,o)),this.matchTNodeWithReadOption(e,n,bu(n,e,o,!1,!1))}else i===ro?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,bu(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===hn||r===ur||r===ro&&n.type&4)this.addMatch(n.index,-2);else{let o=bu(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function Kk(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function Qk(t,e){return t.type&11?bs(t,e):t.type&4?wm(t,e):null}function Zk(t,e,n,i){return n===-1?Qk(e,t):n===-2?Xk(t,e,i):no(t,t[Z],n,e)}function Xk(t,e,n){if(n===hn)return bs(e,t);if(n===ro)return wm(e,t);if(n===ur)return BD(e,t)}function UD(t,e,n,i){let r=e[Ci].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(Zk(e,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function Og(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=UD(t,e,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=Zt;d<u.length;d++){let h=u[d];h[za]===h[vt]&&Og(h[Z],h,c,i)}if(u[hs]!==null){let d=u[hs];for(let h=0;h<d.length;h++){let f=d[h];Og(f[Z],f,c,i)}}}}}return i}function Jk(t,e){return t[Ci].queries[e].queryList}function e1(t,e,n){let i=new tg((n&4)===4);return LO(t,e,i,i.destroy),(e[Ci]??=new Ag).queries.push(new Tg(i))-1}function t1(t,e,n){let i=st();return i.firstCreatePass&&(i1(i,new Pg(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),e1(i,ve(),e)}function n1(t){return t.split(",").map(e=>e.trim())}function i1(t,e,n){t.queries===null&&(t.queries=new Ng),t.queries.track(new Rg(e,n))}function Im(t,e){return t.queries.getByIndex(e)}function r1(t,e){let n=t[Z],i=Im(n,e);return i.crossesNgTemplate?Og(n,t,e,[]):UD(n,t,i,e)}function o1(t){return typeof t=="function"&&t[up]!==void 0}function $D(t){return o1(t)&&typeof t.set=="function"}function s1(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(u1))}return o}return Vu.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>d1(o));e.push(l)}),l1(),Promise.all(e).then(()=>{})}var Vu=new Map,a1=new Set;function l1(){let t=Vu;return Vu=new Map,t}function c1(){return Vu.size===0}function u1(t){return typeof t=="string"?t:t.text()}function d1(t){a1.delete(t)}function h1(t){return Object.getPrototypeOf(t.prototype).constructor}function Wt(t){let e=h1(t.type),n=!0,i=[t];for(;e;){let r;if(or(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=pu(t.inputs),s.inputTransforms=pu(t.inputTransforms),s.declaredInputs=pu(t.declaredInputs),s.outputs=pu(t.outputs);let a=r.hostBindings;a&&y1(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&g1(t,l),c&&m1(t,c),f1(t,r),JP(t.outputs,r.outputs),or(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Wt&&(n=!1)}}e=Object.getPrototypeOf(e)}p1(i)}function f1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function p1(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ra(r.hostAttrs,n=Ra(n,r.hostAttrs))}}function pu(t){return t===us?{}:t===cn?[]:t}function g1(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function m1(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function y1(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var ar=class{},Ua=class{};var ju=class extends ar{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lu(this);let r=rw(e);this._bootstrapComponents=sD(r.bootstrap),this._r3Injector=nD(e,n,[{provide:ar,useValue:this},{provide:ad,useValue:this.componentFactoryResolver},...i],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bu=class extends Ua{constructor(e){super(),this.moduleType=e}create(e){return new ju(this.moduleType,e,[])}};function v1(t,e,n){return new ju(t,e,n)}var kg=class extends ar{constructor(e){super(),this.componentFactoryResolver=new Lu(this),this.instance=null;let n=new ja([...e.providers,{provide:ar,useValue:this},{provide:ad,useValue:this.componentFactoryResolver}],e.parent||lm(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function cd(t,e,n=null){return new kg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var lo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function HD(t){return b1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function _1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function b1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function C1(t,e,n){return t[e]=n}function ws(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function w1(t,e,n,i,r,o,s,a,l){let c=e.consts,u=Ga(e,t,4,s||null,fs(c,a));vm(e,n,u,fs(c,l)),nd(e,u);let d=u.tView=ym(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ie(t,e,n,i,r,o,s,a){let l=ve(),c=st(),u=t+un,d=c.firstCreatePass?w1(u,c,l,e,n,i,r,o,s):c.data[u];so(d,!1);let h=D1(c,l,d,t);Ku()&&id(c,l,h,d),sr(h,l);let f=ED(h,l,h,d);return l[u]=f,sd(l,f),qk(f,d,l),qu(d)&&gm(c,l,d),s!=null&&mm(l,d,a),ie}var D1=E1;function E1(t,e,n,i){return Qu(!0),e[Xe].createComment("")}function ud(t,e,n,i){let r=ve(),o=Yu();if(ws(r,o,e)){let s=st(),a=Jg();XO(a,r,t,e,n,i)}return ud}function x1(t,e,n,i){return ws(t,Yu(),n)?e+im(n)+i:ao}function gu(t,e){return t<<17|e<<2}function oo(t){return t>>17&32767}function I1(t){return(t&2)==2}function S1(t,e){return t&131071|e<<17}function Fg(t){return t|2}function ys(t){return(t&131068)>>2}function Wp(t,e){return t&-131069|e<<2}function M1(t){return(t&1)===1}function Lg(t){return t|1}function T1(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=oo(s),l=ys(s);t[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Wa(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=oo(t[a+1]);t[i+1]=gu(h,a),h!==0&&(t[h+1]=Wp(t[h+1],i)),t[a+1]=S1(t[a+1],i)}else t[i+1]=gu(a,0),a!==0&&(t[a+1]=Wp(t[a+1],i)),a=i;else t[i+1]=gu(l,0),a===0?a=i:t[l+1]=Wp(t[l+1],i),l=i;c&&(t[i+1]=Fg(t[i+1])),UC(t,u,i,!0),UC(t,u,i,!1),A1(e,u,t,i,o),s=gu(a,l),o?e.classBindings=s:e.styleBindings=s}function A1(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wa(o,e)>=0&&(n[i+1]=Lg(n[i+1]))}function UC(t,e,n,i){let r=t[n+1],o=e===null,s=i?oo(r):ys(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];P1(l,e)&&(a=!0,t[s+1]=i?Lg(c):Fg(c)),s=i?oo(c):ys(c)}a&&(t[n+1]=i?Fg(r):Lg(r))}function P1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wa(t,e)>=0:!1}function V(t,e,n){let i=ve(),r=Yu();if(ws(i,r,e)){let o=st(),s=Jg();CD(o,s,i,t,e,i[Xe],n,!1)}return V}function $C(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";_m(t,n,o[s],s,i)}function Fn(t,e){return N1(t,e,null,!0),Fn}function N1(t,e,n,i){let r=ve(),o=st(),s=jN(2);if(o.firstUpdatePass&&O1(o,t,s,i),e!==ao&&ws(r,s,e)){let a=o.data[_s()];j1(o,a,r,r[Xe],t,r[s+1]=B1(e,n),i,s)}}function R1(t,e){return e>=t.expandoStartIndex}function O1(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[_s()],s=R1(t,n);U1(o,i)&&e===null&&!s&&(e=!1),e=k1(r,o,e,i),T1(r,o,e,n,s,i)}}function k1(t,e,n,i){let r=HN(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Gp(null,t,e,n,i),n=$a(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Gp(r,t,e,n,i),o===null){let l=F1(t,e,i);l!==void 0&&Array.isArray(l)&&(l=Gp(null,t,e,l[1],i),l=$a(l,e.attrs,i),L1(t,e,i,l))}else o=V1(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function F1(t,e,n){let i=n?e.classBindings:e.styleBindings;if(ys(i)!==0)return t[oo(i)]}function L1(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[oo(r)]=i}function V1(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=$a(i,s,n)}return $a(i,e.attrs,n)}function Gp(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=$a(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function $a(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),XN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function j1(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=M1(c)?HC(l,e,n,r,ys(c),s):void 0;if(!Uu(u)){Uu(o)||I1(c)&&(o=HC(l,null,n,r,a,s));let d=cw(_s(),n);TO(i,s,d,r,o)}}function HC(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===ao&&(h=d?cn:void 0);let f=d?Lp(h,i):u===i?h:void 0;if(c&&!Uu(f)&&(f=Lp(l,i)),Uu(f)&&(a=f,s))return a;let p=t[r+1];r=s?oo(p):ys(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=Lp(l,i))}return a}function Uu(t){return t!==void 0}function B1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Rt(um(t)))),t}function U1(t,e){return(t.flags&(e?8:16))!==0}function $1(t,e,n,i,r,o){let s=e.consts,a=fs(s,r),l=Ga(e,t,2,i,a);return vm(e,n,l,fs(s,o)),l.attrs!==null&&Fu(l,l.attrs,!1),l.mergedAttrs!==null&&Fu(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(t,e,n,i){let r=ve(),o=st(),s=un+t,a=r[Xe],l=o.firstCreatePass?$1(s,o,r,e,n,i):o.data[s],c=H1(o,r,l,a,e,t);r[s]=c;let u=qu(l);return so(l,!0),pD(a,c,l),(l.flags&32)!==32&&Ku()&&id(o,r,c,l),TN()===0&&sr(c,r),AN(),u&&(gm(o,r,l),pm(o,l,r)),i!==null&&mm(r,l),b}function _(){let t=zt();Kg()?mw():(t=t.parent,so(t,!1));let e=t;RN(e)&&ON(),PN();let n=st();return n.firstCreatePass&&(nd(n,t),Gg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&UR(e)&&$C(n,e,ve(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$R(e)&&$C(n,e,ve(),e.stylesWithoutHost,!1),_}function oe(t,e,n,i){return b(t,e,n,i),_(),oe}var H1=(t,e,n,i,r,o)=>(Qu(!0),aD(i,r,GN()));function z1(t,e,n,i,r){let o=e.consts,s=fs(o,i),a=Ga(e,t,8,"ng-container",s);s!==null&&Fu(a,s,!0);let l=fs(o,r);return vm(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Mi(t,e,n){let i=ve(),r=st(),o=t+un,s=r.firstCreatePass?z1(o,r,i,e,n):r.data[o];so(s,!0);let a=W1(r,i,s,t);return i[o]=a,Ku()&&id(r,i,a,s),sr(a,i),qu(s)&&(gm(r,i,s),pm(r,s,i)),n!=null&&mm(i,s),Mi}function Ti(){let t=zt(),e=st();return Kg()?mw():(t=t.parent,so(t,!1)),e.firstCreatePass&&(nd(e,t),Gg(t)&&e.queries.elementEnd(t)),Ti}var W1=(t,e,n,i)=>(Qu(!0),dO(e[Xe],""));function dr(){return ve()}var Yr=void 0;function G1(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var q1=["en",[["a","p"],["AM","PM"],Yr],[["AM","PM"],Yr,Yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yr,"{1} 'at' {0}",Yr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",G1],qp={};function pn(t){let e=Y1(t),n=zC(e);if(n)return n;let i=e.split("-")[0];if(n=zC(i),n)return n;if(i==="en")return q1;throw new L(701,!1)}function zC(t){return t in qp||(qp[t]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[t]),qp[t]}var Ke=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ke||{});function Y1(t){return t.toLowerCase().replace(/_/g,"-")}var $u="en-US";var K1=$u;function Q1(t){typeof t=="string"&&(K1=t.toLowerCase().replace(/_/g,"-"))}function se(t,e,n,i){let r=ve(),o=st(),s=zt();return zD(o,r,r[Xe],s,t,e,i),se}function Z1(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Oa],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function zD(t,e,n,i,r,o,s){let a=qu(i),c=t.firstCreatePass&&SD(t),u=e[Pn],d=ID(e),h=!0;if(i.type&3||s){let g=dn(i,e),m=s?s(g):g,y=d.length,v=s?D=>s(Zn(D[i.index])):i.index,C=null;if(!s&&a&&(C=Z1(t,e,r,i.index)),C!==null){let D=C.__ngLastListenerFn__||C;D.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=GC(i,e,u,o,!1);let D=n.listen(m,r,o);d.push(o,D),c&&c.push(r,v,y,y+1)}}else o=GC(i,e,u,o,!1);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let y=p[m],v=p[m+1],w=e[y][v].subscribe(o),x=d.length;if(d.push(o,w),c){let A=typeof w=="function"?x+1:-(x+1);c.push(r,i.index,x,A)}}}}function WC(t,e,n,i){let r=ge(null);try{return qn(6,e,n),n(i)!==!1}catch(o){return MD(t,o),!1}finally{qn(7,e,n),ge(r)}}function GC(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?lr(t.index,e):e;Cm(a);let l=WC(e,n,i,s),c=o.__ngNextListenerFn__;for(;c;)l=WC(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function it(t=1){return WN(t)}function WD(t,e,n){t1(t,e,n)}function Sm(t){let e=ve(),n=st(),i=yw();Qg(i+1);let r=Im(n,i);if(t.dirty&&EN(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=r1(e,i);t.reset(o,YN),t.notifyOnChanges()}return!0}return!1}function Mm(){return Jk(ve(),yw())}function X1(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function GD(t){let e=FN();return dw(e,un+t)}function E(t,e=""){let n=ve(),i=st(),r=t+un,o=i.firstCreatePass?Ga(i,r,1,e,null):i.data[r],s=J1(i,n,o,e,t);n[r]=s,Ku()&&id(i,n,s,o),so(o,!1)}var J1=(t,e,n,i,r)=>(Qu(!0),cO(e[Xe],i));function Ai(t){return kt("",t,""),Ai}function kt(t,e,n){let i=ve(),r=x1(i,t,e,n);return r!==ao&&nk(i,_s(),r),kt}function at(t,e,n){$D(e)&&(e=e());let i=ve(),r=Yu();if(ws(i,r,e)){let o=st(),s=Jg();CD(o,s,i,t,e,i[Xe],n,!1)}return at}function _t(t,e){let n=$D(t);return n&&t.set(e),n}function lt(t,e){let n=ve(),i=st(),r=zt();return zD(i,n,n[Xe],r,t,e),lt}function eF(t,e,n){let i=st();if(i.firstCreatePass){let r=or(t);Vg(n,i.data,i.blueprint,r,!0),Vg(e,i.data,i.blueprint,r,!1)}}function Vg(t,e,n,i,r){if(t=Nt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Vg(t[o],e,n,i,r);else{let o=st(),s=ve(),a=zt(),l=gs(t)?t:Nt(t.provide),c=Uw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(gs(t)||!t.multi){let f=new to(c,r,k),p=Kp(l,e,r?u:u+h,d);p===-1?(dg(Nu(a,s),o,l),Yp(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Kp(l,e,u+h,d),p=Kp(l,e,u,u+h),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){dg(Nu(a,s),o,l);let y=iF(r?nF:tF,n.length,r,i,c);!r&&m&&(n[p].providerFactory=y),Yp(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=qD(n[r?p:f],c,!r&&i);Yp(o,t,f>-1?f:p,y)}!r&&i&&m&&n[p].componentProviders++}}}function Yp(t,e,n,i){let r=gs(e),o=xR(e);if(r||o){let l=(o?Nt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function qD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kp(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function tF(t,e,n,i){return jg(this.multi,[])}function nF(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=no(n,n[Z],this.providerFactory.index,i);o=a.slice(0,s),jg(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],jg(r,o);return o}function jg(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function iF(t,e,n,i,r){let o=new to(t,n,k);return o.multi=[],o.index=e,o.componentProviders=0,qD(o,r,i&&!n),o}function ei(t,e=[]){return n=>{n.providersResolver=(i,r)=>eF(i,r?r(t):t,e)}}var rF=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=Vw(!1,i.type),o=r.length>0?cd([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(I(Ot))});let t=e;return t})();function YD(t){ld("NgStandalone"),t.getStandaloneInjector=e=>e.get(rF).getOrCreateStandaloneInjector(t)}function oF(t,e){let n=t[e];return n===ao?void 0:n}function sF(t,e,n,i,r,o){let s=e+n;return ws(t,s,r)?C1(t,s+1,o?i.call(o,r):i(r)):oF(t,s+1)}function Tm(t,e){let n=st(),i,r=t+un;n.firstCreatePass?(i=aF(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=eo(i.type,!0)),s,a=Ht(k);try{let l=Pu(!1),c=o();return Pu(l),X1(n,ve(),r,c),c}finally{Ht(a)}}function aF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function Am(t,e,n){let i=t+un,r=ve(),o=dw(r,i);return lF(r,i)?sF(r,LN(),e,o.transform,n,o):o.transform(n)}function lF(t,e){return t[Z].data[e].pure}var mu=null;function cF(t){mu!==null&&(t.defaultEncapsulation!==mu.defaultEncapsulation||t.preserveWhitespaces!==mu.preserveWhitespaces)||(mu=t)}var Di=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},KD=new Di("17.2.4"),dd=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Pm=new R(""),qa=new R(""),hd=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Nm||(uF(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(I(ue),I(fd),I(qa))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),fd=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Nm?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function uF(t){Nm=t}var Nm;function co(t){return!!t&&typeof t.then=="function"}function QD(t){return!!t&&typeof t.subscribe=="function"}var pd=new R(""),ZD=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=P(pd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(co(s))i.push(s);else if(QD(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gd=new R("");function dF(){Wb(()=>{throw new L(600,!1)})}function hF(t){return t.isBoundToModule}function fF(t,e,n){try{let i=n();return co(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function XD(t,e){return Array.isArray(e)?e.reduce(XD,t):N(N({},t),e)}var uo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(iD),this.afterRenderEffectManager=P(xm),this.componentTypes=[],this.components=[],this.isStable=P(lo).hasPendingTasks.pipe(B(i=>!i)),this._injector=P(Ot)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof ku;if(!this._injector.get(ZD).done){let f=!o&&iw(i),p=!1;throw new L(405,p)}let a;o?a=i:a=this._injector.get(ad).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=hF(a)?void 0:this._injector.get(ar),c=r||a.selector,u=a.create(kn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Pm,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),wu(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new L(101,!1);let i=ge(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,ge(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===RD)throw new L(103,!1);let o=i===0;for(let{_lView:s,notifyErrorHandler:a}of this._views)!o&&!Qp(s)||this.detectChangesInView(s,a,o);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:s})=>Qp(s))&&(r.execute(),!this._views.some(({_lView:s})=>Qp(s))))break}}detectChangesInView(i,r,o){let s;o?(s=0,i[$]|=1024):i[$]&64?s=0:s=1,OD(i,r,s)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;wu(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(gd,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>wu(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new L(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function wu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Qp(t){return Yg(t)}var Bg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},md=(()=>{let e=class e{compileModuleSync(i){return new Bu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=rw(i),s=sD(o.declarations).reduce((a,l)=>{let c=ir(l);return c&&a.push(new ms(c)),a},[]);return new Bg(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pF=new R("");function gF(t,e,n){let i=new Bu(n);return Promise.resolve(i)}function qC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var mF=(()=>{let e=class e{constructor(){this.zone=P(ue),this.applicationRef=P(uo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function yF(t){return[{provide:ue,useFactory:t},{provide:ps,multi:!0,useFactory:()=>{let e=P(mF,{optional:!0});return()=>e.initialize()}},{provide:ps,multi:!0,useFactory:()=>{let e=P(bF);return()=>{e.initialize()}}},{provide:iD,useFactory:vF}]}function vF(){let t=P(ue),e=P(Xn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function _F(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var bF=(()=>{let e=class e{constructor(){this.subscription=new qe,this.initialized=!1,this.zone=P(ue),this.pendingTasks=P(lo)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function CF(){return typeof $localize<"u"&&$localize.locale||$u}var yd=new R("",{providedIn:"root",factory:()=>P(yd,ne.Optional|ne.SkipSelf)||CF()});var JD=new R(""),eE=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=Nk(r?.ngZone,_F({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=v1(i.moduleType,this.injector,yF(()=>o)),a=s.injector.get(Xn,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{wu(this._modules,s),l.unsubscribe()})}),fF(a,o,()=>{let l=s.injector.get(ZD);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(yd,$u);return Q1(c||$u),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=XD({},r);return gF(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(uo);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new L(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(JD,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(I(kn))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Na=null,tE=new R("");function wF(t){if(Na&&!Na.get(tE,!1))throw new L(400,!1);dF(),Na=t;let e=t.get(eE);return xF(t),e}function Rm(t,e,n=[]){let i=`Platform: ${e}`,r=new R(i);return(o=[])=>{let s=nE();if(!s||s.injector.get(tE,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):wF(DF(a,i))}return EF(r)}}function DF(t=[],e){return kn.create({name:e,providers:[{provide:td,useValue:"platform"},{provide:JD,useValue:new Set([()=>Na=null])},...t]})}function EF(t){let e=nE();if(!e)throw new L(401,!1);return e}function nE(){return Na?.get(eE)??null}function xF(t){t.get(tm,null)?.forEach(n=>n())}function Om(){return!1}var ho=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=IF;let t=e;return t})();function IF(t){return SF(zt(),ve(),(t&16)===16)}function SF(t,e,n){if(Gu(t)&&!n){let i=lr(t.index,e);return new io(i,i)}else if(t.type&47){let i=e[Qn];return new io(i,e)}return null}var Ug=class{constructor(){}supports(e){return HD(e)}create(e){return new $g(e)}},MF=(t,e)=>e,$g=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||MF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<YC(i,r,o)?n:i,a=YC(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!HD(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,_1(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Hg(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Hu),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Hu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Hg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},Hu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new zg,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function YC(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function KC(){return new km([new Ug])}var km=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||KC()),deps:[[e,new sm,new Cs]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new L(901,!1)}};e.\u0275prov=O({token:e,providedIn:"root",factory:KC});let t=e;return t})();var iE=Rm(null,"core",[]),rE=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(I(uo))},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({});let t=e;return t})();function Ya(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function oE(t){let e=ir(t);if(!e)return null;let n=new ms(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var dE=null;function ti(){return dE}function hE(t){dE??=t}var Id=class{};var xt=new R(""),Hm=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>P(PF),providedIn:"platform"});let t=e;return t})(),fE=new R(""),PF=(()=>{let e=class e extends Hm{constructor(){super(),this._doc=P(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ti().getBaseHref(this._doc)}onPopState(i){let r=ti().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ti().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function sE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Ni(t){return t&&t[0]!=="?"?"?"+t:t}var fo=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>P(Wm),providedIn:"root"});let t=e;return t})(),pE=new R(""),Wm=(()=>{let e=class e extends fo{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return zm(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Ni(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Ni(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Ni(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(I(Hm),I(pE,8))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gE=(()=>{let e=class e extends fo{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=zm(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+Ni(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+Ni(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(I(Hm),I(pE,8))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),Es=(()=>{let e=class e{constructor(i){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=OF(sE(aE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Ni(r))}normalize(i){return e.stripTrailingSlash(RF(this._basePath,aE(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ni(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Ni(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=Ni,e.joinWithSlash=zm,e.stripTrailingSlash=sE,e.\u0275fac=function(r){return new(r||e)(I(fo))},e.\u0275prov=O({token:e,factory:()=>NF(),providedIn:"root"});let t=e;return t})();function NF(){return new Es(I(fo))}function RF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function aE(t){return t.replace(/\/index.html$/,"")}function OF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ft=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ft||{}),xe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(xe||{}),Xt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Xt||{}),Ri=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Ri||{});function kF(t){return pn(t)[Ke.LocaleId]}function FF(t,e,n){let i=pn(t),r=[i[Ke.DayPeriodsFormat],i[Ke.DayPeriodsStandalone]],o=gn(r,e);return gn(o,n)}function LF(t,e,n){let i=pn(t),r=[i[Ke.DaysFormat],i[Ke.DaysStandalone]],o=gn(r,e);return gn(o,n)}function VF(t,e,n){let i=pn(t),r=[i[Ke.MonthsFormat],i[Ke.MonthsStandalone]],o=gn(r,e);return gn(o,n)}function jF(t,e){let i=pn(t)[Ke.Eras];return gn(i,e)}function vd(t,e){let n=pn(t);return gn(n[Ke.DateFormat],e)}function _d(t,e){let n=pn(t);return gn(n[Ke.TimeFormat],e)}function bd(t,e){let i=pn(t)[Ke.DateTimeFormat];return gn(i,e)}function Md(t,e){let n=pn(t),i=n[Ke.NumberSymbols][e];if(typeof i>"u"){if(e===Ri.CurrencyDecimal)return n[Ke.NumberSymbols][Ri.Decimal];if(e===Ri.CurrencyGroup)return n[Ke.NumberSymbols][Ri.Group]}return i}function mE(t){if(!t[Ke.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ke.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function BF(t){let e=pn(t);return mE(e),(e[Ke.ExtraData][2]||[]).map(i=>typeof i=="string"?Fm(i):[Fm(i[0]),Fm(i[1])])}function UF(t,e,n){let i=pn(t);mE(i);let r=[i[Ke.ExtraData][0],i[Ke.ExtraData][1]],o=gn(r,e)||[];return gn(o,n)||[]}function gn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Fm(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var $F=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cd={},HF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Oi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Oi||{}),ye=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ye||{}),me=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(me||{});function zF(t,e,n,i){let r=JF(t);e=Pi(n,e)||e;let s=[],a;for(;e;)if(a=HF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=vE(i,l),r=XF(r,i,!0));let c="";return s.forEach(u=>{let d=QF(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Sd(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function Pi(t,e){let n=kF(t);if(Cd[n]??={},Cd[n][e])return Cd[n][e];let i="";switch(e){case"shortDate":i=vd(t,Xt.Short);break;case"mediumDate":i=vd(t,Xt.Medium);break;case"longDate":i=vd(t,Xt.Long);break;case"fullDate":i=vd(t,Xt.Full);break;case"shortTime":i=_d(t,Xt.Short);break;case"mediumTime":i=_d(t,Xt.Medium);break;case"longTime":i=_d(t,Xt.Long);break;case"fullTime":i=_d(t,Xt.Full);break;case"short":let r=Pi(t,"shortTime"),o=Pi(t,"shortDate");i=wd(bd(t,Xt.Short),[r,o]);break;case"medium":let s=Pi(t,"mediumTime"),a=Pi(t,"mediumDate");i=wd(bd(t,Xt.Medium),[s,a]);break;case"long":let l=Pi(t,"longTime"),c=Pi(t,"longDate");i=wd(bd(t,Xt.Long),[l,c]);break;case"full":let u=Pi(t,"fullTime"),d=Pi(t,"fullDate");i=wd(bd(t,Xt.Full),[u,d]);break}return i&&(Cd[n][e]=i),i}function wd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function Ln(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function WF(t,e){return Ln(t,3).substring(0,e)}function Je(t,e,n=0,i=!1,r=!1){return function(o,s){let a=GF(t,o);if((n>0||a>-n)&&(a+=n),t===ye.Hours)a===0&&n===-12&&(a=12);else if(t===ye.FractionalSeconds)return WF(a,e);let l=Md(s,Ri.MinusSign);return Ln(a,e,l,i,r)}}function GF(t,e){switch(t){case ye.FullYear:return e.getFullYear();case ye.Month:return e.getMonth();case ye.Date:return e.getDate();case ye.Hours:return e.getHours();case ye.Minutes:return e.getMinutes();case ye.Seconds:return e.getSeconds();case ye.FractionalSeconds:return e.getMilliseconds();case ye.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Te(t,e,n=Ft.Format,i=!1){return function(r,o){return qF(r,o,t,e,n,i)}}function qF(t,e,n,i,r,o){switch(n){case me.Months:return VF(e,r,i)[t.getMonth()];case me.Days:return LF(e,r,i)[t.getDay()];case me.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=BF(e),u=UF(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return FF(e,r,i)[s<12?0:1];case me.Eras:return jF(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Dd(t){return function(e,n,i){let r=-1*i,o=Md(n,Ri.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Oi.Short:return(r>=0?"+":"")+Ln(s,2,o)+Ln(Math.abs(r%60),2,o);case Oi.ShortGMT:return"GMT"+(r>=0?"+":"")+Ln(s,1,o);case Oi.Long:return"GMT"+(r>=0?"+":"")+Ln(s,2,o)+":"+Ln(Math.abs(r%60),2,o);case Oi.Extended:return i===0?"Z":(r>=0?"+":"")+Ln(s,2,o)+":"+Ln(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var YF=0,xd=4;function KF(t){let e=Sd(t,YF,1).getDay();return Sd(t,0,1+(e<=xd?xd:xd+7)-e)}function yE(t){let e=t.getDay(),n=e===0?-3:xd-e;return Sd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function Lm(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=yE(n),s=KF(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Ln(r,t,Md(i,Ri.MinusSign))}}function Ed(t,e=!1){return function(n,i){let o=yE(n).getFullYear();return Ln(o,t,Md(i,Ri.MinusSign),e)}}var Vm={};function QF(t){if(Vm[t])return Vm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Te(me.Eras,xe.Abbreviated);break;case"GGGG":e=Te(me.Eras,xe.Wide);break;case"GGGGG":e=Te(me.Eras,xe.Narrow);break;case"y":e=Je(ye.FullYear,1,0,!1,!0);break;case"yy":e=Je(ye.FullYear,2,0,!0,!0);break;case"yyy":e=Je(ye.FullYear,3,0,!1,!0);break;case"yyyy":e=Je(ye.FullYear,4,0,!1,!0);break;case"Y":e=Ed(1);break;case"YY":e=Ed(2,!0);break;case"YYY":e=Ed(3);break;case"YYYY":e=Ed(4);break;case"M":case"L":e=Je(ye.Month,1,1);break;case"MM":case"LL":e=Je(ye.Month,2,1);break;case"MMM":e=Te(me.Months,xe.Abbreviated);break;case"MMMM":e=Te(me.Months,xe.Wide);break;case"MMMMM":e=Te(me.Months,xe.Narrow);break;case"LLL":e=Te(me.Months,xe.Abbreviated,Ft.Standalone);break;case"LLLL":e=Te(me.Months,xe.Wide,Ft.Standalone);break;case"LLLLL":e=Te(me.Months,xe.Narrow,Ft.Standalone);break;case"w":e=Lm(1);break;case"ww":e=Lm(2);break;case"W":e=Lm(1,!0);break;case"d":e=Je(ye.Date,1);break;case"dd":e=Je(ye.Date,2);break;case"c":case"cc":e=Je(ye.Day,1);break;case"ccc":e=Te(me.Days,xe.Abbreviated,Ft.Standalone);break;case"cccc":e=Te(me.Days,xe.Wide,Ft.Standalone);break;case"ccccc":e=Te(me.Days,xe.Narrow,Ft.Standalone);break;case"cccccc":e=Te(me.Days,xe.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":e=Te(me.Days,xe.Abbreviated);break;case"EEEE":e=Te(me.Days,xe.Wide);break;case"EEEEE":e=Te(me.Days,xe.Narrow);break;case"EEEEEE":e=Te(me.Days,xe.Short);break;case"a":case"aa":case"aaa":e=Te(me.DayPeriods,xe.Abbreviated);break;case"aaaa":e=Te(me.DayPeriods,xe.Wide);break;case"aaaaa":e=Te(me.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":e=Te(me.DayPeriods,xe.Abbreviated,Ft.Standalone,!0);break;case"bbbb":e=Te(me.DayPeriods,xe.Wide,Ft.Standalone,!0);break;case"bbbbb":e=Te(me.DayPeriods,xe.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=Te(me.DayPeriods,xe.Abbreviated,Ft.Format,!0);break;case"BBBB":e=Te(me.DayPeriods,xe.Wide,Ft.Format,!0);break;case"BBBBB":e=Te(me.DayPeriods,xe.Narrow,Ft.Format,!0);break;case"h":e=Je(ye.Hours,1,-12);break;case"hh":e=Je(ye.Hours,2,-12);break;case"H":e=Je(ye.Hours,1);break;case"HH":e=Je(ye.Hours,2);break;case"m":e=Je(ye.Minutes,1);break;case"mm":e=Je(ye.Minutes,2);break;case"s":e=Je(ye.Seconds,1);break;case"ss":e=Je(ye.Seconds,2);break;case"S":e=Je(ye.FractionalSeconds,1);break;case"SS":e=Je(ye.FractionalSeconds,2);break;case"SSS":e=Je(ye.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Dd(Oi.Short);break;case"ZZZZZ":e=Dd(Oi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Dd(Oi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Dd(Oi.Long);break;default:return null}return Vm[t]=e,e}function vE(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function ZF(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function XF(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),o=vE(e,r);return ZF(t,i*(o-r))}function JF(t){if(lE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return Sd(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match($F))return eL(i)}let e=new Date(t);if(!lE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function eL(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function lE(t){return t instanceof Date&&!isNaN(t.valueOf())}function Td(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var jm=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},xs=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new jm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),cE(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);cE(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(k(ur),k(ro),k(km))},e.\u0275dir=Be({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function cE(t,e){t.context.$implicit=e.item}var It=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Bm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){uE("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){uE("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(k(ur),k(ro))},e.\u0275dir=Be({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Bm=class{constructor(){this.$implicit=null,this.ngIf=null}};function uE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Rt(e)}'.`)}function tL(t,e){return new L(2100,!1)}var nL="mediumDate",iL=new R(""),rL=new R(""),_E=(()=>{let e=class e{constructor(i,r,o){this.locale=i,this.defaultTimezone=r,this.defaultOptions=o}transform(i,r,o,s){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??nL,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zF(i,a,s||this.locale,l)}catch(a){throw tL(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(k(yd,16),k(iL,24),k(rL,24))},e.\u0275pipe=ew({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var bE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({});let t=e;return t})(),Gm="browser",oL="server";function sL(t){return t===Gm}function Ka(t){return t===oL}var CE=(()=>{let e=class e{};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>sL(P(Et))?new Um(P(xt),window):new $m});let t=e;return t})(),Um=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=aL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function aL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var $m=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ds=class{};var Za=class{},Pd=class{},po=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Ym=class{encodeKey(e){return wE(e)}encodeValue(e){return wE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function uL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var dL=/%(\d[a-f0-9])/gi,hL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function wE(t){return encodeURIComponent(t).replace(dL,(e,n)=>hL[n]??e)}function Ad(t){return`${t}`}var hr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ym,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=uL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Ad):[Ad(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Ad(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Ad(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Km=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function fL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function DE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function EE(t){return typeof Blob<"u"&&t instanceof Blob}function xE(t){return typeof FormData<"u"&&t instanceof FormData}function pL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Qa=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(fL(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new po,this.context??=new Km,!this.params)this.params=new hr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:DE(this.body)||EE(this.body)||xE(this.body)||pL(this.body)||typeof this.body=="string"?this.body:this.body instanceof hr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||xE(this.body)?null:EE(this.body)?this.body.type||null:DE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof hr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.body!==void 0?e.body:this.body,s=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new t(n,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}},Is=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Is||{}),Xa=class{constructor(e,n=Od.Ok,i="OK"){this.headers=e.headers||new po,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Qm=class t extends Xa{constructor(e={}){super(e),this.type=Is.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Nd=class t extends Xa{constructor(e={}){super(e),this.type=Is.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Rd=class extends Xa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Od=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Od||{});function qm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var gL=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Qa)s=i;else{let c;o.headers instanceof po?c=o.headers:c=new po(o.headers);let u;o.params&&(o.params instanceof hr?u=o.params:u=new hr({fromObject:o.params})),s=new Qa(i,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=j(s).pipe(_i(c=>this.handler.handle(c)));if(i instanceof Qa||o.observe==="events")return a;let l=a.pipe(Dt(c=>c instanceof Nd));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(B(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(B(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new hr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,qm(o,r))}post(i,r,o={}){return this.request("POST",i,qm(o,r))}put(i,r,o={}){return this.request("PUT",i,qm(o,r))}};e.\u0275fac=function(r){return new(r||e)(I(Za))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function TE(t,e){return e(t)}function mL(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function yL(t,e,n){return(i,r)=>Jn(n,()=>e(i,o=>t(o,r)))}var vL=new R(""),Zm=new R(""),_L=new R(""),bL=new R("");function CL(){let t=null;return(e,n)=>{t===null&&(t=(P(vL,{optional:!0})??[]).reduceRight(mL,TE));let i=P(lo),r=i.add();return t(e,n).pipe(er(()=>i.remove(r)))}}var IE=(()=>{let e=class e extends Za{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=P(lo);let o=P(bL,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(Zm),...this.injector.get(_L,[])]));this.chain=o.reduceRight((s,a)=>yL(s,a,this.injector),TE)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(er(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(I(Pd),I(Ot))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();var wL=/^\)\]\}',?\n/;function DL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var SE=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):j(null)).pipe(Me(()=>new X(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let m=i.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(i.responseType){let m=i.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let m=a.statusText||"OK",y=new po(a.getAllResponseHeaders()),v=DL(a)||i.url;return c=new Qm({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:C}=u(),D=null;y!==Od.NoContent&&(D=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=D?Od.Ok:0);let w=y>=200&&y<300;if(i.responseType==="json"&&typeof D=="string"){let x=D;D=D.replace(wL,"");try{D=D!==""?JSON.parse(D):null}catch(A){D=x,w&&(w=!1,D={error:A,text:D})}}w?(s.next(new Nd({body:D,headers:m,status:y,statusText:v,url:C||void 0})),s.complete()):s.error(new Rd({error:D,headers:m,status:y,statusText:v,url:C||void 0}))},h=m=>{let{url:y}=u(),v=new Rd({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});s.error(v)},f=!1,p=m=>{f||(s.next(u()),f=!0);let y={type:Is.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),i.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),s.next(y)},g=m=>{let y={type:Is.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:Is.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(I(Ds))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),AE=new R(""),EL="XSRF-TOKEN",xL=new R("",{providedIn:"root",factory:()=>EL}),IL="X-XSRF-TOKEN",SL=new R("",{providedIn:"root",factory:()=>IL}),kd=class{},ML=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Td(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(I(xt),I(Et),I(xL))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function TL(t,e){let n=t.url.toLowerCase();if(!P(AE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=P(kd).getToken(),r=P(SL);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var PE=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(PE||{});function AL(t,e){return{\u0275kind:t,\u0275providers:e}}function PL(...t){let e=[gL,SE,IE,{provide:Za,useExisting:IE},{provide:Pd,useExisting:SE},{provide:Zm,useValue:TL,multi:!0},{provide:AE,useValue:!0},{provide:kd,useClass:ML}];for(let n of t)e.push(...n.\u0275providers);return ed(e)}var ME=new R("");function NL(){return AL(PE.LegacyInterceptors,[{provide:ME,useFactory:CL},{provide:Zm,useExisting:ME,multi:!0}])}var NE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({providers:[PL(NL())]});let t=e;return t})();var ey=class extends Id{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ty=class t extends ey{static makeCurrent(){hE(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=RL();return n==null?null:OL(n)}resetBaseElement(){Ja=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Td(document.cookie,e)}},Ja=null;function RL(){return Ja=Ja||document.querySelector("base"),Ja?Ja.getAttribute("href"):null}function OL(t){return new URL(t,document.baseURI).pathname}var ny=class{addToWindow(e){mt.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new L(5103,!1);return o},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=mt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?ti().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},kL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),iy=new R(""),FE=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(I(iy),I(ue))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),Fd=class{constructor(e){this._doc=e}},Xm="ng-app-id",LE=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ka(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Xm}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(Xm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Xm,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(I(xt),I(Xu),I(nm,8),I(Et))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),Jm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oy=/%COMP%/g,VE="%COMP%",FL=`_nghost-${VE}`,LL=`_ngcontent-${VE}`,VL=!0,jL=new R("",{providedIn:"root",factory:()=>VL});function BL(t){return LL.replace(oy,t)}function UL(t){return FL.replace(oy,t)}function jE(t,e){return e.map(n=>n.replace(oy,t))}var RE=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Ka(l),this.defaultRenderer=new el(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kn.ShadowDom&&(r=ce(N({},r),{encapsulation:Kn.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Ld?o.applyToHost(i):o instanceof tl&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Kn.Emulated:s=new Ld(c,u,r,this.appId,d,a,l,h);break;case Kn.ShadowDom:return new ry(c,u,i,r,a,l,this.nonce,h);default:s=new tl(c,u,r,d,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(I(FE),I(LE),I(Xu),I(jL),I(xt),I(Et),I(ue),I(nm))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),el=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jm[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(OE(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(OE(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new L(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=Jm[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=Jm[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(wi.DashCase|wi.Important)?e.style.setProperty(n,i,r&wi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&wi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ti().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function OE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var ry=class extends el{constructor(e,n,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=jE(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tl=class extends el{constructor(e,n,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?jE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ld=class extends tl{constructor(e,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(e,n,i,o,s,a,l,c),this.contentAttr=BL(c),this.hostAttr=UL(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},$L=(()=>{let e=class e extends Fd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(I(xt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),kE=["alt","control","meta","shift"],HL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},WL=(()=>{let e=class e extends Fd{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ti().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),kE.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let o=HL[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),kE.forEach(a=>{if(a!==o){let l=zL[a];l(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(I(xt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function GL(){ty.makeCurrent()}function qL(){return new Xn}function YL(){return Iw(document),document}var KL=[{provide:Et,useValue:Gm},{provide:tm,useValue:GL,multi:!0},{provide:xt,useFactory:YL,deps:[]}],BE=Rm(iE,"browser",KL),QL=new R(""),ZL=[{provide:qa,useClass:ny,deps:[]},{provide:Pm,useClass:hd,deps:[ue,fd,qa]},{provide:hd,useClass:hd,deps:[ue,fd,qa]}],XL=[{provide:td,useValue:"root"},{provide:Xn,useFactory:qL,deps:[]},{provide:iy,useClass:$L,multi:!0,deps:[xt,ue,Et]},{provide:iy,useClass:WL,multi:!0,deps:[xt]},RE,LE,FE,{provide:Ba,useExisting:RE},{provide:Ds,useClass:kL,deps:[]},[]],UE=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Xu,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(I(QL,12))},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({providers:[...XL,...ZL],imports:[bE,rE]});let t=e;return t})();var $E=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(I(xt))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Q="primary",ml=Symbol("RouteTitle"),uy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ps(t){return new uy(t)}function JL(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function eV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ni(t[n],e[n]))return!1;return!0}function ni(t,e){let n=t?dy(t):void 0,i=e?dy(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!XE(t[r],e[r]))return!1;return!0}function dy(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function XE(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function JE(t){return t.length>0?t[t.length-1]:null}function mr(t){return xp(t)?t:co(t)?he(Promise.resolve(t)):j(t)}var tV={exact:tx,subset:nx},ex={exact:nV,subset:iV,ignored:()=>!0};function zE(t,e,n){return tV[n.paths](t.root,e.root,n.matrixParams)&&ex[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function nV(t,e){return ni(t,e)}function tx(t,e,n){if(!mo(t.segments,e.segments)||!Bd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!tx(t.children[i],e.children[i],n))return!1;return!0}function iV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>XE(t[n],e[n]))}function nx(t,e,n){return ix(t,e,e.segments,n)}function ix(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!mo(r,n)||e.hasChildren()||!Bd(r,n,i))}else if(t.segments.length===n.length){if(!mo(t.segments,n)||!Bd(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!nx(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!mo(t.segments,r)||!Bd(t.segments,r,i)||!t.children[Q]?!1:ix(t.children[Q],e,o,i)}}function Bd(t,e,n){return e.every((i,r)=>ex[n](t[r].parameters,i.parameters))}var fr=class{constructor(e=new _e([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){return sV.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}},go=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ps(this.parameters),this._parameterMap}toString(){return ox(this)}};function rV(t,e){return mo(t,e)&&t.every((n,i)=>ni(n.parameters,e[i].parameters))}function mo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function oV(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Q&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Q&&(n=n.concat(e(r,i)))}),n}var yl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>new ll,providedIn:"root"});let t=e;return t})(),ll=class{parse(e){let n=new fy(e);return new fr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nl(e.root,!0)}`,i=cV(e.queryParams),r=typeof e.fragment=="string"?`#${aV(e.fragment)}`:"";return`${n}${i}${r}`}},sV=new ll;function Ud(t){return t.segments.map(e=>ox(e)).join("/")}function nl(t,e){if(!t.hasChildren())return Ud(t);if(e){let n=t.children[Q]?nl(t.children[Q],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Q&&i.push(`${r}:${nl(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=oV(t,(i,r)=>r===Q?[nl(t.children[Q],!1)]:[`${r}:${nl(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${Ud(t)}/${n[0]}`:`${Ud(t)}/(${n.join("//")})`}}function rx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vd(t){return rx(t).replace(/%3B/gi,";")}function aV(t){return encodeURI(t)}function hy(t){return rx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(t){return decodeURIComponent(t)}function WE(t){return $d(t.replace(/\+/g,"%20"))}function ox(t){return`${hy(t.path)}${lV(t.parameters)}`}function lV(t){return Object.entries(t).map(([e,n])=>`;${hy(e)}=${hy(n)}`).join("")}function cV(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Vd(n)}=${Vd(r)}`).join("&"):`${Vd(n)}=${Vd(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var uV=/^[^\/()?;#]+/;function sy(t){let e=t.match(uV);return e?e[0]:""}var dV=/^[^\/()?;=#]+/;function hV(t){let e=t.match(dV);return e?e[0]:""}var fV=/^[^=?&#]+/;function pV(t){let e=t.match(fV);return e?e[0]:""}var gV=/^[^&#]+/;function mV(t){let e=t.match(gV);return e?e[0]:""}var fy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Q]=new _e(e,n)),i}parseSegment(){let e=sy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new go($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=hV(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=sy(this.remaining);r&&(i=r,this.capture(i))}e[$d(n)]=$d(i)}parseQueryParam(e){let n=pV(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=mV(this.remaining);s&&(i=s,this.capture(i))}let r=WE(n),o=WE(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=sy(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new L(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Q]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function sx(t){return t.segments.length>0?new _e([],{[Q]:t}):t}function ax(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=ax(r);if(i===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new _e(t.segments,e);return yV(n)}function yV(t){if(t.numberOfChildren===1&&t.children[Q]){let e=t.children[Q];return new _e(t.segments.concat(e.segments),e.children)}return t}function Ns(t){return t instanceof fr}function vV(t,e,n=null,i=null){let r=lx(t);return cx(r,e,n,i)}function lx(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new _e(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=sx(i);return e??r}function cx(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return ay(r,r,r,n,i);let o=_V(e);if(o.toRoot())return ay(r,r,new _e([],{}),n,i);let s=bV(o,r,t),a=s.processChildren?ol(s.segmentGroup,s.index,o.commands):dx(s.segmentGroup,s.index,o.commands);return ay(r,s.segmentGroup,a,n,i)}function Hd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cl(t){return typeof t=="object"&&t!=null&&t.outlets}function ay(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=ux(t,e,n);let a=sx(ax(s));return new fr(a,o,r)}function ux(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=ux(o,e,n)}),new _e(t.segments,i)}var zd=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Hd(i[0]))throw new L(4003,!1);let r=i.find(cl);if(r&&r!==JE(i))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _V(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new zd(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new zd(n,e,i)}var Ts=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function bV(t,e,n){if(t.isAbsolute)return new Ts(e,!0,0);if(!n)return new Ts(e,!1,NaN);if(n.parent===null)return new Ts(n,!0,0);let i=Hd(t.commands[0])?0:1,r=n.segments.length-1+i;return CV(n,r,t.numberOfDoubleDots)}function CV(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new L(4005,!1);r=i.segments.length}return new Ts(i,!1,r-o)}function wV(t){return cl(t[0])?t[0].outlets:{[Q]:t}}function dx(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return ol(t,e,n);let i=DV(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,i.pathIndex),{});return o.children[Q]=new _e(t.segments.slice(i.pathIndex),t.children),ol(o,0,r)}else return i.match&&r.length===0?new _e(t.segments,{}):i.match&&!t.hasChildren()?py(t,e,n):i.match?ol(t,0,r):py(t,e,n)}function ol(t,e,n){if(n.length===0)return new _e(t.segments,{});{let i=wV(n),r={};if(Object.keys(i).some(o=>o!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let o=ol(t.children[Q],e,n);return new _e(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=dx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new _e(t.segments,r)}}function DV(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(cl(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!qE(l,c,s))return o;i+=2}else{if(!qE(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function py(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(cl(o)){let l=EV(o.outlets);return new _e(i,l)}if(r===0&&Hd(n[0])){let l=t.segments[e];i.push(new go(l.path,GE(n[0]))),r++;continue}let s=cl(o)?o.outlets[Q]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&Hd(a)?(i.push(new go(s,GE(a))),r+=2):(i.push(new go(s,{})),r++)}return new _e(i,{})}function EV(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=py(new _e([],{}),0,i))}),e}function GE(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function qE(t,e,n){return t==n.path&&ni(e,n.parameters)}var sl="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),yn=class{constructor(e,n){this.id=e,this.url=n}},Rs=class extends yn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Fi=class extends yn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},mn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(mn||{}),Wd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Wd||{}),pr=class extends yn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},gr=class extends yn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=ct.NavigationSkipped}},ul=class extends yn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gd=class extends yn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gy=class extends yn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},my=class extends yn{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},yy=class extends yn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vy=class extends yn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_y=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},by=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Cy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dy=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ey=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qd=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},dl=class{},hl=class{constructor(e){this.url=e}};var xy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new vl,this.attachRef=null}},vl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new xy,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Yd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Iy(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Iy(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Sy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Sy(e,this._root).map(n=>n.value)}};function Iy(t,e){if(t===e.value)return e;for(let n of e.children){let i=Iy(t,n);if(i)return i}return null}function Sy(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Sy(t,n);if(i.length)return i.unshift(e),i}return[]}var Jt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ms(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Kd=class extends Yd{constructor(e,n){super(e),this.snapshot=n,Ly(this,e)}toString(){return this.snapshot.toString()}};function hx(t){let e=xV(t),n=new gt([new go("",{})]),i=new gt({}),r=new gt({}),o=new gt({}),s=new gt(""),a=new Os(n,i,o,s,r,Q,t,e.root);return a.snapshot=e.root,new Kd(new Jt(a,[]),e)}function xV(t){let e={},n={},i={},r="",o=new fl([],e,i,r,n,Q,t,null,{});return new Qd("",new Jt(o,[]))}var Os=class{constructor(e,n,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(c=>c[ml]))??j(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>Ps(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>Ps(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Fy(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),r?.data),t._resolvedData)}:i={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},r&&px(r)&&(i.resolve[ml]=r.title),i}var fl=class{get title(){return this.data?.[ml]}constructor(e,n,i,r,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ps(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ps(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Qd=class extends Yd{constructor(e,n){super(n),this.url=e,Ly(this,n)}toString(){return fx(this._root)}};function Ly(t,e){e.value._routerState=t,e.children.forEach(n=>Ly(t,n))}function fx(t){let e=t.children.length>0?` { ${t.children.map(fx).join(", ")} } `:"";return`${t.value}${e}`}function ly(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ni(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ni(e.params,n.params)||t.paramsSubject.next(n.params),eV(e.url,n.url)||t.urlSubject.next(n.url),ni(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function My(t,e){let n=ni(t.params,e.params)&&rV(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||My(t.parent,e.parent))}function px(t){return typeof t.title=="string"||t.title===null}var Vy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=P(vl),this.location=P(ur),this.changeDetector=P(ho),this.environmentInjector=P(Ot),this.inputBinder=P(th,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Ty(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ii]});let t=e;return t})(),Ty=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Os?this.route:e===vl?this.childContexts:this.parent.get(e,n)}},th=new R(""),YE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Ta([r.queryParams,r.params,r.data]).pipe(Me(([s,a,l],c)=>(l=N(N(N({},s),a),l),c===0?j(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=oE(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function IV(t,e,n){let i=pl(t,e._root,n?n._root:void 0);return new Kd(i,e)}function pl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=SV(t,e,n);return new Jt(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>pl(t,a)),s}}let i=MV(e.value),r=e.children.map(o=>pl(t,o));return new Jt(i,r)}}function SV(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return pl(t,i,r);return pl(t,i)})}function MV(t){return new Os(new gt(t.url),new gt(t.params),new gt(t.queryParams),new gt(t.fragment),new gt(t.data),t.outlet,t.component,t)}var gx="ngNavigationCancelingError";function mx(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Ns(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=yx(!1,mn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function yx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gx]=!0,n.cancellationCode=e,n}function TV(t){return vx(t)&&Ns(t.url)}function vx(t){return!!t&&t[gx]}var AV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[YD],decls:1,vars:0,template:function(r,o){r&1&&oe(0,"router-outlet")},dependencies:[Vy],encapsulation:2});let t=e;return t})();function PV(t,e){return t.providers&&!t._injector&&(t._injector=cd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jy(t){let e=t.children&&t.children.map(jy),n=e?ce(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=AV),n}function ii(t){return t.outlet||Q}function NV(t,e){let n=t.filter(i=>ii(i)===e);return n.push(...t.filter(i=>ii(i)!==e)),n}function _l(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var RV=(t,e,n,i)=>B(r=>(new Ay(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),Ay=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),ly(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ms(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ms(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ey(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wy(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(ly(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),ly(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=_l(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},Zd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},As=class{constructor(e,n){this.component=e,this.route=n}};function OV(t,e,n){let i=t._root,r=e?e._root:null;return il(i,r,n,[i.value])}function kV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Fs(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!Sw(t)?t:e.get(t):i}function il(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ms(e);return t.children.forEach(s=>{FV(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>al(a,n.getContext(s),r)),r}function FV(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=LV(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Zd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?il(t,e,a?a.children:null,i,r):il(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new As(a.outlet.component,s))}else s&&al(e,a,r),r.canActivateChecks.push(new Zd(i)),o.component?il(t,null,a?a.children:null,i,r):il(t,null,n,i,r);return r}function LV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!mo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!mo(t.url,e.url)||!ni(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!My(t,e)||!ni(t.queryParams,e.queryParams);case"paramsChange":default:return!My(t,e)}}function al(t,e,n){let i=Ms(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?al(s,e.children.getContext(o),n):al(s,null,n):al(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new As(e.outlet.component,r)):n.canDeactivateChecks.push(new As(null,r)):n.canDeactivateChecks.push(new As(null,r))}function bl(t){return typeof t=="function"}function VV(t){return typeof t=="boolean"}function jV(t){return t&&bl(t.canLoad)}function BV(t){return t&&bl(t.canActivate)}function UV(t){return t&&bl(t.canActivateChild)}function $V(t){return t&&bl(t.canDeactivate)}function HV(t){return t&&bl(t.canMatch)}function _x(t){return t instanceof vi||t?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function ks(){return Me(t=>Ta(t.map(e=>e.pipe(bi(1),Np(jd)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===jd)return jd;if(n===!1||n instanceof fr)return n}return!0}),Dt(e=>e!==jd),bi(1)))}function zV(t,e){return Ze(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?j(ce(N({},n),{guardsResult:!0})):WV(s,i,r,t).pipe(Ze(a=>a&&VV(a)?GV(i,o,t,e):j(a)),B(a=>ce(N({},n),{guardsResult:a})))})}function WV(t,e,n,i){return he(t).pipe(Ze(r=>ZV(r.component,r.route,n,e,i)),ln(r=>r!==!0,!0))}function GV(t,e,n,i){return he(e).pipe(_i(r=>es(YV(r.route.parent,i),qV(r.route,i),QV(t,r.path,n),KV(t,r.route,n))),ln(r=>r!==!0,!0))}function qV(t,e){return t!==null&&e&&e(new Dy(t)),j(!0)}function YV(t,e){return t!==null&&e&&e(new Cy(t)),j(!0)}function KV(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return j(!0);let r=i.map(o=>cu(()=>{let s=_l(e)??n,a=Fs(o,s),l=BV(a)?a.canActivate(e,t):Jn(s,()=>a(e,t));return mr(l).pipe(ln())}));return j(r).pipe(ks())}function QV(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>kV(s)).filter(s=>s!==null).map(s=>cu(()=>{let a=s.guards.map(l=>{let c=_l(s.node)??n,u=Fs(l,c),d=UV(u)?u.canActivateChild(i,t):Jn(c,()=>u(i,t));return mr(d).pipe(ln())});return j(a).pipe(ks())}));return j(o).pipe(ks())}function ZV(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return j(!0);let s=o.map(a=>{let l=_l(e)??r,c=Fs(a,l),u=$V(c)?c.canDeactivate(t,e,n,i):Jn(l,()=>c(t,e,n,i));return mr(u).pipe(ln())});return j(s).pipe(ks())}function XV(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return j(!0);let o=r.map(s=>{let a=Fs(s,t),l=jV(a)?a.canLoad(e,n):Jn(t,()=>a(e,n));return mr(l)});return j(o).pipe(ks(),bx(i))}function bx(t){return _p(Ye(e=>{if(Ns(e))throw mx(t,e)}),B(e=>e===!0))}function JV(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return j(!0);let o=r.map(s=>{let a=Fs(s,t),l=HV(a)?a.canMatch(e,n):Jn(t,()=>a(e,n));return mr(l)});return j(o).pipe(ks(),bx(i))}var gl=class{constructor(e){this.segmentGroup=e||null}},Xd=class extends Error{constructor(e){super(),this.urlTree=e}};function Ss(t){return Jo(new gl(t))}function e2(t){return Jo(new L(4e3,!1))}function t2(t){return Jo(yx(!1,mn.GuardRejected))}var Py=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return j(i);if(r.numberOfChildren>1||!r.children[Q])return e2(e.redirectTo);r=r.children[Q]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new Xd(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new fr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new _e(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new L(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Ny={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function n2(t,e,n,i,r){let o=By(t,e,n);return o.matched?(i=PV(e,i),JV(i,e,n,r).pipe(B(s=>s===!0?o:N({},Ny)))):j(o)}function By(t,e,n){if(e.path==="**")return i2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},Ny):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||JL)(n,t,e);if(!r)return N({},Ny);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function i2(t){return{matched:!0,parameters:t.length>0?JE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function KE(t,e,n,i){return n.length>0&&s2(t,n,i)?{segmentGroup:new _e(e,o2(i,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&a2(t,n,i)?{segmentGroup:new _e(t.segments,r2(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function r2(t,e,n,i){let r={};for(let o of n)if(nh(t,e,o)&&!i[ii(o)]){let s=new _e([],{});r[ii(o)]=s}return N(N({},i),r)}function o2(t,e){let n={};n[Q]=e;for(let i of t)if(i.path===""&&ii(i)!==Q){let r=new _e([],{});n[ii(i)]=r}return n}function s2(t,e,n){return n.some(i=>nh(t,e,i)&&ii(i)!==Q)}function a2(t,e,n){return n.some(i=>nh(t,e,i))}function nh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function l2(t,e,n,i){return ii(t)!==i&&(i===Q||!nh(e,n,t))?!1:By(e,t,n).matched}function c2(t,e,n){return e.length===0&&!t.children[n]}var Ry=class{};function u2(t,e,n,i,r,o,s="emptyOnly"){return new Oy(t,e,n,i,r,s,o).recognize()}var d2=31,Oy=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Py(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=KE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(n=>{let i=new fl([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),r=new Jt(i,n),o=new Qd("",r),s=vV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Q).pipe(Xi(i=>{if(i instanceof Xd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof gl?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Fy(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(B(o=>o instanceof Jt?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return he(r).pipe(_i(o=>{let s=i.children[o],a=NV(n,o);return this.processSegmentGroup(e,a,s,o)}),is((o,s)=>(o.push(...s),o)),Ji(null),Tp(),Ze(o=>{if(o===null)return Ss(i);let s=Cx(o);return h2(s),j(s)}))}processSegment(e,n,i,r,o,s){return he(n).pipe(_i(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(Xi(l=>{if(l instanceof gl)return j(null);throw l}))),ln(a=>!!a),Xi(a=>{if(_x(a))return c2(i,r,o)?j(new Ry):Ss(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return l2(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Ss(r):Ss(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=By(n,r,o);if(!a)return Ss(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>d2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Ze(h=>this.processSegment(e,i,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=n2(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Me(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Me(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new fl(u,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,p2(i),ii(i),i.component??i._loadedComponent??null,i,g2(i)),{segmentGroup:p,slicedSegments:g}=KE(n,u,d,l);if(g.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(B(y=>y===null?null:new Jt(f,y)));if(l.length===0&&g.length===0)return j(new Jt(f,[]));let m=ii(i)===o;return this.processSegment(c,l,p,g,m?Q:o,!0).pipe(B(y=>new Jt(f,y instanceof Jt?[y]:[])))}))):Ss(n)))}getChildConfig(e,n,i){return n.children?j({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?j({routes:n._loadedRoutes,injector:n._loadedInjector}):XV(e,n,i,this.urlSerializer).pipe(Ze(r=>r?this.configLoader.loadChildren(e,n).pipe(Ye(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):t2(n))):j({routes:[],injector:e})}};function h2(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}function f2(t){let e=t.value.routeConfig;return e&&e.path===""}function Cx(t){let e=[],n=new Set;for(let i of t){if(!f2(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Cx(i.children);e.push(new Jt(i.value,r))}return e.filter(i=>!n.has(i))}function p2(t){return t.data||{}}function g2(t){return t.resolve||{}}function m2(t,e,n,i,r,o){return Ze(s=>u2(t,e,n,i,s.extractedUrl,r,o).pipe(B(({state:a,tree:l})=>ce(N({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function y2(t,e){return Ze(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return j(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of wx(l))s.add(c);let a=0;return he(s).pipe(_i(l=>o.has(l)?v2(l,i,t,e):(l.data=Fy(l,l.parent,t).resolve,j(void 0))),Ye(()=>a++),ns(1),Ze(l=>a===s.size?j(n):Ut))})}function wx(t){let e=t.children.map(n=>wx(n)).flat();return[t,...e]}function v2(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!px(r)&&(o[ml]=r.title),_2(o,t,e,i).pipe(B(s=>(t._resolvedData=s,t.data=Fy(t,t.parent,n).resolve,null)))}function _2(t,e,n,i){let r=dy(t);if(r.length===0)return j({});let o={};return he(r).pipe(Ze(s=>b2(t[s],e,n,i).pipe(ln(),Ye(a=>{o[s]=a}))),ns(1),Sp(o),Xi(s=>_x(s)?Ut:Jo(s)))}function b2(t,e,n,i){let r=_l(e)??i,o=Fs(t,r),s=o.resolve?o.resolve(e,n):Jn(r,()=>o(e,n));return mr(s)}function cy(t){return Me(e=>{let n=t(e);return n?he(n).pipe(B(()=>e)):j(e)})}var Dx=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Q);return r}getResolvedTitleForRoute(i){return i.data[ml]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>P(C2),providedIn:"root"});let t=e;return t})(),C2=(()=>{let e=class e extends Dx{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(I($E))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Cl=new R("",{providedIn:"root",factory:()=>({})}),Jd=new R(""),Uy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(md)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return j(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=mr(i.loadComponent()).pipe(B(Ex),Ye(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),er(()=>{this.componentLoaders.delete(i)})),o=new Yo(r,()=>new nt).pipe(qo());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=w2(r,this.compiler,i,this.onLoadEndListener).pipe(er(()=>{this.childrenLoaders.delete(r)})),a=new Yo(s,()=>new nt).pipe(qo());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function w2(t,e,n,i){return mr(t.loadChildren()).pipe(B(Ex),Ze(r=>r instanceof Ua||Array.isArray(r)?j(r):he(e.compileModuleAsync(r))),B(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(Jd,[],{optional:!0,self:!0}).flat()),{routes:s.map(jy),injector:o}}))}function D2(t){return t&&typeof t=="object"&&"default"in t}function Ex(t){return D2(t)?t.default:t}var $y=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>P(E2),providedIn:"root"});let t=e;return t})(),E2=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xx=new R(""),Ix=new R("");function x2(t,e,n){let i=t.get(Ix),r=t.get(xt);return t.get(ue).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),I2(t))),{onViewTransitionCreated:l}=i;return l&&Jn(t,()=>l({transition:a,from:e,to:n})),s})}function I2(t){return new Promise(e=>{Em(e,{injector:t})})}var Hy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=P(Uy),this.environmentInjector=P(Ot),this.urlSerializer=P(yl),this.rootContexts=P(vl),this.location=P(Es),this.inputBindingEnabled=P(th,{optional:!0})!==null,this.titleStrategy=P(Dx),this.options=P(Cl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P($y),this.createViewTransition=P(xx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null;let i=o=>this.events.next(new _y(o)),r=o=>this.events.next(new by(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ce(N(N({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(s=>s.id!==0),B(s=>ce(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Me(s=>{this.currentTransition=s;let a=!1,l=!1;return j(s).pipe(Ye(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ce(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Me(c=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new gr(c.id,this.urlSerializer.serialize(c.rawUrl),h,Wd.IgnoredSameUrlNavigation)),c.resolve(null),Ut}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return j(c).pipe(Me(h=>{let f=this.transitions?.getValue();return this.events.next(new Rs(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Ut:Promise.resolve(h)}),m2(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Ye(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Gd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new Rs(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);let v=hx(this.rootComponentType).snapshot;return this.currentTransition=s=ce(N({},c),{targetSnapshot:v,urlAfterRedirects:f,extras:ce(N({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,j(s)}else{let h="";return this.events.next(new gr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Wd.IgnoredByUrlHandlingStrategy)),c.resolve(null),Ut}}),Ye(c=>{let u=new gy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),B(c=>(this.currentTransition=s=ce(N({},c),{guards:OV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),zV(this.environmentInjector,c=>this.events.next(c)),Ye(c=>{if(s.guardsResult=c.guardsResult,Ns(c.guardsResult))throw mx(this.urlSerializer,c.guardsResult);let u=new my(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Dt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",mn.GuardRejected),!1)),cy(c=>{if(c.guards.canActivateChecks.length)return j(c).pipe(Ye(u=>{let d=new yy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Me(u=>{let d=!1;return j(u).pipe(y2(this.paramsInheritanceStrategy,this.environmentInjector),Ye({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",mn.NoDataFromResolver)}}))}),Ye(u=>{let d=new vy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),cy(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ye(f=>{d.component=f}),B(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Ta(u(c.targetSnapshot.root)).pipe(Ji(null),bi(1))}),cy(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?he(d).pipe(B(()=>s)):j(s)}),B(c=>{let u=IV(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ce(N({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Ye(()=>{this.events.next(new dl)}),RV(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),bi(1),Ye({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Fi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Rp(this.transitionAbortSubject.pipe(Ye(c=>{throw c}))),er(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",mn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xi(c=>{if(l=!0,vx(c))this.events.next(new pr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),TV(c)?this.events.next(new hl(c.url)):s.resolve(!1);else{this.events.next(new ul(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Ut}))}))}cancelNavigationTransition(i,r,o){let s=new pr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function S2(t){return t!==sl}var M2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>P(T2),providedIn:"root"});let t=e;return t})(),ky=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},T2=(()=>{let e=class e extends ky{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Sx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>P(A2),providedIn:"root"});let t=e;return t})(),A2=(()=>{let e=class e extends Sx{constructor(){super(...arguments),this.location=P(Es),this.urlSerializer=P(yl),this.options=P(Cl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P($y),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=hx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Rs)this.stateMemento=this.createStateMemento();else if(i instanceof gr)this.rawUrlTree=r.initialUrl;else if(i instanceof Gd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof dl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof pr&&(i.code===mn.GuardRejected||i.code===mn.NoDataFromResolver)?this.restoreHistory(r):i instanceof ul?this.restoreHistory(r,!0):i instanceof Fi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=N(N({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rl=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rl||{});function Mx(t,e){t.events.pipe(Dt(n=>n instanceof Fi||n instanceof pr||n instanceof ul||n instanceof gr),B(n=>n instanceof Fi||n instanceof gr?rl.COMPLETE:(n instanceof pr?n.code===mn.Redirect||n.code===mn.SupersededByNewNavigation:!1)?rl.REDIRECTING:rl.FAILED),Dt(n=>n!==rl.REDIRECTING),bi(1)).subscribe(()=>{e()})}function P2(t){throw t}var N2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},R2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Li=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=P(dd),this.stateManager=P(Sx),this.options=P(Cl,{optional:!0})||{},this.pendingTasks=P(lo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Hy),this.urlSerializer=P(yl),this.location=P(Es),this.urlHandlingStrategy=P($y),this._events=new nt,this.errorHandler=this.options.errorHandler||P2,this.navigated=!1,this.routeReuseStrategy=P(M2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Jd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(th,{optional:!0}),this.eventsSubscription=new qe,this.isNgZoneEnabled=P(ue)instanceof ue&&ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof pr&&r.code!==mn.Redirect&&r.code!==mn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Fi)this.navigated=!0;else if(r instanceof hl){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||S2(o.source)};this.scheduleNavigation(a,sl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}k2(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),sl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=N({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(jy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=lx(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return cx(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Ns(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,sl,null,r)}navigate(i,r={skipLocationChange:!1}){return O2(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=N({},N2):r===!1?o=N({},R2):o=r,Ns(i))return zE(this.currentUrlTree,i,o);let s=this.parseUrl(i);return zE(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return Mx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function O2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function k2(t){return!(t instanceof dl)&&!(t instanceof hl)}var eh=class{};var F2=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(i=>i instanceof Fi),_i(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=cd(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return he(o).pipe(Zi())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=j(null);let s=o.pipe(Ze(a=>a===null?j(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return he([s,a]).pipe(Zi())}else return s})}};e.\u0275fac=function(r){return new(r||e)(I(Li),I(md),I(Ot),I(eh),I(Uy))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Tx=new R(""),L2=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Rs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Fi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof gr&&i.code===Wd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof qd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){mD()},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function V2(t){return t.routerState.root}function wl(t,e){return{\u0275kind:t,\u0275providers:e}}function j2(){let t=P(kn);return e=>{let n=t.get(uo);if(e!==n.components[0])return;let i=t.get(Li),r=t.get(Ax);t.get(zy)===1&&i.initialNavigation(),t.get(Px,null,ne.Optional)?.setUpPreloading(),t.get(Tx,null,ne.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Ax=new R("",{factory:()=>new nt}),zy=new R("",{providedIn:"root",factory:()=>1});function B2(){return wl(2,[{provide:zy,useValue:0},{provide:pd,multi:!0,deps:[kn],useFactory:e=>{let n=e.get(fE,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Li),o=e.get(Ax);Mx(r,()=>{i(!0)}),e.get(Hy).afterPreactivation=()=>(i(!0),o.closed?j(void 0):o),r.initialNavigation()}))}}])}function U2(){return wl(3,[{provide:pd,multi:!0,useFactory:()=>{let e=P(Li);return()=>{e.setUpLocationChangeListener()}}},{provide:zy,useValue:2}])}var Px=new R("");function $2(t){return wl(0,[{provide:Px,useExisting:F2},{provide:eh,useExisting:t}])}function H2(){return wl(8,[YE,{provide:th,useExisting:YE}])}function z2(t){let e=[{provide:xx,useValue:x2},{provide:Ix,useValue:N({skipNextTransition:!!t?.skipInitialTransition},t)}];return wl(9,e)}var QE=new R("ROUTER_FORROOT_GUARD"),W2=[Es,{provide:yl,useClass:ll},Li,vl,{provide:Os,useFactory:V2,deps:[Li]},Uy,[]],Wy=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[W2,[],{provide:Jd,multi:!0,useValue:i},{provide:QE,useFactory:K2,deps:[[Li,new Cs,new sm]]},{provide:Cl,useValue:r||{}},r?.useHash?q2():Y2(),G2(),r?.preloadingStrategy?$2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Q2(r):[],r?.bindToComponentInputs?H2().\u0275providers:[],r?.enableViewTransitions?z2().\u0275providers:[],Z2()]}}static forChild(i){return{ngModule:e,providers:[{provide:Jd,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(I(QE,8))},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({});let t=e;return t})();function G2(){return{provide:Tx,useFactory:()=>{let t=P(CE),e=P(ue),n=P(Cl),i=P(Hy),r=P(yl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new L2(r,i,t,e,n)}}}function q2(){return{provide:fo,useClass:gE}}function Y2(){return{provide:fo,useClass:Wm}}function K2(t){return"guarded"}function Q2(t){return[t.initialNavigation==="disabled"?U2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?B2().\u0275providers:[]]}var ZE=new R("");function Z2(){return[{provide:ZE,useFactory:j2},{provide:gd,multi:!0,useExisting:ZE}]}var $x=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(k(cr),k(hn))},e.\u0275dir=Be({type:e});let t=e;return t})(),dh=(()=>{let e=class e extends $x{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275dir=Be({type:e,features:[Wt]});let t=e;return t})(),Bs=new R("");var X2={provide:Bs,useExisting:fn(()=>ut),multi:!0};function J2(){let t=ti()?ti().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var ej=new R(""),ut=(()=>{let e=class e extends $x{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!J2())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(k(cr),k(hn),k(ej,8))},e.\u0275dir=Be({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&se("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ei([X2]),Wt]});let t=e;return t})();function yr(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Hx(t){return t!=null&&typeof t.length=="number"}var Sl=new R(""),hh=new R(""),tj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ce=class{static min(e){return nj(e)}static max(e){return ij(e)}static required(e){return zx(e)}static requiredTrue(e){return rj(e)}static email(e){return oj(e)}static minLength(e){return sj(e)}static maxLength(e){return aj(e)}static pattern(e){return lj(e)}static nullValidator(e){return rh(e)}static compose(e){return Qx(e)}static composeAsync(e){return Zx(e)}};function nj(t){return e=>{if(yr(e.value)||yr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function ij(t){return e=>{if(yr(e.value)||yr(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function zx(t){return yr(t.value)?{required:!0}:null}function rj(t){return t.value===!0?null:{required:!0}}function oj(t){return yr(t.value)||tj.test(t.value)?null:{email:!0}}function sj(t){return e=>yr(e.value)||!Hx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function aj(t){return e=>Hx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function lj(t){if(!t)return rh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(yr(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function rh(t){return null}function Wx(t){return t!=null}function Gx(t){return co(t)?he(t):t}function qx(t){let e={};return t.forEach(n=>{e=n!=null?N(N({},e),n):e}),Object.keys(e).length===0?null:e}function Yx(t,e){return e.map(n=>n(t))}function cj(t){return!t.validate}function Kx(t){return t.map(e=>cj(e)?e:n=>e.validate(n))}function Qx(t){if(!t)return null;let e=t.filter(Wx);return e.length==0?null:function(n){return qx(Yx(n,e))}}function Ky(t){return t!=null?Qx(Kx(t)):null}function Zx(t){if(!t)return null;let e=t.filter(Wx);return e.length==0?null:function(n){let i=Yx(n,e).map(Gx);return Ip(i).pipe(B(qx))}}function Qy(t){return t!=null?Zx(Kx(t)):null}function Rx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Xx(t){return t._rawValidators}function Jx(t){return t._rawAsyncValidators}function Gy(t){return t?Array.isArray(t)?t:[t]:[]}function oh(t,e){return Array.isArray(t)?t.includes(e):t===e}function Ox(t,e){let n=Gy(e);return Gy(t).forEach(r=>{oh(n,r)||n.push(r)}),n}function kx(t,e){return Gy(e).filter(n=>!oh(t,n))}var sh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ky(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Qy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Vi=class extends sh{get formDirective(){return null}get path(){return null}},yo=class extends sh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},ah=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},uj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},KQ=ce(N({},uj),{"[class.ng-submitted]":"isSubmitted"}),St=(()=>{let e=class e extends ah{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(k(yo,2))},e.\u0275dir=Be({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Wt]});let t=e;return t})(),vn=(()=>{let e=class e extends ah{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(k(Vi,10))},e.\u0275dir=Be({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Fn("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Wt]});let t=e;return t})();var Dl="VALID",ih="INVALID",Ls="PENDING",El="DISABLED";function Zy(t){return(fh(t)?t.validators:t)||null}function dj(t){return Array.isArray(t)?Ky(t):t||null}function Xy(t,e){return(fh(e)?e.asyncValidators:t)||null}function hj(t){return Array.isArray(t)?Qy(t):t||null}function fh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function eI(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new L(1e3,"");if(!i[n])throw new L(1001,"")}function tI(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new L(1002,"")})}var Vs=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Dl}get invalid(){return this.status===ih}get pending(){return this.status==Ls}get disabled(){return this.status===El}get enabled(){return this.status!==El}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Ox(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ox(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(kx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(kx(e,this._rawAsyncValidators))}hasValidator(e){return oh(this._rawValidators,e)}hasAsyncValidator(e){return oh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ls,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=El,this.errors=null,this._forEachChild(i=>{i.disable(ce(N({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Dl,this._forEachChild(i=>{i.enable(ce(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Dl||this.status===Ls)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?El:Dl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ls,this._hasOwnPendingAsyncValidator=!0;let n=Gx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?El:this.errors?ih:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ls)?Ls:this._anyControlsHaveStatus(ih)?ih:Dl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){fh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=dj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=hj(this._rawAsyncValidators)}},js=class extends Vs{constructor(e,n,i){super(Zy(n),Xy(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){tI(this,!0,e),Object.keys(e).forEach(i=>{eI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var qy=class extends js{};var Ml=new R("CallSetDisabledState",{providedIn:"root",factory:()=>ph}),ph="always";function nI(t,e){return[...e.path,t]}function lh(t,e,n=ph){Jy(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),pj(t,e),mj(t,e),gj(t,e),fj(t,e)}function Fx(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),uh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ch(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fj(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Jy(t,e){let n=Xx(t);e.validator!==null?t.setValidators(Rx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Jx(t);e.asyncValidator!==null?t.setAsyncValidators(Rx(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();ch(e._rawValidators,r),ch(e._rawAsyncValidators,r)}function uh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Xx(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=Jx(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return ch(e._rawValidators,i),ch(e._rawAsyncValidators,i),n}function pj(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&iI(t,e)})}function gj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&iI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function iI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function mj(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rI(t,e){t==null,Jy(t,e)}function yj(t,e){return uh(t,e)}function oI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function vj(t){return Object.getPrototypeOf(t.constructor)===dh}function sI(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function aI(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===ut?n=o:vj(o)?i=o:r=o}),r||i||n||null}function _j(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var bj={provide:Vi,useExisting:fn(()=>ev)},xl=Promise.resolve(),ev=(()=>{let e=class e extends Vi{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new js({},Ky(i),Qy(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){xl.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),lh(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){xl.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){xl.then(()=>{let r=this._findContainer(i.path),o=new js({});rI(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){xl.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){xl.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,sI(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(k(Sl,10),k(hh,10),k(Ml,8))},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&se("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[yt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ei([bj]),Wt]});let t=e;return t})();function Lx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function Vx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Il=class extends Vs{constructor(e=null,n,i){super(Zy(n),Xy(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),fh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(Vx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Lx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Lx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){Vx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Cj=t=>t instanceof Il;var wj={provide:yo,useExisting:fn(()=>vo)},jx=Promise.resolve(),vo=(()=>{let e=class e extends yo{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Il,this._registered=!1,this.name="",this.update=new Ve,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=aI(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),oI(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){jx.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Ya(r);jx.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?nI(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(k(Vi,9),k(Sl,10),k(hh,10),k(Bs,10),k(ho,8),k(Ml,8))},e.\u0275dir=Be({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[yt.None,"disabled","isDisabled"],model:[yt.None,"ngModel","model"],options:[yt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ei([wj]),Wt,Ii]});let t=e;return t})(),_n=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Dj={provide:Bs,useExisting:fn(()=>Tl),multi:!0},Tl=(()=>{let e=class e extends dh{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&se("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ei([Dj]),Wt]});let t=e;return t})();var lI=new R("");var Ej={provide:Vi,useExisting:fn(()=>Vn)},Vn=(()=>{let e=class e extends Vi{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ve,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return lh(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Fx(i.control||null,i,!1),_j(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,sI(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Fx(r||null,i),Cj(o)&&(lh(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);rI(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&yj(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Jy(this.form,this),this._oldForm&&uh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(k(Sl,10),k(hh,10),k(Ml,8))},e.\u0275dir=Be({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&se("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[yt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ei([Ej]),Wt,Ii]});let t=e;return t})();var xj={provide:yo,useExisting:fn(()=>jn)},jn=(()=>{let e=class e extends yo{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ve,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=aI(this,s)}ngOnChanges(i){this._added||this._setUpControl(),oI(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return nI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(k(Vi,13),k(Sl,10),k(hh,10),k(Bs,10),k(lI,8))},e.\u0275dir=Be({type:e,selectors:[["","formControlName",""]],inputs:{name:[yt.None,"formControlName","name"],isDisabled:[yt.None,"disabled","isDisabled"],model:[yt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ei([xj]),Wt,Ii]});let t=e;return t})(),Ij={provide:Bs,useExisting:fn(()=>vr),multi:!0};function cI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Sj(t){return t.split(":")[0]}var vr=(()=>{let e=class e extends dh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=cI(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Sj(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&se("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ei([Ij]),Wt]});let t=e;return t})(),_r=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(cI(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(k(hn),k(cr),k(vr,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Mj={provide:Bs,useExisting:fn(()=>gh),multi:!0};function Bx(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Tj(t){return t.split(":")[0]}var gh=(()=>{let e=class e extends dh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=Tj(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&se("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ei([Mj]),Wt]});let t=e;return t})(),br=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(Bx(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(Bx(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(k(hn),k(cr),k(gh,9))},e.\u0275dir=Be({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Aj=(()=>{let e=class e{constructor(){this._validator=rh}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):rh,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Be({type:e,features:[Ii]});let t=e;return t})();var Pj={provide:Sl,useExisting:fn(()=>Al),multi:!0};var Al=(()=>{let e=class e extends Aj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Ya,this.createValidator=i=>zx}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Si(e)))(o||e)}})(),e.\u0275dir=Be({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&ud("required",o._enabled?"":null)},inputs:{required:"required"},features:[ei([Pj]),Wt]});let t=e;return t})();var uI=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({});let t=e;return t})(),Yy=class extends Vs{constructor(e,n,i){super(Zy(n),Xy(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){tI(this,!1,e),e.forEach((i,r)=>{eI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Ux(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var ri=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return Ux(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new js(o,s)}record(i,r=null){let o=this._reduceControls(i);return new qy(o,r)}control(i,r,o){let s={};return this.useNonNullable?(Ux(r)?s=r:(s.validators=r,s.asyncValidators=o),new Il(i,ce(N({},s),{nonNullable:!0}))):new Il(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new Yy(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof Il)return i;if(i instanceof Vs)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var dI=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Ml,useValue:i.callSetDisabledState??ph}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({imports:[uI]});let t=e;return t})(),hI=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:lI,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Ml,useValue:i.callSetDisabledState??ph}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({imports:[uI]});let t=e;return t})();var Nj="firebase",Rj="10.8.1";Qi(Nj,Rj,"app");var bo=new Di("ANGULARFIRE2_VERSION");var Oj=(t,e)=>{let n=e?[e]:jb(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},_o=class{constructor(){return Oj(kj)}},kj="app-check";function tv(){}var mh=class{zone;delegate;constructor(e,n=Dp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},nv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",tv,{},tv,tv)),n.pipe(Ye({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},yh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new mh(Zone.current)),this.insideAngular=n.run(()=>new mh(Zone.current,Ma)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(I(ue))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Fj(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function ji(t){return Lj(Fj())(t)}function Lj(t){return function(n){return n=n.lift(new nv(t.ngZone)),n.pipe(Mn(t.outsideAngular),an(t.insideAngular))}}var Bj=new Map,Uj={activated:!1,tokenObservers:[]},$j={initialized:!1,enabled:!1};function Bn(t){return Bj.get(t)||Object.assign({},Uj)}function vI(){return $j}var Hj="https://content-firebaseappcheck.googleapis.com/v1";var zj="exchangeDebugToken",pI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},pZ=24*60*60*1e3;var rv=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return on(this,null,function*(){this.stop();try{this.pending=new ot,this.pending.promise.catch(n=>{}),yield Wj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ot,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function Wj(t){return new Promise(e=>{setTimeout(e,t)})}var Gj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},wr=new Pb("appCheck","AppCheck",Gj);function _I(t){if(!Bn(t).activated)throw wr.create("use-before-activation",{appName:t.name})}function bI(i,r){return on(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(f){throw wr.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw wr.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw wr.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw wr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function CI(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${Hj}/projects/${n}/apps/${i}:${zj}?key=${r}`,body:{debug_token:e}}}var qj="firebase-app-check-database",Yj=1,ov="firebase-app-check-store";var vh=null;function Kj(){return vh||(vh=new Promise((t,e)=>{try{let n=indexedDB.open(qj,Yj);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(wr.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(ov,{keyPath:"compositeKey"})}}}catch(n){e(wr.create("storage-open",{originalErrorMessage:n?.message}))}}),vh)}function Qj(t,e){return Zj(Xj(t),e)}function Zj(t,e){return on(this,null,function*(){let i=(yield Kj()).transaction(ov,"readwrite"),o=i.objectStore(ov).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(wr.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function Xj(t){return`${t.options.appId}-${t.name}`}var sv=new $o("@firebase/app-check");function iv(t,e){return Ab()?Qj(t,e).catch(n=>{sv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function wI(){return vI().enabled}function DI(){return on(this,null,function*(){let t=vI();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Jj={error:"UNKNOWN_ERROR"};function eB(t){return Fc.encodeString(JSON.stringify(t),!1)}function av(t,e=!1){return on(this,null,function*(){let n=t.app;_I(n);let i=Bn(n),r=i.token,o;if(r&&!Pl(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Pl(l)?r=l:yield iv(n,void 0))}if(!e&&r&&Pl(r))return{token:r.token};let s=!1;if(wI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=bI(CI(n,yield DI()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield iv(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Bn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?sv.warn(l.message):sv.error(l),o=l}let a;return r?o?Pl(r)?a={token:r.token,internalError:o}:a=mI(o):(a={token:r.token},i.token=r,yield iv(n,r)):a=mI(o),s&&rB(n,a),a})}function tB(t){return on(this,null,function*(){let e=t.app;_I(e);let{provider:n}=Bn(e);if(wI()){let i=yield DI(),{token:r}=yield bI(CI(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function nB(t,e,n,i){let{app:r}=t,o=Bn(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Pl(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),gI(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>gI(t))}function EI(t,e){let n=Bn(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function gI(t){let{app:e}=t,n=Bn(e),i=n.tokenRefresher;i||(i=iB(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function iB(t){let{app:e}=t;return new rv(()=>on(this,null,function*(){let n=Bn(e),i;if(n.token?i=yield av(t,!0):i=yield av(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Bn(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},pI.RETRIAL_MIN_WAIT,pI.RETRIAL_MAX_WAIT)}function rB(t,e){let n=Bn(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Pl(t){return t.expireTimeMillis-Date.now()>0}function mI(t){return{token:eB(Jj),error:t}}var lv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Bn(this.app);for(let n of e)EI(this.app,n.next);return Promise.resolve()}};function oB(t,e){return new lv(t,e)}function sB(t){return{getToken:e=>av(t,e),getLimitedUseToken:()=>tB(t),addTokenListener:e=>nB(t,"INTERNAL",e),removeTokenListener:e=>EI(t.app,e)}}var aB="@firebase/app-check",lB="0.8.2";var cB="app-check",yI="app-check-internal";function uB(){xa(new mi(cB,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return oB(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(yI).initialize()})),xa(new mi(yI,t=>{let e=t.getProvider("app-check").getImmediate();return sB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Qi(aB,lB)}uB();var dB=["localhost","0.0.0.0","127.0.0.1"],IZ=typeof window<"u"&&dB.includes(window.location.hostname);var hB="firebase",fB="10.8.1";Pt.registerVersion(hB,fB,"app-compat");var pB=["ngOnDestroy"],SI=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(pB.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var _h=class{constructor(e){return e}},Us=new R("angularfire2.app.options"),$s=new R("angularfire2.app.name");function Nl(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=Pt.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>Pt.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;gB("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new _h(s)}var gB=(t,...e)=>{Om()&&typeof console<"u"&&console[t](...e)},mB={provide:_h,useFactory:Nl,deps:[Us,ue,[new Cs,$s]]},MI=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:Us,useValue:n},{provide:$s,useValue:i}]}}constructor(n){Pt.registerVersion("angularfire",bo.full,"core"),Pt.registerVersion("angularfire",bo.full,"app-compat"),Pt.registerVersion("angular",KD.full,n.toString())}static \u0275fac=function(i){return new(i||t)(I(Et))};static \u0275mod=je({type:t});static \u0275inj=Ue({providers:[mB]})}return t})();function bh(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return yB(r,s)||(II("error",`${e} was already initialized on the ${n} Firebase App with different settings.${vB?" You may need to reload as Firebase is not HMR aware.":""}`),II("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function yB(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var vB=typeof module<"u"&&!!module.hot,II=(t,...e)=>{Om()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var cv=new R("angularfire2.auth.use-emulator"),uv=new R("angularfire2.auth.settings"),dv=new R("angularfire2.auth.tenant-id"),hv=new R("angularfire2.auth.langugage-code"),fv=new R("angularfire2.auth.use-device-language"),pv=new R("angularfire.auth.persistence"),gv=(t,e,n,i,r,o,s,a)=>bh(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),Rl=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new nt,g=j(void 0).pipe(an(s.outsideAngular),Me(()=>o.runOutsideAngular(()=>import("./chunk-FG2RN4SQ.js"))),B(()=>Nl(n,o,i)),B(m=>gv(m,o,a,c,u,d,l,h)),du({bufferSize:1,refCount:!1}));if(Ka(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=j(null);else{g.pipe(ln()).subscribe();let m=g.pipe(Me(C=>C.getRedirectResult().then(D=>D,()=>null)),ji,du({bufferSize:1,refCount:!1})),y=g.pipe(Me(C=>new X(D=>({unsubscribe:o.runOutsideAngular(()=>C.onAuthStateChanged(w=>D.next(w),w=>D.error(w),()=>D.complete()))})))),v=g.pipe(Me(C=>new X(D=>({unsubscribe:o.runOutsideAngular(()=>C.onIdTokenChanged(w=>D.next(w),w=>D.error(w),()=>D.complete()))}))));this.authState=m.pipe(hu(y),Mn(s.outsideAngular),an(s.insideAngular)),this.user=m.pipe(hu(v),Mn(s.outsideAngular),an(s.insideAngular)),this.idToken=this.user.pipe(Me(C=>C?he(C.getIdToken()):j(null))),this.idTokenResult=this.user.pipe(Me(C=>C?he(C.getIdTokenResult()):j(null))),this.credential=ts(m,p,this.authState.pipe(Dt(C=>!C))).pipe(B(C=>C?.user?C:null),Mn(s.outsideAngular),an(s.insideAngular))}return SI(this,g,o,{spy:{apply:(m,y,v)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&v.then(C=>p.next(C))}}})}static \u0275fac=function(i){return new(i||t)(I(Us),I($s,8),I(Et),I(ue),I(yh),I(cv,8),I(uv,8),I(dv,8),I(hv,8),I(fv,8),I(pv,8),I(_o,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),TI=(()=>{class t{constructor(){Pt.registerVersion("angularfire",bo.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=je({type:t});static \u0275inj=Ue({providers:[Rl]})}return t})();var PI="@firebase/database",NI="1.0.3";var S_="";function M_(t){S_=t}var Dv=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Qe(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Lc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Ev=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return sn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var cS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Dv(e)}}catch{}return new Ev},wo=cS("localStorage"),xv=cS("sessionStorage");var Gs=new $o("@firebase/database"),uS=function(){let t=1;return function(){return t++}}(),dS=function(t){let e=Fb(t),n=new kb;n.update(e);let i=n.digest();return Fc.encodeByteArray(i)},ic=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=ic.apply(null,i):typeof i=="object"?e+=Qe(i):e+=i,e+=" "}return e},Do=null,RI=!0,hS=function(t,e){S(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Gs.logLevel=Lb.VERBOSE,Do=Gs.log.bind(Gs),e&&xv.set("logging_enabled",!0)):typeof t=="function"?Do=t:(Do=null,xv.remove("logging_enabled"))},dt=function(...t){if(RI===!0&&(RI=!1,Do===null&&xv.get("logging_enabled")===!0&&hS(!0)),Do){let e=ic.apply(null,t);Do(e)}},rc=function(t){return function(...e){dt(t,...e)}},Iv=function(...t){let e="FIREBASE INTERNAL ERROR: "+ic(...t);Gs.error(e)},ai=function(...t){let e=`FIREBASE FATAL ERROR: ${ic(...t)}`;throw Gs.error(e),new Error(e)},Mt=function(...t){let e="FIREBASE WARNING: "+ic(...t);Gs.warn(e)},_B=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Mt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Yh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},bB=function(t){if(Wn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Ir="[MIN_NAME]",Bi="[MAX_NAME]",xo=function(t,e){if(t===e)return 0;if(t===Ir||e===Bi)return-1;if(e===Ir||t===Bi)return 1;{let n=OI(t),i=OI(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},CB=function(t,e){return t===e?0:t<e?-1:1},Ol=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Qe(e))},T_=function(t){if(typeof t!="object"||t===null)return Qe(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Qe(e[i]),n+=":",n+=T_(t[e[i]]);return n+="}",n},fS=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ht(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var pS=function(t){S(!Yh(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},wB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},DB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function EB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var xB=new RegExp("^-?(0*)\\d{1,10}$"),IB=-2147483648,SB=2147483647,OI=function(t){if(xB.test(t)){let e=Number(t);if(e>=IB&&e<=SB)return e}return null},ta=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Mt("Exception was thrown by user callback.",n),e},Math.floor(0))}},MB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Vl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Sv=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Mt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Mv=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Mt(e)}},jl=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),wh="5",gS="v",mS="s",yS="r",vS="f",_S=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bS="ls",CS="p",Tv="ac",wS="websocket",DS="long_polling";var Dh=class{constructor(e,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function TB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ES(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let i;if(e===wS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===DS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TB(t)&&(n.ns=t.namespace);let r=[];return ht(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var Av=class{constructor(){this.counters_={}}incrementCounter(e,n=1){sn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Sb(this.counters_)}};var mv={},yv={};function A_(t){let e=t.toString();return mv[e]||(mv[e]=new Av),mv[e]}function AB(t,e){let n=t.toString();return yv[n]||(yv[n]=e()),yv[n]}var Pv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&ta(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var kI="start",PB="close",NB="pLPCommand",RB="pRTLPCB",xS="id",IS="pw",SS="ser",OB="cb",kB="seg",FB="ts",LB="d",VB="dframe",MS=1870,TS=30,jB=MS-TS,BB=25e3,UB=3e4,Hl=class t{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rc(e),this.stats_=A_(n),this.urlFn=l=>(this.appCheckToken&&(l[Tv]=this.appCheckToken),ES(n,DS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Pv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(UB)),bB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Nv((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===kI)this.id=a,this.password=l;else if(s===PB)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[kI]="t",i[SS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[OB]=this.scriptTagHolder.uniqueCallbackIdentifier),i[gS]=wh,this.transportSessionId&&(i[mS]=this.transportSessionId),this.lastSessionId&&(i[bS]=this.lastSessionId),this.applicationId&&(i[CS]=this.applicationId),this.appCheckToken&&(i[Tv]=this.appCheckToken),typeof location<"u"&&location.hostname&&_S.test(location.hostname)&&(i[yS]=vS);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Wn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!wB()&&!DB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Qe(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Ib(n),r=fS(i,jB);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Wn())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[VB]="t",i[xS]=e,i[IS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Qe(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Nv=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Wn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=uS(),window[NB+this.uniqueCallbackIdentifier]=e,window[RB+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dt("frame writing exception"),a.stack&&dt(a.stack),dt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[xS]=this.myID,e[IS]=this.myPW,e[SS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+TS+i.length<=MS;){let s=this.pendingSegs.shift();i=i+"&"+kB+r+"="+s.seg+"&"+FB+r+"="+s.ts+"&"+LB+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(BB)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){Wn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var $B=16384,HB=45e3,Eh=null;typeof MozWebSocket<"u"?Eh=MozWebSocket:typeof WebSocket<"u"&&(Eh=WebSocket);var zs=(()=>{class t{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rc(this.connId),this.stats_=A_(i),this.connURL=t.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[gS]=wh,!Wn()&&typeof location<"u"&&location.hostname&&_S.test(location.hostname)&&(a[yS]=vS),i&&(a[mS]=i),r&&(a[bS]=r),o&&(a[Tv]=o),s&&(a[CS]=s),ES(n,wS,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wo.set("previous_websocket_failure",!0);try{let r;if(Wn()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${wh}/${S_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Eh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Eh!==null&&!t.forceDisallow_}static previouslyFailed(){return wo.isInMemoryStorage||wo.get("previous_websocket_failure")===!0}markConnectionHealthy(){wo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Lc(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(S(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Qe(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=fS(i,$B);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HB))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),AS=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Hl,zs]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=zs&&zs.isAvailable(),r=i&&!zs.previouslyFailed();if(n.webSocketOnly&&(i||Mt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[zs];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),zB=6e4,WB=5e3,GB=10*1024,qB=100*1024,vv="t",FI="d",YB="s",LI="r",KB="e",VI="o",jI="a",BI="n",UI="p",QB="h",Rv=class{constructor(e,n,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rc("c:"+this.id+":"),this.transportManager_=new AS(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Vl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>qB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>GB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(vv in e){let n=e[vv];n===jI?this.upgradeIfSecondaryHealthy_():n===LI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===VI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ol("t",e),i=Ol("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:UI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:jI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ol("t",e),i=Ol("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ol(vv,e);if(FI in e){let i=e[FI];if(n===QB){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===BI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===YB?this.onConnectionShutdown_(i):n===LI?this.onReset_(i):n===KB?Iv("Server Error: "+i):n===VI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Iv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),wh!==i&&Mt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Vl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Vl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(WB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:UI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var xh=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var Ih=class{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Sh=class t extends Ih{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var $I=32,HI=768,pe=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function fe(){return new pe("")}function ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Sr(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pe(t.pieces_,e)}function P_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function ZB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zl(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function PS(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pe(e,0)}function Le(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof pe)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new pe(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){let n=ee(t),i=ee(e);if(n===null)return e;if(n===i)return Lt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function XB(t,e){let n=zl(t,0),i=zl(e,0);for(let r=0;r<n.length&&r<i.length;r++){let o=xo(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function N_(t,e){if(Sr(t)!==Sr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function bn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Sr(t)>Sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var Ov=class{constructor(e,n){this.errorPrefix_=n,this.parts_=zl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Ea(this.parts_[i]);NS(this)}};function JB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Ea(e),NS(t)}function eU(t){let e=t.parts_.pop();t.byteLength_-=Ea(e),t.parts_.length>0&&(t.byteLength_-=1)}function NS(t){if(t.byteLength_>HI)throw new Error(t.errorPrefix_+"has a key path longer than "+HI+" bytes ("+t.byteLength_+").");if(t.parts_.length>$I)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+$I+") or object contains a cycle "+Co(t))}function Co(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var kv=class t extends Ih{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}};var kl=1e3,tU=60*5*1e3,zI=30*1e3,nU=1.3,iU=3e4,rU="server_kill",WI=3,R_=(()=>{class t extends xh{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=rc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kl,this.maxReconnectDelay_=tU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Wn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");kv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Sh.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(Qe(s)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new ot,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&sn(n,"w")){let r=Ki(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Mt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Rb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Nb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Qe(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Iv("Unrecognized action received from server: "+Qe(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>iU&&(this.reconnectDelay_=kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*nU)}this.onConnectStatus_(!1)}establishConnection_(){return on(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Rv(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{Mt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(rU)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Mt(h),c())}}})}interrupt(n){dt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Vc(this.interruptReasons_)&&(this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>T_(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new pe(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){dt("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=WI&&(this.reconnectDelay_=zI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){dt("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=WI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Wn()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+S_.replace(/\./g,"-")]=1,sp()?n["framework.cordova"]=1:Tb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Sh.getInstance().currentlyOnline();return Vc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),re=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var qs=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new re(Ir,e),r=new re(Ir,n);return this.compare(i,r)!==0}minPost(){return re.MIN}};var Ch,Mh=class extends qs{static get __EMPTY_NODE(){return Ch}static set __EMPTY_NODE(e){Ch=e}compare(e,n){return xo(e.name,n.name)}isDefinedOn(e){throw Uo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return re.MIN}maxPost(){return new re(Bi,Ch)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new re(e,Ch)}toString(){return".key"}},si=new Mh;var Ws=class{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Un=(()=>{class t{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??t.RED,this.left=o??Cn.EMPTY_NODE,this.right=s??Cn.EMPTY_NODE}copy(n,i,r,o,s){return new t(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Cn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return Cn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Fv=class{copy(e,n,i,r,o){return this}insert(e,n,i){return new Un(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Cn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Un.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Un.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ws(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ws(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ws(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ws(this.root_,null,this.comparator_,!0,e)}};Cn.EMPTY_NODE=new Fv;function oU(t,e){return xo(t.name,e.name)}function O_(t,e){return xo(t,e)}var Lv;function sU(t){Lv=t}var RS=function(t){return typeof t=="number"?"number:"+pS(t):"string:"+t},OS=function(t){if(t.isLeafNode()){let e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&sn(e,".sv"),"Priority must be a string or number.")}else S(t===Lv||t.isEmpty(),"priority of unexpected type.");S(t===Lv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var GI,Ys=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),OS(this.priorityNode_)}static set __childrenNodeConstructor(n){GI=n}static get __childrenNodeConstructor(){return GI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return te(n)?this:ee(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=ee(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||Sr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+RS(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=pS(this.value_):n+=this.value_,this.lazyHash_=dS(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(S(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return S(o>=0,"Unknown leaf type: "+i),S(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),kS,FS;function aU(t){kS=t}function lU(t){FS=t}var Vv=class extends qs{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?xo(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Bi,new Ys("[PRIORITY-POST]",FS))}makePost(e,n){let i=kS(e);return new re(n,new Ys("[PRIORITY-POST]",i))}toString(){return".priority"}},Ae=new Vv;var cU=Math.log(2),jv=class{constructor(e){let n=o=>parseInt(Math.log(o)/cU,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Th=function(t,e,n,i){t.sort(e);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Un(h,d.node,Un.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=t[f],h=n?n(d):d,new Un(h,d.node,Un.BLACK,p,g)}},o=function(l){let c=null,u=null,d=t.length,h=function(p,g){let m=d-p,y=d;d-=p;let v=r(m+1,y),C=t[m],D=n?n(C):C;f(new Un(D,C.node,g,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,Un.BLACK):(h(m,Un.BLACK),h(m,Un.RED))}return u},s=new jv(t.length),a=o(s);return new Cn(i||e,a)};var _v,Hs={},Ks=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(Hs&&Ae,"ChildrenNode.ts has not been loaded"),_v=_v||new t({".priority":Hs},{".priority":Ae}),_v}get(e){let n=Ki(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Cn?n:null}hasIndex(e){return sn(this.indexSet_,e.toString())}addIndex(e,n){S(e!==si,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(re.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Th(i,e.getCompare()):a=Hs;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let i=Da(this.indexes_,(r,o)=>{let s=Ki(this.indexSet_,o);if(S(s,"Missing index implementation for "+o),r===Hs)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(re.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Th(a,s.getCompare())}else return Hs;else{let a=n.get(e.name),l=r;return a&&(l=l.remove(new re(e.name,a))),l.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=Da(this.indexes_,r=>{if(r===Hs)return r;{let o=n.get(e.name);return o?r.remove(new re(e.name,o)):r}});return new t(i,this.indexSet_)}};var Fl,W=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&OS(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Fl||(Fl=new t(new Cn(O_),null,Ks.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Fl:i}}getChild(n){let i=ee(n);return i===null?this:this.getImmediateChild(i).getChild(Ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(S(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new re(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?Fl:this.priorityNode_;return new t(o,a,s)}}updateChild(n,i){let r=ee(n);if(r===null)return i;{S(ee(n)!==".priority"||Sr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(Ie(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(Ae,(a,l)=>{i[a]=l.val(n),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+RS(this.getPriority().val())+":"),this.forEachChild(Ae,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":dS(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new re(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new re(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new re(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,re.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,re.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===oc?-1:0}withIndex(n){if(n===si||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===si||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(Ae),o=i.getIterator(Ae),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===si?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Bv=class extends W{constructor(){super(new Cn(O_),W.EMPTY_NODE,Ks.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}},oc=new Bv;Object.defineProperties(re,{MIN:{value:new re(Ir,W.EMPTY_NODE)},MAX:{value:new re(Bi,oc)}});Mh.__EMPTY_NODE=W.EMPTY_NODE;Ys.__childrenNodeConstructor=W;sU(oc);lU(oc);var uU=!0;function $e(t,e=null){if(t===null)return W.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ys(n,$e(e))}if(!(t instanceof Array)&&uU){let n=[],i=!1;if(ht(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=$e(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new re(s,l)))}}),n.length===0)return W.EMPTY_NODE;let o=Th(n,oU,s=>s.name,O_);if(i){let s=Th(n,Ae.getCompare());return new W(o,$e(e),new Ks({".priority":s},{".priority":Ae}))}else return new W(o,$e(e),Ks.Default)}else{let n=W.EMPTY_NODE;return ht(t,(i,r)=>{if(sn(t,i)&&i.substring(0,1)!=="."){let o=$e(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority($e(e))}}aU($e);var Wl=class extends qs{constructor(e){super(),this.indexPath_=e,S(!te(e)&&ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?xo(e.name,n.name):o}makePost(e,n){let i=$e(e),r=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new re(n,r)}maxPost(){let e=W.EMPTY_NODE.updateChild(this.indexPath_,oc);return new re(Bi,e)}toString(){return zl(this.indexPath_,0).join("/")}};var Uv=class extends qs{compare(e,n){let i=e.node.compareTo(n.node);return i===0?xo(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(e,n){let i=$e(e);return new re(n,i)}toString(){return".value"}},k_=new Uv;function LS(t){return{type:"value",snapshotNode:t}}function Qs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Gl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ql(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function dU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Yl=class{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(Gl(n,a)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Qs(n,i)):s.trackChildChange(ql(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ae,(r,o)=>{n.hasChild(r)||i.trackChildChange(Gl(r,o))}),n.isLeafNode()||n.forEachChild(Ae,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(ql(r,o,s))}else i.trackChildChange(Qs(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Ah=class t{constructor(e){this.indexedFilter_=new Yl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new re(n,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=W.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(W.EMPTY_NODE);let o=this;return n.forEachChild(Ae,(s,a)=>{o.matches(new re(s,a))||(r=r.updateImmediateChild(s,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var $v=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Ah(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new re(n,i))||(i=W.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=W.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(W.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=e;S(a.numChildren()===this.limit_,"");let l=new re(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(ql(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Gl(n,d));let g=a.updateImmediateChild(n,W.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Qs(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Gl(c.name,c.node)),o.trackChildChange(Qs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,W.EMPTY_NODE)):e}};var Kl=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ir}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function hU(t){return t.loadsAllData()?new Yl(t.getIndex()):t.hasLimit()?new $v(t):new Ah(t)}function fU(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function pU(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Hv(t,e,n){let i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function gU(t,e,n){let i;return t.index_===si||n?i=Hv(t,e,n):i=Hv(t,e,Bi),i.startAfterSet_=!0,i}function zv(t,e,n){let i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function mU(t,e,n){let i;return t.index_===si||n?i=zv(t,e,n):i=zv(t,e,Ir),i.endBeforeSet_=!0,i}function Kh(t,e){let n=t.copy();return n.index_=e,n}function qI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ae?n="$priority":t.index_===k_?n="$value":t.index_===si?n="$key":(S(t.index_ instanceof Wl,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Qe(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=Qe(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Qe(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Qe(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Qe(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function YI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ae&&(e.i=t.index_.toString()),e}var Wv=class t extends xh{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=rc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,i),a={};this.listens_[s]=a;let l=qI(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Ki(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=qI(e._queryParams),i=e._path.toString(),r=new ot;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ob(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Lc(a.responseText)}catch{Mt("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Mt("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Gv=class{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Ph(){return{value:null,children:new Map}}function na(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=ee(e);t.children.has(i)||t.children.set(i,Ph());let r=t.children.get(i);e=Ie(e),na(r,e,n)}}function qv(t,e){if(te(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Ae,(i,r)=>{na(t,new pe(i),r)}),qv(t,e)}}else if(t.children.size>0){let n=ee(e);return e=Ie(e),t.children.has(n)&&qv(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Yv(t,e,n){t.value!==null?n(e,t.value):yU(t,(i,r)=>{let o=new pe(e.toString()+"/"+i);Yv(r,o,n)})}function yU(t,e){t.children.forEach((n,i)=>{e(i,n)})}var Kv=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ht(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var KI=10*1e3,vU=30*1e3,_U=5*60*1e3,Qv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Kv(e);let i=KI+(vU-KI)*Math.random();Vl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;ht(e,(r,o)=>{o>0&&sn(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Vl(this.reportStats_.bind(this),Math.floor(Math.random()*2*_U))}};var oi=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(oi||{});function F_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function L_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function V_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Zv=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=oi.ACK_USER_WRITE,this.source=F_()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new pe(e));return new t(fe(),n,this.revert)}}else return S(ee(this.path)===e,"operationForChild called for unrelated child."),new t(Ie(this.path),this.affectedTree,this.revert)}};var Nh=class t{constructor(e,n){this.source=e,this.path=n,this.type=oi.LISTEN_COMPLETE}operationForChild(e){return te(this.path)?new t(this.source,fe()):new t(this.source,Ie(this.path))}};var Zs=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=oi.OVERWRITE}operationForChild(e){return te(this.path)?new t(this.source,fe(),this.snap.getImmediateChild(e)):new t(this.source,Ie(this.path),this.snap)}};var Ql=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=oi.MERGE}operationForChild(e){if(te(this.path)){let n=this.children.subtree(new pe(e));return n.isEmpty()?null:n.value?new Zs(this.source,fe(),n.value):new t(this.source,fe(),n)}else return S(ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var li=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;let n=ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Xv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function bU(t,e,n,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(dU(s.childName,s.snapshotNode))}),Ll(t,r,"child_removed",e,i,n),Ll(t,r,"child_added",e,i,n),Ll(t,r,"child_moved",o,i,n),Ll(t,r,"child_changed",e,i,n),Ll(t,r,"value",e,i,n),r}function Ll(t,e,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>wU(t,a,l)),s.forEach(a=>{let l=CU(t,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function CU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wU(t,e,n){if(e.childName==null||n.childName==null)throw Uo("Should only compare child_ events.");let i=new re(e.childName,e.snapshotNode),r=new re(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function Qh(t,e){return{eventCache:t,serverCache:e}}function Bl(t,e,n,i){return Qh(new li(e,n,i),t.serverCache)}function VS(t,e,n,i){return Qh(t.eventCache,new li(e,n,i))}function Rh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Eo(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var bv,DU=()=>(bv||(bv=new Cn(CB)),bv),Vt=class t{constructor(e,n=DU()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ht(e,(i,r)=>{n=n.set(new pe(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:fe(),value:this.value};if(te(e))return null;{let i=ee(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(Ie(e),n);return o!=null?{path:Le(new pe(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{let n=ee(e),i=this.children.get(n);return i!==null?i.subtree(Ie(e)):new t(null)}}set(e,n){if(te(e))return new t(n,this.children);{let i=ee(e),o=(this.children.get(i)||new t(null)).set(Ie(e),n),s=this.children.insert(i,o);return new t(this.value,s)}}remove(e){if(te(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=ee(e),i=this.children.get(n);if(i){let r=i.remove(Ie(e)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(te(e))return this.value;{let n=ee(e),i=this.children.get(n);return i?i.get(Ie(e)):null}}setTree(e,n){if(te(e))return n;{let i=ee(e),o=(this.children.get(i)||new t(null)).setTree(Ie(e),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(e){return this.fold_(fe(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Le(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,fe(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(te(e))return null;{let o=ee(e),s=this.children.get(o);return s?s.findOnPath_(Ie(e),Le(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fe(),n)}foreachOnPath_(e,n,i){if(te(e))return this;{this.value&&i(n,this.value);let r=ee(e),o=this.children.get(r);return o?o.foreachOnPath_(Ie(e),Le(n,r),i):new t(null)}}foreach(e){this.foreach_(fe(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Le(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var $n=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Vt(null))}};function Ul(t,e,n){if(te(e))return new $n(new Vt(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=Lt(r,e);return o=o.updateChild(s,n),new $n(t.writeTree_.set(r,o))}else{let r=new Vt(n),o=t.writeTree_.setTree(e,r);return new $n(o)}}}function Jv(t,e,n){let i=t;return ht(n,(r,o)=>{i=Ul(i,Le(e,r),o)}),i}function QI(t,e){if(te(e))return $n.empty();{let n=t.writeTree_.setTree(e,new Vt(null));return new $n(n)}}function e_(t,e){return Io(t,e)!=null}function Io(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function ZI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(i,r)=>{e.push(new re(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new re(i,r.value))}),e}function Er(t,e){if(te(e))return t;{let n=Io(t,e);return n!=null?new $n(new Vt(n)):new $n(t.writeTree_.subtree(e))}}function t_(t){return t.writeTree_.isEmpty()}function Xs(t,e){return jS(fe(),t.writeTree_,e)}function jS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(S(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=jS(Le(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Le(t,".priority"),i)),n}}function Zh(t,e){return HS(e,t)}function EU(t,e,n,i,r){S(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Ul(t.visibleWrites,e,n)),t.lastWriteId=i}function xU(t,e,n,i){S(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=Jv(t.visibleWrites,e,n),t.lastWriteId=i}function IU(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function SU(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&MU(a,i.path)?r=!1:bn(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return TU(t),!0;if(i.snap)t.visibleWrites=QI(t.visibleWrites,i.path);else{let a=i.children;ht(a,l=>{t.visibleWrites=QI(t.visibleWrites,Le(i.path,l))})}return!0}else return!1}function MU(t,e){if(t.snap)return bn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&bn(Le(t.path,n),e))return!0;return!1}function TU(t){t.visibleWrites=BS(t.allWrites,AU,fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function AU(t){return t.visible}function BS(t,e,n){let i=$n.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,a;if(o.snap)bn(n,s)?(a=Lt(n,s),i=Ul(i,a,o.snap)):bn(s,n)&&(a=Lt(s,n),i=Ul(i,fe(),o.snap.getChild(a)));else if(o.children){if(bn(n,s))a=Lt(n,s),i=Jv(i,a,o.children);else if(bn(s,n))if(a=Lt(s,n),te(a))i=Jv(i,fe(),o.children);else{let l=Ki(o.children,ee(a));if(l){let c=l.getChild(Ie(a));i=Ul(i,fe(),c)}}}else throw Uo("WriteRecord should have .snap or .children")}}return i}function US(t,e,n,i,r){if(!i&&!r){let o=Io(t.visibleWrites,e);if(o!=null)return o;{let s=Er(t.visibleWrites,e);if(t_(s))return n;if(n==null&&!e_(s,fe()))return null;{let a=n||W.EMPTY_NODE;return Xs(s,a)}}}else{let o=Er(t.visibleWrites,e);if(!r&&t_(o))return n;if(!r&&n==null&&!e_(o,fe()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(bn(c.path,e)||bn(e,c.path))},a=BS(t.allWrites,s,e),l=n||W.EMPTY_NODE;return Xs(a,l)}}}function PU(t,e,n){let i=W.EMPTY_NODE,r=Io(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ae,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Er(t.visibleWrites,e);return n.forEachChild(Ae,(s,a)=>{let l=Xs(Er(o,new pe(s)),a);i=i.updateImmediateChild(s,l)}),ZI(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Er(t.visibleWrites,e);return ZI(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function NU(t,e,n,i,r){S(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=Le(e,n);if(e_(t.visibleWrites,o))return null;{let s=Er(t.visibleWrites,o);return t_(s)?r.getChild(n):Xs(s,r.getChild(n))}}function RU(t,e,n,i){let r=Le(e,n),o=Io(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Er(t.visibleWrites,r);return Xs(s,i.getNode().getImmediateChild(n))}else return null}function OU(t,e){return Io(t.visibleWrites,e)}function kU(t,e,n,i,r,o,s){let a,l=Er(t.visibleWrites,e),c=Io(l,fe());if(c!=null)a=c;else if(n!=null)a=Xs(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function FU(){return{visibleWrites:$n.empty(),allWrites:[],lastWriteId:-1}}function Oh(t,e,n,i){return US(t.writeTree,t.treePath,e,n,i)}function j_(t,e){return PU(t.writeTree,t.treePath,e)}function XI(t,e,n,i){return NU(t.writeTree,t.treePath,e,n,i)}function kh(t,e){return OU(t.writeTree,Le(t.treePath,e))}function LU(t,e,n,i,r,o){return kU(t.writeTree,t.treePath,e,n,i,r,o)}function B_(t,e,n){return RU(t.writeTree,t.treePath,e,n)}function $S(t,e){return HS(Le(t.treePath,e),t.writeTree)}function HS(t,e){return{treePath:t,writeTree:e}}var n_=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,ql(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Gl(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Qs(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,ql(i,e.snapshotNode,r.oldSnap));else throw Uo("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var i_=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},zS=new i_,Zl=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new li(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B_(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Eo(this.viewCache_),o=LU(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}};function VU(t){return{filter:t}}function jU(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function BU(t,e,n,i,r){let o=new n_,s,a;if(n.type===oi.OVERWRITE){let c=n;c.source.fromUser?s=r_(t,e,c.path,c.snap,i,r,o):(S(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!te(c.path),s=Fh(t,e,c.path,c.snap,i,r,a,o))}else if(n.type===oi.MERGE){let c=n;c.source.fromUser?s=$U(t,e,c.path,c.children,i,r,o):(S(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=o_(t,e,c.path,c.children,i,r,a,o))}else if(n.type===oi.ACK_USER_WRITE){let c=n;c.revert?s=WU(t,e,c.path,i,r,o):s=HU(t,e,c.path,c.affectedTree,i,r,o)}else if(n.type===oi.LISTEN_COMPLETE)s=zU(t,e,n.path,i,o);else throw Uo("Unknown operation type: "+n.type);let l=o.getChanges();return UU(e,s,l),{viewCache:s,changes:l}}function UU(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Rh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(LS(Rh(e)))}}function WS(t,e,n,i,r,o){let s=e.eventCache;if(kh(i,n)!=null)return e;{let a,l;if(te(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Eo(e),u=c instanceof W?c:W.EMPTY_NODE,d=j_(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Oh(i,Eo(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=ee(n);if(c===".priority"){S(Sr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=XI(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=Ie(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let h=XI(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=B_(i,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Bl(e,a,s.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Fh(t,e,n,i,r,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(te(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=ee(n);if(!l.isCompleteForPath(n)&&Sr(n)>1)return e;let p=Ie(n),m=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),m):c=u.updateChild(l.getNode(),f,m,p,zS,null)}let d=VS(e,c,l.isFullyInitialized()||te(n),u.filtersNodes()),h=new Zl(r,d,o);return WS(t,d,n,r,h,a)}function r_(t,e,n,i,r,o,s){let a=e.eventCache,l,c,u=new Zl(r,e,o);if(te(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=Bl(e,c,!0,t.filter.filtersNodes());else{let d=ee(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Bl(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=Ie(n),f=a.getNode().getImmediateChild(d),p;if(te(h))p=i;else{let g=u.getCompleteChild(d);g!=null?P_(h)===".priority"&&g.getChild(PS(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=W.EMPTY_NODE}if(f.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,h,u,s);l=Bl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function JI(t,e){return t.eventCache.isCompleteForChild(e)}function $U(t,e,n,i,r,o,s){let a=e;return i.foreach((l,c)=>{let u=Le(n,l);JI(e,ee(u))&&(a=r_(t,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=Le(n,l);JI(e,ee(u))||(a=r_(t,a,u,c,r,o,s))}),a}function eS(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function o_(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;te(n)?c=i:c=new Vt(null).setTree(n,i);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=eS(t,f,h);l=Fh(t,l,new pe(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),g=eS(t,p,h);l=Fh(t,l,new pe(d),g,r,o,s,a)}}),l}function HU(t,e,n,i,r,o,s){if(kh(r,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Fh(t,e,n,l.getNode().getChild(n),r,o,a,s);if(te(n)){let c=new Vt(null);return l.getNode().forEachChild(si,(u,d)=>{c=c.set(new pe(u),d)}),o_(t,e,n,c,r,o,a,s)}else return e}else{let c=new Vt(null);return i.foreach((u,d)=>{let h=Le(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),o_(t,e,n,c,r,o,a,s)}}function zU(t,e,n,i,r){let o=e.serverCache,s=VS(e,o.getNode(),o.isFullyInitialized()||te(n),o.isFiltered());return WS(t,s,n,i,zS,r)}function WU(t,e,n,i,r,o){let s;if(kh(i,n)!=null)return e;{let a=new Zl(i,e,r),l=e.eventCache.getNode(),c;if(te(n)||ee(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Oh(i,Eo(e));else{let d=e.serverCache.getNode();S(d instanceof W,"serverChildren would be complete if leaf node"),u=j_(i,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=ee(n),d=B_(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ie(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,W.EMPTY_NODE,Ie(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Oh(i,Eo(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||kh(i,fe())!=null,Bl(e,c,s,t.filter.filtersNodes())}}var s_=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Yl(i.getIndex()),o=hU(i);this.processor_=VU(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(W.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(W.EMPTY_NODE,a.getNode(),null),u=new li(l,s.isFullyInitialized(),r.filtersNodes()),d=new li(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=Qh(d,u),this.eventGenerator_=new Xv(this.query_)}get query(){return this.query_}};function GU(t){return t.viewCache_.serverCache.getNode()}function qU(t){return Rh(t.viewCache_)}function YU(t,e){let n=Eo(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(ee(e)).isEmpty())?n.getChild(e):null}function tS(t){return t.eventRegistrations_.length===0}function KU(t,e){t.eventRegistrations_.push(e)}function nS(t,e,n){let i=[];if(n){S(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function iS(t,e,n,i){e.type===oi.MERGE&&e.source.queryId!==null&&(S(Eo(t.viewCache_),"We should always have a full cache before handling merges"),S(Rh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=BU(t.processor_,r,e,n,i);return jU(t.processor_,o.viewCache),S(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,GS(t,o.changes,o.viewCache.eventCache.getNode(),null)}function QU(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(o,s)=>{i.push(Qs(o,s))}),n.isFullyInitialized()&&i.push(LS(n.getNode())),GS(t,i,n.getNode(),e)}function GS(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return bU(t.eventGenerator_,e,n,r)}var Lh,Vh=class{constructor(){this.views=new Map}};function ZU(t){S(!Lh,"__referenceConstructor has already been defined"),Lh=t}function XU(){return S(Lh,"Reference.ts has not been loaded"),Lh}function JU(t){return t.views.size===0}function U_(t,e,n,i){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return S(o!=null,"SyncTree gave us an op for an invalid query."),iS(o,e,n,i)}else{let o=[];for(let s of t.views.values())o=o.concat(iS(s,e,n,i));return o}}function qS(t,e,n,i,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Oh(n,r?i:null),l=!1;a?l=!0:i instanceof W?(a=j_(n,i),l=!1):(a=W.EMPTY_NODE,l=!1);let c=Qh(new li(a,l,!1),new li(i,r,!1));return new s_(e,c)}return s}function e$(t,e,n,i,r,o){let s=qS(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),KU(s,n),QU(s,n)}function t$(t,e,n,i){let r=e._queryIdentifier,o=[],s=[],a=Mr(t);if(r==="default")for(let[l,c]of t.views.entries())s=s.concat(nS(c,n,i)),tS(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(r);l&&(s=s.concat(nS(l,n,i)),tS(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Mr(t)&&o.push(new(XU())(e._repo,e._path)),{removed:o,events:s}}function YS(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function xr(t,e){let n=null;for(let i of t.views.values())n=n||YU(i,e);return n}function KS(t,e){if(e._queryParams.loadsAllData())return Xh(t);{let i=e._queryIdentifier;return t.views.get(i)}}function QS(t,e){return KS(t,e)!=null}function Mr(t){return Xh(t)!=null}function Xh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var jh;function n$(t){S(!jh,"__referenceConstructor has already been defined"),jh=t}function i$(){return S(jh,"Reference.ts has not been loaded"),jh}var r$=1,Bh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vt(null),this.pendingWriteTree_=FU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function $_(t,e,n,i,r){return EU(t.pendingWriteTree_,e,n,i,r),r?ia(t,new Zs(F_(),e,n)):[]}function o$(t,e,n,i){xU(t.pendingWriteTree_,e,n,i);let r=Vt.fromObject(n);return ia(t,new Ql(F_(),e,r))}function Dr(t,e,n=!1){let i=IU(t.pendingWriteTree_,e);if(SU(t.pendingWriteTree_,e)){let o=new Vt(null);return i.snap!=null?o=o.set(fe(),!0):ht(i.children,s=>{o=o.set(new pe(s),!0)}),ia(t,new Zv(i.path,o,n))}else return[]}function sc(t,e,n){return ia(t,new Zs(L_(),e,n))}function s$(t,e,n){let i=Vt.fromObject(n);return ia(t,new Ql(L_(),e,i))}function a$(t,e){return ia(t,new Nh(L_(),e))}function l$(t,e,n){let i=H_(t,n);if(i){let r=z_(i),o=r.path,s=r.queryId,a=Lt(o,e),l=new Nh(V_(s),a);return W_(t,o,l)}else return[]}function Uh(t,e,n,i,r=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||QS(s,e))){let l=t$(s,e,n,i);JU(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,f)=>Mr(f));if(u&&!d){let h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=d$(h);for(let p=0;p<f.length;++p){let g=f[p],m=g.query,y=eM(t,g);t.listenProvider_.startListening($l(m),Xl(t,m),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening($l(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(ef(h));t.listenProvider_.stopListening($l(h),f)}))}h$(t,c)}return a}function ZS(t,e,n,i){let r=H_(t,i);if(r!=null){let o=z_(r),s=o.path,a=o.queryId,l=Lt(s,e),c=new Zs(V_(a),l,n);return W_(t,s,c)}else return[]}function c$(t,e,n,i){let r=H_(t,i);if(r){let o=z_(r),s=o.path,a=o.queryId,l=Lt(s,e),c=Vt.fromObject(n),u=new Ql(V_(a),l,c);return W_(t,s,u)}else return[]}function a_(t,e,n,i=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Lt(h,r);o=o||xr(f,p),s=s||Mr(f)});let a=t.syncPointTree_.get(r);a?(s=s||Mr(a),o=o||xr(a,fe())):(a=new Vh,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=W.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{let g=xr(p,fe());g&&(o=o.updateImmediateChild(f,g))}));let c=QS(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=ef(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=f$();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=Zh(t.pendingWriteTree_,r),d=e$(a,e,n,u,o,l);if(!c&&!s&&!i){let h=KS(a,e);d=d.concat(p$(t,e,h))}return d}function Jh(t,e,n){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Lt(s,e),c=xr(a,l);if(c)return c});return US(r,e,o,n,!0)}function u$(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Lt(c,n);i=i||xr(u,d)});let r=t.syncPointTree_.get(n);r?i=i||xr(r,fe()):(r=new Vh,t.syncPointTree_=t.syncPointTree_.set(n,r));let o=i!=null,s=o?new li(i,!0,!1):null,a=Zh(t.pendingWriteTree_,e._path),l=qS(r,e,a,o?s.getNode():W.EMPTY_NODE,o);return qU(l)}function ia(t,e){return XS(e,t.syncPointTree_,null,Zh(t.pendingWriteTree_,fe()))}function XS(t,e,n,i){if(te(t.path))return JS(t,e,n,i);{let r=e.get(fe());n==null&&r!=null&&(n=xr(r,fe()));let o=[],s=ee(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=$S(i,s);o=o.concat(XS(a,l,c,u))}return r&&(o=o.concat(U_(r,t,i,n))),o}}function JS(t,e,n,i){let r=e.get(fe());n==null&&r!=null&&(n=xr(r,fe()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=$S(i,s),u=t.operationForChild(s);u&&(o=o.concat(JS(u,a,l,c)))}),r&&(o=o.concat(U_(r,t,i,n))),o}function eM(t,e){let n=e.query,i=Xl(t,n);return{hashFn:()=>(GU(e)||W.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?l$(t,n._path,i):a$(t,n._path);{let o=EB(r,n);return Uh(t,n,null,o)}}}}function Xl(t,e){let n=ef(e);return t.queryToTagMap.get(n)}function ef(t){return t._path.toString()+"$"+t._queryIdentifier}function H_(t,e){return t.tagToQueryMap.get(e)}function z_(t){let e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pe(t.substr(0,e))}}function W_(t,e,n){let i=t.syncPointTree_.get(e);S(i,"Missing sync point for query tag that we're tracking");let r=Zh(t.pendingWriteTree_,e);return U_(i,n,r,null)}function d$(t){return t.fold((e,n,i)=>{if(n&&Mr(n))return[Xh(n)];{let r=[];return n&&(r=YS(n)),ht(i,(o,s)=>{r=r.concat(s)}),r}})}function $l(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(i$())(t._repo,t._path):t}function h$(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=ef(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function f$(){return r$++}function p$(t,e,n){let i=e._path,r=Xl(t,e),o=eM(t,n),s=t.listenProvider_.startListening($l(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)S(!Mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!te(c)&&u&&Mr(u))return[Xh(u).query];{let h=[];return u&&(h=h.concat(YS(u).map(f=>f.query))),ht(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening($l(u),Xl(t,u))}}return s}var l_=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},c_=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Le(this.path_,e);return new t(this.syncTree_,n)}node(){return Jh(this.syncTree_,this.path_)}},g$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rS=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return m$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return y$(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},m$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},y$=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&S(!1,"Unexpected increment value: "+i);let r=e.node();if(S(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},tM=function(t,e,n,i){return q_(e,new c_(n,t),i)},G_=function(t,e,n){return q_(t,new l_(e),n)};function q_(t,e,n){let i=t.getPriority().val(),r=rS(i,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=rS(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new Ys(a,$e(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Ys(r))),s.forEachChild(Ae,(a,l)=>{let c=q_(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var Jl=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function tf(t,e){let n=e instanceof pe?e:new pe(e),i=t,r=ee(n);for(;r!==null;){let o=Ki(i.node.children,r)||{children:{},childCount:0};i=new Jl(r,i,o),n=Ie(n),r=ee(n)}return i}function So(t){return t.node.value}function Y_(t,e){t.node.value=e,u_(t)}function nM(t){return t.node.childCount>0}function v$(t){return So(t)===void 0&&!nM(t)}function nf(t,e){ht(t.node.children,(n,i)=>{e(new Jl(n,t,i))})}function iM(t,e,n,i){n&&!i&&e(t),nf(t,r=>{iM(r,e,!0,i)}),n&&i&&e(t)}function _$(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function ac(t){return new pe(t.parent===null?t.name:ac(t.parent)+"/"+t.name)}function u_(t){t.parent!==null&&b$(t.parent,t.name,t)}function b$(t,e,n){let i=v$(n),r=sn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,u_(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,u_(t))}var C$=/[\[\].#$\/\u0000-\u001F\u007F]/,w$=/[\[\].#$\u0000-\u001F\u007F]/,Cv=10*1024*1024,rf=function(t){return typeof t=="string"&&t.length!==0&&!C$.test(t)},rM=function(t){return typeof t=="string"&&t.length!==0&&!w$.test(t)},D$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rM(t)},ec=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Yh(t)||t&&typeof t=="object"&&sn(t,".sv")},ci=function(t,e,n,i){i&&e===void 0||lc(Bt(t,"value"),e,n)},lc=function(t,e,n){let i=n instanceof pe?new Ov(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Co(i));if(typeof e=="function")throw new Error(t+"contains a function "+Co(i)+" with contents = "+e.toString());if(Yh(e))throw new Error(t+"contains "+e.toString()+" "+Co(i));if(typeof e=="string"&&e.length>Cv/3&&Ea(e)>Cv)throw new Error(t+"contains a string greater than "+Cv+" utf8 bytes "+Co(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(ht(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!rf(s)))throw new Error(t+" contains an invalid key ("+s+") "+Co(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);JB(i,s),lc(t,a,i),eU(i)}),r&&o)throw new Error(t+' contains ".value" child '+Co(i)+" in addition to actual children.")}},E$=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let o=zl(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!rf(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(XB);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&bn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},oM=function(t,e,n,i){if(i&&e===void 0)return;let r=Bt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];ht(e,(s,a)=>{let l=new pe(s);if(lc(r,a,Le(n,l)),P_(l)===".priority"&&!ec(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),E$(r,o)},K_=function(t,e,n){if(!(n&&e===void 0)){if(Yh(e))throw new Error(Bt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ec(e))throw new Error(Bt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},cc=function(t,e,n,i){if(!(i&&n===void 0)&&!rf(n))throw new Error(Bt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},ra=function(t,e,n,i){if(!(i&&n===void 0)&&!rM(n))throw new Error(Bt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},x$=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ra(t,e,n,i)},en=function(t,e){if(ee(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},sM=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!rf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!D$(n))throw new Error(Bt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var d_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function of(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();n!==null&&!N_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function aM(t,e,n){of(t,n),lM(t,i=>N_(i,e))}function tn(t,e,n){of(t,n),lM(t,i=>bn(i,e)||bn(e,i))}function lM(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;e(o)?(I$(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function I$(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();Do&&dt("event: "+n.toString()),ta(i)}}}var cM="repo_interrupt",S$=25,h_=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new d_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ph(),this.transactionQueueTree_=new Jl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function M$(t,e,n){if(t.stats_=A_(t.repoInfo_),t.forceRestClient_||MB())t.server_=new Wv(t.repoInfo_,(i,r,o,s)=>{oS(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Qe(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new R_(t.repoInfo_,e,(i,r,o,s)=>{oS(t,i,r,o,s)},i=>{sS(t,i)},i=>{T$(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=AB(t.repoInfo_,()=>new Qv(t.stats_,t.server_)),t.infoData_=new Gv,t.infoSyncTree_=new Bh({startListening:(i,r,o,s)=>{let a=[],l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=sc(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Q_(t,"connected",!1),t.serverSyncTree_=new Bh({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);tn(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function uM(t){let n=t.infoData_.getNode(new pe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function uc(t){return g$({timestamp:uM(t)})}function oS(t,e,n,i,r){t.dataUpdateCount++;let o=new pe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){let l=Da(n,c=>$e(c));s=c$(t.serverSyncTree_,o,l,r)}else{let l=$e(n);s=ZS(t.serverSyncTree_,o,l,r)}else if(i){let l=Da(n,c=>$e(c));s=s$(t.serverSyncTree_,o,l)}else{let l=$e(n);s=sc(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=Js(t,o)),tn(t.eventQueue_,a,s)}function sS(t,e){Q_(t,"connected",e),e===!1&&N$(t)}function T$(t,e){ht(e,(n,i)=>{Q_(t,n,i)})}function Q_(t,e,n){let i=new pe("/.info/"+e),r=$e(n);t.infoData_.updateSnapshot(i,r);let o=sc(t.infoSyncTree_,i,r);tn(t.eventQueue_,i,o)}function sf(t){return t.nextWriteId_++}function A$(t,e,n){let i=u$(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let o=$e(r).withIndex(e._queryParams.getIndex());a_(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=sc(t.serverSyncTree_,e._path,o);else{let a=Xl(t.serverSyncTree_,e);s=ZS(t.serverSyncTree_,e._path,o,a)}return tn(t.eventQueue_,e._path,s),Uh(t.serverSyncTree_,e,n,null,!0),o},r=>(oa(t,"get for query "+Qe(e)+" failed: "+r),Promise.reject(new Error(r))))}function Z_(t,e,n,i,r){oa(t,"set",{path:e.toString(),value:n,priority:i});let o=uc(t),s=$e(n,i),a=Jh(t.serverSyncTree_,e),l=G_(s,a,o),c=sf(t),u=$_(t.serverSyncTree_,e,l,c,!0);of(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||Mt("set at "+e+" failed: "+h);let g=Dr(t.serverSyncTree_,c,!p);tn(t.eventQueue_,e,g),Tr(t,r,h,f)});let d=J_(t,e);Js(t,d),tn(t.eventQueue_,d,[])}function P$(t,e,n,i){oa(t,"update",{path:e.toString(),value:n});let r=!0,o=uc(t),s={};if(ht(n,(a,l)=>{r=!1,s[a]=tM(Le(e,a),$e(l),t.serverSyncTree_,o)}),r)dt("update() called with empty data.  Don't do anything."),Tr(t,i,"ok",void 0);else{let a=sf(t),l=o$(t.serverSyncTree_,e,s,a);of(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Mt("update at "+e+" failed: "+c);let h=Dr(t.serverSyncTree_,a,!d),f=h.length>0?Js(t,e):e;tn(t.eventQueue_,f,h),Tr(t,i,c,u)}),ht(n,c=>{let u=J_(t,Le(e,c));Js(t,u)}),tn(t.eventQueue_,e,[])}}function N$(t){oa(t,"onDisconnectEvents");let e=uc(t),n=Ph();Yv(t.onDisconnect_,fe(),(r,o)=>{let s=tM(r,o,t.serverSyncTree_,e);na(n,r,s)});let i=[];Yv(n,fe(),(r,o)=>{i=i.concat(sc(t.serverSyncTree_,r,o));let s=J_(t,r);Js(t,s)}),t.onDisconnect_=Ph(),tn(t.eventQueue_,fe(),i)}function R$(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&qv(t.onDisconnect_,e),Tr(t,n,i,r)})}function aS(t,e,n,i){let r=$e(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(o,s)=>{o==="ok"&&na(t.onDisconnect_,e,r),Tr(t,i,o,s)})}function O$(t,e,n,i,r){let o=$e(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&na(t.onDisconnect_,e,o),Tr(t,r,s,a)})}function k$(t,e,n,i){if(Vc(n)){dt("onDisconnect().update() called with empty data.  Don't do anything."),Tr(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,o)=>{r==="ok"&&ht(n,(s,a)=>{let l=$e(a);na(t.onDisconnect_,Le(e,s),l)}),Tr(t,i,r,o)})}function F$(t,e,n){let i;ee(e._path)===".info"?i=a_(t.infoSyncTree_,e,n):i=a_(t.serverSyncTree_,e,n),aM(t.eventQueue_,e._path,i)}function f_(t,e,n){let i;ee(e._path)===".info"?i=Uh(t.infoSyncTree_,e,n):i=Uh(t.serverSyncTree_,e,n),aM(t.eventQueue_,e._path,i)}function dM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(cM)}function L$(t){t.persistentConnection_&&t.persistentConnection_.resume(cM)}function oa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function Tr(t,e,n,i){e&&ta(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function V$(t,e,n,i,r,o){oa(t,"transaction on "+e);let s={path:e,update:n,onComplete:i,status:null,order:uS(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=X_(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{lc("transaction failed: Data returned ",l,s.path),s.status=0;let c=tf(t.transactionQueueTree_,e),u=So(c)||[];u.push(s),Y_(c,u);let d;typeof l=="object"&&l!==null&&sn(l,".priority")?(d=Ki(l,".priority"),S(ec(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(Jh(t.serverSyncTree_,e)||W.EMPTY_NODE).getPriority().val();let h=uc(t),f=$e(l,d),p=G_(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=sf(t);let g=$_(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);tn(t.eventQueue_,e,g),af(t,t.transactionQueueTree_)}}function X_(t,e,n){return Jh(t.serverSyncTree_,e,n)||W.EMPTY_NODE}function af(t,e=t.transactionQueueTree_){if(e||lf(t,e),So(e)){let n=fM(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&j$(t,ac(e),n)}else nM(e)&&nf(e,n=>{af(t,n)})}function j$(t,e,n){let i=n.map(c=>c.currentWriteId),r=X_(t,e,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];S(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Lt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{oa(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(Dr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();lf(t,tf(t.transactionQueueTree_,e)),af(t,t.transactionQueueTree_),tn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)ta(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Mt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Js(t,e)}},s)}function Js(t,e){let n=hM(t,e),i=ac(n),r=fM(t,n);return B$(t,r,i),i}function B$(t,e,n){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Lt(n,l.path),u=!1,d;if(S(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=S$)u=!0,d="maxretry",r=r.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0));else{let h=X_(t,l.path,s);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){lc("transaction failed: Data returned ",f,l.path);let p=$e(f);typeof f=="object"&&f!=null&&sn(f,".priority")||(p=p.updatePriority(h.getPriority()));let m=l.currentWriteId,y=uc(t),v=G_(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=sf(t),s.splice(s.indexOf(m),1),r=r.concat($_(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(Dr(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",r=r.concat(Dr(t.serverSyncTree_,l.currentWriteId,!0))}tn(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}lf(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)ta(i[a]);af(t,t.transactionQueueTree_)}function hM(t,e){let n,i=t.transactionQueueTree_;for(n=ee(e);n!==null&&So(i)===void 0;)i=tf(i,n),e=Ie(e),n=ee(e);return i}function fM(t,e){let n=[];return pM(t,e,n),n.sort((i,r)=>i.order-r.order),n}function pM(t,e,n){let i=So(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);nf(e,r=>{pM(t,r,n)})}function lf(t,e){let n=So(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,Y_(e,n.length>0?n:void 0)}nf(e,i=>{lf(t,i)})}function J_(t,e){let n=ac(hM(t,e)),i=tf(t.transactionQueueTree_,e);return _$(i,r=>{wv(t,r)}),wv(t,i),iM(i,r=>{wv(t,r)}),n}function wv(t,e){let n=So(e);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(S(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(S(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(Dr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?Y_(e,void 0):n.length=o+1,tn(t.eventQueue_,ac(e),r);for(let s=0;s<i.length;s++)ta(i[s])}}function U$(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function $$(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Mt(`Invalid query segment '${n}' in query '${t}'`)}return e}var p_=function(t,e){let n=H$(t),i=n.namespace;n.domain==="firebase.com"&&ai(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ai("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||_B();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Dh(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new pe(n.pathString)}},H$=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=U$(t.substring(u,d)));let h=$$(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var lS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",z$=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=lS.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=lS.charAt(e[r]);return S(s.length===20,"nextPushId: Length should be 20."),s}}();var $h=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Qe(this.snapshot.exportVal())}},Hh=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var tc=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var zh=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new ot;return R$(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){en("OnDisconnect.remove",this._path);let e=new ot;return aS(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){en("OnDisconnect.set",this._path),ci("OnDisconnect.set",e,this._path,!1);let n=new ot;return aS(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){en("OnDisconnect.setWithPriority",this._path),ci("OnDisconnect.setWithPriority",e,this._path,!1),K_("OnDisconnect.setWithPriority",n,!1);let i=new ot;return O$(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){en("OnDisconnect.update",this._path),oM("OnDisconnect.update",e,this._path,!1);let n=new ot;return k$(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var jt=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return te(this._path)?null:P_(this._path)}get ref(){return new nn(this._repo,this._path)}get _queryIdentifier(){let e=YI(this._queryParams),n=T_(e);return n==="{}"?"default":n}get _queryObject(){return YI(this._queryParams)}isEqual(e){if(e=At(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=N_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+ZB(this._path)}};function cf(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Pr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===si){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ir)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Bi)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Ae){if(e!=null&&!ec(e)||n!=null&&!ec(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(S(t.getIndex()instanceof Wl||t.getIndex()===k_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function uf(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var nn=class t extends jt{constructor(e,n){super(e,n,new Kl,!1)}get parent(){let e=PS(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},ea=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new pe(e),i=Ar(this.ref,e);return new t(this._node.getChild(n),i,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,Ar(this.ref,i),Ae)))}hasChild(e){let n=new pe(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function e0(t,e){return t=At(t),t._checkNotDeleted("ref"),e!==void 0?Ar(t._root,e):t._root}function t0(t,e){t=At(t),t._checkNotDeleted("refFromURL");let n=p_(e,t._repo.repoInfo_.nodeAdmin);sM("refFromURL",n);let i=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&ai("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),e0(t,n.path.toString())}function Ar(t,e){return t=At(t),ee(t._path)===null?x$("child","path",e,!1):ra("child","path",e,!1),new nn(t._repo,Le(t._path,e))}function gM(t,e){t=At(t),en("push",t._path),ci("push",e,t._path,!0);let n=uM(t._repo),i=z$(n),r=Ar(t,i),o=Ar(t,i),s;return e!=null?s=df(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function mM(t){return en("remove",t._path),df(t,null)}function df(t,e){t=At(t),en("set",t._path),ci("set",e,t._path,!1);let n=new ot;return Z_(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function yM(t,e){t=At(t),en("setPriority",t._path),K_("setPriority",e,!1);let n=new ot;return Z_(t._repo,Le(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function vM(t,e,n){if(en("setWithPriority",t._path),ci("setWithPriority",e,t._path,!1),K_("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let i=new ot;return Z_(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}function _M(t,e){oM("update",e,t._path,!1);let n=new ot;return P$(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function bM(t){t=At(t);let e=new tc(()=>{}),n=new nc(e);return A$(t._repo,t,n).then(i=>new ea(i,new nn(t._repo,t._path),t._queryParams.getIndex()))}var nc=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new $h("value",this,new ea(e.snapshotNode,new nn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Hh(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Wh=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Hh(this,e,n):null}createEvent(e,n){S(e.childName!=null,"Child events should have a childName.");let i=Ar(new nn(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new $h(e.type,this,new ea(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function dc(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{f_(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new tc(n,o||void 0),a=e==="value"?new nc(s):new Wh(e,s);return F$(t._repo,t,a),()=>f_(t._repo,t,a)}function hf(t,e,n,i){return dc(t,"value",e,n,i)}function n0(t,e,n,i){return dc(t,"child_added",e,n,i)}function i0(t,e,n,i){return dc(t,"child_changed",e,n,i)}function r0(t,e,n,i){return dc(t,"child_moved",e,n,i)}function o0(t,e,n,i){return dc(t,"child_removed",e,n,i)}function s0(t,e,n){let i=null,r=n?new tc(n):null;e==="value"?i=new nc(r):e&&(i=new Wh(e,r)),f_(t._repo,t,i)}var rn=class{},Gh=class extends rn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){ci("endAt",this._value,e._path,!0);let n=zv(e._queryParams,this._value,this._key);if(uf(n),Pr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function CM(t,e){return cc("endAt","key",e,!0),new Gh(t,e)}var g_=class extends rn{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){ci("endBefore",this._value,e._path,!1);let n=mU(e._queryParams,this._value,this._key);if(uf(n),Pr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function wM(t,e){return cc("endBefore","key",e,!0),new g_(t,e)}var qh=class extends rn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){ci("startAt",this._value,e._path,!0);let n=Hv(e._queryParams,this._value,this._key);if(uf(n),Pr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function DM(t=null,e){return cc("startAt","key",e,!0),new qh(t,e)}var m_=class extends rn{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){ci("startAfter",this._value,e._path,!1);let n=gU(e._queryParams,this._value,this._key);if(uf(n),Pr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function EM(t,e){return cc("startAfter","key",e,!0),new m_(t,e)}var y_=class extends rn{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new jt(e._repo,e._path,fU(e._queryParams,this._limit),e._orderByCalled)}};function xM(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new y_(t)}var v_=class extends rn{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new jt(e._repo,e._path,pU(e._queryParams,this._limit),e._orderByCalled)}};function IM(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new v_(t)}var __=class extends rn{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){cf(e,"orderByChild");let n=new pe(this._path);if(te(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Wl(n),r=Kh(e._queryParams,i);return Pr(r),new jt(e._repo,e._path,r,!0)}};function SM(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return ra("orderByChild","path",t,!1),new __(t)}var b_=class extends rn{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){cf(e,"orderByKey");let n=Kh(e._queryParams,si);return Pr(n),new jt(e._repo,e._path,n,!0)}};function MM(){return new b_}var C_=class extends rn{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){cf(e,"orderByPriority");let n=Kh(e._queryParams,Ae);return Pr(n),new jt(e._repo,e._path,n,!0)}};function TM(){return new C_}var w_=class extends rn{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){cf(e,"orderByValue");let n=Kh(e._queryParams,k_);return Pr(n),new jt(e._repo,e._path,n,!0)}};function AM(){return new w_}var D_=class extends rn{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(ci("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Gh(this._value,this._key)._apply(new qh(this._value,this._key)._apply(e))}};function PM(t,e){return cc("equalTo","key",e,!0),new D_(t,e)}function wn(t,...e){let n=At(t);for(let i of e)n=i._apply(n);return n}ZU(nn);n$(nn);var W$="FIREBASE_DATABASE_EMULATOR_HOST",E_={},G$=!1;function q$(t,e,n,i){t.repoInfo_=new Dh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function a0(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||ai("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=p_(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[W$]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=p_(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new jl(jl.OWNER):new Mv(t.name,t.options,e);sM("Invalid Firebase Database URL",s),te(s.path)||ai("Database URL must point to the root of a Firebase Database (not including a child path).");let d=K$(a,t,u,new Sv(t.name,n));return new x_(d,t)}function Y$(t,e){let n=E_[e];(!n||n[t.key]!==t)&&ai(`Database ${e}(${t.repoInfo_}) has already been deleted.`),dM(t),delete n[t.key]}function K$(t,e,n,i){let r=E_[e.name];r||(r={},E_[e.name]=r);let o=r[t.toURLString()];return o&&ai("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new h_(t,G$,n,i),r[t.toURLString()]=o,o}var x_=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(M$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new nn(this._repo,fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Y$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ai("Cannot call "+e+" on a deleted database.")}};function NM(){AS.IS_TRANSPORT_INITIALIZED&&Mt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function RM(){NM(),Hl.forceDisallow()}function OM(){NM(),zs.forceDisallow(),Hl.forceAllow()}function kM(t,e,n,i={}){t=At(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ai("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ai('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new jl(jl.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Mb(i.mockUserToken,t.app.options.projectId);o=new jl(s)}q$(r,e,n,o)}function FM(t){t=At(t),t._checkNotDeleted("goOffline"),dM(t._repo)}function LM(t){t=At(t),t._checkNotDeleted("goOnline"),L$(t._repo)}function VM(t,e){hS(t,e)}function Q$(t){M_(Vb),xa(new mi("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return a0(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Qi(PI,NI,t),Qi(PI,NI,"esm2017")}var Z$={".sv":"timestamp"};function jM(){return Z$}function BM(t){return{".sv":{increment:t}}}var I_=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function UM(t,e,n){var i;if(t=At(t),en("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new ot,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new ea(u,new nn(t._repo,t._path),Ae),o.resolve(new I_(c,d)))},a=hf(t,()=>{});return V$(t._repo,t._path,e,s,a,r),o.promise}R_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};R_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Q$();var X$="@firebase/database-compat",J$="1.0.3";var eH=new $o("@firebase/database-compat"),$M=function(t){let e="FIREBASE WARNING: "+t;eH.warn(e)};var tH=function(t,e,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Bt(t,e)+"must be a boolean.")},nH=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Bt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var l0=class{constructor(e){this._delegate=e}cancel(e){U("OnDisconnect.cancel",0,1,arguments.length),tt("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),i=>e(i)),n}remove(e){U("OnDisconnect.remove",0,1,arguments.length),tt("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),i=>e(i)),n}set(e,n){U("OnDisconnect.set",1,2,arguments.length),tt("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){U("OnDisconnect.setWithPriority",2,3,arguments.length),tt("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(e,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,n){if(U("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,$M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tt("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(e);return n&&i.then(()=>n(null),r=>n(r)),i}};var c0=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return U("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Mo=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return U("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return U("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return U("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return U("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return U("DataSnapshot.child",0,1,arguments.length),e=String(e),ra("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return U("DataSnapshot.hasChild",1,1,arguments.length),ra("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return U("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return U("DataSnapshot.forEach",1,1,arguments.length),tt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return U("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return U("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return U("DataSnapshot.ref",0,0,arguments.length),new Ui(this._database,this._delegate.ref)}get ref(){return this.getRef()}},ff=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,i,r){var o;U("Query.on",2,4,arguments.length),tt("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Mo(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return hf(this._delegate,a,l),n;case"child_added":return n0(this._delegate,a,l),n;case"child_removed":return o0(this._delegate,a,l),n;case"child_changed":return i0(this._delegate,a,l),n;case"child_moved":return r0(this._delegate,a,l),n;default:throw new Error(Bt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,i){if(U("Query.off",0,3,arguments.length),nH("Query.off",e,!0),tt("Query.off","callback",n,!0),ap("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,s0(this._delegate,e,r)}else s0(this._delegate,e)}get(){return bM(this._delegate).then(e=>new Mo(this.database,e))}once(e,n,i,r){U("Query.once",1,4,arguments.length),tt("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",i,r),s=new ot,a=(c,u)=>{let d=new Mo(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":hf(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":n0(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":o0(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":i0(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":r0(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Bt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return U("Query.limitToFirst",1,1,arguments.length),new t(this.database,wn(this._delegate,xM(e)))}limitToLast(e){return U("Query.limitToLast",1,1,arguments.length),new t(this.database,wn(this._delegate,IM(e)))}orderByChild(e){return U("Query.orderByChild",1,1,arguments.length),new t(this.database,wn(this._delegate,SM(e)))}orderByKey(){return U("Query.orderByKey",0,0,arguments.length),new t(this.database,wn(this._delegate,MM()))}orderByPriority(){return U("Query.orderByPriority",0,0,arguments.length),new t(this.database,wn(this._delegate,TM()))}orderByValue(){return U("Query.orderByValue",0,0,arguments.length),new t(this.database,wn(this._delegate,AM()))}startAt(e=null,n){return U("Query.startAt",0,2,arguments.length),new t(this.database,wn(this._delegate,DM(e,n)))}startAfter(e=null,n){return U("Query.startAfter",0,2,arguments.length),new t(this.database,wn(this._delegate,EM(e,n)))}endAt(e=null,n){return U("Query.endAt",0,2,arguments.length),new t(this.database,wn(this._delegate,CM(e,n)))}endBefore(e=null,n){return U("Query.endBefore",0,2,arguments.length),new t(this.database,wn(this._delegate,wM(e,n)))}equalTo(e,n){return U("Query.equalTo",1,2,arguments.length),new t(this.database,wn(this._delegate,PM(e,n)))}toString(){return U("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return U("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(U("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,tt(e,"cancel",r.cancel,!0),r.context=i,ap(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Bt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Ui(this.database,new nn(this._delegate._repo,this._delegate._path))}},Ui=class t extends ff{constructor(e,n){super(e,new jt(n._repo,n._path,new Kl,!1)),this.database=e,this._delegate=n}getKey(){return U("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return U("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Ar(this._delegate,e))}getParent(){U("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return U("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){U("Reference.set",1,2,arguments.length),tt("Reference.set","onComplete",n,!0);let i=df(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}update(e,n){if(U("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,$M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}en("Reference.update",this._delegate._path),tt("Reference.update","onComplete",n,!0);let i=_M(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){U("Reference.setWithPriority",2,3,arguments.length),tt("Reference.setWithPriority","onComplete",i,!0);let r=vM(this._delegate,e,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){U("Reference.remove",0,1,arguments.length),tt("Reference.remove","onComplete",e,!0);let n=mM(this._delegate);return e&&n.then(()=>e(null),i=>e(i)),n}transaction(e,n,i){U("Reference.transaction",1,3,arguments.length),tt("Reference.transaction","transactionUpdate",e,!1),tt("Reference.transaction","onComplete",n,!0),tH("Reference.transaction","applyLocally",i,!0);let r=UM(this._delegate,e,{applyLocally:i}).then(o=>new c0(o.committed,new Mo(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(e,n){U("Reference.setPriority",1,2,arguments.length),tt("Reference.setPriority","onComplete",n,!0);let i=yM(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}push(e,n){U("Reference.push",0,2,arguments.length),tt("Reference.push","onComplete",n,!0);let i=gM(this._delegate,e),r=i.then(s=>new t(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new t(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return en("Reference.onDisconnect",this._delegate._path),new l0(new zh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var To=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:RM,forceLongPolling:OM}}useEmulator(e,n,i={}){kM(this._delegate,e,n,i)}ref(e){if(U("database.ref",0,1,arguments.length),e instanceof Ui){let n=t0(this._delegate,e.toString());return new Ui(this,n)}else{let n=e0(this._delegate,e);return new Ui(this,n)}}refFromURL(e){U("database.refFromURL",1,1,arguments.length);let i=t0(this._delegate,e);return new Ui(this,i)}goOffline(){return U("database.goOffline",0,0,arguments.length),FM(this._delegate)}goOnline(){return U("database.goOnline",0,0,arguments.length),LM(this._delegate)}};To.ServerValue={TIMESTAMP:jM(),increment:t=>BM(t)};function iH({app:t,url:e,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){M_(n);let a=new lp("database-standalone"),l=new jc("auth-internal",a);l.setComponent(new mi("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new jc("app-check-internal",a),c.setComponent(new mi("app-check-internal",()=>r,"PRIVATE"))),{instance:new To(a0(t,l,c,e,s),t),namespace:o}}var rH=Object.freeze({__proto__:null,initStandalone:iH});var oH=To.ServerValue;function sH(t){t.INTERNAL.registerComponent(new mi("database-compat",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new To(r,i)},"PUBLIC").setServiceProps({Reference:Ui,Query:ff,Database:To,DataSnapshot:Mo,enableLogging:VM,INTERNAL:rH,ServerValue:oH}).setMultipleInstances(!0)),t.registerVersion(X$,J$)}sH(Pt);function hc(t,e,n="on",i=Ma){return new X(r=>{let o=null;return o=t[n](e,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(B(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Aa())}function aH(t){return typeof t=="string"}function lH(t){return typeof t.exportVal=="function"}function qM(t){return t==null}function YM(t){return typeof t.set=="function"}function HM(t,e){return YM(e)?e:t.ref(e)}function KM(t,e){if(aH(t))return e.stringCase();if(YM(t))return e.firebaseCase();if(lH(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function QM(t){return(qM(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function ZM(t,e,n){e=QM(e);let i=e.map(r=>hc(t,r,"on",n));return ts(...i)}function cH(t,e,n){let i=ZM(t,e).pipe(is((r,o)=>[...r,o],[]));return dH(t,i,n)}function uH(t,e){return hc(t,"value","on",e).pipe(B(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function dH(t,e,n){return uH(t,n).pipe(Op(e),B(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),Pp(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),B(r=>r.actions))}function zM(t,e){return function(i,r){return KM(i,{stringCase:()=>t.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function hH(t){return function(n){return n?KM(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function fH(t,e,n){return hc(t,"value","once",n).pipe(Me(i=>{let r=[j(i)];return e.forEach(o=>r.push(hc(t,o,"on",n))),ts(...r).pipe(is(gH,[]))}),Mp())}function XM(t,e){let n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function pH(t,e){if(qM(e))return 0;{let n=XM(t,e);return n===-1?t.length:n+1}}function gH(t,e){let{payload:n,prevKey:i,key:r}=e,o=XM(t,r),s=pH(t,i);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==i&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(i==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===r?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function WM(t,e,n){return e=QM(e),fH(t,e,n)}function mH(t,e){let n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:zM(i,"update"),set:zM(i,"set"),push:r=>i.push(r),remove:hH(i),snapshotChanges(r){return WM(t,r,n).pipe(ji)},stateChanges(r){return ZM(t,r,n).pipe(ji)},auditTrail(r){return cH(t,r,n).pipe(ji)},valueChanges(r,o){return WM(t,r,n).pipe(B(a=>a.map(l=>o&&o.idField?ce(N({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),ji)}}}function GM(t,e){return function(){return hc(t,"value","on",e)}}function yH(t,e){return{query:t,snapshotChanges(){return GM(t,e.schedulers.outsideAngular)().pipe(ji)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return GM(t,e.schedulers.outsideAngular)().pipe(ji,B(i=>i.payload.exists()?i.payload.val():null))}}}var vH=new R("angularfire2.realtimeDatabaseURL"),_H=new R("angularfire2.database.use-emulator"),fc=(()=>{class t{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,g,m){this.schedulers=a;let y=l,v=Nl(n,s,i);c&&gv(v,s,u,h,f,p,d,g),this.database=bh(`${v.name}.database.${r}`,"AngularFireDatabase",v.name,()=>{let C=s.runOutsideAngular(()=>v.database(r||void 0));return y&&C.useEmulator(...y),C},[y])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>HM(this.database,n)),o=r;return i&&(o=i(r)),mH(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>HM(this.database,n));return yH(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||t)(I(Us),I($s,8),I(vH,8),I(Et),I(ue),I(yh),I(_H,8),I(Rl,8),I(cv,8),I(uv,8),I(dv,8),I(hv,8),I(fv,8),I(pv,8),I(_o,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),JM=(()=>{class t{constructor(){Pt.registerVersion("angularfire",bo.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=je({type:t});static \u0275inj=Ue({providers:[fc]})}return t})();var Dn=(()=>{let e=class e{constructor(i){this.db=i,this.suinosRef=i.list("/suinos"),this.manejoRef=i.list("/manejoSanitario")}getSuinos(){return this.suinosRef.valueChanges()}addSuino(i){return this.suinosRef.push(i).then(r=>Promise.resolve(r.key))}updateSuino(i){return new Promise((r,o)=>{this.db.list("/suinos",s=>s.orderByChild("brinco").equalTo(i.brinco).limitToFirst(1)).snapshotChanges().subscribe(s=>{if(s.length>0){let a=s[0].payload.key;this.db.object(`/suinos/${a}`).update(i).then(()=>{console.log("Su\xEDno atualizado com sucesso."),r()}).catch(l=>{console.error("Erro ao atualizar su\xEDno:",l),o(l)})}else console.error("Su\xEDno n\xE3o encontrado."),o("Su\xEDno n\xE3o encontrado.")},s=>{console.error("Erro ao buscar su\xEDno:",s),o(s)})})}cadastrarPeso(i,r,o){return this.db.list(`/pesos/${i}`).push({dataPesagem:r,peso:o}).then(s=>Promise.resolve(s.key))}getPeso(i){return this.db.list(`/pesos/${i}`).valueChanges()}atualizarPeso(i,r,o,s){return this.db.object(`/pesos/${i}/${r}`).update({dataPesagem:o,peso:s})}excluirSuino(i){return new Promise((r,o)=>{this.db.list("/suinos",s=>s.orderByChild("brinco").equalTo(i.brinco).limitToFirst(1)).snapshotChanges().subscribe(s=>{let a=s[0].key;a?this.db.object(`/suinos/${a}`).remove().then(()=>{console.log("Su\xEDno exclu\xEDdo com sucesso."),r()}).catch(l=>{console.error("Erro ao excluir su\xEDno:",l),o(l)}):(console.error("Su\xEDno n\xE3o encontrado."),o("Su\xEDno n\xE3o encontrado."))},s=>{console.error("Erro ao buscar su\xEDno:",s),o(s)})})}cadastrarManejo(i){return this.manejoRef.push(i).then(r=>Promise.resolve(r.key)).catch(r=>(console.error("Erro ao cadastrar manejo sanit\xE1rio:",r),Promise.reject(r)))}};e.\u0275fac=function(r){return new(r||e)(I(fc))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bH(t,e){t&1&&(b(0,"small"),E(1," O brinco do animal \xE9 obrigat\xF3rio. "),_())}function CH(t,e){t&1&&(b(0,"small"),E(1," O brinco do pai \xE9 obrigat\xF3rio. "),_())}function wH(t,e){t&1&&(b(0,"small"),E(1," O brinco da m\xE3e \xE9 obrigat\xF3rio. "),_())}function DH(t,e){t&1&&(b(0,"small"),E(1," A data de nascimento \xE9 obrigat\xF3ria. "),_())}function EH(t,e){t&1&&(b(0,"small"),E(1," A data de sa\xEDda \xE9 obrigat\xF3ria. "),_())}function xH(t,e){t&1&&(b(0,"small"),E(1," O status \xE9 obrigat\xF3rio. "),_())}function IH(t,e){t&1&&(b(0,"small"),E(1," O sexo \xE9 obrigat\xF3rio. "),_())}var pf=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.suinoForm=this.formBuilder.group({brinco:["",Ce.required],brincoPai:["",Ce.required],brincoMae:["",Ce.required],dataNascimento:["",Ce.required],dataSaida:["",Ce.required],status:["",Ce.required],sexo:["",Ce.required]})}ngOnInit(){}cadastrarSuino(){if(this.suinoForm.valid){let i=this.suinoForm.value;this.suinoService.addSuino(i).then(()=>{console.log("Novo su\xEDno cadastrado:",i),this.suinoForm.reset()}).catch(r=>{console.error("Erro ao cadastrar su\xEDno:",r)})}else this.suinoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(ri),k(Dn))},e.\u0275cmp=Fe({type:e,selectors:[["app-suino-cadastro"]],decls:51,vars:9,consts:[[3,"formGroup","ngSubmit"],["for","brinco"],["type","number","id","brinco","formControlName","brinco"],[4,"ngIf"],["for","brincoPai"],["type","number","id","brincoPai","formControlName","brincoPai"],["for","brincoMae"],["type","number","id","brincoMae","formControlName","brincoMae"],["for","dataNascimento"],["type","date","id","dataNascimento","formControlName","dataNascimento"],["for","dataSaida"],["type","date","id","dataSaida","formControlName","dataSaida"],["for","status"],["id","status","formControlName","status"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","formControlName","sexo"],["value","M"],["value","F"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(b(0,"div")(1,"h2"),E(2,"Cadastro de Su\xEDno"),_(),b(3,"form",0),se("ngSubmit",function(){return o.cadastrarSuino()}),b(4,"div")(5,"label",1),E(6,"Brinco do Animal:"),_(),oe(7,"input",2),ie(8,bH,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Brinco do Pai:"),_(),oe(12,"input",5),ie(13,CH,2,0,"small",3),_(),b(14,"div")(15,"label",6),E(16,"Brinco da M\xE3e:"),_(),oe(17,"input",7),ie(18,wH,2,0,"small",3),_(),b(19,"div")(20,"label",8),E(21,"Data de Nascimento:"),_(),oe(22,"input",9),ie(23,DH,2,0,"small",3),_(),b(24,"div")(25,"label",10),E(26,"Data de Sa\xEDda:"),_(),oe(27,"input",11),ie(28,EH,2,0,"small",3),_(),b(29,"div")(30,"label",12),E(31,"Status:"),_(),b(32,"select",13)(33,"option",14),E(34,"Ativo"),_(),b(35,"option",15),E(36,"Vendido"),_(),b(37,"option",16),E(38,"Morto"),_()(),ie(39,xH,2,0,"small",3),_(),b(40,"div")(41,"label",17),E(42,"Sexo:"),_(),b(43,"select",18)(44,"option",19),E(45,"Macho"),_(),b(46,"option",20),E(47,"F\xEAmea"),_()(),ie(48,IH,2,0,"small",3),_(),b(49,"button",21),E(50,"Cadastrar"),_()()()),r&2){let s,a,l,c,u,d,h;M(3),V("formGroup",o.suinoForm),M(5),V("ngIf",((s=o.suinoForm.get("brinco"))==null?null:s.invalid)&&((s=o.suinoForm.get("brinco"))==null?null:s.touched)),M(5),V("ngIf",((a=o.suinoForm.get("brincoPai"))==null?null:a.invalid)&&((a=o.suinoForm.get("brincoPai"))==null?null:a.touched)),M(5),V("ngIf",((l=o.suinoForm.get("brincoMae"))==null?null:l.invalid)&&((l=o.suinoForm.get("brincoMae"))==null?null:l.touched)),M(5),V("ngIf",((c=o.suinoForm.get("dataNascimento"))==null?null:c.invalid)&&((c=o.suinoForm.get("dataNascimento"))==null?null:c.touched)),M(5),V("ngIf",((u=o.suinoForm.get("dataSaida"))==null?null:u.invalid)&&((u=o.suinoForm.get("dataSaida"))==null?null:u.touched)),M(11),V("ngIf",((d=o.suinoForm.get("status"))==null?null:d.invalid)&&((d=o.suinoForm.get("status"))==null?null:d.touched)),M(9),V("ngIf",((h=o.suinoForm.get("sexo"))==null?null:h.invalid)&&((h=o.suinoForm.get("sexo"))==null?null:h.touched)),M(),V("disabled",!o.suinoForm.valid)}},dependencies:[It,_n,_r,br,ut,Tl,vr,St,vn,Vn,jn],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.small-error[_ngcontent-%COMP%]{color:red;font-size:12px}"]});let t=e;return t})();function mc(t){return t+.5|0}var Nr=(t,e,n)=>Math.max(Math.min(t,n),e);function pc(t){return Nr(mc(t*2.55),0,255)}function Rr(t){return Nr(mc(t*255),0,255)}function $i(t){return Nr(mc(t/2.55)/100,0,1)}function tT(t){return Nr(mc(t*100),0,100)}var En={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},d0=[..."0123456789ABCDEF"],MH=t=>d0[t&15],TH=t=>d0[(t&240)>>4]+d0[t&15],gf=t=>(t&240)>>4===(t&15),AH=t=>gf(t.r)&&gf(t.g)&&gf(t.b)&&gf(t.a);function PH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&En[t[1]]*17,g:255&En[t[2]]*17,b:255&En[t[3]]*17,a:e===5?En[t[4]]*17:255}:(e===7||e===9)&&(n={r:En[t[1]]<<4|En[t[2]],g:En[t[3]]<<4|En[t[4]],b:En[t[5]]<<4|En[t[6]],a:e===9?En[t[7]]<<4|En[t[8]]:255})),n}var NH=(t,e)=>t<255?e(t):"";function RH(t){var e=AH(t)?MH:TH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+NH(t.a,e):void 0}var OH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function oT(t,e,n){let i=e*Math.min(n,1-n),r=(o,s=(o+t/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function kH(t,e,n){let i=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function FH(t,e,n){let i=oT(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function LH(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function h0(t){let n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2,l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=LH(n,i,r,u,o),l=l*60+.5),[l|0,c||0,a]}function f0(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Rr)}function p0(t,e,n){return f0(oT,t,e,n)}function VH(t,e,n){return f0(FH,t,e,n)}function jH(t,e,n){return f0(kH,t,e,n)}function sT(t){return(t%360+360)%360}function BH(t){let e=OH.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?pc(+e[5]):Rr(+e[5]));let r=sT(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=VH(r,o,s):e[1]==="hsv"?i=jH(r,o,s):i=p0(r,o,s),{r:i[0],g:i[1],b:i[2],a:n}}function UH(t,e){var n=h0(t);n[0]=sT(n[0]+e),n=p0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function $H(t){if(!t)return;let e=h0(t),n=e[0],i=tT(e[1]),r=tT(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${$i(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var nT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},iT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function HH(){let t={},e=Object.keys(iT),n=Object.keys(nT),i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,nT[o]);o=parseInt(iT[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}var mf;function zH(t){mf||(mf=HH(),mf.transparent=[0,0,0,0]);let e=mf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var WH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GH(t){let e=WH.exec(t),n=255,i,r,o;if(e){if(e[7]!==i){let s=+e[7];n=e[8]?pc(s):Nr(s*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?pc(i):Nr(i,0,255)),r=255&(e[4]?pc(r):Nr(r,0,255)),o=255&(e[6]?pc(o):Nr(o,0,255)),{r:i,g:r,b:o,a:n}}}function qH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${$i(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var u0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,aa=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function YH(t,e,n){let i=aa($i(t.r)),r=aa($i(t.g)),o=aa($i(t.b));return{r:Rr(u0(i+n*(aa($i(e.r))-i))),g:Rr(u0(r+n*(aa($i(e.g))-r))),b:Rr(u0(o+n*(aa($i(e.b))-o))),a:t.a+n*(e.a-t.a)}}function yf(t,e,n){if(t){let i=h0(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=p0(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function aT(t,e){return t&&Object.assign(e||{},t)}function rT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Rr(t[3]))):(e=aT(t,{r:0,g:0,b:0,a:1}),e.a=Rr(e.a)),e}function KH(t){return t.charAt(0)==="r"?GH(t):BH(t)}var gc=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=rT(e):n==="string"&&(i=PH(e)||zH(e)||KH(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=aT(this._rgb);return e&&(e.a=$i(e.a)),e}set rgb(e){this._rgb=rT(e)}rgbString(){return this._valid?qH(this._rgb):void 0}hexString(){return this._valid?RH(this._rgb):void 0}hslString(){return this._valid?$H(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,o,s=n===o?.5:n,a=2*s-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=YH(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Rr(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=mc(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return yf(this._rgb,2,e),this}darken(e){return yf(this._rgb,2,-e),this}saturate(e){return yf(this._rgb,1,e),this}desaturate(e){return yf(this._rgb,1,-e),this}rotate(e){return UH(this._rgb,e),this}};function hi(){}var vT=(()=>{let t=0;return()=>t++})();function de(t){return t===null||typeof t>"u"}function Pe(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ae(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function He(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function qt(t,e){return He(t)?t:e}function G(t,e){return typeof t>"u"?e:t}var _T=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,v0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Se(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function be(t,e,n,i){let r,o,s;if(Pe(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(ae(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function _c(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Cf(t){if(Pe(t))return t.map(Cf);if(ae(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=Cf(t[n[r]]);return e}return t}function bT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function QH(t,e,n,i){if(!bT(t))return;let r=e[t],o=n[t];ae(r)&&ae(o)?ca(r,o,i):e[t]=Cf(o)}function ca(t,e,n){let i=Pe(e)?e:[e],r=i.length;if(!ae(t))return t;n=n||{};let o=n.merger||QH,s;for(let a=0;a<r;++a){if(s=i[a],!ae(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],t,s,n)}return t}function da(t,e){return ca(t,e,{merger:ZH})}function ZH(t,e,n){if(!bT(t))return;let i=e[t],r=n[t];ae(i)&&ae(r)?da(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Cf(r))}var lT={"":t=>t,x:t=>t.x,y:t=>t.y};function XH(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function JH(t){let e=XH(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function Wi(t,e){return(lT[e]||(lT[e]=JH(e)))(t)}function xf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ha=t=>typeof t<"u",Hi=t=>typeof t=="function",_0=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function CT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Ne=Math.PI,Re=2*Ne,ez=Re+Ne,wf=Number.POSITIVE_INFINITY,tz=Ne/180,We=Ne/2,Ao=Ne/4,cT=Ne*2/3,zi=Math.log10,Hn=Math.sign;function fa(t,e,n){return Math.abs(t-e)<n}function b0(t){let e=Math.round(t);t=fa(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(zi(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function wT(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function Ro(t){return!isNaN(parseFloat(t))&&isFinite(t)}function DT(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function C0(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function xn(t){return t*(Ne/180)}function If(t){return t*(180/Ne)}function w0(t){if(!He(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function D0(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Ne&&(o+=Re),{angle:o,distance:r}}function Df(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function nz(t,e){return(t-e+ez)%Re-Ne}function Gt(t){return(t%Re+Re)%Re}function pa(t,e,n,i){let r=Gt(t),o=Gt(e),s=Gt(n),a=Gt(o-r),l=Gt(s-r),c=Gt(r-o),u=Gt(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function rt(t,e,n){return Math.max(e,Math.min(n,t))}function ET(t){return rt(t,-32768,32767)}function fi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Sf(t,e,n){n=n||(s=>t[s]<e);let i=t.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}var ui=(t,e,n,i)=>Sf(t,n,i?r=>{let o=t[r][e];return o<n||o===n&&t[r+1][e]===n}:r=>t[r][e]<n),xT=(t,e,n)=>Sf(t,n,i=>t[i][e]>=n);function IT(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var ST=["push","pop","shift","splice","unshift"];function MT(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),ST.forEach(n=>{let i="_onData"+xf(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function E0(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(ST.forEach(o=>{delete t[o]}),delete t._chartjs)}function x0(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var I0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function S0(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,I0.call(window,()=>{i=!1,t.apply(e,n)}))}}function TT(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var Mf=t=>t==="start"?"left":t==="end"?"right":"center",bt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,AT=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function M0(t,e,n){let i=e.length,r=0,o=i;if(t._sorted){let{iScale:s,_parsed:a}=t,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(r=rt(Math.min(ui(a,l,c).lo,n?i:ui(e,l,s.getPixelForValue(c)).lo),0,i-1)),h?o=rt(Math.max(ui(a,s.axis,u,!0).hi+1,n?0:ui(e,l,s.getPixelForValue(u),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function T0(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}var vf=t=>t===0||t===1,uT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Re/n)),dT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Re/n)+1,la={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*We)+1,easeOutSine:t=>Math.sin(t*We),easeInOutSine:t=>-.5*(Math.cos(Ne*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>vf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>vf(t)?t:uT(t,.075,.3),easeOutElastic:t=>vf(t)?t:dT(t,.075,.3),easeInOutElastic(t){return vf(t)?t:t<.5?.5*uT(t*2,.1125,.45):.5+.5*dT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-la.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?la.easeInBounce(t*2)*.5:la.easeOutBounce(t*2-1)*.5+.5};function A0(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function P0(t){return A0(t)?t:new gc(t)}function g0(t){return A0(t)?t:new gc(t).saturate(.5).darken(.1).hexString()}var iz=["x","y","borderWidth","radius","tension"],rz=["color","borderColor","backgroundColor"];function oz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:rz},numbers:{type:"number",properties:iz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function sz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var hT=new Map;function az(t,e){e=e||{};let n=t+JSON.stringify(e),i=hT.get(n);return i||(i=new Intl.NumberFormat(t,e),hT.set(n,i)),i}function ga(t,e,n){return az(e,n).format(t)}var PT={values(t){return Pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,o=t;if(n.length>1){let c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=lz(t,n)}let s=zi(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ga(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(zi(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?PT.numeric.call(this,t,e,n):""}};function lz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var bc={formatters:PT};function cz(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:bc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var kr=Object.create(null),Tf=Object.create(null);function yc(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function m0(t,e,n){return typeof e=="string"?ca(yc(t,e),n):ca(yc(t,""),e)}var y0=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>g0(r.backgroundColor),this.hoverBorderColor=(i,r)=>g0(r.borderColor),this.hoverColor=(i,r)=>g0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return m0(this,e,n)}get(e){return yc(this,e)}describe(e,n){return m0(Tf,e,n)}override(e,n){return m0(kr,e,n)}route(e,n,i,r){let o=yc(this,e),s=yc(this,i),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){let l=this[a],c=s[r];return ae(l)?Object.assign({},c,l):G(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}},ze=new y0({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[oz,sz,cz]);function uz(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function vc(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function NT(t,e,n,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0,a=n.length,l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Pe(d))s=vc(t,r,o,s,d);else if(Pe(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Pe(h)&&(s=vc(t,r,o,s,h));t.restore();let f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function Fr(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function N0(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Af(t,e,n,i){R0(t,e,n,i,null)}function R0(t,e,n,i,r){let o,s,a,l,c,u,d,h,f=e.pointStyle,p=e.rotation,g=e.radius,m=(p||0)*tz;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Re):t.arc(n,i,g,0,Re),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=cT,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=cT,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(m+Ao)*l,d=Math.cos(m+Ao)*(r?r/2-c:l),a=Math.sin(m+Ao)*l,h=Math.sin(m+Ao)*(r?r/2-c:l),t.arc(n-d,i-a,c,m-Ne,m-We),t.arc(n+h,i-s,c,m-We,m),t.arc(n+d,i+a,c,m,m+We),t.arc(n-h,i+s,c,m+We,m+Ne),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=Ao;case"rectRot":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+h,i-s),t.lineTo(n+d,i+a),t.lineTo(n-h,i+s),t.closePath();break;case"crossRot":m+=Ao;case"cross":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-s),t.lineTo(n-h,i+s);break;case"star":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-s),t.lineTo(n-h,i+s),m+=Ao,d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-s),t.lineTo(n-h,i+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function di(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Cc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function wc(t){t.restore()}function RT(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function OT(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function dz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function hz(t,e,n,i,r){if(r.strikethrough||r.underline){let o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function fz(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Lr(t,e,n,i,r,o={}){let s=Pe(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(t.save(),t.font=r.string,dz(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&fz(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),de(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),hz(t,n,i,c,o),i+=Number(r.lineHeight);t.restore()}function ma(t,e){let{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*Ne,Ne,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,Ne,We,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,We,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-We,!0),t.lineTo(n+s.topLeft,i)}var pz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,gz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mz(t,e){let n=(""+t).match(pz);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var yz=t=>+t||0;function Pf(t,e){let n={},i=ae(e),r=i?Object.keys(e):e,o=ae(t)?i?s=>G(t[s],t[e[s]]):s=>t[s]:()=>t;for(let s of r)n[s]=yz(o(s));return n}function O0(t){return Pf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Vr(t){return Pf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ct(t){let e=O0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function et(t,e){t=t||{},e=e||ze.font;let n=G(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=G(t.style,e.style);i&&!(""+i).match(gz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:G(t.family,e.family),lineHeight:mz(G(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:G(t.weight,e.weight),string:""};return r.string=uz(r),r}function ya(t,e,n,i){let r=!0,o,s,a;for(o=0,s=t.length;o<s;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Pe(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function kT(t,e,n){let{min:i,max:r}=t,o=v0(e,(r-i)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function Gi(t,e){return Object.assign(Object.create(t),e)}function Nf(t,e=[""],n,i,r=()=>t[0]){let o=n||t;typeof i>"u"&&(i=VT("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>Nf([a,...t],e,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return FT(a,l,()=>xz(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return pT(a).includes(l)},ownKeys(a){return pT(a)},set(a,l,c){let u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function No(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:k0(t,i),setContext:o=>No(t,o,n,i),override:o=>No(t.override(o),e,n,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return FT(o,s,()=>_z(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function k0(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Hi(n)?n:()=>n,isIndexable:Hi(i)?i:()=>i}}var vz=(t,e)=>t?t+xf(e):e,F0=(t,e)=>ae(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function FT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let i=n();return t[e]=i,i}function _z(t,e,n){let{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t,a=i[e];return Hi(a)&&s.isScriptable(e)&&(a=bz(e,a,t,n)),Pe(a)&&a.length&&(a=Cz(e,a,t,s.isIndexable)),F0(e,a)&&(a=No(a,r,o&&o[e],s)),a}function bz(t,e,n,i){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||i);return a.delete(t),F0(t,l)&&(l=L0(r._scopes,r,t,l)),l}function Cz(t,e,n,i){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(ae(e[0])){let l=e,c=r._scopes.filter(u=>u!==l);e=[];for(let u of l){let d=L0(c,r,t,u);e.push(No(d,o,s&&s[t],a))}}return e}function LT(t,e,n){return Hi(t)?t(e,n):t}var wz=(t,e)=>t===!0?e:typeof t=="string"?Wi(e,t):void 0;function Dz(t,e,n,i,r){for(let o of e){let s=wz(n,o);if(s){t.add(s);let a=LT(s._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(s===!1&&typeof i<"u"&&n!==i)return null}return!1}function L0(t,e,n,i){let r=e._rootScopes,o=LT(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=fT(a,s,n,o||n,i);return l===null||typeof o<"u"&&o!==n&&(l=fT(a,s,o,l,i),l===null)?!1:Nf(Array.from(a),[""],r,o,()=>Ez(e,n,i))}function fT(t,e,n,i,r){for(;n;)n=Dz(t,e,n,i,r);return n}function Ez(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return Pe(r)&&ae(n)?n:r||{}}function xz(t,e,n,i){let r;for(let o of e)if(r=VT(vz(o,t),n),typeof r<"u")return F0(t,r)?L0(n,i,t,r):r}function VT(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function pT(t){let e=t._keys;return e||(e=t._keys=Iz(t._scopes)),e}function Iz(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function V0(t,e,n,i){let{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i),a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={r:r.parse(Wi(u,o),c)};return s}var Sz=Number.EPSILON||1e-14,ua=(t,e)=>e<t.length&&!t[e].skip&&t[e],jT=t=>t==="x"?"y":"x";function Mz(t,e,n,i){let r=t.skip?e:t,o=e,s=n.skip?e:n,a=Df(o,r),l=Df(s,o),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=i*c,h=i*u;return{previous:{x:o.x-d*(s.x-r.x),y:o.y-d*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}}function Tz(t,e,n){let i=t.length,r,o,s,a,l,c=ua(t,0);for(let u=0;u<i-1;++u)if(l=c,c=ua(t,u+1),!(!l||!c)){if(fa(e[u],0,Sz)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),n[u]=r*s*e[u],n[u+1]=o*s*e[u])}}function Az(t,e,n="x"){let i=jT(n),r=t.length,o,s,a,l=ua(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=ua(t,c+1),!a)continue;let u=a[n],d=a[i];s&&(o=(u-s[n])/3,a[`cp1${n}`]=u-o,a[`cp1${i}`]=d-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${i}`]=d+o*e[c])}}function Pz(t,e="x"){let n=jT(e),i=t.length,r=Array(i).fill(0),o=Array(i),s,a,l,c=ua(t,0);for(s=0;s<i;++s)if(a=l,l=c,c=ua(t,s+1),!!l){if(c){let u=c[e]-l[e];r[s]=u!==0?(c[n]-l[n])/u:0}o[s]=a?c?Hn(r[s-1])!==Hn(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}Tz(t,r,o),Az(t,o,e)}function _f(t,e,n){return Math.max(Math.min(t,n),e)}function Nz(t,e){let n,i,r,o,s,a=di(t[0],e);for(n=0,i=t.length;n<i;++n)s=o,o=a,a=n<i-1&&di(t[n+1],e),o&&(r=t[n],s&&(r.cp1x=_f(r.cp1x,e.left,e.right),r.cp1y=_f(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=_f(r.cp2x,e.left,e.right),r.cp2y=_f(r.cp2y,e.top,e.bottom)))}function BT(t,e,n,i,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Pz(t,r);else{let c=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=Mz(c,a,t[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&Nz(t,n)}function Rf(){return typeof window<"u"&&typeof document<"u"}function Of(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Ef(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var kf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Rz(t,e){return kf(t).getPropertyValue(e)}var Oz=["top","right","bottom","left"];function Po(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let o=Oz[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var kz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Fz(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i,s=!1,a,l;if(kz(r,o,t.target))a=r,l=o;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function jr(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=kf(n),o=r.boxSizing==="border-box",s=Po(r,"padding"),a=Po(r,"border","width"),{x:l,y:c,box:u}=Fz(t,n),d=s.left+(u&&a.left),h=s.top+(u&&a.top),{width:f,height:p}=e;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function Lz(t,e,n){let i,r;if(e===void 0||n===void 0){let o=Of(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{let s=o.getBoundingClientRect(),a=kf(o),l=Po(a,"border","width"),c=Po(a,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,i=Ef(a.maxWidth,o,"clientWidth"),r=Ef(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||wf,maxHeight:r||wf}}var bf=t=>Math.round(t*10)/10;function UT(t,e,n,i){let r=kf(t),o=Po(r,"margin"),s=Ef(r.maxWidth,t,"clientWidth")||wf,a=Ef(r.maxHeight,t,"clientHeight")||wf,l=Lz(t,e,n),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let h=Po(r,"border","width"),f=Po(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=bf(Math.min(c,s,l.maxWidth)),u=bf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=bf(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=bf(Math.floor(u*i))),{width:c,height:u}}function j0(t,e,n){let i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var $T=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Rf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function B0(t,e){let n=Rz(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Or(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function HT(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function zT(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Or(t,r,n),a=Or(r,o,n),l=Or(o,e,n),c=Or(s,a,n),u=Or(a,l,n);return Or(c,u,n)}var Vz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},jz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Oo(t,e,n){return t?Vz(e,n):jz()}function U0(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function $0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function WT(t){return t==="angle"?{between:pa,compare:nz,normalize:Gt}:{between:fi,compare:(e,n)=>e-n,normalize:e=>e}}function gT({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function Bz(t,e,n){let{property:i,start:r,end:o}=n,{between:s,normalize:a}=WT(i),l=e.length,{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&s(a(e[c%l][i]),r,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function H0(t,e,n){if(!n)return[t];let{property:i,start:r,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=WT(i),{start:u,end:d,loop:h,style:f}=Bz(t,e,n),p=[],g=!1,m=null,y,v,C,D=()=>l(r,C,y)&&a(r,C)!==0,w=()=>a(o,y)===0||l(o,C,y),x=()=>g||D(),A=()=>!g||w();for(let T=u,F=u;T<=d;++T)v=e[T%s],!v.skip&&(y=c(v[i]),y!==C&&(g=l(y,r,o),m===null&&x()&&(m=a(y,r)===0?T:F),m!==null&&A()&&(p.push(gT({start:m,end:T,loop:h,count:s,style:f})),m=null),F=T,C=y));return m!==null&&p.push(gT({start:m,end:d,loop:h,count:s,style:f})),p}function z0(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let o=H0(i[r],t.points,e);o.length&&n.push(...o)}return n}function Uz(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function $z(t,e,n,i){let r=t.length,o=[],s=e,a=t[e],l;for(l=e+1;l<=n;++l){let c=t[l%r];c.skip||c.stop?a.skip||(i=!1,o.push({start:e%r,end:(l-1)%r,loop:i}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%r,end:s%r,loop:i}),o}function GT(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let o=!!t._loop,{start:s,end:a}=Uz(n,r,o,i);if(i===!0)return mT(t,[{start:s,end:a,loop:o}],n,e);let l=a<s?a+r:a,c=!!t._fullLoop&&s===0&&a===r-1;return mT(t,$z(n,s,l,c),n,e)}function mT(t,e,n,i){return!i||!i.setContext||!n?e:Hz(t,e,n,i)}function Hz(t,e,n,i){let r=t._chart.getContext(),o=yT(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[],u=o,d=e[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=v;for(;n[g%l].skip;)g+=v;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(let p of e){d=a?d:p.start;let g=n[d%l],m;for(h=d+1;h<=p.end;h++){let y=n[h%l];m=yT(i.setContext(Gi(r,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),zz(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return c}function yT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function zz(t,e){if(!e)return!1;let n=[],i=function(r,o){return A0(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var eb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let o=n.listeners[r],s=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(i-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=I0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},qi=new eb,qT="transparent",Wz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=P0(t||qT),r=i.valid&&P0(e||qT);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},tb=class{constructor(e,n,i,r){let o=n[i];r=ya([e.to,r,o,e.from]);let s=ya([e.from,o,r]);this._active=!0,this._fn=e.fn||Wz[e.type||typeof s],this._easing=la[e.easing]||la.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=ya([e.to,n,r,e.from]),this._from=ya([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=o;return}l=n/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},Wf=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ae(e))return;let n=Object.keys(ze.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let o=e[r];if(!ae(o))return;let s={};for(let a of n)s[a]=o[a];(Pe(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(e,n){let i=n.options,r=qz(e,i);if(!r)return[];let o=this._createAnimations(r,i);return i.$shared&&Gz(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){let i=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}let u=n[c],d=o[c],h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}o[c]=d=new tb(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return qi.add(this._chart,i),!0}};function Gz(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let o=t[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function qz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function YT(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function Yz(t,e,n){if(n===!1)return!1;let i=YT(t,n),r=YT(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Kz(t){let e,n,i,r;return ae(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function YA(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function KT(t,e,n,i={}){let r=t.keys,o=i.mode==="single",s,a,l,c;if(e!==null){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=t.values[l],He(c)&&(o||e===0||Hn(e)===Hn(c))&&(e+=c)}return e}}function Qz(t){let e=Object.keys(t),n=new Array(e.length),i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],n[i]={x:o,y:t[o]};return n}function QT(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function Zz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function Xz(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function Jz(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ZT(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function XT(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=Zz(o,s,i),d=e.length,h;for(let f=0;f<d;++f){let p=e[f],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});h=y[c]=Jz(r,u,g),h[a]=m,h._top=ZT(h,s,!0,i.type),h._bottom=ZT(h,s,!1,i.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function W0(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function eW(t,e){return Gi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function tW(t,e,n){return Gi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Dc(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}var G0=t=>t==="reset"||t==="none",JT=(t,e)=>e?t:Object.assign({},t),nW=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:YA(n,!0),values:null},Ur=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=QT(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Dc(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=i.xAxisID=G(r.xAxisID,W0(n,"x")),a=i.yAxisID=G(r.yAxisID,W0(n,"y")),l=i.rAxisID=G(r.rAxisID,W0(n,"r")),c=i.indexAxis,u=i.iAxisID=o(c,s,a,l),d=i.vAxisID=o(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&E0(this._data,this),n._stacked&&Dc(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(ae(i))this._data=Qz(i);else if(r!==i){if(r){E0(r,this);let o=this._cachedMeta;Dc(o),o._parsed=[]}i&&Object.isExtensible(i)&&MT(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=QT(i.vScale,i),i.stack!==r.stack&&(o=!0,Dc(i),i.stack=r.stack),this._resyncElements(n),(o||s!==i._stacked)&&XT(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,c=n===0&&i===o.length?!0:r._sorted,u=n>0&&r._parsed[n-1],d,h,f;if(this._parsing===!1)r._parsed=o,r._sorted=!0,f=o;else{Pe(o[n])?f=this.parseArrayData(r,o,n,i):ae(o[n])?f=this.parseObjectData(r,o,n,i):f=this.parsePrimitiveData(r,o,n,i);let p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<i;++d)r._parsed[d+n]=h=f[d],c&&(p()&&(c=!1),u=h);r._sorted=c}a&&XT(this,f)}parsePrimitiveData(n,i,r,o){let{iScale:s,vScale:a}=n,l=s.axis,c=a.axis,u=s.getLabels(),d=s===a,h=new Array(o),f,p,g;for(f=0,p=o;f<p;++f)g=f+r,h[f]={[l]:d||s.parse(u[g],g),[c]:a.parse(i[g],g)};return h}parseArrayData(n,i,r,o){let{xScale:s,yScale:a}=n,l=new Array(o),c,u,d,h;for(c=0,u=o;c<u;++c)d=c+r,h=i[d],l[c]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(n,i,r,o){let{xScale:s,yScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),d,h,f,p;for(d=0,h=o;d<h;++d)f=d+r,p=i[f],u[d]={x:s.parse(Wi(p,l),f),y:a.parse(Wi(p,c),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let o=this.chart,s=this._cachedMeta,a=i[n.axis],l={keys:YA(o,!0),values:i._stacks[n.axis]._visualValues};return KT(l,a,s.index,{mode:r})}updateRangeFromParsed(n,i,r,o){let s=r[i.axis],a=s===null?NaN:s,l=o&&r._stacks[i.axis];o&&l&&(o.values=l,a=KT(o,s,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&n===r.iScale,a=o.length,l=this._getOtherScale(n),c=nW(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=Xz(l),f,p;function g(){p=o[f];let m=p[l.axis];return!He(p[n.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,n,p,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,n,p,c);break}}return u}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][n.axis],He(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(n);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=Kz(G(this.options.clip,Yz(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,o=r.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,d;for(r.dataset&&r.dataset.draw(n,s,l,c),d=l;d<l+c;++d){let h=o[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,s))}for(d=0;d<a.length;++d)a[d].draw(n,s)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let o=this.getDataset(),s;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];s=a.$context||(a.$context=tW(this.getContext(),n,a)),s.parsed=this.getParsed(n),s.raw=o.data[n],s.index=s.dataIndex=n}else s=this.$context||(this.$context=eW(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let o=i==="active",s=this._cachedDataOpts,a=n+"-"+i,l=s[a],c=this.enableOptionSharing&&ha(r);if(l)return JT(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=o?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(ze.elements[n]),g=()=>this.getContext(r,o,i),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(JT(m,c))),m}_resolveAnimations(n,i,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,i),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(n,r,i))}let u=new Wf(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||G0(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(n,i,r,o){G0(o)?Object.assign(n,r):this._resolveAnimations(i,o).update(n,r)}updateSharedOptions(n,i,r){n&&!G0(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,o){n.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(n,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,n):s<o&&this._removeElements(s,o-s)}_insertElements(n,i,r=!0){let o=this._cachedMeta,s=o.data,a=n+i,l,c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(s),l=n;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(n,i),r&&this.updateElements(s,n,i,"reset")}updateElements(n,i,r,o){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(n,i);r._stacked&&Dc(r,o)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,o]=n;this[i](r,o)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function iW(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=x0(i.sort((r,o)=>r-o))}return t._cache.$bar}function rW(t){let e=t.iScale,n=iW(e,t.type),i=e._length,r,o,s,a,l=()=>{s===32767||s===-32768||(ha(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=n.length;r<o;++r)s=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),l();return i}function oW(t,e,n,i){let r=n.barThickness,o,s;return de(r)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[t]-o/2}}function sW(t,e,n,i){let r=e.pixels,o=r[t],s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}function aW(t,e,n,i){let r=n.parse(t[0],i),o=n.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}function KA(t,e,n,i){return Pe(t)?aW(t,e,n,i):e[n.axis]=n.parse(t,i),e}function eA(t,e,n,i){let r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[],c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=a||r.parse(s[c],c),l.push(KA(h,d,o,c));return l}function q0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function lW(t,e,n){return t!==0?Hn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function cW(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}function uW(t,e,n,i){let r=e.borderSkipped,o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=cW(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[tA(u,s,a,l)]=!0,r=c)),o[tA(r,s,a,l)]=!0,t.borderSkipped=o}function tA(t,e,n,i){return i?(t=dW(t,e,n),t=nA(t,n,e)):t=nA(t,e,n),t}function dW(t,e,n){return t===e?n:t===n?e:t}function nA(t,e,n){return t==="start"?e:t==="end"?n:t}function hW(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var fW=(()=>{class t extends Ur{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,r,o){return eA(n,i,r,o)}parseArrayData(n,i,r,o){return eA(n,i,r,o)}parseObjectData(n,i,r,o){let{iScale:s,vScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[],f,p,g,m;for(f=r,p=r+o;f<p;++f)m=i[f],g={},g[s.axis]=s.parse(Wi(m,u),f),h.push(KA(Wi(m,d),g,a,f));return h}updateRangeFromParsed(n,i,r,o){super.updateRangeFromParsed(n,i,r,o);let s=r._custom;s&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,s.min),n.max=Math.max(n.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(n),a=s._custom,l=q0(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,o);for(let p=i;p<i+r;p++){let g=this.getParsed(p),m=s||de(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[l.axis],C={horizontal:u,base:m.base,enableBorderRadius:!v||q0(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(C.options=h||this.resolveDataElementOptions(p,n[p].active?"active":o));let D=C.options||n[p].options;uW(C,D,v,a),hW(C,D,d.ratio),this.updateElement(n[p],p,C,o)}}_getStacks(n,i){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=r.options.stacked,a=[],l=c=>{let u=c.controller.getParsed(i),d=u&&u[c.vScale.axis];if(de(d)||isNaN(d))return!0};for(let c of o)if(!(i!==void 0&&l(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){let o=this._getStacks(n,r),s=i!==void 0?o.indexOf(i):-1;return s===-1?o.length-1:s}_getRuler(){let n=this.options,i=this._cachedMeta,r=i.iScale,o=[],s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=n.barThickness;return{min:l||rW(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:l?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(n),u=c._custom,d=q0(u),h=c[i.axis],f=0,p=r?this.applyStack(i,c,r):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&Hn(h)!==Hn(u.barEnd)&&(f=0),f+=h);let y=!de(s)&&!d?s:f,v=i.getPixelForValue(y);if(this.chart.getDataVisibility(n)?g=i.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=lW(m,i,l)*a,h===l&&(v-=m/2);let C=i.getPixelForDecimal(0),D=i.getPixelForDecimal(1),w=Math.min(C,D),x=Math.max(C,D);v=Math.max(Math.min(v,x),w),g=v+m,r&&!d&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(g)-i.getValueForPixel(v))}if(v===i.getPixelForValue(l)){let C=Hn(m)*i.getLineWidthForValue(l)/2;v+=C,m-=C}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(n,i){let r=i.scale,o=this.options,s=o.skipNull,a=G(o.maxBarThickness,1/0),l,c;if(i.grouped){let u=s?this._getStackCount(n):i.stackCount,d=o.barThickness==="flex"?sW(n,i,o,u):oW(n,i,o,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?n:void 0);l=d.start+d.chunk*h+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=r.getPixelForValue(this.getParsed(n)[r.axis],n),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let n=this._cachedMeta,i=n.vScale,r=n.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[i.axis]!==null&&r[s].draw(this._ctx)}}return t})(),pW=(()=>{class t extends Ur{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,o){let s=super.parsePrimitiveData(n,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(n,i,r,o){let s=super.parseArrayData(n,i,r,o);for(let a=0;a<s.length;a++){let l=i[r+a];s[a]._custom=G(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(n,i,r,o){let s=super.parseObjectData(n,i,r,o);for(let a=0;a<s.length;a++){let l=i[r+a];s[a]._custom=G(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(n),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:r[n]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,o),d=a.axis,h=l.axis;for(let f=i;f<i+r;f++){let p=n[f],g=!s&&this.getParsed(f),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=s?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(n,i){let r=this.getParsed(n),o=super.resolveDataElementOptions(n,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return i!=="active"&&(o.radius=0),o.radius+=G(r&&r._custom,s),o}}return t})();function gW(t,e,n){let i=1,r=1,o=0,s=0;if(e<Re){let a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(C,D,w)=>pa(C,a,l,!0)?1:Math.max(D,D*n,w,w*n),p=(C,D,w)=>pa(C,a,l,!0)?-1:Math.min(D,D*n,w,w*n),g=f(0,c,d),m=f(We,u,h),y=p(Ne,c,d),v=p(Ne+We,u,h);i=(g-y)/2,r=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}var Cb=(()=>{class t extends Ur{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=n.legend.options;return i.labels.map((s,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=c=>+r[c];if(ae(r[n])){let{key:c="value"}=this._parsing;s=u=>+Wi(r[u],c)}let a,l;for(a=n,l=n+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return xn(this.options.rotation-90)}_getCircumference(){return xn(this.options.circumference)}_getRotationExtents(){let n=Re,i=-Re;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();n=Math.min(n,s),i=Math.max(i,s+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(_T(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=gW(h,d,c),y=(r.width-a)/f,v=(r.height-a)/p,C=Math.max(Math.min(y,v)/2,0),D=v0(this.options.radius,C),w=Math.max(D*c,0),x=(D-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*D,this.offsetY=m*D,o.total=this.calculateTotal(),this.outerRadius=D-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,n)}_circumference(n,i){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||o._parsed[n]===null||o.data[n].hidden?0:this.calculateCircumference(o._parsed[n]*s/Re)}updateElements(n,i,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=s&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(i,o),v=this._getRotation(),C;for(C=0;C<i;++C)v+=this._circumference(C,s);for(C=i;C<i+r;++C){let D=this._circumference(C,s),w=n[C],x={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+D,circumference:D,outerRadius:g,innerRadius:p};y&&(x.options=m||this.resolveDataElementOptions(C,w.active?"active":o)),v+=D,this.updateElement(w,C,x,o)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,o;for(o=0;o<i.length;o++){let s=n._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Re*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=ga(i._parsed[n],r.options.locale);return{label:o[n]||"",value:s}}getMaxBorderWidth(n){let i=0,r=this.chart,o,s,a,l,c;if(!n){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),n=a.data,l=a.controller;break}}if(!n)return 0;for(o=0,s=n.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,o=n.length;r<o;++r){let s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(G(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),mW=(()=>{class t extends Ur{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=M0(i,o,a);this._drawStart=l,this._drawCount=c,T0(i)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},n),this.updateElements(o,l,c,n)}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(i,o),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=Ro(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||o==="none",C=i+r,D=n.length,w=i>0&&this.getParsed(i-1);for(let x=0;x<D;++x){let A=n[x],T=v?A:{};if(x<i||x>=C){T.skip=!0;continue}let F=this.getParsed(x),q=de(F[p]),K=T[f]=a.getPixelForValue(F[f],x),le=T[p]=s||q?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[p],x);T.skip=isNaN(K)||isNaN(le)||q,T.stop=x>0&&Math.abs(F[f]-w[f])>y,m&&(T.parsed=F,T.raw=u.data[x]),h&&(T.options=d||this.resolveDataElementOptions(x,A.active?"active":o)),v||this.updateElement(A,x,T,o),w=F}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,o=n.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),QA=(()=>{class t extends Ur{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=n.legend.options;return i.labels.map((s,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=ga(i._parsed[n].r,r.options.locale);return{label:o[n]||"",value:s}}parseObjectData(n,i,r,o){return V0.bind(this)(n,i,r,o)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,r=n.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/n.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(n,i,r,o){let s=o==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*Ne,p=f,g,m=360/this.countVisibleElements();for(g=0;g<i;++g)p+=this._computeAngle(g,o,m);for(g=i;g<i+r;g++){let y=n[g],v=p,C=p+this._computeAngle(g,o,m),D=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=C,s&&(c.animateScale&&(D=0),c.animateRotate&&(v=C=f));let w={x:d,y:h,innerRadius:0,outerRadius:D,startAngle:v,endAngle:C,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,w,o)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?xn(this.resolveDataElementOptions(n,i).angle||r):0}}return t})(),yW=(()=>{class t extends Cb{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),vW=(()=>{class t extends Ur{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(n,i,r,o){return V0.bind(this)(n,i,r,o)}update(n){let i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,n)}this.updateElements(o,0,o.length,n)}updateElements(n,i,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=i;l<i+r;l++){let c=n[l],u=this.resolveDataElementOptions(l,c.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:d.x,f=a?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(c,l,p,o)}}}return t})(),_W=(()=>{class t extends Ur{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(n),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:r[n]||"",value:"("+l+", "+c+")"}}update(n){let i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled,{start:s,count:a}=M0(i,r,o);if(this._drawStart=s,this._drawCount=a,T0(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(i,o),h=this.getSharedOptions(d),f=this.includeOptions(o,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,v=Ro(m)?m:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||o==="none",D=i>0&&this.getParsed(i-1);for(let w=i;w<i+r;++w){let x=n[w],A=this.getParsed(w),T=C?x:{},F=de(A[g]),q=T[p]=a.getPixelForValue(A[p],w),K=T[g]=s||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,A,c):A[g],w);T.skip=isNaN(q)||isNaN(K)||F,T.stop=w>0&&Math.abs(A[p]-D[p])>v,y&&(T.parsed=A,T.raw=u.data[w]),f&&(T.options=h||this.resolveDataElementOptions(w,x.active?"active":o)),C||this.updateElement(x,w,T,o),D=A}this.updateSharedOptions(h,o,d)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=n.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}}return t})(),bW=Object.freeze({__proto__:null,BarController:fW,BubbleController:pW,DoughnutController:Cb,LineController:mW,PieController:yW,PolarAreaController:QA,RadarController:vW,ScatterController:_W});function ko(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var nb=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ko()}parse(){return ko()}format(){return ko()}add(){return ko()}diff(){return ko()}startOf(){return ko()}endOf(){return ko()}},CW={_date:nb};function wW(t,e,n,i){let{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?xT:ui;if(i){if(r._sharedOptions){let c=o[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){let d=l(o,e,n-u),h=l(o,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(o,e,n)}return{lo:0,hi:o.length-1}}function Rc(t,e,n,i,r){let o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){let{index:c,data:u}=o[a],{lo:d,hi:h}=wW(o[a],e,s,r);for(let f=d;f<=h;++f){let p=u[f];p.skip||i(p,c,f)}}}function DW(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let o=e?Math.abs(i.x-r.x):0,s=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function Y0(t,e,n,i,r){let o=[];return!r&&!t.isPointInArea(e)||Rc(t,n,e,function(a,l,c){!r&&!di(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function EW(t,e,n,i){let r=[];function o(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],i),{angle:d}=D0(s,{x:e.x,y:e.y});pa(d,c,u)&&r.push({element:s,datasetIndex:a,index:l})}return Rc(t,n,e,o),r}function xW(t,e,n,i,r,o){let s=[],a=DW(n),l=Number.POSITIVE_INFINITY;function c(u,d,h){let f=u.inRange(e.x,e.y,r);if(i&&!f)return;let p=u.getCenterPoint(r);if(!(!!o||t.isPointInArea(p))&&!f)return;let m=a(e,p);m<l?(s=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&s.push({element:u,datasetIndex:d,index:h})}return Rc(t,n,e,c),s}function K0(t,e,n,i,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?EW(t,e,n,r):xW(t,e,n,i,r,o)}function iA(t,e,n,i,r){let o=[],s=n==="x"?"inXRange":"inYRange",a=!1;return Rc(t,n,e,(l,c,u)=>{l[s](e[n],r)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:o}var IW={evaluateInteractionItems:Rc,modes:{index(t,e,n,i){let r=jr(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?Y0(t,r,o,i,s):K0(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){let r=jr(e,t),o=n.axis||"xy",s=n.includeInvisible||!1,a=n.intersect?Y0(t,r,o,i,s):K0(t,r,o,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){let r=jr(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return Y0(t,r,o,i,s)},nearest(t,e,n,i){let r=jr(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return K0(t,r,o,n.intersect,i,s)},x(t,e,n,i){let r=jr(e,t);return iA(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=jr(e,t);return iA(t,r,"y",n.intersect,i)}}},ZA=["left","top","right","bottom"];function Ec(t,e){return t.filter(n=>n.pos===e)}function rA(t,e){return t.filter(n=>ZA.indexOf(n.pos)===-1&&n.box.axis===e)}function xc(t,e){return t.sort((n,i)=>{let r=e?i:n,o=e?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function SW(t){let e=[],n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function MW(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:o}=n;if(!i||!ZA.includes(r))continue;let s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function TW(t,e){let n=MW(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];let{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function AW(t){let e=SW(t),n=xc(e.filter(c=>c.box.fullSize),!0),i=xc(Ec(e,"left"),!0),r=xc(Ec(e,"right")),o=xc(Ec(e,"top"),!0),s=xc(Ec(e,"bottom")),a=rA(e,"x"),l=rA(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:Ec(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function oA(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function XA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function PW(t,e,n,i){let{pos:r,box:o}=n,s=t.maxPadding;if(!ae(r)){n.size&&(t[r]-=n.size);let d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?o.height:o.width),n.size=d.size/d.count,t[r]+=n.size}o.getPadding&&XA(s,o.getPadding());let a=Math.max(0,e.outerWidth-oA(s,t,"left","right")),l=Math.max(0,e.outerHeight-oA(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function NW(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function RW(t,e){let n=e.maxPadding;function i(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],n[s])}),o}return i(t?["left","right"]:["top","bottom"])}function Mc(t,e,n,i){let r=[],o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,RW(a.horizontal,e));let{same:d,other:h}=PW(e,n,a,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Mc(r,e,n,i)||u}function Ff(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function sA(t,e,n,i){let r=n.padding,{x:o,y:s}=e;for(let a of t){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=e.w*u,h=c.size||l.height;ha(c.start)&&(s=c.start),l.fullSize?Ff(l,r.left,s,n.outerWidth-r.right-r.left,h):Ff(l,e.left+c.placed,s,d,h),c.start=s,c.placed+=d,s=l.bottom}else{let d=e.h*u,h=c.size||l.width;ha(c.start)&&(o=c.start),l.fullSize?Ff(l,o,r.top,h,n.outerHeight-r.bottom-r.top):Ff(l,o,e.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=s}var Tt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=Ct(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=AW(t.boxes),l=a.vertical,c=a.horizontal;be(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},r);XA(h,Ct(i));let f=Object.assign({maxPadding:h,w:o,h:s,x:r.left,y:r.top},r),p=TW(l.concat(c),d);Mc(a.fullSize,f,d,p),Mc(l,f,d,p),Mc(c,f,d,p)&&Mc(l,f,d,p),NW(f),sA(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,sA(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},be(a.chartArea,g=>{let m=g.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Gf=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},ib=class extends Gf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Hf="$chartjs",OW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},aA=t=>t===null||t==="";function kW(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Hf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",aA(r)){let o=B0(t,"width");o!==void 0&&(t.width=o)}if(aA(i))if(t.style.height==="")t.height=t.width/(e||2);else{let o=B0(t,"height");o!==void 0&&(t.height=o)}return t}var JA=$T?{passive:!0}:!1;function FW(t,e,n){t&&t.addEventListener(e,n,JA)}function LW(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,JA)}function VW(t,e){let n=OW[t.type]||t.type,{x:i,y:r}=jr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function qf(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function jW(t,e,n){let i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||qf(a.addedNodes,i),s=s&&!qf(a.removedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function BW(t,e,n){let i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||qf(a.removedNodes,i),s=s&&!qf(a.addedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var Ac=new Map,lA=0;function eP(){let t=window.devicePixelRatio;t!==lA&&(lA=t,Ac.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function UW(t,e){Ac.size||window.addEventListener("resize",eP),Ac.set(t,e)}function $W(t){Ac.delete(t),Ac.size||window.removeEventListener("resize",eP)}function HW(t,e,n){let i=t.canvas,r=i&&Of(i);if(!r)return;let o=S0((a,l)=>{let c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(r),UW(t,o),s}function Q0(t,e,n){n&&n.disconnect(),e==="resize"&&$W(t)}function zW(t,e,n){let i=t.canvas,r=S0(o=>{t.ctx!==null&&n(VW(o,t))},t);return FW(i,e,r),r}var rb=class extends Gf{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(kW(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[Hf])return!1;let i=n[Hf].initial;["height","width"].forEach(o=>{let s=i[o];de(s)?n.removeAttribute(o):n.setAttribute(o,s)});let r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[Hf],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),s={attach:jW,detach:BW,resize:HW}[n]||zW;r[n]=s(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Q0,detach:Q0,resize:Q0}[n]||LW)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return UT(e,n,i,r)}isAttached(e){let n=Of(e);return!!(n&&n.isConnected)}};function WW(t){return!Rf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ib:rb}var zn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return Ro(this.x)&&Ro(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function GW(t,e){let n=t.options.ticks,i=qW(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?KW(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return QW(e,c,o,s/r),c;let u=YW(o,e,r);if(s>0){let d,h,f=s>1?Math.round((l-a)/(s-1)):null;for(Lf(e,c,u,de(f)?0:a-f,a),d=0,h=s-1;d<h;d++)Lf(e,c,u,o[d],o[d+1]);return Lf(e,c,u,l,de(f)?e.length:l+f),c}return Lf(e,c,u),c}function qW(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function YW(t,e,n){let i=ZW(t),r=e.length/n;if(!i)return Math.max(r,1);let o=wT(i);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function KW(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function QW(t,e,n,i){let r=0,o=n[0],s;for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=n[r*i])}function Lf(t,e,n,i,r){let o=G(i,0),s=Math.min(G(r,t.length),t.length),a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<s;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function ZW(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var XW=t=>t==="left"?"right":t==="right"?"left":t,cA=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,uA=(t,e)=>Math.min(e||t,t);function dA(t,e){let n=[],i=t.length/e,r=t.length,o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function JW(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6,l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-o,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<o-a||l>s+a)))return l}function e3(t,e){be(t,n=>{let i=n.gc,r=i.length/2,o;if(r>e){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function Ic(t){return t.drawTicks?t.tickLength:0}function hA(t,e){if(!t.display)return 0;let n=et(t.font,e),i=Ct(t.padding);return(Pe(t.text)?t.text.length:1)*n.lineHeight+i.height}function t3(t,e){return Gi(t,{scale:e,type:"scale"})}function n3(t,e,n){return Gi(t,{tick:n,index:e,type:"tick"})}function i3(t,e,n){let i=Mf(t);return(n&&e!=="right"||!n&&e==="right")&&(i=XW(i)),i}function r3(t,e,n,i){let{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l,d=0,h,f,p,g=s-r,m=a-o;if(t.isHorizontal()){if(f=bt(i,o,a),ae(n)){let y=Object.keys(n)[0],v=n[y];p=u[y].getPixelForValue(v)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=cA(t,n,e);h=a-o}else{if(ae(n)){let y=Object.keys(n)[0],v=n[y];f=u[y].getPixelForValue(v)-m+e}else n==="center"?f=(c.left+c.right)/2-m+e:f=cA(t,n,e);p=bt(i,s,r),d=n==="left"?-We:We}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var Lo=class t extends zn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=qt(e,Number.POSITIVE_INFINITY),n=qt(n,Number.NEGATIVE_INFINITY),i=qt(i,Number.POSITIVE_INFINITY),r=qt(r,Number.NEGATIVE_INFINITY),{min:qt(e,i),max:qt(n,r),minDefined:He(e),maxDefined:He(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,s.min)),o||(i=Math.max(i,s.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:qt(n,qt(i,n)),max:qt(i,qt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Se(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=kT(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?dA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=GW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Se(this.options.afterUpdate,[this])}beforeSetDimensions(){Se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Se(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=uA(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation,s=r,a,l,c;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=rt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Ic(e.grid)-n.padding-hA(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),s=If(Math.min(Math.asin(rt((u.highest.height+6)/a,-1,1)),Math.asin(rt(l/c,-1,1))-Math.asin(rt(h/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Se(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=hA(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Ic(o)+l):(e.height=this.maxHeight,e.width=Ic(o)+l),i.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=xn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=i.mirror?0:m*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{let y=i.mirror?0:g*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):o==="start"?f=n.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=n.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Se(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)de(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=dA(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(n/uA(n,i)),c=0,u=0,d,h,f,p,g,m,y,v,C,D,w;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},v=g.lineHeight,C=D=0,!de(p)&&!Pe(p))C=vc(r,y.data,y.gc,C,p),D=v;else if(Pe(p))for(h=0,f=p.length;h<f;++h)w=p[h],!de(w)&&!Pe(w)&&(C=vc(r,y.data,y.gc,C,w),D+=v);s.push(C),a.push(D),c=Math.max(C,c),u=Math.max(D,u)}e3(o,n);let x=s.indexOf(c),A=a.indexOf(u),T=F=>({width:s[F]||0,height:a[F]||0});return{first:T(0),last:T(n-1),widest:T(x),highest:T(A),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return ET(this._alignToPixels?Fr(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=n3(this.getContext(),e,i))}return this.$context||(this.$context=t3(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=xn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Ic(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(ke){return Fr(i,ke,g)},v,C,D,w,x,A,T,F,q,K,le,ft;if(s==="top")v=y(this.bottom),A=this.bottom-h,F=v-m,K=y(e.top)+m,ft=e.bottom;else if(s==="bottom")v=y(this.top),K=e.top,ft=y(e.bottom)-m,A=v+m,F=this.top+h;else if(s==="left")v=y(this.right),x=this.right-h,T=v-m,q=y(e.left)+m,le=e.right;else if(s==="right")v=y(this.left),q=e.left,le=y(e.right)-m,x=v+m,T=this.left+h;else if(n==="x"){if(s==="center")v=y((e.top+e.bottom)/2+.5);else if(ae(s)){let ke=Object.keys(s)[0],Ge=s[ke];v=y(this.chart.scales[ke].getPixelForValue(Ge))}K=e.top,ft=e.bottom,A=v+m,F=A+h}else if(n==="y"){if(s==="center")v=y((e.left+e.right)/2);else if(ae(s)){let ke=Object.keys(s)[0],Ge=s[ke];v=y(this.chart.scales[ke].getPixelForValue(Ge))}x=v-m,T=x-h,q=e.left,le=e.right}let Qt=G(r.ticks.maxTicksLimit,d),we=Math.max(1,Math.ceil(d/Qt));for(C=0;C<d;C+=we){let ke=this.getContext(C),Ge=o.setContext(ke),In=a.setContext(ke),wt=Ge.lineWidth,jo=Ge.color,Oc=In.dash||[],Bo=In.dashOffset,Ca=Ge.tickWidth,$r=Ge.tickColor,wa=Ge.tickBorderDash||[],Hr=Ge.tickBorderDashOffset;D=JW(this,C,l),D!==void 0&&(w=Fr(i,D,wt),c?x=T=q=le=w:A=F=K=ft=w,f.push({tx1:x,ty1:A,tx2:T,ty2:F,x1:q,y1:K,x2:le,y2:ft,width:wt,color:jo,borderDash:Oc,borderDashOffset:Bo,tickWidth:Ca,tickColor:$r,tickBorderDash:wa,tickBorderDashOffset:Hr}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=Ic(i.grid),f=h+u,p=d?-u:f,g=-xn(this.labelRotation),m=[],y,v,C,D,w,x,A,T,F,q,K,le,ft="middle";if(r==="top")x=this.bottom-p,A=this._getXAxisLabelAlignment();else if(r==="bottom")x=this.top+p,A=this._getXAxisLabelAlignment();else if(r==="left"){let we=this._getYAxisLabelAlignment(h);A=we.textAlign,w=we.x}else if(r==="right"){let we=this._getYAxisLabelAlignment(h);A=we.textAlign,w=we.x}else if(n==="x"){if(r==="center")x=(e.top+e.bottom)/2+f;else if(ae(r)){let we=Object.keys(r)[0],ke=r[we];x=this.chart.scales[we].getPixelForValue(ke)+f}A=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(e.left+e.right)/2-f;else if(ae(r)){let we=Object.keys(r)[0],ke=r[we];w=this.chart.scales[we].getPixelForValue(ke)}A=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?ft="top":l==="end"&&(ft="bottom"));let Qt=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){C=a[y],D=C.label;let we=o.setContext(this.getContext(y));T=this.getPixelForTick(y)+o.labelOffset,F=this._resolveTickFontOptions(y),q=F.lineHeight,K=Pe(D)?D.length:1;let ke=K/2,Ge=we.color,In=we.textStrokeColor,wt=we.textStrokeWidth,jo=A;s?(w=T,A==="inner"&&(y===v-1?jo=this.options.reverse?"left":"right":y===0?jo=this.options.reverse?"right":"left":jo="center"),r==="top"?c==="near"||g!==0?le=-K*q+q/2:c==="center"?le=-Qt.highest.height/2-ke*q+q:le=-Qt.highest.height+q/2:c==="near"||g!==0?le=q/2:c==="center"?le=Qt.highest.height/2-ke*q:le=Qt.highest.height-K*q,d&&(le*=-1),g!==0&&!we.showLabelBackdrop&&(w+=q/2*Math.sin(g))):(x=T,le=(1-K)*q/2);let Oc;if(we.showLabelBackdrop){let Bo=Ct(we.backdropPadding),Ca=Qt.heights[y],$r=Qt.widths[y],wa=le-Bo.top,Hr=0-Bo.left;switch(ft){case"middle":wa-=Ca/2;break;case"bottom":wa-=Ca;break}switch(A){case"center":Hr-=$r/2;break;case"right":Hr-=$r;break;case"inner":y===v-1?Hr-=$r:y>0&&(Hr-=$r/2);break}Oc={left:Hr,top:wa,width:$r+Bo.width,height:Ca+Bo.height,color:we.backdropColor}}m.push({label:D,font:F,textOffset:le,options:{rotation:g,color:Ge,strokeColor:In,strokeWidth:wt,textAlign:jo,textBaseline:ft,translation:[w,x],backdrop:Oc}})}return m}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-xn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width,c,u;return n==="left"?r?(u=this.right+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:o,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,o,s),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(o=0,s=r.length;o<s;++o){let l=r[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,h;this.isHorizontal()?(c=Fr(e,this.left,s)-s/2,u=Fr(e,this.right,a)+a/2,d=h=l):(d=Fr(e,this.top,s)-s/2,h=Fr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&Cc(i,r);let o=this.getLabelItems(e);for(let s of o){let a=s.options,l=s.font,c=s.label,u=s.textOffset;Lr(i,c,0,u,l,a)}r&&wc(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let o=et(i.font),s=Ct(i.padding),a=i.align,l=o.lineHeight/2;n==="bottom"||n==="center"||ae(n)?(l+=s.bottom,Pe(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=r3(this,l,n,a);Lr(e,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:h,textAlign:i3(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=G(e.grid&&e.grid.z,-1),r=G(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],o,s;for(o=0,s=n.length;o<s;++o){let a=n[o];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return et(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},_a=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;a3(n)&&(i=this.register(n));let r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,o3(e,s,i),this.override&&ze.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in ze[r]&&(delete ze[r][i],this.override&&delete kr[i])}};function o3(t,e,n){let i=ca(Object.create(null),[n?ze.get(n):{},ze.get(e),t.defaults]);ze.set(e,i),t.defaultRoutes&&s3(e,t.defaultRoutes),t.descriptors&&ze.describe(e,t.descriptors)}function s3(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");ze.route(o,r,l,a)})}function a3(t){return"id"in t&&"defaults"in t}var ob=class{constructor(){this.controllers=new _a(Ur,"datasets",!0),this.elements=new _a(zn,"elements"),this.plugins=new _a(Object,"plugins"),this.scales=new _a(Lo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):be(r,s=>{let a=i||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,i){let r=xf(e);Se(i["before"+r],[],i),n[e](i),Se(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},gi=new ob,sb=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,i,r){r=r||{};for(let o of e){let s=o.plugin,a=s[i],l=[n,r,o.options];if(Se(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=G(i.options&&i.options.plugins,{}),o=l3(i);return r===!1&&!n?[]:u3(e,o,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function l3(t){let e={},n=[],i=Object.keys(gi.plugins.items);for(let o=0;o<i.length;o++)n.push(gi.getPlugin(i[o]));let r=t.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function c3(t,e){return!e&&t===!1?null:t===!0?{}:t}function u3(t,{plugins:e,localIds:n},i,r){let o=[],s=t.getContext();for(let a of e){let l=a.id,c=c3(i[l],r);c!==null&&o.push({plugin:a,options:d3(t.config,{plugin:a,local:n[l]},c,s)})}return o}function d3(t,{plugin:e,local:n},i,r){let o=t.pluginScopeKeys(e),s=t.getOptionScopes(i,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function ab(t,e){let n=ze.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function h3(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function f3(t,e){return t===e?"_index_":"_value_"}function fA(t){if(t==="x"||t==="y"||t==="r")return t}function p3(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function lb(t,...e){if(fA(t))return t;for(let n of e){let i=n.axis||p3(n.position)||t.length>1&&fA(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function pA(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function g3(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return pA(t,"x",n[0])||pA(t,"y",n[0])}return{}}function m3(t,e){let n=kr[t.type]||{scales:{}},i=e.scales||{},r=ab(t.type,e),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!ae(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=lb(s,a,g3(s,t),ze.scales[a.type]),c=f3(l,r),u=n.scales||{};o[s]=da(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(s=>{let a=s.type||t.type,l=s.indexAxis||ab(a,e),u=(kr[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=h3(d,l),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),da(o[f],[{axis:h},i[f],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];da(a,[ze.scales[a.type],ze.scale])}),o}function tP(t){let e=t.options||(t.options={});e.plugins=G(e.plugins,{}),e.scales=m3(t,e)}function nP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function y3(t){return t=t||{},t.data=nP(t.data),tP(t),t}var gA=new Map,iP=new Set;function Vf(t,e){let n=gA.get(t);return n||(n=e(),gA.set(t,n),iP.add(n)),n}var Sc=(t,e,n)=>{let i=Wi(e,n);i!==void 0&&t.add(i)},cb=class{constructor(e){this._config=y3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=nP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),tP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Vf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Vf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Vf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return Vf(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:o}=this,s=this._cachedScopes(e,i),a=s.get(n);if(a)return a;let l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Sc(l,e,d))),u.forEach(d=>Sc(l,r,d)),u.forEach(d=>Sc(l,kr[o]||{},d)),u.forEach(d=>Sc(l,ze,d)),u.forEach(d=>Sc(l,Tf,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),iP.has(n)&&s.set(n,c),c}chartOptionScopes(){let{options:e,type:n}=this;return[e,kr[n]||{},ze.datasets[n]||{},{type:n},ze,Tf]}resolveNamedOptions(e,n,i,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=mA(this._resolverCache,e,r),l=s;if(_3(s,n)){o.$shared=!1,i=Hi(i)?i():i;let c=this.createResolver(e,i,a);l=No(s,i,c)}for(let c of n)o[c]=l[c];return o}createResolver(e,n,i=[""],r){let{resolver:o}=mA(this._resolverCache,e,i);return ae(n)?No(o,n,void 0,r):o}};function mA(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),o=i.get(r);return o||(o={resolver:Nf(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}var v3=t=>ae(t)&&Object.getOwnPropertyNames(t).some(e=>Hi(t[e]));function _3(t,e){let{isScriptable:n,isIndexable:i}=k0(t);for(let r of e){let o=n(r),s=i(r),a=(s||o)&&t[r];if(o&&(Hi(a)||v3(a))||s&&Pe(a))return!0}return!1}var b3="4.4.2",C3=["top","bottom","left","right","chartArea"];function yA(t,e){return t==="top"||t==="bottom"||C3.indexOf(t)===-1&&e==="x"}function vA(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function _A(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Se(n&&n.onComplete,[t],e)}function w3(t){let e=t.chart,n=e.options.animation;Se(n&&n.onProgress,[t],e)}function rP(t){return Rf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var zf={},bA=t=>{let e=rP(t);return Object.values(zf).filter(n=>n.canvas===e).pop()};function D3(t,e,n){let i=Object.keys(t);for(let r of i){let o=+r;if(o>=e){let s=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=s)}}}function E3(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function jf(t,e,n){return t.options.clip?t[n]:e[n]}function x3(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:jf(n,e,"left"),right:jf(n,e,"right"),top:jf(i,e,"top"),bottom:jf(i,e,"bottom")}:e}var Vo=(()=>{class t{static defaults=ze;static instances=zf;static overrides=kr;static registry=gi;static version=b3;static getChart=bA;static register(...n){gi.add(...n),CA()}static unregister(...n){gi.remove(...n),CA()}constructor(n,i){let r=this.config=new cb(i),o=rP(n),s=bA(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||WW(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=vT(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new sb,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=TT(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],zf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}qi.listen(this,"complete",_A),qi.listen(this,"progress",w3),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return de(n)?i&&s?s:o?r/o:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return gi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():j0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return N0(this.canvas,this.ctx),this}stop(){return qi.stop(this),this}resize(n,i){qi.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,n,i,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,j0(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Se(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};be(i,(r,o)=>{r.id=o})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=lb(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),be(s,a=>{let l=a.options,c=l.id,u=lb(c,l),d=G(l.type,a.dtype);(l.position===void 0||yA(l.position,u)!==yA(a.dposition))&&(l.position=a.dposition),o[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{let f=gi.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,n)}),be(o,(a,l)=>{a||delete r[l]}),be(r,a=>{Tt.configure(this,a,a.options),Tt.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(vA("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,o)=>{i.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){let s=i[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||ab(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=gi.getController(l),{datasetElementType:u,dataElementType:d}=ze.datasets[l];Object.assign(c,{dataElementType:gi.getElement(d),datasetElementType:u&&gi.getElement(u)}),a.controller=new c(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){be(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||be(s,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(vA("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){be(this.scales,n=>{Tt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!_0(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of i){let a=r==="_removeElements"?-s:s;D3(n,o,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=s=>new Set(n.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!_0(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Tt.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],be(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Hi(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),o={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qi.has(this)?this.attached&&!qi.running(this)&&qi.start(this):(this.draw(),_A({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r=n._clip,o=!r.disabled,s=x3(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Cc(i,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),n.controller.draw(),o&&wc(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return di(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,o){let s=IW.modes[i];return typeof s=="function"?s(this,n,r,o):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Gi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let o=r?"show":"hide",s=this.getDatasetMeta(n),a=s.controller._resolveAnimations(void 0,o);ha(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===n?o:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),qi.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),N0(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete zf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),n[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};be(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(c,u)=>{i.addEventListener(this,c,u),n[c]=u},o=(c,u)=>{n[c]&&(i.removeEventListener(this,c,u),delete n[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){be(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},be(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let o=r?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(n[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=n.length;l<c;++l){a=n[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!_c(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let o=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(i,n),l=r?n:s(n,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},o=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:o=[],options:s}=this,a=i,l=this._getActiveElements(n,o,r,a),c=CT(n),u=E3(n,this._lastEvent,r,c);r&&(this._lastEvent=null,Se(s.onHover,[n,l,this],this),c&&Se(s.onClick,[n,l,this],this));let d=!_c(l,o);return(d||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=u,d}_getActiveElements(n,i,r,o){if(n.type==="mouseout")return[];if(!r)return i;let s=this.options.hover;return this.getElementsAtEventForMode(n,s.mode,s,o)}}return t})();function CA(){return be(Vo.instances,t=>t._plugins.invalidate())}function I3(t,e,n){let{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e,c=r/a;t.beginPath(),t.arc(o,s,a,i-c,n+c),l>r?(c=r/l,t.arc(o,s,l,n+c,i-c,!0)):t.arc(o,s,r,n+We,i-We),t.closePath(),t.clip()}function S3(t){return Pf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function M3(t,e,n,i){let r=S3(t.options.borderRadius),o=(n-e)/2,s=Math.min(o,i*e/2),a=l=>{let c=(n-Math.min(o,l))*i/2;return rt(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:rt(r.innerStart,0,s),innerEnd:rt(r.innerEnd,0,s)}}function va(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Yf(t,e,n,i,r,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0,f=0,p=r-l;if(i){let we=u>0?u-i:0,ke=d>0?d-i:0,Ge=(we+ke)/2,In=Ge!==0?p*Ge/(Ge+i):p;f=(p-In)/2}let g=Math.max(.001,p*d-n/Ne)/d,m=(p-g)/2,y=l+m+f,v=r-m-f,{outerStart:C,outerEnd:D,innerStart:w,innerEnd:x}=M3(e,h,d,v-y),A=d-C,T=d-D,F=y+C/A,q=v-D/T,K=h+w,le=h+x,ft=y+w/K,Qt=v-x/le;if(t.beginPath(),o){let we=(F+q)/2;if(t.arc(s,a,d,F,we),t.arc(s,a,d,we,q),D>0){let wt=va(T,q,s,a);t.arc(wt.x,wt.y,D,q,v+We)}let ke=va(le,v,s,a);if(t.lineTo(ke.x,ke.y),x>0){let wt=va(le,Qt,s,a);t.arc(wt.x,wt.y,x,v+We,Qt+Math.PI)}let Ge=(v-x/h+(y+w/h))/2;if(t.arc(s,a,h,v-x/h,Ge,!0),t.arc(s,a,h,Ge,y+w/h,!0),w>0){let wt=va(K,ft,s,a);t.arc(wt.x,wt.y,w,ft+Math.PI,y-We)}let In=va(A,y,s,a);if(t.lineTo(In.x,In.y),C>0){let wt=va(A,F,s,a);t.arc(wt.x,wt.y,C,y-We,F)}}else{t.moveTo(s,a);let we=Math.cos(F)*d+s,ke=Math.sin(F)*d+a;t.lineTo(we,ke);let Ge=Math.cos(q)*d+s,In=Math.sin(q)*d+a;t.lineTo(Ge,In)}t.closePath()}function T3(t,e,n,i,r){let{fullCircles:o,startAngle:s,circumference:a}=e,l=e.endAngle;if(o){Yf(t,e,n,i,l,r);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=s+(a%Re||Re))}return Yf(t,e,n,i,l,r),t.fill(),l}function A3(t,e,n,i,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){Yf(t,e,n,i,p,r);for(let g=0;g<o;++g)t.stroke();isNaN(a)||(p=s+(a%Re||Re))}f&&I3(t,e,p),o||(Yf(t,e,n,i,p,r),t.stroke())}var ub=class extends zn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:o,distance:s}=D0(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,p=G(d,l-a)>=Re||pa(o,a,l),g=fi(s,c+h,u+h);return p&&g}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+o)/2,d=(s+a+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,s=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Re?Math.floor(i/Re):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Ne,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,T3(e,this,c,o,s),A3(e,this,c,o,s),e.restore()}};function oP(t,e,n=e){t.lineCap=G(n.borderCapStyle,e.borderCapStyle),t.setLineDash(G(n.borderDash,e.borderDash)),t.lineDashOffset=G(n.borderDashOffset,e.borderDashOffset),t.lineJoin=G(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=G(n.borderWidth,e.borderWidth),t.strokeStyle=G(n.borderColor,e.borderColor)}function P3(t,e,n){t.lineTo(n.x,n.y)}function N3(t){return t.stepped?RT:t.tension||t.cubicInterpolationMode==="monotone"?OT:P3}function sP(t,e,n={}){let i=t.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function R3(t,e,n,i){let{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=sP(r,n,i),u=N3(o),{move:d=!0,reverse:h}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%s],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,o.stepped),g=p);return l&&(p=r[(a+(h?c:0))%s],u(t,g,p,h,o.stepped)),!!l}function O3(t,e,n,i){let r=e.points,{count:o,start:s,ilen:a}=sP(r,n,i),{move:l=!0,reverse:c}=i||{},u=0,d=0,h,f,p,g,m,y,v=D=>(s+(c?a-D:D))%o,C=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=r[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[v(h)],f.skip)continue;let D=f.x,w=f.y,x=D|0;x===p?(w<g?g=w:w>m&&(m=w),u=(d*u+D)/++d):(C(),t.lineTo(D,w),p=x,d=0,g=m=w),y=w}C()}function db(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?O3:R3}function k3(t){return t.stepped?HT:t.tension||t.cubicInterpolationMode==="monotone"?zT:Or}function F3(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),oP(t,e.options),t.stroke(r)}function L3(t,e,n,i){let{segments:r,options:o}=e,s=db(e);for(let a of r)oP(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var V3=typeof Path2D=="function";function j3(t,e,n,i){V3&&!e.options.segment?F3(t,e,n,i):L3(t,e,n,i)}var Zf=(()=>{class t extends zn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;BT(this._points,r,n,o,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GT(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,o=n[i],s=this.points,a=z0(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],c=k3(r),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=s[h],g=s[f];if(p===g){l.push(p);continue}let m=Math.abs((o-p[i])/(g[i]-p[i])),y=c(p,g,m,r.stepped);y[i]=n[i],l.push(y)}return l.length===1?l[0]:l}pathSegment(n,i,r){return db(this)(n,this,i,r)}path(n,i,r){let o=this.segments,s=db(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of o)a&=s(n,this,l,{start:i,end:i+r-1});return!!a}draw(n,i,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(n.save(),j3(n,this,r,o),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function wA(t,e,n,i){let r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}var B3=(()=>{class t extends zn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(n-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return wA(this,n,"x",i)}inYRange(n,i){return wA(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!di(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Af(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function aP(t,e){let{x:n,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e),a,l,c,u,d;return t.horizontal?(d=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=o/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Br(t,e,n,i){return t?0:rt(e,n,i)}function U3(t,e,n){let i=t.options.borderWidth,r=t.borderSkipped,o=O0(i);return{t:Br(r.top,o.top,0,n),r:Br(r.right,o.right,0,e),b:Br(r.bottom,o.bottom,0,n),l:Br(r.left,o.left,0,e)}}function $3(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Vr(r),s=Math.min(e,n),a=t.borderSkipped,l=i||ae(r);return{topLeft:Br(!l||a.top||a.left,o.topLeft,0,s),topRight:Br(!l||a.top||a.right,o.topRight,0,s),bottomLeft:Br(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:Br(!l||a.bottom||a.right,o.bottomRight,0,s)}}function H3(t){let e=aP(t),n=e.right-e.left,i=e.bottom-e.top,r=U3(t,n/2,i/2),o=$3(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function Z0(t,e,n,i){let r=e===null,o=n===null,a=t&&!(r&&o)&&aP(t,i);return a&&(r||fi(e,a.left,a.right))&&(o||fi(n,a.top,a.bottom))}function z3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function W3(t,e){t.rect(e.x,e.y,e.w,e.h)}function X0(t,e,n={}){let i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}var hb=class extends zn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=H3(this),a=z3(s.radius)?ma:W3;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,X0(s,n,o)),e.clip(),a(e,X0(o,-n,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,X0(o,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Z0(this,e,n,i)}inXRange(e,n){return Z0(this,e,null,n)}inYRange(e,n){return Z0(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},G3=Object.freeze({__proto__:null,ArcElement:ub,BarElement:hb,LineElement:Zf,PointElement:B3}),fb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],DA=fb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function lP(t){return fb[t%fb.length]}function cP(t){return DA[t%DA.length]}function q3(t,e){return t.borderColor=lP(e),t.backgroundColor=cP(e),++e}function Y3(t,e){return t.backgroundColor=t.data.map(()=>lP(e++)),e}function K3(t,e){return t.backgroundColor=t.data.map(()=>cP(e++)),e}function Q3(t){let e=0;return(n,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof Cb?e=Y3(n,e):r instanceof QA?e=K3(n,e):r&&(e=q3(n,e))}}function EA(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Z3(t){return t&&(t.borderColor||t.backgroundColor)}var X3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:o}=r;if(!n.forceOverride&&(EA(i)||Z3(r)||o&&EA(o)))return;let s=Q3(t);i.forEach(s)}};function J3(t,e,n,i,r){let o=r.samples||i;if(o>=n)return t.slice(e,e+n);let s=[],a=(n-2)/(o-2),l=0,c=e+n-1,u=e,d,h,f,p,g;for(s[l++]=t[u],d=0;d<o-2;d++){let m=0,y=0,v,C=Math.floor((d+1)*a)+1+e,D=Math.min(Math.floor((d+2)*a)+1,n)+e,w=D-C;for(v=C;v<D;v++)m+=t[v].x,y+=t[v].y;m/=w,y/=w;let x=Math.floor(d*a)+1+e,A=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:T,y:F}=t[u];for(f=p=-1,v=x;v<A;v++)p=.5*Math.abs((T-m)*(t[v].y-F)-(T-t[v].x)*(y-F)),p>f&&(f=p,h=t[v],g=v);s[l++]=h,u=g}return s[l++]=t[c],s}function e4(t,e,n,i){let r=0,o=0,s,a,l,c,u,d,h,f,p,g,m=[],y=e+n-1,v=t[e].x,D=t[y].x-v;for(s=e;s<e+n;++s){a=t[s],l=(a.x-v)/D*i,c=a.y;let w=l|0;if(w===u)c<p?(p=c,d=s):c>g&&(g=c,h=s),r=(o*r+a.x)/++o;else{let x=s-1;if(!de(d)&&!de(h)){let A=Math.min(d,h),T=Math.max(d,h);A!==f&&A!==x&&m.push(ce(N({},t[A]),{x:r})),T!==f&&T!==x&&m.push(ce(N({},t[T]),{x:r}))}s>0&&x!==f&&m.push(t[x]),m.push(a),u=w,o=0,p=g=c,d=h=f=s}}return m}function uP(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function xA(t){t.data.datasets.forEach(e=>{uP(e)})}function t4(t,e){let n=e.length,i=0,r,{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=rt(ui(e,o.axis,s).lo,0,n-1)),c?r=rt(ui(e,o.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var n4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){xA(t);return}let i=t.width;t.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=t.getDatasetMeta(o),c=s||r.data;if(ya([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=t4(l,c),f=n.threshold||4*i;if(h<=f){uP(r);return}de(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=J3(c,d,h,i,n);break;case"min-max":p=e4(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){xA(t)}};function i4(t,e,n){let i=t.segments,r=t.points,o=e.points,s=[];for(let a of i){let{start:l,end:c}=a;c=wb(l,c,r);let u=pb(n,r[l],r[c],a.loop);if(!e.segments){s.push({source:a,target:u,start:r[l],end:r[c]});continue}let d=z0(e,u);for(let h of d){let f=pb(n,o[h.start],o[h.end],h.loop),p=H0(a,r,f);for(let g of p)s.push({source:g,target:h,start:{[n]:IA(u,f,"start",Math.max)},end:{[n]:IA(u,f,"end",Math.min)}})}}return s}function pb(t,e,n,i){if(i)return;let r=e[t],o=n[t];return t==="angle"&&(r=Gt(r),o=Gt(o)),{property:t,start:r,end:o}}function r4(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=wb(s,a,r);let l=r[s],c=r[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function wb(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function IA(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function dP(t,e){let n=[],i=!1;return Pe(t)?(i=!0,n=t):n=r4(t,e),n.length?new Zf({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function SA(t){return t&&t.fill!==!1}function o4(t,e,n){let r=t[e].fill,o=[e],s;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!He(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function s4(t,e,n){let i=u4(t);if(ae(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return He(r)&&Math.floor(r)===r?a4(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function a4(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function l4(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ae(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function c4(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ae(t)?i=t.value:i=e.getBaseValue(),i}function u4(t){let e=t.options,n=e.fill,i=G(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function d4(t){let{scale:e,index:n,line:i}=t,r=[],o=i.segments,s=i.points,a=h4(e,n);a.push(dP({x:null,y:e.bottom},i));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)f4(r,s[u],a)}return new Zf({points:r,options:{}})}function h4(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let o=i[r];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function f4(t,e,n){let i=[];for(let r=0;r<n.length;r++){let o=n[r],{first:s,last:a,point:l}=p4(o,e,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function p4(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],o=t.segments,s=t.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],d=s[u.start][n],h=s[u.end][n];if(fi(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:i}}var Kf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:o,radius:s}=this;return n=n||{start:0,end:Re},e.arc(r,o,s,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,o=e.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}};function g4(t){let{chart:e,fill:n,line:i}=t;if(He(n))return m4(e,n);if(n==="stack")return d4(t);if(n==="shape")return!0;let r=y4(t);return r instanceof Kf?r:dP(r,i)}function m4(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function y4(t){return(t.scale||{}).getPointPositionForValue?_4(t):v4(t)}function v4(t){let{scale:e={},fill:n}=t,i=l4(n,e);if(He(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function _4(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=c4(n,e,o),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,o);return new Kf({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}function J0(t,e,n){let i=g4(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(Cc(t,n),b4(t,{line:r,target:i,above:u,below:d,area:n,scale:o,axis:s}),wc(t))}function b4(t,e){let{line:n,target:i,above:r,below:o,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==r&&(MA(t,i,s.top),TA(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),MA(t,i,s.bottom)),TA(t,{line:n,target:i,color:o,scale:a,property:l}),t.restore()}function MA(t,e,n){let{segments:i,points:r}=e,o=!0,s=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,u=r[l],d=r[wb(l,c,r)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function TA(t,e){let{line:n,target:i,property:r,color:o,scale:s}=e,a=i4(n,i,r);for(let{source:l,target:c,start:u,end:d}of a){let{style:{backgroundColor:h=o}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,C4(t,s,f&&pb(r,u,d)),t.beginPath();let p=!!n.pathSegment(t,l),g;if(f){p?t.closePath():AA(t,i,d,r);let m=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&m,g||AA(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function C4(t,e,n){let{top:i,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(s,i,a-s,r-i),t.clip())}function AA(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var w4={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof Zf&&(l={visible:t.isDatasetVisible(s),index:s,fill:s4(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=o4(r,s,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&J0(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let o=i[r].$filler;SA(o)&&J0(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!SA(i)||n.drawTime!=="beforeDatasetDraw"||J0(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},PA=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},D4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,Qf=class extends zn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=Se(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=et(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=PA(i,o),c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a,d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=i+n/2+o.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>s)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:m,height:r},c[c.length-1]+=m+a}),d}_fitCols(e,n,i,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:C}=E4(i,n,o,m,r);y>0&&f+C+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:v,height:C},h=Math.max(h,v),f+=C+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,s=Oo(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=bt(i,this.left+r,this.right-this.lineWidths[a]);for(let c of n)a!==c.row&&(a=c.row,l=bt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=bt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of n)c.col!==a&&(a=c.col,l=bt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Cc(e,this),this._draw(),wc(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:s}=e,a=ze.color,l=Oo(e.rtl,this.left,this.width),c=et(s.font),{padding:u}=s,d=c.size,h=d/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=PA(s,d),y=function(x,A,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();let F=G(T.lineWidth,1);if(r.fillStyle=G(T.fillStyle,a),r.lineCap=G(T.lineCap,"butt"),r.lineDashOffset=G(T.lineDashOffset,0),r.lineJoin=G(T.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=G(T.strokeStyle,a),r.setLineDash(G(T.lineDash,[])),s.usePointStyle){let q={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:F},K=l.xPlus(x,p/2),le=A+h;R0(r,q,K,le,s.pointStyleWidth&&p)}else{let q=A+Math.max((d-g)/2,0),K=l.leftForLtr(x,p),le=Vr(T.borderRadius);r.beginPath(),Object.values(le).some(ft=>ft!==0)?ma(r,{x:K,y:q,w:p,h:g,radius:le}):r.rect(K,q,p,g),r.fill(),F!==0&&r.stroke()}r.restore()},v=function(x,A,T){Lr(r,T.text,x,A+m/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?f={x:bt(o,this.left+u,this.right-i[0]),y:this.top+u+D,line:0}:f={x:this.left+u,y:bt(o,this.top+D+u,this.bottom-n[0].height),line:0},U0(this.ctx,e.textDirection);let w=m+u;this.legendItems.forEach((x,A)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;let T=r.measureText(x.text).width,F=l.textAlign(x.textAlign||(x.textAlign=s.textAlign)),q=p+h+T,K=f.x,le=f.y;l.setWidth(this.width),C?A>0&&K+q+u>this.right&&(le=f.y+=w,f.line++,K=f.x=bt(o,this.left+u,this.right-i[f.line])):A>0&&le+w>this.bottom&&(K=f.x=K+n[f.line].width+u,f.line++,le=f.y=bt(o,this.top+D+u,this.bottom-n[f.line].height));let ft=l.x(K);if(y(ft,le,x),K=AT(F,K+p+h,C?K+q:this.right,e.rtl),v(l.x(K),le,x),C)f.x+=q+u;else if(typeof x.text!="string"){let Qt=c.lineHeight;f.y+=hP(x,Qt)+u}else f.y+=w}),$0(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=et(n.font),r=Ct(n.padding);if(!n.display)return;let o=Oo(e.rtl,this.left,this.width),s=this.ctx,a=n.position,l=i.size/2,c=r.top+l,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=bt(e.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+bt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let f=bt(a,d,d+h);s.textAlign=o.textAlign(Mf(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=i.string,Lr(s,n.text,f,u,i)}_computeTitleHeight(){let e=this.options.title,n=et(e.font),i=Ct(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,o;if(fi(e,this.left,this.right)&&fi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],fi(e,r.left,r.left+r.width)&&fi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!S4(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,o=D4(r,i);r&&!o&&Se(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Se(n.onHover,[e,i,this],this)}else i&&Se(n.onClick,[e,i,this],this)}};function E4(t,e,n,i,r){let o=x4(i,t,e,n),s=I4(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}function x4(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),e+n.size/2+i.measureText(r).width}function I4(t,e,n){let i=t;return typeof e.text!="string"&&(i=hP(e,n)),i}function hP(t,e){let n=t.text?t.text.length:0;return e*n}function S4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var M4={id:"legend",_element:Qf,start(t,e,n){let i=t.legend=new Qf({ctx:t.ctx,options:n,chart:t});Tt.configure(t,i,n),Tt.addBox(t,i)},stop(t){Tt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;Tt.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(n?0:void 0),u=Ct(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Pc=class extends zn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=Pe(i.text)?i.text.length:1;this._padding=Ct(i.padding);let o=r*et(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:r,right:o,options:s}=this,a=s.align,l=0,c,u,d;return this.isHorizontal()?(u=bt(a,i,o),d=n+e,c=o-i):(s.position==="left"?(u=i+e,d=bt(a,r,n),l=Ne*-.5):(u=o-e,d=bt(a,n,r),l=Ne*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=et(n.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);Lr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Mf(n.align),textBaseline:"middle",translation:[s,a]})}};function T4(t,e){let n=new Pc({ctx:t.ctx,options:e,chart:t});Tt.configure(t,n,e),Tt.addBox(t,n),t.titleBlock=n}var A4={id:"title",_element:Pc,start(t,e,n){T4(t,n)},stop(t){let e=t.titleBlock;Tt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;Tt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Bf=new WeakMap,P4={id:"subtitle",start(t,e,n){let i=new Pc({ctx:t.ctx,options:n,chart:t});Tt.configure(t,i,n),Tt.addBox(t,i),Bf.set(t,i)},stop(t){Tt.removeBox(t,Bf.get(t)),Bf.delete(t)},beforeUpdate(t,e,n){let i=Bf.get(t);Tt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Tc={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){let l=t[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Df(e,c);u<r&&(r=u,a=l)}}if(a){let l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function pi(t,e){return e&&(Pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Yi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function N4(t,e){let{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function NA(t,e){let n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=et(e.bodyFont),c=et(e.titleFont),u=et(e.footerFont),d=o.length,h=r.length,f=i.length,p=Ct(e.padding),g=p.height,m=0,y=i.reduce((D,w)=>D+w.before.length+w.lines.length+w.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){let D=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*D+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0,C=function(D){m=Math.max(m,n.measureText(D).width+v)};return n.save(),n.font=c.string,be(t.title,C),n.font=l.string,be(t.beforeBody.concat(t.afterBody),C),v=e.displayColors?s+2+e.boxPadding:0,be(i,D=>{be(D.before,C),be(D.lines,C),be(D.after,C)}),v=0,n.font=u.string,be(t.footer,C),n.restore(),m+=p.width,{width:m,height:g}}function R4(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function O4(t,e,n,i){let{x:r,width:o}=i,s=n.caretSize+n.caretPadding;if(t==="left"&&r+o+s>e.width||t==="right"&&r-o-s<0)return!0}function k4(t,e,n,i){let{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),O4(c,t,e,n)&&(c="center"),c}function RA(t,e,n){let i=n.yAlign||e.yAlign||R4(t,n);return{xAlign:n.xAlign||e.xAlign||k4(t,e,n,i),yAlign:i}}function F4(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function L4(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function OA(t,e,n,i){let{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Vr(s),p=F4(e,a),g=L4(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:rt(p,0,i.width-e.width),y:rt(g,0,i.height-e.height)}}function Uf(t,e,n){let i=Ct(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function kA(t){return pi([],Yi(t))}function V4(t,e,n){return Gi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function FA(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var fP={beforeTitle:hi,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:hi,beforeBody:hi,beforeLabel:hi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:hi,afterBody:hi,beforeFooter:hi,footer:hi,afterFooter:hi};function Yt(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?fP[e].call(n,i):r}var LA=(()=>{class t extends zn{static positioners=Tc;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new Wf(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=V4(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,o=Yt(r,"beforeTitle",this,n),s=Yt(r,"title",this,n),a=Yt(r,"afterTitle",this,n),l=[];return l=pi(l,Yi(o)),l=pi(l,Yi(s)),l=pi(l,Yi(a)),l}getBeforeBody(n,i){return kA(Yt(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,o=[];return be(n,s=>{let a={before:[],lines:[],after:[]},l=FA(r,s);pi(a.before,Yi(Yt(l,"beforeLabel",this,s))),pi(a.lines,Yt(l,"label",this,s)),pi(a.after,Yi(Yt(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(n,i){return kA(Yt(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,o=Yt(r,"beforeFooter",this,n),s=Yt(r,"footer",this,n),a=Yt(r,"afterFooter",this,n),l=[];return l=pi(l,Yi(o)),l=pi(l,Yi(s)),l=pi(l,Yi(a)),l}_createItems(n){let i=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],c,u;for(c=0,u=i.length;c<u;++c)l.push(N4(this.chart,i[c]));return n.filter&&(l=l.filter((d,h,f)=>n.filter(d,h,f,r))),n.itemSort&&(l=l.sort((d,h)=>n.itemSort(d,h,r))),be(l,d=>{let h=FA(n.callbacks,d);o.push(Yt(h,"labelColor",this,d)),s.push(Yt(h,"labelPointStyle",this,d)),a.push(Yt(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(n,i){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Tc[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=NA(this,r),u=Object.assign({},l,c),d=RA(this.chart,r,u),h=OA(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,o){let s=this.getCaretPosition(n,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(n,i,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Vr(l),{x:f,y:p}=n,{width:g,height:m}=i,y,v,C,D,w,x;return s==="center"?(w=p+m/2,o==="left"?(y=f,v=y-a,D=w+a,x=w-a):(y=f+g,v=y+a,D=w-a,x=w+a),C=y):(o==="left"?v=f+Math.max(c,d)+a:o==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,s==="top"?(D=p,w=D-a,y=v-a,C=v+a):(D=p+m,w=D+a,y=v+a,C=v-a),x=D),{x1:y,x2:v,x3:C,y1:D,y2:w,y3:x}}drawTitle(n,i,r){let o=this.title,s=o.length,a,l,c;if(s){let u=Oo(r.rtl,this.x,this.width);for(n.x=Uf(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=et(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+l,c+1===s&&(n.y+=r.titleMarginBottom-l)}}_drawColorBox(n,i,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=s,d=et(s.bodyFont),h=Uf(this,"left",s),f=o.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=i.y+p;if(s.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(f,u)+u/2,v=g+c/2;n.strokeStyle=s.multiKeyBackground,n.fillStyle=s.multiKeyBackground,Af(n,m,y,v),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Af(n,m,y,v)}else{n.lineWidth=ae(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,u),y=o.leftForLtr(o.xPlus(f,1),u-2),v=Vr(a.borderRadius);Object.values(v).some(C=>C!==0)?(n.beginPath(),n.fillStyle=s.multiKeyBackground,ma(n,{x:m,y:g,w:u,h:c,radius:v}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),ma(n,{x:y,y:g+1,w:u-2,h:c-2,radius:v}),n.fill()):(n.fillStyle=s.multiKeyBackground,n.fillRect(m,g,u,c),n.strokeRect(m,g,u,c),n.fillStyle=a.backgroundColor,n.fillRect(y,g+1,u-2,c-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=et(r.bodyFont),f=h.lineHeight,p=0,g=Oo(r.rtl,this.x,this.width),m=function(F){i.fillText(F,g.x(n.x+p),n.y+f/2),n.y+=f+s},y=g.textAlign(a),v,C,D,w,x,A,T;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,n.x=Uf(this,y,r),i.fillStyle=r.bodyColor,be(this.beforeBody,m),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,w=0,A=o.length;w<A;++w){for(v=o[w],C=this.labelTextColors[w],i.fillStyle=C,be(v.before,m),D=v.lines,l&&D.length&&(this._drawColorBox(i,n,w,g,r),f=Math.max(h.lineHeight,c)),x=0,T=D.length;x<T;++x)m(D[x]),f=h.lineHeight;be(v.after,m)}p=0,f=h.lineHeight,be(this.afterBody,m),n.y-=s}drawFooter(n,i,r){let o=this.footer,s=o.length,a,l;if(s){let c=Oo(r.rtl,this.x,this.width);for(n.x=Uf(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=et(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],c.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=n,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Vr(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+h,c),a==="top"&&this.drawCaret(n,i,r,o),i.lineTo(l+u-f,c),i.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&s==="right"&&this.drawCaret(n,i,r,o),i.lineTo(l+u,c+d-g),i.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(n,i,r,o),i.lineTo(l+p,c+d),i.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&s==="left"&&this.drawCaret(n,i,r,o),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=Tc[n.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=NA(this,n),c=Object.assign({},a,this._size),u=RA(i,n,c),d=OA(n,c,u,i);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Ct(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(n.save(),n.globalAlpha=r,this.drawBackground(s,n,o,i),U0(n,i.textDirection),s.y+=a.top,this.drawTitle(s,n,i),this.drawBody(s,n,i),this.drawFooter(s,n,i),$0(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,o=n.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!_c(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(n,s,i,r),l=this._positionChanged(a,n),c=i||!_c(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),c}_getActiveElements(n,i,r,o){let s=this.options;if(n.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:o,options:s}=this,a=Tc[s.position].call(this,n,i);return a!==!1&&(r!==a.x||o!==a.y)}}return t})(),j4={id:"tooltip",_element:LA,positioners:Tc,afterInit(t,e,n){n&&(t.tooltip=new LA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",ce(N({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:fP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},B4=Object.freeze({__proto__:null,Colors:X3,Decimation:n4,Filler:w4,Legend:M4,SubTitle:P4,Title:A4,Tooltip:j4}),U4=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function $4(t,e,n,i){let r=t.indexOf(e);if(r===-1)return U4(t,e,n,i);let o=t.lastIndexOf(e);return r!==o?n:r}var H4=(t,e)=>t===null?null:rt(Math.round(t),0,e);function VA(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var z4=(()=>{class t extends Lo{static id="category";static defaults={ticks:{callback:VA}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(de(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:$4(r,n,G(i,n),this._addedLabels),H4(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,o=[],s=this.getLabels();s=n===0&&i===s.length-1?s:s.slice(n,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)o.push({value:a});return o}getLabelForValue(n){return VA.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function W4(t,e){let n=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=o||1,p=u-1,{min:g,max:m}=e,y=!de(s),v=!de(a),C=!de(c),D=(m-g)/(d+1),w=b0((m-g)/p/f)*f,x,A,T,F;if(w<1e-14&&!y&&!v)return[{value:g},{value:m}];F=Math.ceil(m/w)-Math.floor(g/w),F>p&&(w=b0(F*w/p/f)*f),de(l)||(x=Math.pow(10,l),w=Math.ceil(w*x)/x),r==="ticks"?(A=Math.floor(g/w)*w,T=Math.ceil(m/w)*w):(A=g,T=m),y&&v&&o&&DT((a-s)/o,w/1e3)?(F=Math.round(Math.min((a-s)/w,u)),w=(a-s)/F,A=s,T=a):C?(A=y?s:A,T=v?a:T,F=c-1,w=(T-A)/F):(F=(T-A)/w,fa(F,Math.round(F),w/1e3)?F=Math.round(F):F=Math.ceil(F));let q=Math.max(w0(w),w0(A));x=Math.pow(10,de(l)?q:l),A=Math.round(A*x)/x,T=Math.round(T*x)/x;let K=0;for(y&&(h&&A!==s?(n.push({value:s}),A<s&&K++,fa(Math.round((A+K*w)*x)/x,s,jA(s,D,t))&&K++):A<s&&K++);K<F;++K){let le=Math.round((A+K*w)*x)/x;if(v&&le>a)break;n.push({value:le})}return v&&h&&T!==a?n.length&&fa(n[n.length-1].value,a,jA(a,D,t))?n[n.length-1].value=a:n.push({value:a}):(!v||T===a)&&n.push({value:T}),n}function jA(t,e,{horizontal:n,minRotation:i}){let r=xn(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}var ba=class extends Lo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=n?r:l,a=l=>o=i?o:l;if(e){let l=Hn(r),c=Hn(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,s=W4(r,o);return e.bounds==="ticks"&&C0(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ga(e,this.chart.options.locale,this.options.ticks.format)}},gb=class extends ba{static id="linear";static defaults={ticks:{callback:bc.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=He(e)?e:0,this.max=He(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=xn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Nc=t=>Math.floor(zi(t)),Fo=(t,e)=>Math.pow(10,Nc(t)+e);function BA(t){return t/Math.pow(10,Nc(t))===1}function UA(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function G4(t,e){let n=e-t,i=Nc(n);for(;UA(t,e,i)>10;)i++;for(;UA(t,e,i)<10;)i--;return Math.min(i,Nc(t))}function q4(t,{min:e,max:n}){e=qt(t.min,e);let i=[],r=Nc(e),o=G4(e,n),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((e-l)*s)/s,u=Math.floor((e-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,o)),h=qt(t.min,Math.round((l+u+d*Math.pow(10,o))*s)/s);for(;h<n;)i.push({value:h,major:BA(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),h=Math.round((l+u+d*Math.pow(10,o))*s)/s;let f=qt(t.max,h);return i.push({value:f,major:BA(f),significand:d}),i}var mb=class extends Lo{static id="logarithmic";static defaults={ticks:{callback:bc.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=ba.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return He(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=He(e)?Math.max(0,e):null,this.max=He(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!He(this._userMin)&&(this.min=e===Fo(this.min,0)?Fo(this.min,-1):Fo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,o=a=>i=e?i:a,s=a=>r=n?r:a;i===r&&(i<=0?(o(1),s(10)):(o(Fo(i,-1)),s(Fo(r,1)))),i<=0&&o(Fo(r,-1)),r<=0&&s(Fo(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=q4(n,this);return e.bounds==="ticks"&&C0(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ga(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=zi(e),this._valueRange=zi(this.max)-zi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(zi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function yb(t){let e=t.ticks;if(e.display&&t.display){let n=Ct(e.backdropPadding);return G(e.font&&e.font.size,ze.font.size)+n.height}return 0}function Y4(t,e,n){return n=Pe(n)?n:[n],{w:NT(t,e.string,n),h:n.length*e.lineHeight}}function $A(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function K4(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?Ne/o:0;for(let l=0;l<o;l++){let c=s.setContext(t.getPointLabelContext(l));r[l]=c.padding;let u=t.getPointPosition(l,t.drawingArea+r[l],a),d=et(c.font),h=Y4(t.ctx,d,t._pointLabels[l]);i[l]=h;let f=Gt(t.getIndexAngle(l)+a),p=Math.round(If(f)),g=$A(p,u.x,h.w,0,180),m=$A(p,u.y,h.h,90,270);Q4(n,e,f,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=J4(t,i,r)}function Q4(t,e,n,i,r){let o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function Z4(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=n,l=t.getPointPosition(e,i+r+s,o),c=Math.round(If(Gt(l.angle+We))),u=n5(l.y,a.h,c),d=e5(c),h=t5(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function X4(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:o}=t;return!(di({x:n,y:i},e)||di({x:n,y:o},e)||di({x:r,y:i},e)||di({x:r,y:o},e))}function J4(t,e,n){let i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:yb(o)/2,additionalAngle:s?Ne/r:0},c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];let d=Z4(t,u,l);i.push(d),a==="auto"&&(d.visible=X4(d,c),d.visible&&(c=d))}return i}function e5(t){return t===0||t===180?"center":t<180?"left":"right"}function t5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function n5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function i5(t,e,n){let{left:i,top:r,right:o,bottom:s}=n,{backdropColor:a}=e;if(!de(a)){let l=Vr(e.borderRadius),c=Ct(e.backdropPadding);t.fillStyle=a;let u=i-c.left,d=r-c.top,h=o-i+c.width,f=s-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),ma(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function r5(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let o=t._pointLabelItems[r];if(!o.visible)continue;let s=i.setContext(t.getPointLabelContext(r));i5(n,s,o);let a=et(s.font),{x:l,y:c,textAlign:u}=o;Lr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function pP(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Re);else{let o=t.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=t.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function o5(t,e,n,i,r){let o=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!i||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),pP(t,n,s,i),o.closePath(),o.stroke(),o.restore())}function s5(t,e,n){return Gi(t,{label:n,index:e,type:"pointLabel"})}var vb=class extends ba{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:bc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Ct(yb(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=He(e)&&!isNaN(e)?e:0,this.max=He(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/yb(this.options))}generateTickLabels(e){ba.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=Se(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?K4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Re/(this._pointLabels.length||1),i=this.options.startAngle||0;return Gt(e*n+xn(i))}getDistanceFromCenterForValue(e){if(de(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return s5(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-We+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),pP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:o}=n,s=this._pointLabels.length,a,l,c;if(n.pointLabels.display&&r5(this,s),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=r.setContext(h),p=o.setContext(h);o5(this,f,l,s,p)}}),i.display){for(e.save(),a=s-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;let c=i.setContext(this.getContext(l)),u=et(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let d=Ct(c.backdropPadding);e.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}Lr(e,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},Xf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Kt=Object.keys(Xf);function HA(t,e){return t-e}function zA(t,e){if(de(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts,s=e;return typeof i=="function"&&(s=i(s)),He(s)||(s=typeof i=="string"?n.parse(s,i):n.parse(s)),s===null?null:(r&&(s=r==="week"&&(Ro(o)||o===!0)?n.startOf(s,"isoWeek",o):n.startOf(s,r)),+s)}function WA(t,e,n,i){let r=Kt.length;for(let o=Kt.indexOf(t);o<r-1;++o){let s=Xf[Kt[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=i)return Kt[o]}return Kt[r-1]}function a5(t,e,n,i,r){for(let o=Kt.length-1;o>=Kt.indexOf(n);o--){let s=Kt[o];if(Xf[s].common&&t._adapter.diff(r,i,s)>=e-1)return s}return Kt[n?Kt.indexOf(n):0]}function l5(t){for(let e=Kt.indexOf(t)+1,n=Kt.length;e<n;++e)if(Xf[Kt[e]].common)return Kt[e]}function GA(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=Sf(n,e),o=n[i]>=e?n[i]:n[r];t[o]=!0}}function c5(t,e,n,i){let r=t._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function qA(t,e,n){let i=[],r={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return o===0||!n?i:c5(t,i,r,n)}var _b=(()=>{class t extends Lo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),o=this._adapter=new CW._date(n.adapters.date);o.init(i),da(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:zA(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=He(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=He(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=IT(o,s,a);return this._unit=i.unit||(r.autoSkip?WA(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):a5(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:l5(this._unit),this.initOffsets(o),n.reverse&&l.reverse(),qA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,o,s;this.options.offset&&n.length&&(o=this.getDecimalForValue(n[0]),n.length===1?i=1-o:i=(this.getDecimalForValue(n[1])-o)/2,s=this.getDecimalForValue(n[n.length-1]),n.length===1?r=s:r=(s-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=rt(i,0,a),r=rt(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||WA(s.minUnit,i,r,this._getLabelCapacity(i)),l=G(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=Ro(c)||c===!0,d={},h=i,f,p;if(u&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,u?"day":a),n.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+n.add(f,l,a),p++)GA(d,f,g);return(f===r||o.bounds==="ticks"||p===1)&&GA(d,f,g),Object.keys(d).sort(HA).map(m=>+m)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,o){let s=this.options,a=s.ticks.callback;if(a)return Se(a,[n,i,r],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[i],p=u&&h&&f&&f.major;return this._adapter.format(n,o||(p?h:d))}generateTickLabels(n){let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i],o.label=this._tickFormatFunction(o.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,o=xn(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(n,0,qA(this,[n],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)n=n.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let o=this.getLabels();for(i=0,r=o.length;i<r;++i)n.push(zA(this,o[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return x0(n.sort(HA))}}return t})();function $f(t,e,n){let i=0,r=t.length-1,o,s,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ui(t,"pos",e)),{pos:o,time:a}=t[i],{pos:s,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ui(t,"time",e)),{time:o,pos:a}=t[i],{time:s,pos:l}=t[r]);let c=s-o;return c?a+(l-a)*(e-o)/c:a}var bb=class extends _b{static id="timeseries";static defaults=_b.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=$f(n,this.min),this._tableRange=$f(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],o=[],s,a,l,c,u;for(s=0,a=e.length;s<a;++s)c=e[s],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)u=r[s+1],l=r[s-1],c=r[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return($f(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return $f(this._table,i*this._tableRange+this._minPos,!0)}},u5=Object.freeze({__proto__:null,CategoryScale:z4,LinearScale:gb,LogarithmicScale:mb,RadialLinearScale:vb,TimeScale:_b,TimeSeriesScale:bb}),Jf=[bW,G3,B4,u5];var ep=(()=>{let e=class e{constructor(){this.pesos=[],this.datas=[]}ngOnInit(){Vo.register(...Jf);let i=document.getElementById("pesoChart"),r=new Vo(i,{type:"line",data:{labels:this.datas,datasets:[{label:"Peso",data:this.pesos,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{scales:{y:{title:{display:!0,text:"Peso"}},x:{title:{display:!0,text:"Data"}}}}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-controle-peso"]],inputs:{pesos:"pesos",datas:"datas"},decls:2,vars:0,consts:[[1,"controle-peso"],["id","pesoChart"]],template:function(r,o){r&1&&(b(0,"div",0),oe(1,"canvas",1),_())}});let t=e;return t})();Vo.register(...Jf);var gP=Vo;var mP=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suino={}}ngOnInit(){}salvarEdicao(){this.suinoService.updateSuino(this.suino).then(()=>{console.log("Su\xEDno editado com sucesso.")}).catch(i=>console.error("Erro ao editar su\xEDno:",i))}};e.\u0275fac=function(r){return new(r||e)(k(Dn))},e.\u0275cmp=Fe({type:e,selectors:[["app-suino-edicao"]],inputs:{suino:"suino"},decls:41,vars:7,consts:[[3,"ngSubmit"],["for","brinco"],["type","text","id","brinco","name","brinco","required","",3,"ngModel","ngModelChange"],["for","brincoPai"],["type","text","id","brincoPai","name","brincoPai",3,"ngModel","ngModelChange"],["for","brincoMae"],["type","text","id","brincoMae","name","brincoMae",3,"ngModel","ngModelChange"],["for","dataNascimento"],["type","date","id","dataNascimento","name","dataNascimento",3,"ngModel","ngModelChange"],["for","dataSaida"],["type","date","id","dataSaida","name","dataSaida",3,"ngModel","ngModelChange"],["for","status"],["id","status","name","status",3,"ngModel","ngModelChange"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","name","sexo",3,"ngModel","ngModelChange"],["value","M"],["value","F"],["type","submit"]],template:function(r,o){r&1&&(b(0,"form",0),se("ngSubmit",function(){return o.salvarEdicao()}),b(1,"div")(2,"label",1),E(3,"Brinco:"),_(),b(4,"input",2),lt("ngModelChange",function(a){return _t(o.suino.brinco,a)||(o.suino.brinco=a),a}),_()(),b(5,"div")(6,"label",3),E(7,"Brinco do Pai:"),_(),b(8,"input",4),lt("ngModelChange",function(a){return _t(o.suino.brincoPai,a)||(o.suino.brincoPai=a),a}),_()(),b(9,"div")(10,"label",5),E(11,"Brinco da M\xE3e:"),_(),b(12,"input",6),lt("ngModelChange",function(a){return _t(o.suino.brincoMae,a)||(o.suino.brincoMae=a),a}),_()(),b(13,"div")(14,"label",7),E(15,"Data de Nascimento:"),_(),b(16,"input",8),lt("ngModelChange",function(a){return _t(o.suino.dataNascimento,a)||(o.suino.dataNascimento=a),a}),_()(),b(17,"div")(18,"label",9),E(19,"Data de Sa\xEDda:"),_(),b(20,"input",10),lt("ngModelChange",function(a){return _t(o.suino.dataSaida,a)||(o.suino.dataSaida=a),a}),_()(),b(21,"div")(22,"label",11),E(23,"Status:"),_(),b(24,"select",12),lt("ngModelChange",function(a){return _t(o.suino.status,a)||(o.suino.status=a),a}),b(25,"option",13),E(26,"Ativo"),_(),b(27,"option",14),E(28,"Vendido"),_(),b(29,"option",15),E(30,"Morto"),_()()(),b(31,"div")(32,"label",16),E(33,"Sexo:"),_(),b(34,"select",17),lt("ngModelChange",function(a){return _t(o.suino.sexo,a)||(o.suino.sexo=a),a}),b(35,"option",18),E(36,"Macho"),_(),b(37,"option",19),E(38,"F\xEAmea"),_()()(),b(39,"button",20),E(40,"Salvar"),_()()),r&2&&(M(4),at("ngModel",o.suino.brinco),M(4),at("ngModel",o.suino.brincoPai),M(4),at("ngModel",o.suino.brincoMae),M(4),at("ngModel",o.suino.dataNascimento),M(4),at("ngModel",o.suino.dataSaida),M(4),at("ngModel",o.suino.status),M(10),at("ngModel",o.suino.sexo))},dependencies:[_n,_r,br,ut,vr,St,vn,Al,vo,ev],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();var f5=["pesosChart"];function p5(t,e){if(t&1&&oe(0,"app-suino-edicao",26),t&2){let n=it(2);V("suino",n.suinoSelecionado)}}function g5(t,e){t&1&&(b(0,"div",27),oe(1,"canvas",null,28),_())}function m5(t,e){if(t&1){let n=dr();b(0,"div")(1,"p")(2,"strong"),E(3,"Brinco:"),_(),E(4),_(),b(5,"p")(6,"strong"),E(7,"Brinco do Pai:"),_(),E(8),_(),b(9,"p")(10,"strong"),E(11,"Brinco da M\xE3e:"),_(),E(12),_(),b(13,"p")(14,"strong"),E(15,"Data de Nascimento:"),_(),E(16),Tm(17,"date"),_(),b(18,"p")(19,"strong"),E(20,"Data de Sa\xEDda:"),_(),E(21),Tm(22,"date"),_(),b(23,"p")(24,"strong"),E(25,"Idade:"),_(),E(26),_(),b(27,"p")(28,"strong"),E(29,"Status:"),_(),E(30),_(),b(31,"p")(32,"strong"),E(33,"Sexo:"),_(),E(34),_(),b(35,"div",23)(36,"button",20),se("click",function(){let o=Rn(n).$implicit,s=it();return On(s.editarSuino(o))}),E(37,"Editar"),_(),b(38,"button",20),se("click",function(){let o=Rn(n).$implicit,s=it();return On(s.excluirSuino(o))}),E(39,"Excluir"),_(),b(40,"button",20),se("click",function(){let o=Rn(n).$implicit,s=it();return On(s.mostrarControlePeso(o))}),E(41,"Controle Peso"),_(),ie(42,p5,1,1,"app-suino-edicao",24)(43,g5,3,0,"div",25),_()()}if(t&2){let n=e.$implicit,i=it();M(4),kt(" ",n.brinco,""),M(4),kt(" ",n.brincoPai,""),M(4),kt(" ",n.brincoMae,""),M(4),kt(" ",Am(17,10,n.dataNascimento),""),M(5),kt(" ",Am(22,12,n.dataSaida),""),M(5),kt(" ",i.calcularIdade(n.dataNascimento),""),M(4),kt(" ",n.status,""),M(4),kt(" ",n.sexo,""),M(8),V("ngIf",i.editando&&i.suinoSelecionado&&i.suinoSelecionado.brinco===n.brinco),M(),V("ngIf",i.exibirControlePeso&&i.suinoSelecionado&&i.suinoSelecionado.brinco===n.brinco)}}var tp=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suinos=[],this.suinosFiltrados=[],this.filtro={},this.suinoSelecionado=null,this.editando=!1,this.exibirControlePeso=!1,this.pesos=[],this.datas=[],this.chart=null}ngOnInit(){this.carregarSuinos()}ngOnDestroy(){this.chart&&this.chart.destroy()}ngAfterViewInit(){this.exibirControlePeso&&this.pesosChartRef&&this.renderizarGrafico()}carregarSuinos(){this.suinoService.getSuinos().subscribe(i=>{this.suinos=i,this.aplicarFiltro()})}calcularIdade(i){let r=new Date,o=new Date(i);return((r.getTime()-o.getTime())/(1e3*60*60*24*30)).toFixed(0)+" meses"}editarSuino(i){console.log("Editar su\xEDno com ID:",i.brinco),this.suinoSelecionado=i,this.editando=!0}salvarEdicao(){this.suinoSelecionado&&this.suinoService.updateSuino(this.suinoSelecionado).then(()=>{console.log("Su\xEDno editado com sucesso."),this.carregarSuinos(),this.editando=!1,this.suinoSelecionado=null}).catch(i=>console.error("Erro ao editar su\xEDno:",i))}cancelarEdicao(){this.suinoSelecionado=null,this.editando=!1}excluirSuino(i){this.suinoService.excluirSuino(i).then(()=>{console.log("Su\xEDno exclu\xEDdo com sucesso."),this.suinos=this.suinos.filter(r=>r!==i)}).catch(r=>console.error("Erro ao excluir su\xEDno:",r))}mostrarControlePeso(i){this.pesos=[],this.datas=[],this.suinoService.getPeso(i.brinco.toString()).subscribe(r=>{r.forEach(o=>{this.pesos.push(o.peso),this.datas.push(o.dataPesagem.toString())}),this.suinoSelecionado=i,this.exibirControlePeso=!0,setTimeout(()=>{this.renderizarGrafico()})})}aplicarFiltro(){this.suinosFiltrados=this.suinos.filter(i=>{let r=!0;return this.filtro.brincoPai&&i.brincoPai!==this.filtro.brincoPai&&(r=!1),this.filtro.brincoMae&&i.brincoMae!==this.filtro.brincoMae&&(r=!1),this.filtro.dataNascimento&&i.dataNascimento!==this.filtro.dataNascimento&&(r=!1),this.filtro.dataSaida&&i.dataSaida!==this.filtro.dataSaida&&(r=!1),this.filtro.sexo&&i.sexo!==this.filtro.sexo&&(r=!1),this.filtro.status&&i.status!==this.filtro.status&&(r=!1),r})}limparFiltro(){this.filtro={},this.aplicarFiltro()}renderizarGrafico(){if(this.pesosChartRef&&this.pesosChartRef.nativeElement){let i=this.pesosChartRef.nativeElement.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new gP(i,{type:"line",data:{labels:this.datas,datasets:[{label:"Peso",data:this.pesos,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}}};e.\u0275fac=function(r){return new(r||e)(k(Dn))},e.\u0275cmp=Fe({type:e,selectors:[["app-suino-listagem"]],viewQuery:function(r,o){if(r&1&&WD(f5,5),r&2){let s;Sm(s=Mm())&&(o.pesosChartRef=s.first)}},decls:53,vars:7,consts:[[1,"suino-listagem"],[1,"filtros"],["for","filtroBrincoPai"],["type","text","id","filtroBrincoPai",3,"ngModel","ngModelChange"],["for","filtroBrincoMae"],["type","text","id","filtroBrincoMae",3,"ngModel","ngModelChange"],["for","filtroDataNascimento"],["type","date","id","filtroDataNascimento",3,"ngModel","ngModelChange"],["for","filtroDataSaida"],["type","date","id","filtroDataSaida",3,"ngModel","ngModelChange"],["for","filtroSexo"],["id","filtroSexo",3,"ngModel","ngModelChange"],["value",""],["value","M"],["value","F"],["for","filtroStatus"],["id","filtroStatus",3,"ngModel","ngModelChange"],["value","Ativo"],["value","Vendido"],["value","Morto"],[3,"click"],[1,"lista-suinos"],[4,"ngFor","ngForOf"],[1,"botoes-acao"],[3,"suino",4,"ngIf"],["class","grafico-container",4,"ngIf"],[3,"suino"],[1,"grafico-container"],["pesosChart",""]],template:function(r,o){r&1&&(b(0,"div",0)(1,"h2"),E(2,"Listagem de Su\xEDnos"),_(),b(3,"div",1)(4,"h3"),E(5,"Filtros"),_(),b(6,"div")(7,"label",2),E(8,"Brinco do Pai:"),_(),b(9,"input",3),lt("ngModelChange",function(a){return _t(o.filtro.brincoPai,a)||(o.filtro.brincoPai=a),a}),_()(),b(10,"div")(11,"label",4),E(12,"Brinco da M\xE3e:"),_(),b(13,"input",5),lt("ngModelChange",function(a){return _t(o.filtro.brincoMae,a)||(o.filtro.brincoMae=a),a}),_()(),b(14,"div")(15,"label",6),E(16,"Data de Nascimento:"),_(),b(17,"input",7),lt("ngModelChange",function(a){return _t(o.filtro.dataNascimento,a)||(o.filtro.dataNascimento=a),a}),_()(),b(18,"div")(19,"label",8),E(20,"Data de Sa\xEDda:"),_(),b(21,"input",9),lt("ngModelChange",function(a){return _t(o.filtro.dataSaida,a)||(o.filtro.dataSaida=a),a}),_()(),b(22,"div")(23,"label",10),E(24,"Sexo:"),_(),b(25,"select",11),lt("ngModelChange",function(a){return _t(o.filtro.sexo,a)||(o.filtro.sexo=a),a}),b(26,"option",12),E(27,"Todos"),_(),b(28,"option",13),E(29,"Macho"),_(),b(30,"option",14),E(31,"F\xEAmea"),_()()(),b(32,"div")(33,"label",15),E(34,"Status:"),_(),b(35,"select",16),lt("ngModelChange",function(a){return _t(o.filtro.status,a)||(o.filtro.status=a),a}),b(36,"option",12),E(37,"Todos"),_(),b(38,"option",17),E(39,"Ativo"),_(),b(40,"option",18),E(41,"Vendido"),_(),b(42,"option",19),E(43,"Morto"),_()()(),b(44,"div")(45,"button",20),se("click",function(){return o.aplicarFiltro()}),E(46,"Aplicar Filtro"),_(),b(47,"button",20),se("click",function(){return o.limparFiltro()}),E(48,"Limpar Filtro"),_()()(),b(49,"div",21)(50,"h3"),E(51,"Su\xEDnos"),_(),ie(52,m5,44,14,"div",22),_()()),r&2&&(M(9),at("ngModel",o.filtro.brincoPai),M(4),at("ngModel",o.filtro.brincoMae),M(4),at("ngModel",o.filtro.dataNascimento),M(4),at("ngModel",o.filtro.dataSaida),M(4),at("ngModel",o.filtro.sexo),M(10),at("ngModel",o.filtro.status),M(17),V("ngForOf",o.suinosFiltrados))},dependencies:[xs,It,_r,br,ut,vr,St,vo,mP,_E],styles:[".suino-listagem[_ngcontent-%COMP%]{margin:20px auto;width:80%}.filtros[_ngcontent-%COMP%]{margin-bottom:20px}.filtros[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px}.filtros[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.filtros[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:5px;border:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px}.lista-suinos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;padding:10px;background-color:#f0f0f0;border-bottom:1px solid #ccc;border-radius:5px 5px 0 0}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.lista-suinos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;margin-right:10px;border:none;border-radius:3px;cursor:pointer}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let t=e;return t})();function v5(t,e){t&1&&(b(0,"small"),E(1," A data da pesagem \xE9 obrigat\xF3ria. "),_())}function _5(t,e){t&1&&(b(0,"small"),E(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),_())}var np=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.pesoId="",this.peso={},this.edicaoPesoForm=this.formBuilder.group({dataPesagem:["",Ce.required],peso:["",[Ce.required,Ce.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){this.carregarPeso()}carregarPeso(){this.suinoService.getPeso(this.pesoId).subscribe(i=>{this.peso=i[0],this.edicaoPesoForm.patchValue({dataPesagem:this.peso.dataPesagem,peso:this.peso.peso})})}salvarEdicao(){if(this.edicaoPesoForm.valid){let{dataPesagem:i,peso:r}=this.edicaoPesoForm.value;this.suinoService.atualizarPeso(this.pesoId,"ID_DO_HISTORICO",i,r).then(()=>{console.log("Peso atualizado com sucesso.")}).catch(o=>{console.error("Erro ao atualizar peso:",o)})}else this.edicaoPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(ri),k(Dn))},e.\u0275cmp=Fe({type:e,selectors:[["app-edicao-peso"]],inputs:{pesoId:"pesoId"},decls:16,vars:4,consts:[[3,"formGroup","ngSubmit"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],[4,"ngIf"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(b(0,"div")(1,"h2"),E(2,"Edi\xE7\xE3o de Peso"),_(),b(3,"form",0),se("ngSubmit",function(){return o.salvarEdicao()}),b(4,"div")(5,"label",1),E(6,"Data da Pesagem:"),_(),oe(7,"input",2),ie(8,v5,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Peso (em Kg):"),_(),oe(12,"input",5),ie(13,_5,2,0,"small",3),_(),b(14,"button",6),E(15,"Salvar Edi\xE7\xE3o"),_()()()),r&2){let s,a;M(3),V("formGroup",o.edicaoPesoForm),M(5),V("ngIf",((s=o.edicaoPesoForm.get("dataPesagem"))==null?null:s.invalid)&&((s=o.edicaoPesoForm.get("dataPesagem"))==null?null:s.touched)),M(5),V("ngIf",((a=o.edicaoPesoForm.get("peso"))==null?null:a.invalid)&&((a=o.edicaoPesoForm.get("peso"))==null?null:a.touched)),M(),V("disabled",!o.edicaoPesoForm.valid)}},dependencies:[It,_n,ut,St,vn,Vn,jn],styles:["div[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;border-radius:5px}h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}small[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();var ip=(()=>{let e=class e{constructor(i,r){this.afAuth=i,this.router=r,this.user$=i.authState}login(i,r){this.afAuth.signInWithEmailAndPassword(i,r).then(()=>{console.log("Login bem-sucedido!"),this.router.navigate(["/dashboard"])}).catch(o=>{console.error("Erro no login:",o),alert("Email ou senha incorretos. Por favor, tente novamente.")})}signUp(i,r){this.afAuth.createUserWithEmailAndPassword(i,r).then(()=>{console.log("Cadastro bem-sucedido!"),this.router.navigate(["/deshbord"])}).catch(o=>{console.error("Erro no cadastro:",o)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logout bem-sucedido!"),this.router.navigate(["/login"])}).catch(i=>{console.error("Erro no logout:",i)})}};e.\u0275fac=function(r){return new(r||e)(I(Rl),I(Li))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function C5(t,e){t&1&&(b(0,"small"),E(1," O n\xFAmero de brinco \xE9 obrigat\xF3rio. "),_())}function w5(t,e){t&1&&(b(0,"small"),E(1," A data da pesagem \xE9 obrigat\xF3ria. "),_())}function D5(t,e){t&1&&(b(0,"small"),E(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),_())}var vP=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.cadastroPesoForm=this.formBuilder.group({numeroBrinco:["",Ce.required],dataPesagem:["",Ce.required],peso:["",[Ce.required,Ce.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){}cadastrarPeso(){if(this.cadastroPesoForm.valid){let{numeroBrinco:i,dataPesagem:r,peso:o}=this.cadastroPesoForm.value;he(this.suinoService.cadastrarPeso(i,r,o)).subscribe(()=>{console.log("Peso cadastrado com sucesso."),this.cadastroPesoForm.reset()},s=>{console.error("Erro ao cadastrar peso:",s)})}else this.cadastroPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(ri),k(Dn))},e.\u0275cmp=Fe({type:e,selectors:[["app-cadastro-peso"]],decls:21,vars:5,consts:[[3,"formGroup","ngSubmit"],["for","numeroBrinco"],["type","number","id","numeroBrinco","formControlName","numeroBrinco"],[4,"ngIf"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(b(0,"div")(1,"h2"),E(2,"Cadastro de Peso"),_(),b(3,"form",0),se("ngSubmit",function(){return o.cadastrarPeso()}),b(4,"div")(5,"label",1),E(6,"N\xFAmero de Brinco:"),_(),oe(7,"input",2),ie(8,C5,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Data da Pesagem:"),_(),oe(12,"input",5),ie(13,w5,2,0,"small",3),_(),b(14,"div")(15,"label",6),E(16,"Peso (em Kg):"),_(),oe(17,"input",7),ie(18,D5,2,0,"small",3),_(),b(19,"button",8),E(20,"Cadastrar Peso"),_()()()),r&2){let s,a,l;M(3),V("formGroup",o.cadastroPesoForm),M(5),V("ngIf",((s=o.cadastroPesoForm.get("numeroBrinco"))==null?null:s.invalid)&&((s=o.cadastroPesoForm.get("numeroBrinco"))==null?null:s.touched)),M(5),V("ngIf",((a=o.cadastroPesoForm.get("dataPesagem"))==null?null:a.invalid)&&((a=o.cadastroPesoForm.get("dataPesagem"))==null?null:a.touched)),M(5),V("ngIf",((l=o.cadastroPesoForm.get("peso"))==null?null:l.invalid)&&((l=o.cadastroPesoForm.get("peso"))==null?null:l.touched)),M(),V("disabled",!o.cadastroPesoForm.valid)}},dependencies:[It,_n,ut,Tl,St,vn,Vn,jn],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}form[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:red}"]});let t=e;return t})();function x5(t,e){t&1&&(b(0,"small"),E(1," A data \xE9 obrigat\xF3ria. "),_())}function I5(t,e){t&1&&(b(0,"small"),E(1," A descri\xE7\xE3o \xE9 obrigat\xF3ria. "),_())}function S5(t,e){if(t&1&&(b(0,"option",14),E(1),_()),t&2){let n=e.$implicit;V("value",n),M(),Ai(n)}}function M5(t,e){if(t&1&&(b(0,"option",14),E(1),_()),t&2){let n=e.$implicit;V("value",n==null?null:n.brinco),M(),Ai(n==null?null:n.brinco)}}function T5(t,e){t&1&&(b(0,"small"),E(1," As atividades s\xE3o obrigat\xF3rias. "),_())}var rp=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.suinos=[],this.suinosSelecionados=[],this.manejoForm=this.formBuilder.group({data:["",Ce.required],descricao:["",Ce.required],suinosSelecionados:[[],Ce.required],atividades:["",Ce.required]})}ngOnInit(){this.carregarSuinos()}carregarSuinos(){this.suinoService.getSuinos().subscribe(i=>{this.suinos=i})}adicionarSuino(i){this.suinosSelecionados.includes(i)?console.error("Su\xEDno selecionado j\xE1 foi adicionado."):(this.suinosSelecionados.push(i),this.manejoForm.get("suinosSelecionados")?.setValue(this.suinosSelecionados))}cadastrarManejo(){if(this.manejoForm.valid){let{data:i,descricao:r,suinosSelecionados:o,atividades:s,realizadas:a}=this.manejoForm.value,l=s.split(",").map(u=>u.trim()),c={data:i,descricao:r,brincos:o,atividades:l,atividadesRealizadas:a};this.suinoService.cadastrarManejo(c).then(()=>{console.log("Manejo sanit\xE1rio cadastrado com sucesso."),this.manejoForm.reset(),this.suinosSelecionados=[]}).catch(u=>{console.error("Erro ao cadastrar manejo sanit\xE1rio:",u)})}else this.manejoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(ri),k(Dn))},e.\u0275cmp=Fe({type:e,selectors:[["app-manejo-sanitario"]],decls:30,vars:7,consts:[[3,"formGroup","ngSubmit"],["for","data"],["type","date","id","data","formControlName","data"],[4,"ngIf"],["for","descricao"],["type","text","id","descricao","formControlName","descricao"],["for","suinosSelecionados"],["id","suinosSelecionados","formControlName","suinosSelecionados","multiple",""],[3,"value",4,"ngFor","ngForOf"],["id","suinosDisponiveis",3,"change"],["selectSuinosDisponiveis",""],["for","atividades"],["id","atividades","formControlName","atividades"],["type","submit",3,"disabled"],[3,"value"]],template:function(r,o){if(r&1){let s=dr();b(0,"div")(1,"h2"),E(2,"Cadastro de Manejo Sanit\xE1rio"),_(),b(3,"form",0),se("ngSubmit",function(){return o.cadastrarManejo()}),b(4,"div")(5,"label",1),E(6,"Data:"),_(),oe(7,"input",2),ie(8,x5,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Descri\xE7\xE3o:"),_(),oe(12,"input",5),ie(13,I5,2,0,"small",3),_(),b(14,"div")(15,"label",6),E(16,"Su\xEDnos Selecionados:"),_(),b(17,"select",7),ie(18,S5,2,2,"option",8),_()(),b(19,"div")(20,"select",9,10),se("change",function(){Rn(s);let l=GD(21);return On(o.adicionarSuino(l.value))}),ie(22,M5,2,2,"option",8),_()(),b(23,"div")(24,"label",11),E(25,"Atividades:"),_(),oe(26,"textarea",12),ie(27,T5,2,0,"small",3),_(),b(28,"button",13),E(29,"Cadastrar Manejo"),_()()()}if(r&2){let s,a,l;M(3),V("formGroup",o.manejoForm),M(5),V("ngIf",((s=o.manejoForm.get("data"))==null?null:s.invalid)&&((s=o.manejoForm.get("data"))==null?null:s.touched)),M(5),V("ngIf",((a=o.manejoForm.get("descricao"))==null?null:a.invalid)&&((a=o.manejoForm.get("descricao"))==null?null:a.touched)),M(5),V("ngForOf",o.suinosSelecionados),M(4),V("ngForOf",o.suinos),M(5),V("ngIf",((l=o.manejoForm.get("atividades"))==null?null:l.invalid)&&((l=o.manejoForm.get("atividades"))==null?null:l.touched)),M(),V("disabled",!o.manejoForm.valid)}},dependencies:[xs,It,_n,_r,br,ut,gh,St,vn,Vn,jn],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.titulo[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=date][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}small[_ngcontent-%COMP%]{color:red}button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();var _P=(()=>{let e=class e{constructor(i){this.db=i,this.manejoRef=i.list("/manejoSanitario")}getHistoricoManejos(){return this.manejoRef.valueChanges()}};e.\u0275fac=function(r){return new(r||e)(I(fc))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N5(t,e){if(t&1&&(b(0,"th"),E(1),_()),t&2){let n=e.$implicit;M(),Ai(n)}}function R5(t,e){if(t&1){let n=dr();b(0,"input",2),lt("ngModelChange",function(r){Rn(n);let o=it().$implicit,s=it(2).$implicit;return _t(s.atividadesRealizadas[o],r)||(s.atividadesRealizadas[o]=r),On(r)}),_()}if(t&2){let n=it().$implicit,i=it(2).$implicit;at("ngModel",i.atividadesRealizadas[n])}}function O5(t,e){if(t&1&&(b(0,"td"),ie(1,R5,1,1,"input",1),_()),t&2){let n=e.$implicit,i=it(2).$implicit;M(),V("ngIf",i.atividades.includes(n))}}function k5(t,e){if(t&1&&(b(0,"tr")(1,"td"),E(2),_(),ie(3,O5,2,1,"td",0),_()),t&2){let n=e.$implicit,i=it().$implicit;M(2),Ai(n),M(),V("ngForOf",i.atividades)}}function F5(t,e){if(t&1&&(b(0,"div")(1,"h2"),E(2,"Hist\xF3rico de Manejo Sanit\xE1rio"),_(),b(3,"table")(4,"thead")(5,"tr")(6,"th"),E(7,"Brinco"),_(),ie(8,N5,2,1,"th",0),_()(),b(9,"tbody"),ie(10,k5,4,2,"tr",0),_()()()),t&2){let n=e.$implicit;M(8),V("ngForOf",n.atividades),M(2),V("ngForOf",n.brincos)}}var op=(()=>{let e=class e{constructor(i){this.manejoService=i,this.historicoManejos=[],this.atividades=[]}ngOnInit(){this.carregarHistoricoManejos()}carregarHistoricoManejos(){this.manejoService.getHistoricoManejos().subscribe(i=>{this.historicoManejos=i.map(r=>{let o={};return r.brincos.forEach(s=>{o[s]=this.criarEstadoAtividades(r.atividades)}),ce(N({},r),{atividadesRealizadas:o})}),this.atividades=this.extrairAtividades(this.historicoManejos)})}criarEstadoAtividades(i){let r={};return i.forEach(o=>r[o]=!1),r}toggleAtividade(i,r,o){i.atividadesRealizadas[r].hasOwnProperty(o)&&(i.atividadesRealizadas[r][o]=!i.atividadesRealizadas[r][o])}extrairAtividades(i){let r=[];return i.forEach(o=>{o.atividades.forEach(s=>{r.includes(s)||r.push(s)})}),r}};e.\u0275fac=function(r){return new(r||e)(k(_P))},e.\u0275cmp=Fe({type:e,selectors:[["app-historico-manejo"]],decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],["type","text",3,"ngModel","ngModelChange",4,"ngIf"],["type","text",3,"ngModel","ngModelChange"]],template:function(r,o){r&1&&ie(0,F5,11,2,"div",0),r&2&&V("ngForOf",o.historicoManejos)},dependencies:[xs,It,ut,St,vo],styles:["div[_ngcontent-%COMP%]{margin-top:20px}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px;text-align:left}td[_ngcontent-%COMP%]{padding:10px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}li[_ngcontent-%COMP%]{margin-bottom:5px}li.highlight[_ngcontent-%COMP%]{font-weight:700;color:#007bff}"]});let t=e;return t})();function V5(t,e){t&1&&(Mi(0),oe(1,"app-suino-cadastro"),Ti())}function j5(t,e){t&1&&(Mi(0),oe(1,"app-suino-listagem"),Ti())}function B5(t,e){t&1&&(Mi(0),oe(1,"app-controle-peso"),Ti())}function U5(t,e){t&1&&(Mi(0),oe(1,"app-edicao-peso"),Ti())}function $5(t,e){t&1&&(Mi(0),oe(1,"app-cadastro-peso"),Ti())}function H5(t,e){t&1&&(Mi(0),oe(1,"app-manejo-sanitario"),Ti())}function z5(t,e){t&1&&(Mi(0),oe(1,"app-historico-manejo"),Ti())}var bP=(()=>{let e=class e{constructor(i){this.authService=i,this.currentComponent="",this.currentYear=new Date().getFullYear(),this.sidebarHidden=!1}showCadastro(){this.currentComponent="cadastro"}showListagem(){this.currentComponent="listagem"}showControlePeso(){this.currentComponent="controlePeso"}showEdicaoPeso(){this.currentComponent="edicaoPeso"}showCadastroPeso(){this.currentComponent="cadastroPeso"}toggleSidebar(){this.sidebarHidden=!this.sidebarHidden}showManejoSanitario(){this.currentComponent="manejo-sanitario"}showHistoricoManejo(){this.currentComponent="historico-manejo"}logout(){this.authService.logout()}};e.\u0275fac=function(r){return new(r||e)(k(ip))},e.\u0275cmp=Fe({type:e,selectors:[["app-dashboard"]],decls:36,vars:20,consts:[[1,"dashboard"],[1,"header"],[1,"toggle-button",3,"click"],[1,"logout-button",3,"click"],[1,"content"],[1,"sidebar"],[1,"button-container"],[3,"click"],[1,"main-content"],[4,"ngIf"],[1,"footer"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"h2"),E(3,"Su\xEDnoFarm"),_(),b(4,"button",2),se("click",function(){return o.toggleSidebar()}),E(5,"\u2630"),_(),b(6,"button",3),se("click",function(){return o.logout()}),E(7,"Logout"),_()(),b(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7),se("click",function(){return o.showCadastro()}),E(12,"Cadastro de Su\xEDno"),_()(),b(13,"div",6)(14,"button",7),se("click",function(){return o.showListagem()}),E(15,"Listagem de Su\xEDnos"),_()(),b(16,"div",6)(17,"button",7),se("click",function(){return o.showCadastroPeso()}),E(18,"Cadastro de Peso"),_()(),b(19,"div",6)(20,"button",7),se("click",function(){return o.showManejoSanitario()}),E(21,"Manejo Sanitario"),_()(),b(22,"div",6)(23,"button",7),se("click",function(){return o.showHistoricoManejo()}),E(24,"Historico Manejo"),_()()(),b(25,"div",8),ie(26,V5,2,0,"ng-container",9)(27,j5,2,0,"ng-container",9)(28,B5,2,0,"ng-container",9)(29,U5,2,0,"ng-container",9)(30,$5,2,0,"ng-container",9)(31,H5,2,0,"ng-container",9)(32,z5,2,0,"ng-container",9),_()(),b(33,"div",10)(34,"p"),E(35),_()()()),r&2&&(M(9),Fn("hide",o.sidebarHidden),M(2),Fn("active",o.currentComponent==="cadastro"),M(3),Fn("active",o.currentComponent==="listagem"),M(3),Fn("active",o.currentComponent==="cadastroPeso"),M(3),Fn("active",o.currentComponent==="manejo-sanitario"),M(3),Fn("active",o.currentComponent==="historico-manejo"),M(3),V("ngIf",o.currentComponent==="cadastro"),M(),V("ngIf",o.currentComponent==="listagem"),M(),V("ngIf",o.currentComponent==="controlePeso"),M(),V("ngIf",o.currentComponent==="edicaoPeso"),M(),V("ngIf",o.currentComponent==="cadastroPeso"),M(),V("ngIf",o.currentComponent==="manejo-sanitario"),M(),V("ngIf",o.currentComponent==="historico-manejo"),M(3),kt("\xA9 ",o.currentYear," Su\xEDnoFarm. Todos os direitos reservados."))},dependencies:[It,vP,ep,np,pf,tp,rp,op],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.content[_ngcontent-%COMP%]{display:flex;flex:1}.sidebar[_ngcontent-%COMP%]{width:200px;background-color:#f0f0f0;padding:10px;transition:width .3s ease}.main-content[_ngcontent-%COMP%]{flex:1;padding:10px}.footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#45a049}.hide[_ngcontent-%COMP%]{display:none}.toggle-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:20px;cursor:pointer}"]});let t=e;return t})();function CP(){return t=>{let e=t.value||"";return/[A-Z]/.test(e)?null:{uppercase:!0}}}function W5(t,e){t&1&&(b(0,"small"),E(1,"O e-mail \xE9 obrigat\xF3rio."),_())}function G5(t,e){t&1&&(b(0,"small"),E(1,"O e-mail n\xE3o \xE9 v\xE1lido."),_())}function q5(t,e){if(t&1&&(b(0,"div"),ie(1,W5,2,0,"small",4)(2,G5,2,0,"small",4),_()),t&2){let n=it(2),i,r;M(),V("ngIf",(i=n.authForm.get("email"))==null||i.errors==null?null:i.errors.required),M(),V("ngIf",(r=n.authForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function Y5(t,e){t&1&&(b(0,"small"),E(1,"A senha \xE9 obrigat\xF3ria."),_())}function K5(t,e){t&1&&(b(0,"small"),E(1,"A senha deve ter pelo menos 6 caracteres."),_())}function Q5(t,e){t&1&&(b(0,"small"),E(1,"A senha deve conter pelo menos uma letra mai\xFAscula."),_())}function Z5(t,e){if(t&1&&(b(0,"div"),ie(1,Y5,2,0,"small",4)(2,K5,2,0,"small",4)(3,Q5,2,0,"small",4),_()),t&2){let n=it(2),i,r,o;M(),V("ngIf",(i=n.authForm.get("password"))==null||i.errors==null?null:i.errors.required),M(),V("ngIf",(r=n.authForm.get("password"))==null||r.errors==null?null:r.errors.minlength),M(),V("ngIf",(o=n.authForm.get("password"))==null||o.errors==null?null:o.errors.uppercase)}}function X5(t,e){if(t&1){let n=dr();b(0,"form",1),se("ngSubmit",function(){Rn(n);let r=it();return On(r.submitForm())}),oe(1,"input",2)(2,"input",3),ie(3,q5,3,2,"div",4)(4,Z5,4,3,"div",4),b(5,"button",5),E(6),_(),b(7,"button",6),se("click",function(){Rn(n);let r=it();return On(r.toggleMode())}),E(8),_()()}if(t&2){let n=it(),i,r;V("formGroup",n.authForm),M(3),V("ngIf",(i=n.authForm.get("email"))==null?null:i.errors),M(),V("ngIf",(r=n.authForm.get("password"))==null?null:r.errors),M(2),Ai(n.isLoginMode?"Login":"Cadastrar"),M(2),kt(" ",n.isLoginMode?"N\xE3o tem uma conta? Clique aqui para se cadastrar.":"J\xE1 tem uma conta? Clique aqui para fazer login."," ")}}var wP=(()=>{let e=class e{constructor(i,r){this.authService=i,this.fb=r,this.email="",this.password="",this.isLoginMode=!0,this.authForm=this.fb.group({email:["",[Ce.required,Ce.email]],password:["",[Ce.required,Ce.minLength(6),CP()]]})}submitForm(){let i=this.authForm.value.email,r=this.authForm.value.password;this.isLoginMode?this.authService.login(i,r):this.authService.signUp(i,r)}toggleMode(){this.isLoginMode=!this.isLoginMode,this.authForm.reset()}};e.\u0275fac=function(r){return new(r||e)(k(ip),k(ri))},e.\u0275cmp=Fe({type:e,selectors:[["app-auth"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","email","formControlName","email","placeholder","E-mail","required",""],["type","password","formControlName","password","placeholder","Senha","required",""],[4,"ngIf"],["type","submit"],["type","button",3,"click"]],template:function(r,o){r&1&&ie(0,X5,9,5,"form",0),r&2&&V("ngIf",o.authForm)},dependencies:[It,_n,ut,St,vn,Al,Vn,jn],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}input[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;border:1px solid #ccc;border-radius:5px;font-size:1rem;width:300px}button[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none}nav[_ngcontent-%COMP%]{background-color:#333;padding:10px 20px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-right:20px;transition:color .3s ease}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff8c00}"]});let t=e;return t})();var J5=[{path:"historico-manejo",component:op},{path:"login",component:wP},{path:"dashboard",component:bP},{path:"cadastro",component:pf},{path:"controle-peso",component:ep},{path:"edicao/:id",component:np},{path:"listagem",component:tp},{path:"manejo-sanitario",component:rp},{path:"**",redirectTo:"/login",pathMatch:"full"}],DP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e}),e.\u0275inj=Ue({imports:[Wy.forRoot(J5),Wy]});let t=e;return t})();var EP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){r&1&&oe(0,"router-outlet")},dependencies:[Vy]});let t=e;return t})();var xP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=je({type:e,bootstrap:[EP]}),e.\u0275inj=Ue({imports:[UE,DP,NE,dI,hI,MI.initializeApp({apiKey:"AIzaSyAEenTbuLW6QkWSCPd-gMNr93VQPP9AwVk",authDomain:"suinofarm-manager.firebaseapp.com",databaseURL:"https://suinofarm-manager-default-rtdb.firebaseio.com",projectId:"suinofarm-manager",storageBucket:"suinofarm-manager.appspot.com",messagingSenderId:"960113480429",appId:"1:960113480429:web:4fc9a410a1ca5c9d2cf2e4"}),JM,TI]});let t=e;return t})();BE().bootstrapModule(xP).catch(t=>console.error(t));
