import{A as pa,B as m0,C as y0,D as B,E as Ft,F as tt,G as Jf,H as v0,I as ga,J as xt,K as ui,L as Ac,M as ep,N as _0,O as Ms,P as ma,Q as b0,R as C0,S as $i,T as It,a as P,b as le,c as en,d as s0,e as Ic,f as o0,g as a0,h as S,i as Ss,j as Sc,k as l0,l as c0,m as rt,n as u0,o as Xf,p as d0,q as Ln,r as h0,s as f0,t as Mc,u as Ke,v as p0,w as g0,x as tn,y as Ui,z as Tc}from"./chunk-TIG7Q4RW.js";var w0=null;var tp=1,np=Symbol("SIGNAL");function fe(t){let e=w0;return w0=t,e}var D0={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function tP(t){if(!(sp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===tp)){if(!t.producerMustRecompute(t)&&!ip(t)){t.dirty=!1,t.lastCleanEpoch=tp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=tp}}function E0(t){return t&&(t.nextProducerIndex=0),fe(t)}function x0(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(sp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)rp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function ip(t){Pc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(tP(n),i!==n.version))return!0}return!1}function I0(t){if(Pc(t),sp(t))for(let e=0;e<t.producerNode.length;e++)rp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function rp(t,e){if(nP(t),Pc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)rp(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Pc(r),r.producerIndexOfThis[i]=e}}function sp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function nP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function iP(){throw new Error}var rP=iP;function S0(t){rP=t}function $(t){return typeof t=="function"}function Ts(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Nc=Ts(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Nr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ge=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:i}=this;if($(i))try{i()}catch(s){e=s instanceof Nc?s.errors:[s]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let s of r)try{M0(s)}catch(o){e=e??[],o instanceof Nc?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Nc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)M0(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Nr(n,e)}remove(e){let{_finalizers:n}=this;n&&Nr(n,e),e instanceof t&&e._removeParent(this)}};Ge.EMPTY=(()=>{let t=new Ge;return t.closed=!0,t})();var op=Ge.EMPTY;function Rc(t){return t instanceof Ge||t&&"closed"in t&&$(t.remove)&&$(t.add)&&$(t.unsubscribe)}function M0(t){$(t)?t():t.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var As={setTimeout(t,e,...n){let{delegate:i}=As;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=As;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function kc(t){As.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(t);else throw t})}function Rr(){}var T0=ap("C",void 0,void 0);function A0(t){return ap("E",void 0,t)}function P0(t){return ap("N",t,void 0)}function ap(t,e,n){return{kind:t,value:e,error:n}}var kr=null;function Ps(t){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!kr;if(e&&(kr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=kr;if(kr=null,n)throw i}}else t()}function N0(t){Cn.useDeprecatedSynchronousErrorHandling&&kr&&(kr.errorThrown=!0,kr.error=t)}var Or=class extends Ge{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Rc(e)&&e.add(this)):this.destination=aP}static create(e,n,i){return new di(e,n,i)}next(e){this.isStopped?cp(P0(e),this):this._next(e)}error(e){this.isStopped?cp(A0(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?cp(T0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sP=Function.prototype.bind;function lp(t,e){return sP.call(t,e)}var up=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){Oc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){Oc(i)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Oc(n)}}},di=class extends Or{constructor(e,n,i){super();let r;if($(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let s;this&&Cn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&lp(e.next,s),error:e.error&&lp(e.error,s),complete:e.complete&&lp(e.complete,s)}):r=e}this.destination=new up(r)}};function Oc(t){Cn.useDeprecatedSynchronousErrorHandling?N0(t):kc(t)}function oP(t){throw t}function cp(t,e){let{onStoppedNotification:n}=Cn;n&&As.setTimeout(()=>n(t,e))}var aP={closed:!0,next:Rr,error:oP,complete:Rr};var Ns=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ct(t){return t}function dp(...t){return hp(t)}function hp(t){return t.length===0?ct:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var Z=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let s=cP(n)?n:new di(n,i,r);return Ps(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=R0(i),new i((r,s)=>{let o=new di({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Ns](){return this}pipe(...n){return hp(n)(this)}toPromise(n){return n=R0(n),new n((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return t.create=e=>new t(e),t})();function R0(t){var e;return(e=t??Cn.Promise)!==null&&e!==void 0?e:Promise}function lP(t){return t&&$(t.next)&&$(t.error)&&$(t.complete)}function cP(t){return t&&t instanceof Or||lP(t)&&Rc(t)}function fp(t){return $(t?.lift)}function q(t){return e=>{if(fp(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function H(t,e,n,i,r){return new pp(t,e,n,i,r)}var pp=class extends Or{constructor(e,n,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Rs(){return q((t,e)=>{let n=null;t._refCount++;let i=H(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,s=n;n=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var ks=class extends Z{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,fp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ge;let n=this.getSubject();e.add(this.source.subscribe(H(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ge.EMPTY)}return e}refCount(){return Rs()(this)}};var k0=Ts(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var nt=(()=>{class t extends Z{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Fc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new k0}next(n){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){Ps(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:s}=this;return i||r?op:(this.currentObservers=null,s.push(n),new Ge(()=>{this.currentObservers=null,Nr(s,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:s}=this;i?n.error(r):s&&n.complete()}asObservable(){let n=new Z;return n.source=this,n}}return t.create=(e,n)=>new Fc(e,n),t})(),Fc=class extends nt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:op}};var ut=class extends nt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var ya={now(){return(ya.delegate||Date).now()},delegate:void 0};var Lc=class extends nt{constructor(e=1/0,n=1/0,i=ya){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:s,_windowTime:o}=this;n||(i.push(e),!r&&i.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,s=r.slice();for(let o=0;o<s.length&&!e.closed;o+=i?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,s=(r?1:2)*e;if(e<1/0&&s<i.length&&i.splice(0,i.length-s),!r){let o=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=o;l+=2)a=l;a&&i.splice(0,a+1)}}};var Vc=class extends Ge{constructor(e,n){super()}schedule(e,n=0){return this}};var va={setInterval(t,e,...n){let{delegate:i}=va;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=va;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Os=class extends Vc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,s=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(s,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,i=0){return va.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&va.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(s){i=!0,r=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Nr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Fs=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Fs.now=ya.now;var Ls=class extends Fs{constructor(e,n=Fs.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var _a=new Ls(Os);var jc=class extends Os{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Bc=class extends Ls{};var gp=new Bc(jc);var Lt=new Z(t=>t.complete());function O0(t){return t&&$(t.schedule)}function mp(t){return t[t.length-1]}function Vs(t){return $(mp(t))?t.pop():void 0}function Vn(t){return O0(mp(t))?t.pop():void 0}function F0(t,e){return typeof mp(t)=="number"?t.pop():e}var Uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function $c(t){return $(t?.then)}function Hc(t){return $(t[Ns])}function zc(t){return Symbol.asyncIterator&&$(t?.[Symbol.asyncIterator])}function Wc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gc=uP();function qc(t){return $(t?.[Gc])}function Yc(t){return o0(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Ic(n.read());if(r)return yield Ic(void 0);yield yield Ic(i)}}finally{n.releaseLock()}})}function Kc(t){return $(t?.getReader)}function be(t){if(t instanceof Z)return t;if(t!=null){if(Hc(t))return dP(t);if(Uc(t))return hP(t);if($c(t))return fP(t);if(zc(t))return L0(t);if(qc(t))return pP(t);if(Kc(t))return gP(t)}throw Wc(t)}function dP(t){return new Z(e=>{let n=t[Ns]();if($(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hP(t){return new Z(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function fP(t){return new Z(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,kc)})}function pP(t){return new Z(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function L0(t){return new Z(e=>{mP(t,e).catch(n=>e.error(n))})}function gP(t){return L0(Yc(t))}function mP(t,e){var n,i,r,s;return s0(this,void 0,void 0,function*(){try{for(n=a0(t);i=yield n.next(),!i.done;){let o=i.value;if(e.next(o),e.closed)return}}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=n.return)&&(yield s.call(n))}finally{if(r)throw r.error}}e.complete()})}function Vt(t,e,n,i=0,r=!1){let s=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(s),!r)return s}function nn(t,e=0){return q((n,i)=>{n.subscribe(H(i,r=>Vt(i,t,()=>i.next(r),e),()=>Vt(i,t,()=>i.complete(),e),r=>Vt(i,t,()=>i.error(r),e)))})}function wn(t,e=0){return q((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function V0(t,e){return be(t).pipe(wn(e),nn(e))}function j0(t,e){return be(t).pipe(wn(e),nn(e))}function B0(t,e){return new Z(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function U0(t,e){return new Z(n=>{let i;return Vt(n,e,()=>{i=t[Gc](),Vt(n,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){n.error(o);return}s?n.complete():n.next(r)},0,!0)}),()=>$(i?.return)&&i.return()})}function Qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new Z(n=>{Vt(n,e,()=>{let i=t[Symbol.asyncIterator]();Vt(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function $0(t,e){return Qc(Yc(t),e)}function H0(t,e){if(t!=null){if(Hc(t))return V0(t,e);if(Uc(t))return B0(t,e);if($c(t))return j0(t,e);if(zc(t))return Qc(t,e);if(qc(t))return U0(t,e);if(Kc(t))return $0(t,e)}throw Wc(t)}function ue(t,e){return e?H0(t,e):be(t)}function V(...t){let e=Vn(t);return ue(t,e)}function js(t,e){let n=$(t)?t:()=>t,i=r=>r.error(n());return new Z(e?r=>e.schedule(i,0,r):i)}function yp(t){return!!t&&(t instanceof Z||$(t.lift)&&$(t.subscribe))}var hi=Ts(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function j(t,e){return q((n,i)=>{let r=0;n.subscribe(H(i,s=>{i.next(t.call(e,s,r++))}))})}var{isArray:yP}=Array;function vP(t,e){return yP(e)?t(...e):t(e)}function Zc(t){return j(e=>vP(t,e))}var{isArray:_P}=Array,{getPrototypeOf:bP,prototype:CP,keys:wP}=Object;function Xc(t){if(t.length===1){let e=t[0];if(_P(e))return{args:e,keys:null};if(DP(e)){let n=wP(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function DP(t){return t&&typeof t=="object"&&bP(t)===CP}function Jc(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function ba(...t){let e=Vn(t),n=Vs(t),{args:i,keys:r}=Xc(t);if(i.length===0)return ue([],e);let s=new Z(EP(i,e,r?o=>Jc(r,o):ct));return n?s.pipe(Zc(n)):s}function EP(t,e,n=ct){return i=>{z0(e,()=>{let{length:r}=t,s=new Array(r),o=r,a=r;for(let l=0;l<r;l++)z0(e,()=>{let c=ue(t[l],e),u=!1;c.subscribe(H(i,d=>{s[l]=d,u||(u=!0,a--),a||i.next(n(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}function z0(t,e,n){t?Vt(n,t,e):e()}function W0(t,e,n,i,r,s,o,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{s&&e.next(g),c++;let m=!1;be(n(g,u++)).subscribe(H(e,y=>{r?.(y),s?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<i;){let y=l.shift();o?Vt(e,o,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(H(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Qe(t,e,n=1/0){return $(e)?Qe((i,r)=>j((s,o)=>e(i,s,r,o))(be(t(i,r))),n):(typeof e=="number"&&(n=e),q((i,r)=>W0(i,r,t,n)))}function Hi(t=1/0){return Qe(ct,t)}function G0(){return Hi(1)}function Bs(...t){return G0()(ue(t,Vn(t)))}function eu(t){return new Z(e=>{be(t()).subscribe(e)})}function vp(...t){let e=Vs(t),{args:n,keys:i}=Xc(t),r=new Z(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,c=o;for(let u=0;u<o;u++){let d=!1;be(n[u]).subscribe(H(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(i?Jc(i,a):a),s.complete())}))}});return e?r.pipe(Zc(e)):r}function Us(...t){let e=Vn(t),n=F0(t,1/0),i=t;return i.length?i.length===1?be(i[0]):Hi(n)(ue(i,e)):Lt}function mt(t,e){return q((n,i)=>{let r=0;n.subscribe(H(i,s=>t.call(e,s,r++)&&i.next(s)))})}function zi(t){return q((e,n)=>{let i=null,r=!1,s;i=e.subscribe(H(n,void 0,void 0,o=>{s=be(t(o,zi(t)(e))),i?(i.unsubscribe(),i=null,s.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(n))})}function q0(t,e,n,i,r){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(H(o,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),i&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}function fi(t,e){return $(e)?Qe(t,e,1):Qe(t,1)}function Wi(t){return q((e,n)=>{let i=!1;e.subscribe(H(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function pi(t){return t<=0?()=>Lt:q((e,n)=>{let i=0;e.subscribe(H(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function _p(t){return j(()=>t)}function bp(t,e=ct){return t=t??xP,q((n,i)=>{let r,s=!0;n.subscribe(H(i,o=>{let a=e(o);(s||!t(r,a))&&(s=!1,r=a,i.next(o))}))})}function xP(t,e){return t===e}function tu(t=IP){return q((e,n)=>{let i=!1;e.subscribe(H(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function IP(){return new hi}function Gi(t){return q((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function rn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?mt((r,s)=>t(r,s,i)):ct,pi(1),n?Wi(e):tu(()=>new hi))}function $s(t){return t<=0?()=>Lt:q((e,n)=>{let i=[];e.subscribe(H(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Cp(t,e){let n=arguments.length>=2;return i=>i.pipe(t?mt((r,s)=>t(r,s,i)):ct,$s(1),n?Wi(e):tu(()=>new hi))}function Hs(t,e){return q(q0(t,e,arguments.length>=2,!0))}function Ca(t={}){let{connector:e=()=>new nt,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},p=()=>{let g=o;f(),g?.unsubscribe()};return q((g,m)=>{c++,!d&&!u&&h();let y=l=l??e();m.add(()=>{c--,c===0&&!d&&!u&&(a=wp(p,r))}),y.subscribe(m),!o&&c>0&&(o=new di({next:v=>y.next(v),error:v=>{d=!0,h(),a=wp(f,n,v),y.error(v)},complete:()=>{u=!0,h(),a=wp(f,i),y.complete()}}),be(g).subscribe(o))})(s)}}function wp(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new di({next:()=>{i.unsubscribe(),t()}});return be(e(...n)).subscribe(i)}function nu(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,Ca({connector:()=>new Lc(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function Dp(t){return q((e,n)=>{let i=!1,r=0;e.subscribe(H(n,s=>(i||(i=!t(s,r++)))&&n.next(s)))})}function Ep(...t){let e=Vn(t);return q((n,i)=>{(e?Bs(t,n,e):Bs(t,n)).subscribe(i)})}function Ie(t,e){return q((n,i)=>{let r=null,s=0,o=!1,a=()=>o&&!r&&i.complete();n.subscribe(H(i,l=>{r?.unsubscribe();let c=0,u=s++;be(t(l,u)).subscribe(r=H(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function iu(t,e){return $(e)?Ie(()=>t,e):Ie(()=>t)}function xp(t){return q((e,n)=>{be(t).subscribe(H(n,()=>n.complete(),Rr)),!n.closed&&e.subscribe(n)})}function qe(t,e,n){let i=$(t)||e||n?{next:t,error:e,complete:n}:t;return i?q((r,s)=>{var o;(o=i.subscribe)===null||o===void 0||o.call(i);let a=!0;r.subscribe(H(s,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):ct}function Ip(...t){let e=Vs(t);return q((n,i)=>{let r=t.length,s=new Array(r),o=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)be(t[l]).subscribe(H(i,c=>{s[l]=c,!a&&!o[l]&&(o[l]=!0,(a=o.every(ct))&&(o=null))},Rr));n.subscribe(H(i,l=>{if(a){let c=[l,...s];i.next(e?e(...c):c)}}))})}var SP="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(Ou(e,n)),this.code=e}};function Ou(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var Hp=class extends nt{constructor(e=!1){super(),this.__isAsync=e}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,i){let r=e,s=n||(()=>null),o=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Sp(s),r&&(r=Sp(r)),o&&(o=Sp(o)));let a=super.subscribe({next:r,error:s,complete:o});return e instanceof Ge&&e.add(a),a}};function Sp(t){return e=>{setTimeout(t,void 0,e)}}var $e=Hp;var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{});function Mt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Mt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Y0(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var NC=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(NC||{}),Un=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Un||{});function ka(t){return{toString:t}.toString()}var dt=globalThis;var Qs={},sn=[];function Ce(t){for(let e in t)if(t[e]===Ce)return e;throw Error("Could not find renamed property on target object.")}function MP(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}var TP=Ce({\u0275cmp:Ce}),AP=Ce({\u0275dir:Ce}),PP=Ce({\u0275pipe:Ce}),NP=Ce({\u0275mod:Ce}),fu=Ce({\u0275fac:Ce}),wa=Ce({__NG_ELEMENT_ID__:Ce}),K0=Ce({__NG_ENV_ID__:Ce}),ht=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ht||{});function RC(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let s=e.length;if(r+s===i||t.charCodeAt(r+s)<=32)return r}n=r+1}}function zp(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let s=n[i++],o=n[i++],a=n[i++];t.setAttribute(e,o,a,s)}else{let s=r,o=n[++i];kP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),i++}}return i}function RP(t){return t===3||t===4||t===6}function kP(t){return t.charCodeAt(0)===64}function Ea(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?Q0(t,n,r,null,e[++i]):Q0(t,n,r,null,null))}}return t}function Q0(t,e,n,i,r){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[s+1]=r);return}else if(i===t[s+1]){t[s+2]=r;return}}s++,i!==null&&s++,r!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),i!==null&&t.splice(s++,0,i),r!==null&&t.splice(s++,0,r)}var kC="ng-template";function OP(t,e,n){let i=0,r=!0;for(;i<t.length;){let s=t[i++];if(typeof s=="string"&&r){let o=t[i++];if(n&&s==="class"&&RC(o.toLowerCase(),e,0)!==-1)return!0}else if(s===1){for(;i<t.length&&typeof(s=t[i++])=="string";)if(s.toLowerCase()===e)return!0;return!1}else typeof s=="number"&&(r=!1)}return!1}function OC(t){return t.type===4&&t.value!==kC}function FP(t,e,n){let i=t.type===4&&!n?kC:t.value;return e===i}function LP(t,e,n){let i=4,r=t.attrs||[],s=BP(r),o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Dn(i)&&!Dn(l))return!1;if(o&&Dn(l))continue;o=!1,i=l|i&1;continue}if(!o)if(i&4){if(i=2|i&1,l!==""&&!FP(t,l,n)||l===""&&e.length===1){if(Dn(i))return!1;o=!0}}else{let c=i&8?l:e[++a];if(i&8&&t.attrs!==null){if(!OP(t.attrs,c,n)){if(Dn(i))return!1;o=!0}continue}let u=i&8?"class":l,d=VP(u,r,OC(t),n);if(d===-1){if(Dn(i))return!1;o=!0;continue}if(c!==""){let h;d>s?h="":h=r[d+1].toLowerCase();let f=i&8?h:null;if(f&&RC(f,c,0)!==-1||i&2&&c!==h){if(Dn(i))return!1;o=!0}}}}return Dn(i)||o}function Dn(t){return(t&1)===0}function VP(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let s=!1;for(;r<e.length;){let o=e[r];if(o===t)return r;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(o===4)break;if(o===0){r+=4;continue}}r+=s?1:2}return-1}else return UP(e,t)}function jP(t,e,n=!1){for(let i=0;i<e.length;i++)if(LP(t,e[i],n))return!0;return!1}function BP(t){for(let e=0;e<t.length;e++){let n=t[e];if(RP(n))return e}return t.length}function UP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function Z0(t,e){return t?":not("+e.trim()+")":e}function $P(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(i&2){let a=t[++n];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+o:i&4&&(r+=" "+o);else r!==""&&!Dn(o)&&(e+=Z0(s,r),r=""),i=o,s=s||!Dn(i);n++}return r!==""&&(e+=Z0(s,r)),e}function HP(t){return t.map($P).join(",")}function zP(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let s=t[i];if(typeof s=="string")r===2?s!==""&&e.push(s,t[++i]):r===8&&n.push(s);else{if(!Dn(r))break;r=s}i++}return{attrs:e,classes:n}}function Xe(t){return ka(()=>{let e=UC(t),n=le(P({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===NC.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Un.Emulated,styles:t.styles||sn,_:null,schemas:t.schemas||null,tView:null,id:""});$C(n);let i=t.dependencies;return n.directiveDefs=J0(i,!1),n.pipeDefs=J0(i,!0),n.id=qP(n),n})}function WP(t){return Ki(t)||LC(t)}function GP(t){return t!==null}function Fe(t){return ka(()=>({type:t.type,bootstrap:t.bootstrap||sn,declarations:t.declarations||sn,imports:t.imports||sn,exports:t.exports||sn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function X0(t,e){if(t==null)return Qs;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],s,o,a=ht.None;Array.isArray(r)?(a=r[0],s=r[1],o=r[2]??s):(s=r,o=r),e?(n[s]=a!==ht.None?[i,a]:i,e[s]=o):n[s]=i}return n}function Le(t){return ka(()=>{let e=UC(t);return $C(e),e})}function FC(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ki(t){return t[TP]||null}function LC(t){return t[AP]||null}function VC(t){return t[PP]||null}function jC(t){let e=Ki(t)||LC(t)||VC(t);return e!==null?e.standalone:!1}function BC(t,e){let n=t[NP]||null;if(!n&&e===!0)throw new Error(`Type ${Mt(t)} does not have '\u0275mod' property.`);return n}function UC(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Qs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||sn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:X0(t.inputs,e),outputs:X0(t.outputs),debugInfo:null}}function $C(t){t.features?.forEach(e=>e(t))}function J0(t,e){if(!t)return null;let n=e?VC:WP;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(GP)}function qP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}var yi=0,se=1,U=2,yt=3,En=4,Sn=5,pu=6,xa=7,xn=8,Zs=9,Qi=10,Ze=11,Ia=12,eC=13,so=14,$n=15,Fu=16,zs=17,Xs=18,Lu=19,HC=20,Yi=21,Mp=22,jr=23,In=25,zC=1;var Br=7,gu=8,mu=9,on=10,Ag=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Ag||{});function Lr(t){return Array.isArray(t)&&typeof t[zC]=="object"}function vi(t){return Array.isArray(t)&&t[zC]===!0}function Pg(t){return(t.flags&4)!==0}function Vu(t){return t.componentOffset>-1}function ju(t){return(t.flags&1)===1}function Zi(t){return!!t.template}function YP(t){return(t[U]&512)!==0}var KP="svg",QP="math",ZP=!1;function XP(){return ZP}function Hn(t){for(;Array.isArray(t);)t=t[yi];return t}function WC(t,e){return Hn(e[t])}function an(t,e){return Hn(e[t.index])}function GC(t,e){return t.data[e]}function JP(t,e){return t[e]}function er(t,e){let n=e[t];return Lr(n)?n:n[yi]}function Ng(t){return(t[U]&128)===128}function eN(t){return vi(t[yt])}function Js(t,e){return e==null?null:t[e]}function qC(t){t[zs]=0}function tN(t){t[U]&1024||(t[U]|=1024,Ng(t)&&Sa(t))}function nN(t,e){for(;t>0;)e=e[so],t--;return e}function Rg(t){return!!(t[U]&9216||t[jr]?.dirty)}function Wp(t){Rg(t)?Sa(t):t[U]&64&&(XP()?(t[U]|=1024,Sa(t)):t[Qi].changeDetectionScheduler?.notify())}function Sa(t){t[Qi].changeDetectionScheduler?.notify();let e=Ma(t);for(;e!==null&&!(e[U]&8192||(e[U]|=8192,!Ng(e)));)e=Ma(e)}function YC(t,e){if((t[U]&256)===256)throw new L(911,!1);t[Yi]===null&&(t[Yi]=[]),t[Yi].push(e)}function iN(t,e){if(t[Yi]===null)return;let n=t[Yi].indexOf(e);n!==-1&&t[Yi].splice(n,1)}function Ma(t){let e=t[yt];return vi(e)?e[yt]:e}var ne={lFrame:tw(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function rN(){return ne.lFrame.elementDepthCount}function sN(){ne.lFrame.elementDepthCount++}function oN(){ne.lFrame.elementDepthCount--}function KC(){return ne.bindingsEnabled}function aN(){return ne.skipHydrationRootTNode!==null}function lN(t){return ne.skipHydrationRootTNode===t}function cN(){ne.skipHydrationRootTNode=null}function we(){return ne.lFrame.lView}function vt(){return ne.lFrame.tView}function oo(t){return ne.lFrame.contextLView=t,t[xn]}function ao(t){return ne.lFrame.contextLView=null,t}function Bt(){let t=QC();for(;t!==null&&t.type===64;)t=t.parent;return t}function QC(){return ne.lFrame.currentTNode}function uN(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Gr(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function kg(){return ne.lFrame.isParent}function ZC(){ne.lFrame.isParent=!1}function dN(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function hN(t){return ne.lFrame.bindingIndex=t}function Bu(){return ne.lFrame.bindingIndex++}function fN(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pN(){return ne.lFrame.inI18n}function gN(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Gp(e)}function mN(){return ne.lFrame.currentDirectiveIndex}function Gp(t){ne.lFrame.currentDirectiveIndex=t}function yN(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function XC(t){ne.lFrame.currentQueryIndex=t}function vN(t){let e=t[se];return e.type===2?e.declTNode:e.type===1?t[Sn]:null}function JC(t,e,n){if(n&ee.SkipSelf){let r=e,s=t;for(;r=r.parent,r===null&&!(n&ee.Host);)if(r=vN(s),r===null||(s=s[so],r.type&10))break;if(r===null)return!1;e=r,t=s}let i=ne.lFrame=ew();return i.currentTNode=e,i.lView=t,!0}function Og(t){let e=ew(),n=t[se];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ew(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?tw(t):e}function tw(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nw(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var iw=nw;function Fg(){let t=nw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function _N(t){return(ne.lFrame.contextLView=nN(t,ne.lFrame.contextLView))[xn]}function lo(){return ne.lFrame.selectedIndex}function Ur(t){ne.lFrame.selectedIndex=t}function Lg(){let t=ne.lFrame;return GC(t.tView,t.selectedIndex)}function bN(){return ne.lFrame.currentNamespace}var rw=!0;function Uu(){return rw}function $u(t){rw=t}function CN(){return Hu(Bt(),we())}function Hu(t,e){return new _i(an(t,e))}var _i=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=CN;let t=e;return t})();function Vg(t,e){t.forEach(n=>Array.isArray(n)?Vg(n,e):e(n))}function sw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function wN(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let s=r-2;t[r]=t[s],r--}t[e]=n,t[e+1]=i}}function DN(t,e,n){let i=Oa(t,e);return i>=0?t[i|1]=n:(i=~i,wN(t,i,e,n)),i}function Tp(t,e){let n=Oa(t,e);if(n>=0)return t[n|1]}function Oa(t,e){return EN(t,e,1)}function EN(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let s=i+(r-i>>1),o=t[s<<n];if(e===o)return s<<n;o>e?r=s:i=s+1}return~(r<<n)}function ow(t){return(t.flags&128)===128}var qp;function aw(t){qp=t}function xN(){if(qp!==void 0)return qp;if(typeof document<"u")return document;throw new L(210,!1)}function k(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ve(t){return{providers:t.providers||[],imports:t.imports||[]}}function zu(t){return tC(t,cw)||tC(t,uw)}function lw(t){return zu(t)!==null}function tC(t,e){return t.hasOwnProperty(e)?t[e]:null}function IN(t){let e=t&&(t[cw]||t[uw]);return e||null}function nC(t){return t&&(t.hasOwnProperty(iC)||t.hasOwnProperty(SN))?t[iC]:null}var cw=Ce({\u0275prov:Ce}),iC=Ce({\u0275inj:Ce}),uw=Ce({ngInjectableDef:Ce}),SN=Ce({ngInjectorDef:Ce}),N=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=k({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}},Wu=new N("",{providedIn:"root",factory:()=>MN}),MN="ng",jg=new N(""),_t=new N("",{providedIn:"platform",factory:()=>"unknown"});var Bg=new N("",{providedIn:"root",factory:()=>xN().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var TN=Ce({__forward_ref__:Ce});function ln(t){return t.__forward_ref__=ln,t.toString=function(){return Mt(this())},t}function St(t){return dw(t)?t():t}function dw(t){return typeof t=="function"&&t.hasOwnProperty(TN)&&t.__forward_ref__===ln}function hw(t){return t&&!!t.\u0275providers}function Ug(t){return typeof t=="string"?t:t==null?"":String(t)}function AN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ug(t)}function PN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function $g(t,e){throw new L(-201,!1)}var Yp;function fw(){return Yp}function jt(t){let e=Yp;return Yp=t,e}function pw(t,e,n){let i=zu(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ee.Optional)return null;if(e!==void 0)return e;$g(t,"Injector")}var NN={},Ta=NN,Kp="__NG_DI_FLAG__",vu="ngTempTokenPath",RN="ngTokenPath",kN=/\n/gm,ON="\u0275",rC="__source",Ys;function FN(){return Ys}function qi(t){let e=Ys;return Ys=t,e}function LN(t,e=ee.Default){if(Ys===void 0)throw new L(-203,!1);return Ys===null?pw(t,void 0,e):Ys.get(t,e&ee.Optional?null:void 0,e)}function I(t,e=ee.Default){return(fw()||LN)(St(t),e)}function A(t,e=ee.Default){return I(t,Gu(e))}function Gu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Qp(t){let e=[];for(let n=0;n<t.length;n++){let i=St(t[n]);if(Array.isArray(i)){if(i.length===0)throw new L(900,!1);let r,s=ee.Default;for(let o=0;o<i.length;o++){let a=i[o],l=VN(a);typeof l=="number"?l===-1?r=a.token:s|=l:r=a}e.push(I(r,s))}else e.push(I(i))}return e}function gw(t,e){return t[Kp]=e,t.prototype[Kp]=e,t}function VN(t){return t[Kp]}function jN(t,e,n,i){let r=t[vu];throw e[rC]&&r.unshift(e[rC]),t.message=BN(`
`+t.message,r,n,i),t[RN]=r,t[vu]=null,t}function BN(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==ON?t.slice(2):t;let r=Mt(e);if(Array.isArray(e))r=e.map(Mt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Mt(a)))}r=`{${s.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(kN,`
  `)}`}var UN="h",$N="b";var HN=()=>null;function Hg(t,e,n=!1){return HN(t,e,n)}var ru="__parameters__";function zN(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function mw(t,e,n){return ka(()=>{let i=zN(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;let o=new r(...s);return a.annotation=o,a;function a(l,c,u){let d=l.hasOwnProperty(ru)?l[ru]:Object.defineProperty(l,ru,{value:[]})[ru];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var co=gw(mw("Optional"),8);var zg=gw(mw("SkipSelf"),4);function $r(t,e){let n=t.hasOwnProperty(fu);return n?t[fu]:null}var eo=new N(""),yw=new N("",-1),vw=new N(""),_u=class{get(e,n=Ta){if(n===Ta){let i=new Error(`NullInjectorError: No provider for ${Mt(e)}!`);throw i.name="NullInjectorError",i}return n}};function qu(t){return{\u0275providers:t}}function WN(...t){return{\u0275providers:_w(!0,t),\u0275fromNgModule:!0}}function _w(t,...e){let n=[],i=new Set,r,s=o=>{n.push(o)};return Vg(e,o=>{let a=o;Zp(a,s,[],i)&&(r||=[],r.push(a))}),r!==void 0&&bw(r,s),n}function bw(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Wg(r,s=>{e(s,i)})}}function Zp(t,e,n,i){if(t=St(t),!t)return!1;let r=null,s=nC(t),o=!s&&Ki(t);if(!s&&!o){let l=t.ngModule;if(s=nC(l),s)r=l;else return!1}else{if(o&&!o.standalone)return!1;r=t}let a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let c of l)Zp(c,e,n,i)}}else if(s){if(s.imports!=null&&!a){i.add(r);let c;try{Vg(s.imports,u=>{Zp(u,e,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&bw(c,e)}if(!a){let c=$r(r)||(()=>new r);e({provide:r,useFactory:c,deps:sn},r),e({provide:vw,useValue:r,multi:!0},r),e({provide:eo,useValue:()=>I(r),multi:!0},r)}let l=s.providers;if(l!=null&&!a){let c=t;Wg(l,u=>{e(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Wg(t,e){for(let n of t)hw(n)&&(n=n.\u0275providers),Array.isArray(n)?Wg(n,e):e(n)}var GN=Ce({provide:String,useValue:Ce});function Cw(t){return t!==null&&typeof t=="object"&&GN in t}function qN(t){return!!(t&&t.useExisting)}function YN(t){return!!(t&&t.useFactory)}function to(t){return typeof t=="function"}function KN(t){return!!t.useClass}var Yu=new N(""),lu={},QN={},Ap;function Gg(){return Ap===void 0&&(Ap=new _u),Ap}var Tt=class{},Aa=class extends Tt{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jp(e,o=>this.processProvider(o)),this.records.set(yw,Ws(void 0,this)),r.has("environment")&&this.records.set(Tt,Ws(void 0,this));let s=this.records.get(Yu);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(vw,sn,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=qi(this),i=jt(void 0),r;try{return e()}finally{qi(n),jt(i)}}get(e,n=Ta,i=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(K0))return e[K0](this);i=Gu(i);let r,s=qi(this),o=jt(void 0);try{if(!(i&ee.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=tR(e)&&zu(e);c&&this.injectableDefInScope(c)?l=Ws(Xp(e),lu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&ee.Self?Gg():this.parent;return n=i&ee.Optional&&n===Ta?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[vu]=a[vu]||[]).unshift(Mt(e)),s)throw a;return jN(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(o),qi(s)}}resolveInjectorInitializers(){let e=fe(null),n=qi(this),i=jt(void 0),r;try{let s=this.get(eo,sn,ee.Self);for(let o of s)o()}finally{qi(n),jt(i),fe(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Mt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=St(e);let n=to(e)?e:St(e&&e.provide),i=XN(e);if(!to(e)&&e.multi===!0){let r=this.records.get(n);r||(r=Ws(void 0,lu,!0),r.factory=()=>Qp(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=fe(null);try{return n.value===lu&&(n.value=QN,n.value=n.factory()),typeof n.value=="object"&&n.value&&eR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=St(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xp(t){let e=zu(t),n=e!==null?e.factory:$r(t);if(n!==null)return n;if(t instanceof N)throw new L(204,!1);if(t instanceof Function)return ZN(t);throw new L(204,!1)}function ZN(t){if(t.length>0)throw new L(204,!1);let n=IN(t);return n!==null?()=>n.factory(t):()=>new t}function XN(t){if(Cw(t))return Ws(void 0,t.useValue);{let e=ww(t);return Ws(e,lu)}}function ww(t,e,n){let i;if(to(t)){let r=St(t);return $r(r)||Xp(r)}else if(Cw(t))i=()=>St(t.useValue);else if(YN(t))i=()=>t.useFactory(...Qp(t.deps||[]));else if(qN(t))i=()=>I(St(t.useExisting));else{let r=St(t&&(t.useClass||t.provide));if(JN(t))i=()=>new r(...Qp(t.deps));else return $r(r)||Xp(r)}return i}function Ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function JN(t){return!!t.deps}function eR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function tR(t){return typeof t=="function"||typeof t=="object"&&t instanceof N}function Jp(t,e){for(let n of t)Array.isArray(n)?Jp(n,e):n&&hw(n)?Jp(n.\u0275providers,e):e(n)}function Wn(t,e){t instanceof Aa&&t.assertNotDestroyed();let n,i=qi(t),r=jt(void 0);try{return e()}finally{qi(i),jt(r)}}function nR(t){if(!fw()&&!FN())throw new L(-203,!1)}function iR(t){let e=dt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function rR(t){return typeof t=="function"}var eg=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Dw(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function bi(){return Ew}function Ew(t){return t.type.prototype.ngOnChanges&&(t.setInput=oR),sR}bi.ngInherit=!0;function sR(){let t=Iw(this),e=t?.current;if(e){let n=t.previous;if(n===Qs)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function oR(t,e,n,i,r){let s=this.declaredInputs[i],o=Iw(t)||aR(t,{previous:Qs,current:null}),a=o.current||(o.current={}),l=o.previous,c=l[s];a[s]=new eg(c&&c.currentValue,n,l===Qs),Dw(t,e,r,n)}var xw="__ngSimpleChanges__";function Iw(t){return t[xw]||null}function aR(t,e){return t[xw]=e}var sC=null;var jn=function(t,e,n){sC?.(t,e,n)};function lR(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){let o=Ew(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}r&&(n.preOrderHooks??=[]).push(0-t,r),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function Ku(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function cu(t,e,n){Sw(t,e,3,n)}function uu(t,e,n,i){(t[U]&3)===n&&Sw(t,e,n,i)}function Pp(t,e){let n=t[U];(n&3)===e&&(n&=16383,n+=1,t[U]=n)}function Sw(t,e,n,i){let r=i!==void 0?t[zs]&65535:0,s=i??-1,o=e.length-1,a=0;for(let l=r;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[zs]+=65536),(a<s||s==-1)&&(cR(t,n,e,l),t[zs]=(t[zs]&4294901760)+l+2),l++}function oC(t,e){jn(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),jn(5,t,e)}}function cR(t,e,n,i){let r=n[i]<0,s=n[i+1],o=r?-n[i]:n[i],a=t[o];r?t[U]>>14<t[zs]>>16&&(t[U]&3)===e&&(t[U]+=16384,oC(a,s)):oC(a,s)}var Ks=-1,Hr=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function uR(t){return t instanceof Hr}function dR(t){return(t.flags&8)!==0}function hR(t){return(t.flags&16)!==0}function Mw(t){return t!==Ks}function bu(t){return t&32767}function fR(t){return t>>16}function Cu(t,e){let n=fR(t),i=e;for(;n>0;)i=i[so],n--;return i}var tg=!0;function wu(t){let e=tg;return tg=t,e}var pR=256,Tw=pR-1,Aw=5,gR=0,Bn={};function mR(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(wa)&&(i=n[wa]),i==null&&(i=n[wa]=gR++);let r=i&Tw,s=1<<r;e.data[t+(r>>Aw)]|=s}function Du(t,e){let n=Pw(t,e);if(n!==-1)return n;let i=e[se];i.firstCreatePass&&(t.injectorIndex=e.length,Np(i.data,t),Np(e,null),Np(i.blueprint,null));let r=qg(t,e),s=t.injectorIndex;if(Mw(r)){let o=bu(r),a=Cu(r,e),l=a[se].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=r,s}function Np(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Pw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function qg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=Fw(r),i===null)return Ks;if(n++,r=r[so],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return Ks}function ng(t,e,n){mR(t,e,n)}function Nw(t,e,n){if(n&ee.Optional||t!==void 0)return t;$g(e,"NodeInjector")}function Rw(t,e,n,i){if(n&ee.Optional&&i===void 0&&(i=null),!(n&(ee.Self|ee.Host))){let r=t[Zs],s=jt(void 0);try{return r?r.get(e,i,n&ee.Optional):pw(e,i,n&ee.Optional)}finally{jt(s)}}return Nw(i,e,n)}function kw(t,e,n,i=ee.Default,r){if(t!==null){if(e[U]&2048&&!(i&ee.Self)){let o=CR(t,e,n,i,Bn);if(o!==Bn)return o}let s=Ow(t,e,n,i,Bn);if(s!==Bn)return s}return Rw(e,n,i,r)}function Ow(t,e,n,i,r){let s=_R(n);if(typeof s=="function"){if(!JC(e,t,i))return i&ee.Host?Nw(r,n,i):Rw(e,n,i,r);try{let o;if(o=s(i),o==null&&!(i&ee.Optional))$g(n);else return o}finally{iw()}}else if(typeof s=="number"){let o=null,a=Pw(t,e),l=Ks,c=i&ee.Host?e[$n][Sn]:null;for((a===-1||i&ee.SkipSelf)&&(l=a===-1?qg(t,e):e[a+8],l===Ks||!lC(i,!1)?a=-1:(o=e[se],a=bu(l),e=Cu(l,e)));a!==-1;){let u=e[se];if(aC(s,a,u.data)){let d=yR(a,e,n,o,i,c);if(d!==Bn)return d}l=e[a+8],l!==Ks&&lC(i,e[se].data[a+8]===c)&&aC(s,a,e)?(o=u,a=bu(l),e=Cu(l,e)):a=-1}}return r}function yR(t,e,n,i,r,s){let o=e[se],a=o.data[t+8],l=i==null?Vu(a)&&tg:i!=o&&(a.type&3)!==0,c=r&ee.Host&&s===a,u=vR(a,o,n,l,c);return u!==null?no(e,o,u,a):Bn}function vR(t,e,n,i,r){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,c=t.directiveEnd,u=s>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=o[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=o[l];if(f&&Zi(f)&&f.type===n)return l}return null}function no(t,e,n,i){let r=t[n],s=e.data;if(uR(r)){let o=r;o.resolving&&PN(AN(s[n]));let a=wu(o.canSeeViewProviders);o.resolving=!0;let l,c=o.injectImpl?jt(o.injectImpl):null,u=JC(t,i,ee.Default);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&lR(n,s[n],e)}finally{c!==null&&jt(c),wu(a),o.resolving=!1,iw()}}return r}function _R(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(wa)?t[wa]:void 0;return typeof e=="number"?e>=0?e&Tw:bR:e}function aC(t,e,n){let i=1<<t;return!!(n[e+(t>>Aw)]&i)}function lC(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var Vr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return kw(this._tNode,this._lView,e,Gu(i),n)}};function bR(){return new Vr(Bt(),we())}function Ci(t){return ka(()=>{let e=t.prototype.constructor,n=e[fu]||ig(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let s=r[fu]||ig(r);if(s&&s!==n)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function ig(t){return dw(t)?()=>{let e=ig(St(t));return e&&e()}:$r(t)}function CR(t,e,n,i,r){let s=t,o=e;for(;s!==null&&o!==null&&o[U]&2048&&!(o[U]&512);){let a=Ow(s,o,n,i|ee.Self,Bn);if(a!==Bn)return a;let l=s.parent;if(!l){let c=o[HC];if(c){let u=c.get(n,Bn,i);if(u!==Bn)return u}l=Fw(o),o=o[so]}s=l}return r}function Fw(t){let e=t[se],n=e.type;return n===2?e.declTNode:n===1?t[Sn]:null}function cC(t,e=null,n=null,i){let r=Lw(t,e,n,i);return r.resolveInjectorInitializers(),r}function Lw(t,e=null,n=null,i,r=new Set){let s=[n||sn,WN(t)];return i=i||(typeof t=="object"?void 0:Mt(t)),new Aa(s,e||Gg(),i||null,r)}var Mn=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return cC({name:""},r,i,"");{let s=i.name??"";return cC({name:s},i.parent,i.providers,s)}}};e.THROW_IF_NOT_FOUND=Ta,e.NULL=new _u,e.\u0275prov=k({token:e,providedIn:"any",factory:()=>I(yw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})(),wR="ngOriginalError";function Rp(t){return t[wR]}var zn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Rp(e);for(;n&&Rp(n);)n=Rp(n);return n||null}},Vw=new N("",{providedIn:"root",factory:()=>A(zn).handleError.bind(void 0)});var jw=!1,DR=new N("",{providedIn:"root",factory:()=>jw});var rg=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${SP})`}};function Yg(t){return t instanceof rg?t.changingThisBreaksApplicationSecurity:t}var ER=/^>|^->|<!--|-->|--!>|<!-$/g,xR=/(<|>)/g,IR="\u200B$1\u200B";function SR(t){return t.replace(ER,e=>e.replace(xR,IR))}var Bw=new Map,MR=0;function TR(){return MR++}function AR(t){Bw.set(t[Lu],t)}function PR(t){Bw.delete(t[Lu])}var uC="__ngContext__";function Xi(t,e){Lr(e)?(t[uC]=e[Lu],AR(e)):t[uC]=e}function Uw(t){return t instanceof Function?t():t}function NR(t){return(t??A(Mn)).get(_t)==="browser"}var gi=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(gi||{}),RR;function Kg(t,e){return RR(t,e)}function Gs(t,e,n,i,r){if(i!=null){let s,o=!1;vi(i)?s=i:Lr(i)&&(o=!0,i=i[yi]);let a=Hn(i);t===0&&n!==null?r==null?Gw(e,n,a):Eu(e,n,a,r||null,!0):t===1&&n!==null?Eu(e,n,a,r||null,!0):t===2?ZR(e,a,o):t===3&&e.destroyNode(a),s!=null&&JR(e,t,s,n,r)}}function kR(t,e){return t.createText(e)}function OR(t,e,n){t.setValue(e,n)}function FR(t,e){return t.createComment(SR(e))}function $w(t,e,n){return t.createElement(e,n)}function LR(t,e){Hw(t,e),e[yi]=null,e[Sn]=null}function VR(t,e,n,i,r,s){i[yi]=r,i[Sn]=e,Zu(t,i,n,1,r,s)}function Hw(t,e){Zu(t,e,e[Ze],2,null,null)}function jR(t){let e=t[Ia];if(!e)return kp(t[se],t);for(;e;){let n=null;if(Lr(e))n=e[Ia];else{let i=e[on];i&&(n=i)}if(!n){for(;e&&!e[En]&&e!==t;)Lr(e)&&kp(e[se],e),e=e[yt];e===null&&(e=t),Lr(e)&&kp(e[se],e),n=e&&e[En]}e=n}}function BR(t,e,n,i){let r=on+i,s=n.length;i>0&&(n[r-1][En]=e),i<s-on?(e[En]=n[r],sw(n,on+i,e)):(n.push(e),e[En]=null),e[yt]=n;let o=e[Fu];o!==null&&n!==o&&UR(o,e);let a=e[Xs];a!==null&&a.insertView(t),Wp(e),e[U]|=128}function UR(t,e){let n=t[mu],r=e[yt][yt][$n];e[$n]!==r&&(t[U]|=Ag.HasTransplantedViews),n===null?t[mu]=[e]:n.push(e)}function zw(t,e){let n=t[mu],i=n.indexOf(e);n.splice(i,1)}function sg(t,e){if(t.length<=on)return;let n=on+e,i=t[n];if(i){let r=i[Fu];r!==null&&r!==t&&zw(r,i),e>0&&(t[n-1][En]=i[En]);let s=yu(t,on+e);LR(i[se],i);let o=s[Xs];o!==null&&o.detachView(s[se]),i[yt]=null,i[En]=null,i[U]&=-129}return i}function Ww(t,e){if(!(e[U]&256)){let n=e[Ze];n.destroyNode&&Zu(t,e,n,3,null,null),jR(e)}}function kp(t,e){if(e[U]&256)return;let n=fe(null);try{e[U]&=-129,e[U]|=256,e[jr]&&I0(e[jr]),HR(t,e),$R(t,e),e[se].type===1&&e[Ze].destroy();let i=e[Fu];if(i!==null&&vi(e[yt])){i!==e[yt]&&zw(i,e);let r=e[Xs];r!==null&&r.detachView(t)}PR(e)}finally{fe(n)}}function $R(t,e){let n=t.cleanup,i=e[xa];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else{let o=i[n[s+1]];n[s].call(o)}i!==null&&(e[xa]=null);let r=e[Yi];if(r!==null){e[Yi]=null;for(let s=0;s<r.length;s++){let o=r[s];o()}}}function HR(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof Hr)){let s=n[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=r[s[o]],l=s[o+1];jn(4,a,l);try{l.call(a)}finally{jn(5,a,l)}}else{jn(4,r,s);try{s.call(r)}finally{jn(5,r,s)}}}}}function zR(t,e,n){return WR(t,e.parent,n)}function WR(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[yi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:s}=t.data[i.directiveStart+r];if(s===Un.None||s===Un.Emulated)return null}return an(i,n)}}function Eu(t,e,n,i,r){t.insertBefore(e,n,i,r)}function Gw(t,e,n){t.appendChild(e,n)}function dC(t,e,n,i,r){i!==null?Eu(t,e,n,i,r):Gw(t,e,n)}function GR(t,e,n,i){t.removeChild(e,n,i)}function Qg(t,e){return t.parentNode(e)}function qR(t,e){return t.nextSibling(e)}function YR(t,e,n){return QR(t,e,n)}function KR(t,e,n){return t.type&40?an(t,n):null}var QR=KR,hC;function Qu(t,e,n,i){let r=zR(t,i,e),s=e[Ze],o=i.parent||e[Sn],a=YR(o,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)dC(s,r,n[l],a,!1);else dC(s,r,n,a,!1);hC!==void 0&&hC(s,i,e,n,r)}function du(t,e){if(e!==null){let n=e.type;if(n&3)return an(e,t);if(n&4)return og(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return du(t,i);{let r=t[e.index];return vi(r)?og(-1,r):Hn(r)}}else{if(n&32)return Kg(e,t)()||Hn(t[e.index]);{let i=qw(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ma(t[$n]);return du(r,i)}else return du(t,e.next)}}}return null}function qw(t,e){if(e!==null){let i=t[$n][Sn],r=e.projection;return i.projection[r]}return null}function og(t,e){let n=on+t+1;if(n<e.length){let i=e[n],r=i[se].firstChild;if(r!==null)return du(i,r)}return e[Br]}function ZR(t,e,n){let i=Qg(t,e);i&&GR(t,i,e,n)}function Zg(t,e,n,i,r,s,o){for(;n!=null;){let a=i[n.index],l=n.type;if(o&&e===0&&(a&&Xi(Hn(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)Zg(t,e,n.child,i,r,s,!1),Gs(e,t,r,a,s);else if(l&32){let c=Kg(n,i),u;for(;u=c();)Gs(e,t,r,u,s);Gs(e,t,r,a,s)}else l&16?XR(t,e,i,n,r,s):Gs(e,t,r,a,s);n=o?n.projectionNext:n.next}}function Zu(t,e,n,i,r,s){Zg(n,i,t.firstChild,e,r,s,!1)}function XR(t,e,n,i,r,s){let o=n[$n],l=o[Sn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];Gs(e,t,r,u,s)}else{let c=l,u=o[yt];ow(i)&&(c.flags|=128),Zg(t,e,c,u,r,s,!0)}}function JR(t,e,n,i,r){let s=n[Br],o=Hn(n);s!==o&&Gs(e,t,i,s,r);for(let a=on;a<n.length;a++){let l=n[a];Zu(l[se],l,t,e,i,s)}}function ek(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let s=i.indexOf("-")===-1?void 0:gi.DashCase;r==null?t.removeStyle(n,i,s):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=gi.Important),t.setStyle(n,i,r,s))}}function tk(t,e,n){t.setAttribute(e,"style",n)}function Yw(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Kw(t,e,n){let{mergedAttrs:i,classes:r,styles:s}=n;i!==null&&zp(t,e,i),r!==null&&Yw(t,e,r),s!==null&&tk(t,e,s)}var qr={};function R(t=1){Qw(vt(),we(),lo()+t,!1)}function Qw(t,e,n,i){if(!i)if((e[U]&3)===3){let s=t.preOrderCheckHooks;s!==null&&cu(e,s,n)}else{let s=t.preOrderHooks;s!==null&&uu(e,s,0,n)}Ur(n)}function O(t,e=ee.Default){let n=we();if(n===null)return I(t,e);let i=Bt();return kw(i,n,St(t),e)}function Zw(){let t="invalid";throw new Error(t)}function Xw(t,e,n,i,r,s){let o=fe(null);try{let a=null;r&ht.SignalBased&&(a=e[i][np]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),r&ht.HasDecoratorInputTransform&&(s=t.inputTransforms[i].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,i):Dw(e,a,i,s)}finally{fe(o)}}function nk(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)Ur(~r);else{let s=r,o=n[++i],a=n[++i];gN(o,s);let l=e[s];a(2,l)}}}finally{Ur(-1)}}function Xu(t,e,n,i,r,s,o,a,l,c,u){let d=e.blueprint.slice();return d[yi]=r,d[U]=i|4|128|8|64,(c!==null||t&&t[U]&2048)&&(d[U]|=2048),qC(d),d[yt]=d[so]=t,d[xn]=n,d[Qi]=o||t&&t[Qi],d[Ze]=a||t&&t[Ze],d[Zs]=l||t&&t[Zs]||null,d[Sn]=s,d[Lu]=TR(),d[pu]=u,d[HC]=c,d[$n]=e.type==2?t[$n]:d,d}function Fa(t,e,n,i,r){let s=t.data[e];if(s===null)s=ik(t,e,n,i,r),pN()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=i,s.attrs=r;let o=uN();s.injectorIndex=o===null?-1:o.injectorIndex}return Gr(s,!0),s}function ik(t,e,n,i,r){let s=QC(),o=kg(),a=o?s:s&&s.parent,l=t.data[e]=lk(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),s!==null&&(o?s.child==null&&l.parent!==null&&(s.child=l):s.next===null&&(s.next=l,l.prev=s)),l}function Jw(t,e,n,i){if(n===0)return-1;let r=e.length;for(let s=0;s<n;s++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function eD(t,e,n,i,r){let s=lo(),o=i&2;try{Ur(-1),o&&e.length>In&&Qw(t,e,In,!1),jn(o?2:0,r),n(i,r)}finally{Ur(s),jn(o?3:1,r)}}function Xg(t,e,n){if(Pg(e)){let i=fe(null);try{let r=e.directiveStart,s=e.directiveEnd;for(let o=r;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{fe(i)}}}function Jg(t,e,n){KC()&&(pk(t,e,n,an(n,e)),(n.flags&64)===64&&rD(t,e,n))}function em(t,e,n=an){let i=e.localNames;if(i!==null){let r=e.index+1;for(let s=0;s<i.length;s+=2){let o=i[s+1],a=o===-1?n(e,t):t[o];t[r++]=a}}}function tD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=tm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function tm(t,e,n,i,r,s,o,a,l,c,u){let d=In+i,h=d+r,f=rk(d,h),p=typeof c=="function"?c():c;return f[se]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function rk(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:qr);return n}function sk(t,e,n,i){let s=i.get(DR,jw)||n===Un.ShadowDom,o=t.selectRootElement(e,s);return ok(o),o}function ok(t){ak(t)}var ak=()=>null;function lk(t,e,n,i,r,s){let o=e?e.injectorIndex:-1,a=0;return aN()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function fC(t,e,n,i,r){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;i??={};let a,l=ht.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let c=s;if(r!==null){if(!r.hasOwnProperty(s))continue;c=r[s]}t===0?pC(i,n,c,a,l):pC(i,n,c,a)}return i}function pC(t,e,n,i,r){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,i):s=t[n]=[e,i],r!==void 0&&s.push(r)}function ck(t,e,n){let i=e.directiveStart,r=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=s[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=fC(0,d.inputs,u,l,f),c=fC(1,d.outputs,u,c,p);let g=l!==null&&o!==null&&!OC(e)?xk(l,u,o):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function uk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function nD(t,e,n,i,r,s,o,a){let l=an(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(im(t,n,u,i,r),Vu(e)&&dk(n,e.index)):e.type&3?(i=uk(i),r=o!=null?o(r,e.value||"",i):r,s.setProperty(l,i,r)):e.type&12}function dk(t,e){let n=er(e,t);n[U]&16||(n[U]|=64)}function nm(t,e,n,i){if(KC()){let r=i===null?null:{"":-1},s=mk(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&iD(t,e,n,o,r,a),r&&yk(n,i,r)}n.mergedAttrs=Ea(n.mergedAttrs,n.attrs)}function iD(t,e,n,i,r,s){for(let c=0;c<i.length;c++)ng(Du(n,e),t,i[c].type);_k(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Jw(t,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Ea(n.mergedAttrs,u.hostAttrs),bk(t,n,e,l,u),vk(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}ck(t,n,s)}function hk(t,e,n,i,r){let s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;fk(o)!=a&&o.push(a),o.push(n,i,s)}}function fk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pk(t,e,n,i){let r=n.directiveStart,s=n.directiveEnd;Vu(n)&&Ck(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Du(n,e),Xi(i,e);let o=n.initialInputs;for(let a=r;a<s;a++){let l=t.data[a],c=no(e,t,a,n);if(Xi(c,e),o!==null&&Ek(e,a-r,c,l,n,o),Zi(l)){let u=er(n.index,e);u[xn]=no(e,t,a,n)}}}function rD(t,e,n){let i=n.directiveStart,r=n.directiveEnd,s=n.index,o=mN();try{Ur(s);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];Gp(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&gk(l,c)}}finally{Ur(-1),Gp(o)}}function gk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mk(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(jP(e,o.selectors,!1))if(i||(i=[]),Zi(o))if(o.findHostDirectiveDefs!==null){let a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o);let l=a.length;ag(t,e,l)}else i.unshift(o),ag(t,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return i===null?null:[i,r]}function ag(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function yk(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let s=n[e[r+1]];if(s==null)throw new L(-301,!1);i.push(e[r],s)}}}function vk(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;Zi(e)&&(n[""]=t)}}function _k(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function bk(t,e,n,i,r){t.data[i]=r;let s=r.factory||(r.factory=$r(r.type,!0)),o=new Hr(s,Zi(r),O);t.blueprint[i]=o,n[i]=o,hk(t,e,i,Jw(t,n,r.hostVars,qr),r)}function Ck(t,e,n){let i=an(e,t),r=tD(n),s=t[Qi].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ju(t,Xu(t,r,null,o,i,e,null,s.createRenderer(i,n),null,null,null));t[e.index]=a}function wk(t,e,n,i,r,s){let o=an(t,e);Dk(e[Ze],o,s,t.value,n,i,r)}function Dk(t,e,n,i,r,s,o){if(s==null)t.removeAttribute(e,r,n);else{let a=o==null?Ug(s):o(s,i||"",r);t.setAttribute(e,r,a,n)}}function Ek(t,e,n,i,r,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],c=o[a++],u=o[a++],d=o[a++];Xw(i,n,l,c,u,d)}}function xk(t,e,n){let i=null,r=0;for(;r<n.length;){let s=n[r];if(s===0){r+=4;continue}else if(s===5){r+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){i===null&&(i=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){i.push(s,o[a+1],o[a+2],n[r+1]);break}}r+=2}return i}function sD(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function oD(t,e){let n=t.contentQueries;if(n!==null){let i=fe(null);try{for(let r=0;r<n.length;r+=2){let s=n[r],o=n[r+1];if(o!==-1){let a=t.data[o];XC(s),a.contentQueries(2,e[o],o)}}}finally{fe(i)}}}function Ju(t,e){return t[Ia]?t[eC][En]=e:t[Ia]=e,t[eC]=e,e}function lg(t,e,n){XC(0);let i=fe(null);try{e(t,n)}finally{fe(i)}}function Ik(t){return t[xa]||(t[xa]=[])}function Sk(t){return t.cleanup||(t.cleanup=[])}function aD(t,e){let n=t[Zs],i=n?n.get(zn,null):null;i&&i.handleError(e)}function im(t,e,n,i,r){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],c=e[o],u=t.data[o];Xw(u,c,i,a,l,r)}}function Mk(t,e,n){let i=WC(e,t);OR(t[Ze],i,n)}function Tk(t,e){let n=er(e,t),i=n[se];Ak(i,n);let r=n[yi];r!==null&&n[pu]===null&&(n[pu]=Hg(r,n[Zs])),rm(i,n,n[xn])}function Ak(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function rm(t,e,n){Og(e);try{let i=t.viewQuery;i!==null&&lg(1,i,n);let r=t.template;r!==null&&eD(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Xs]?.finishViewCreation(t),t.staticContentQueries&&oD(t,e),t.staticViewQueries&&lg(2,t.viewQuery,n);let s=t.components;s!==null&&Pk(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[U]&=-5,Fg()}}function Pk(t,e){for(let n=0;n<e.length;n++)Tk(t,e[n])}function Nk(t,e,n,i){let r=fe(null);try{let s=e.tView,a=t[U]&4096?4096:16,l=Xu(t,s,n,a,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null),c=t[e.index];l[Fu]=c;let u=t[Xs];return u!==null&&(l[Xs]=u.createEmbeddedView(s)),rm(s,l,n),l}finally{fe(r)}}function gC(t,e){return!e||e.firstChild===null||ow(t)}function Rk(t,e,n,i=!0){let r=e[se];if(BR(r,e,t,n),i){let o=og(n,t),a=e[Ze],l=Qg(a,t[Br]);l!==null&&VR(r,t[Sn],a,e,l,o)}let s=e[pu];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function xu(t,e,n,i,r=!1){for(;n!==null;){let s=e[n.index];s!==null&&i.push(Hn(s)),vi(s)&&kk(s,i);let o=n.type;if(o&8)xu(t,e,n.child,i);else if(o&32){let a=Kg(n,e),l;for(;l=a();)i.push(l)}else if(o&16){let a=qw(e,n);if(Array.isArray(a))i.push(...a);else{let l=Ma(e[$n]);xu(l[se],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function kk(t,e){for(let n=on;n<t.length;n++){let i=t[n],r=i[se].firstChild;r!==null&&xu(i[se],i,r,e)}t[Br]!==t[yi]&&e.push(t[Br])}var lD=[];function Ok(t){return t[jr]??Fk(t)}function Fk(t){let e=lD.pop()??Object.create(Vk);return e.lView=t,e}function Lk(t){t.lView[jr]!==t&&(t.lView=null,lD.push(t))}var Vk=le(P({},D0),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Sa(t.lView)},consumerOnSignalRead(){this.lView[jr]=this}});function cD(t){return dD(t[Ia])}function uD(t){return dD(t[En])}function dD(t){for(;t!==null&&!vi(t);)t=t[En];return t}var hD=100;function fD(t,e=!0,n=0){let i=t[Qi],r=i.rendererFactory,s=!1;s||r.begin?.();try{jk(t,n)}catch(o){throw e&&aD(t,o),o}finally{s||(r.end?.(),i.inlineEffectRunner?.flush())}}function jk(t,e){cg(t,e);let n=0;for(;Rg(t);){if(n===hD)throw new L(103,!1);n++,cg(t,1)}}function Bk(t,e,n,i){let r=e[U];if((r&256)===256)return;let s=!1;!s&&e[Qi].inlineEffectRunner?.flush(),Og(e);let o=null,a=null;!s&&Uk(t)&&(a=Ok(e),o=E0(a));try{qC(e),hN(t.bindingStartIndex),n!==null&&eD(t,e,n,2,i);let l=(r&3)===3;if(!s)if(l){let d=t.preOrderCheckHooks;d!==null&&cu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&uu(e,d,0,null),Pp(e,0)}if($k(e),pD(e,0),t.contentQueries!==null&&oD(t,e),!s)if(l){let d=t.contentCheckHooks;d!==null&&cu(e,d)}else{let d=t.contentHooks;d!==null&&uu(e,d,1),Pp(e,1)}nk(t,e);let c=t.components;c!==null&&mD(e,c,0);let u=t.viewQuery;if(u!==null&&lg(2,u,i),!s)if(l){let d=t.viewCheckHooks;d!==null&&cu(e,d)}else{let d=t.viewHooks;d!==null&&uu(e,d,2),Pp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Mp]){for(let d of e[Mp])d();e[Mp]=null}s||(e[U]&=-73)}catch(l){throw Sa(e),l}finally{a!==null&&(x0(a,o),Lk(a)),Fg()}}function Uk(t){return t.type!==2}function pD(t,e){for(let n=cD(t);n!==null;n=uD(n))for(let i=on;i<n.length;i++){let r=n[i];gD(r,e)}}function $k(t){for(let e=cD(t);e!==null;e=uD(e)){if(!(e[U]&Ag.HasTransplantedViews))continue;let n=e[mu];for(let i=0;i<n.length;i++){let r=n[i],s=r[yt];tN(r)}}}function Hk(t,e,n){let i=er(e,t);gD(i,n)}function gD(t,e){Ng(t)&&cg(t,e)}function cg(t,e){let i=t[se],r=t[U],s=t[jr],o=!!(e===0&&r&16);if(o||=!!(r&64&&e===0),o||=!!(r&1024),o||=!!(s?.dirty&&ip(s)),s&&(s.dirty=!1),t[U]&=-9217,o)Bk(i,t,i.template,t[xn]);else if(r&8192){pD(t,1);let a=i.components;a!==null&&mD(t,a,1)}}function mD(t,e,n){for(let i=0;i<e.length;i++)Hk(t,e[i],n)}function sm(t){for(t[Qi].changeDetectionScheduler?.notify();t;){t[U]|=64;let e=Ma(t);if(YP(t)&&!e)return t;t=e}return null}var zr=class{get rootNodes(){let e=this._lView,n=e[se];return xu(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[xn]}set context(e){this._lView[xn]=e}get destroyed(){return(this._lView[U]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[yt];if(vi(e)){let n=e[gu],i=n?n.indexOf(this):-1;i>-1&&(sg(e,i),yu(n,i))}this._attachedToViewContainer=!1}Ww(this._lView[se],this._lView)}onDestroy(e){YC(this._lView,e)}markForCheck(){sm(this._cdRefInjectingView||this._lView)}detach(){this._lView[U]&=-129}reattach(){Wp(this._lView),this._lView[U]|=128}detectChanges(){this._lView[U]|=1024,fD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Hw(this._lView[se],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,Wp(this._lView)}},ed=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Gk;let t=e;return t})(),zk=ed,Wk=class extends zk{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=Nk(this._declarationLView,this._declarationTContainer,e,{injector:n,dehydratedView:i});return new zr(r)}};function Gk(){return qk(Bt(),we())}function qk(t,e){return t.type&4?new Wk(e,t,Hu(t,e)):null}var h7=new RegExp(`^(\\d+)*(${$N}|${UN})*(.*)`);var Yk=()=>null;function mC(t,e){return Yk(t,e)}var ug=class{},dg=class{},Iu=class{};function Kk(t){let e=Error(`No component factory found for ${Mt(t)}.`);return e[Qk]=t,e}var Qk="ngComponent";var hg=class{resolveComponentFactory(e){throw Kk(e)}},td=(()=>{let e=class e{};e.NULL=new hg;let t=e;return t})(),Pa=class{},tr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Zk();let t=e;return t})();function Zk(){let t=we(),e=Bt(),n=er(e.index,t);return(Lr(n)?n:t)[Ze]}var Xk=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Op={},yD=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Jk,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),fg=class extends yD{constructor(e){super(),this._lView=e}onDestroy(e){return YC(this._lView,e),()=>iN(this._lView,e)}};function Jk(){return new fg(we())}var yC=new Set;function nd(t){yC.has(t)||(yC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function vC(...t){}function eO(){let t=typeof dt.requestAnimationFrame=="function",e=dt[t?"requestAnimationFrame":"setTimeout"],n=dt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var oe=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $e(!1),this.onMicrotaskEmpty=new $e(!1),this.onStable=new $e(!1),this.onError=new $e(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=eO().nativeRequestAnimationFrame,iO(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,tO,vC,vC);try{return s.runTask(o,n,i)}finally{s.cancelTask(o)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},tO={};function om(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function nO(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(dt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pg(t),t.isCheckStableRunning=!0,om(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pg(t))}function iO(t){let e=()=>{nO(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,s,o,a)=>{if(rO(a))return n.invokeTask(r,s,o,a);try{return _C(t),n.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),bC(t)}},onInvoke:(n,i,r,s,o,a,l)=>{try{return _C(t),n.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),bC(t)}},onHasTask:(n,i,r,s)=>{n.hasTask(r,s),i===r&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,pg(t),om(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,i,r,s)=>(n.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function pg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function _C(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function bC(t){t._nesting--,om(t)}var gg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $e,this.onMicrotaskEmpty=new $e,this.onStable=new $e,this.onError=new $e}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function rO(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function sO(t="zone.js",e){return t==="noop"?new gg:t==="zone.js"?new oe(e):t}var qs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(qs||{}),oO={destroy(){}};function am(t,e){!e&&nR(am);let n=e?.injector??A(Mn);if(!NR(n))return oO;nd("NgAfterNextRender");let i=n.get(lm),r=i.handler??=new yg,s=e?.phase??qs.MixedReadWrite,o=()=>{r.unregister(l),a()},a=n.get(yD).onDestroy(o),l=new mg(n,s,()=>{o(),t()});return r.register(l),{destroy:o}}var mg=class{constructor(e,n,i){this.phase=n,this.callbackFn=i,this.zone=e.get(oe),this.errorHandler=e.get(zn,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},yg=class{constructor(){this.executingCallbacks=!1,this.buckets={[qs.EarlyRead]:new Set,[qs.Write]:new Set,[qs.MixedReadWrite]:new Set,[qs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},lm=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Su(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)r=Y0(r,a);else if(s==2){let l=a,c=e[++o];i=Y0(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Mu=class extends td{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ki(e);return new io(n,this.ngModule)}};function CC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function aO(t){let e=t.toLowerCase();return e==="svg"?KP:e==="math"?QP:null}var vg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Gu(i);let r=this.injector.get(e,Op,i);return r!==Op||n===Op?r:this.parentInjector.get(e,n,i)}},io=class extends Iu{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=CC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return CC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=HP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let s=fe(null);try{r=r||this.ngModule;let o=r instanceof Tt?r:r?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new vg(e,o):e,l=a.get(Pa,null);if(l===null)throw new L(407,!1);let c=a.get(Xk,null),u=a.get(lm,null),d=a.get(ug,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?sk(f,i,this.componentDef.encapsulation,a):$w(f,p,aO(p)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=Hg(g,a,!0));let v=tm(0,null,null,1,0,null,null,null,null,null,null),_=Xu(null,v,null,m,null,null,h,f,a,null,y);Og(_);let w,C;try{let E=this.componentDef,T,M=null;E.findHostDirectiveDefs?(T=[],M=new Map,E.findHostDirectiveDefs(E,T,M),T.push(E)):T=[E];let F=lO(_,g),G=cO(F,g,E,T,_,h,f);C=GC(v,In),g&&hO(f,E,g,i),n!==void 0&&fO(C,this.ngContentSelectors,n),w=dO(G,E,T,M,_,[pO]),rm(v,_,null)}finally{Fg()}return new _g(this.componentType,w,Hu(C,_),_,C)}finally{fe(s)}}},_g=class extends dg{constructor(e,n,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zr(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;im(s[se],s,r,e,n),this.previousInputValues.set(e,n);let o=er(this._tNode.index,s);sm(o)}}get injector(){return new Vr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function lO(t,e){let n=t[se],i=In;return t[i]=e,Fa(n,i,2,"#host",null)}function cO(t,e,n,i,r,s,o){let a=r[se];uO(i,t,e,o);let l=null;e!==null&&(l=Hg(e,r[Zs]));let c=s.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Xu(r,tD(n),null,u,r[t.index],t,s,c,null,null,l);return a.firstCreatePass&&ag(a,t,i.length-1),Ju(r,d),r[t.index]=d}function uO(t,e,n,i){for(let r of t)e.mergedAttrs=Ea(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Su(e,e.mergedAttrs,!0),n!==null&&Kw(i,n,e))}function dO(t,e,n,i,r,s){let o=Bt(),a=r[se],l=an(o,r);iD(a,r,o,n,null,i);for(let u=0;u<n.length;u++){let d=o.directiveStart+u,h=no(r,a,d,o);Xi(h,r)}rD(a,r,o),l&&Xi(l,r);let c=no(r,a,o.directiveStart+o.componentOffset,o);if(t[xn]=r[xn]=c,s!==null)for(let u of s)u(c,e);return Xg(a,o,r),c}function hO(t,e,n,i){if(i)zp(t,n,["ng-version","17.2.4"]);else{let{attrs:r,classes:s}=zP(e.selectors[0]);r&&zp(t,n,r),s&&s.length>0&&Yw(t,n,s.join(" "))}}function fO(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let s=n[r];i.push(s!=null?Array.from(s):null)}}function pO(){let t=Bt();Ku(we()[se],t)}var uo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gO;let t=e;return t})();function gO(){let t=Bt();return yO(t,we())}var mO=uo,vD=class extends mO{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return Hu(this._hostTNode,this._hostLView)}get injector(){return new Vr(this._hostTNode,this._hostLView)}get parentInjector(){let e=qg(this._hostTNode,this._hostLView);if(Mw(e)){let n=Cu(e,this._hostLView),i=bu(e),r=n[se].data[i+8];return new Vr(r,n)}else return new Vr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=wC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-on}createEmbeddedView(e,n,i){let r,s;typeof i=="number"?r=i:i!=null&&(r=i.index,s=i.injector);let o=mC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,r,gC(this._hostTNode,o)),a}createComponent(e,n,i,r,s){let o=e&&!rR(e),a;if(o)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let l=o?e:new io(Ki(e)),c=i||this.parentInjector;if(!s&&l.ngModule==null){let g=(o?c:this.parentInjector).get(Tt,null);g&&(s=g)}let u=Ki(l.componentType??{}),d=mC(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,s);return this.insertImpl(f.hostView,a,gC(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(eN(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[yt],c=new vD(l,l[Sn],l[yt]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Rk(o,r,s,i),e.attachToViewContainerRef(),sw(Fp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=wC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=sg(this._lContainer,n);i&&(yu(Fp(this._lContainer),n),Ww(i[se],i))}detach(e){let n=this._adjustIndex(e,-1),i=sg(this._lContainer,n);return i&&yu(Fp(this._lContainer),n)!=null?new zr(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function wC(t){return t[gu]}function Fp(t){return t[gu]||(t[gu]=[])}function yO(t,e){let n,i=e[t.index];return vi(i)?n=i:(n=sD(i,e,null,t),e[t.index]=n,Ju(e,n)),_O(n,e,t,i),new vD(n,t,e)}function vO(t,e){let n=t[Ze],i=n.createComment(""),r=an(e,t),s=Qg(n,r);return Eu(n,s,i,qR(n,r),!1),i}var _O=wO,bO=()=>!1;function CO(t,e,n){return bO(t,e,n)}function wO(t,e,n,i){if(t[Br])return;let r;n.type&8?r=Hn(i):r=vO(e,n),t[Br]=r}function DO(t){return typeof t=="function"&&t[np]!==void 0}function _D(t){return DO(t)&&typeof t.set=="function"}function EO(t){let e=[],n=new Map;function i(r){let s=n.get(r);if(!s){let o=t(r);n.set(r,s=o.then(MO))}return s}return Tu.forEach((r,s)=>{let o=[];r.templateUrl&&o.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),o.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&o.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(o).then(()=>TO(s));e.push(l)}),IO(),Promise.all(e).then(()=>{})}var Tu=new Map,xO=new Set;function IO(){let t=Tu;return Tu=new Map,t}function SO(){return Tu.size===0}function MO(t){return typeof t=="string"?t:t.text()}function TO(t){xO.delete(t)}function AO(t){return Object.getPrototypeOf(t.prototype).constructor}function Ut(t){let e=AO(t.type),n=!0,i=[t];for(;e;){let r;if(Zi(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let o=t;o.inputs=su(t.inputs),o.inputTransforms=su(t.inputTransforms),o.declaredInputs=su(t.declaredInputs),o.outputs=su(t.outputs);let a=r.hostBindings;a&&OO(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&RO(t,l),c&&kO(t,c),PO(t,r),MP(t.outputs,r.outputs),Zi(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let s=r.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ut&&(n=!1)}}e=Object.getPrototypeOf(e)}NO(i)}function PO(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function NO(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Ea(r.hostAttrs,n=Ea(n,r.hostAttrs))}}function su(t){return t===Qs?{}:t===sn?[]:t}function RO(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function kO(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,s)=>{e(i,r,s),n(i,r,s)}:t.contentQueries=e}function OO(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var Ji=class{},Na=class{};var Au=class extends Ji{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mu(this);let r=BC(e);this._bootstrapComponents=Uw(r.bootstrap),this._r3Injector=Lw(e,n,[{provide:Ji,useValue:this},{provide:td,useValue:this.componentFactoryResolver},...i],Mt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Pu=class extends Na{constructor(e){super(),this.moduleType=e}create(e){return new Au(this.moduleType,e,[])}};function FO(t,e,n){return new Au(t,e,n)}var bg=class extends Ji{constructor(e){super(),this.componentFactoryResolver=new Mu(this),this.instance=null;let n=new Aa([...e.providers,{provide:Ji,useValue:this},{provide:td,useValue:this.componentFactoryResolver}],e.parent||Gg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function id(t,e,n=null){return new bg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Yr=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ut(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function bD(t){return VO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function LO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function VO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function jO(t,e,n){return t[e]=n}function ho(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function BO(t,e,n,i,r,s,o,a,l){let c=e.consts,u=Fa(e,t,4,o||null,Js(c,a));nm(e,n,u,Js(c,l)),Ku(e,u);let d=u.tView=tm(2,u,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Se(t,e,n,i,r,s,o,a){let l=we(),c=vt(),u=t+In,d=c.firstCreatePass?BO(u,c,l,e,n,i,r,s,o):c.data[u];Gr(d,!1);let h=UO(c,l,d,t);Uu()&&Qu(c,l,h,d),Xi(h,l);let f=sD(h,l,h,d);return l[u]=f,Ju(l,f),CO(f,d,l),ju(d)&&Jg(c,l,d),o!=null&&em(l,d,a),Se}var UO=$O;function $O(t,e,n,i){return $u(!0),e[Ze].createComment("")}function rd(t,e,n,i){let r=we(),s=Bu();if(ho(r,s,e)){let o=vt(),a=Lg();wk(a,r,t,e,n,i)}return rd}function HO(t,e,n,i){return ho(t,Bu(),n)?e+Ug(n)+i:qr}function ou(t,e){return t<<17|e<<2}function Wr(t){return t>>17&32767}function zO(t){return(t&2)==2}function WO(t,e){return t&131071|e<<17}function Cg(t){return t|2}function ro(t){return(t&131068)>>2}function Lp(t,e){return t&-131069|e<<2}function GO(t){return(t&1)===1}function wg(t){return t|1}function qO(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Wr(o),l=ro(o);t[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Oa(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=Wr(t[a+1]);t[i+1]=ou(h,a),h!==0&&(t[h+1]=Lp(t[h+1],i)),t[a+1]=WO(t[a+1],i)}else t[i+1]=ou(a,0),a!==0&&(t[a+1]=Lp(t[a+1],i)),a=i;else t[i+1]=ou(l,0),a===0?a=i:t[l+1]=Lp(t[l+1],i),l=i;c&&(t[i+1]=Cg(t[i+1])),DC(t,u,i,!0),DC(t,u,i,!1),YO(e,u,t,i,s),o=ou(a,l),s?e.classBindings=o:e.styleBindings=o}function YO(t,e,n,i,r){let s=r?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Oa(s,e)>=0&&(n[i+1]=wg(n[i+1]))}function DC(t,e,n,i){let r=t[n+1],s=e===null,o=i?Wr(r):ro(r),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],c=t[o+1];KO(l,e)&&(a=!0,t[o+1]=i?wg(c):Cg(c)),o=i?Wr(c):ro(c)}a&&(t[n+1]=i?Cg(r):wg(r))}function KO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Oa(t,e)>=0:!1}function Y(t,e,n){let i=we(),r=Bu();if(ho(i,r,e)){let s=vt(),o=Lg();nD(s,o,i,t,e,i[Ze],n,!1)}return Y}function EC(t,e,n,i,r){let s=e.inputs,o=r?"class":"style";im(t,n,s[o],o,i)}function Tn(t,e){return QO(t,e,null,!0),Tn}function QO(t,e,n,i){let r=we(),s=vt(),o=fN(2);if(s.firstUpdatePass&&XO(s,t,o,i),e!==qr&&ho(r,o,e)){let a=s.data[lo()];iF(s,a,r,r[Ze],t,r[o+1]=rF(e,n),i,o)}}function ZO(t,e){return e>=t.expandoStartIndex}function XO(t,e,n,i){let r=t.data;if(r[n+1]===null){let s=r[lo()],o=ZO(t,n);sF(s,i)&&e===null&&!o&&(e=!1),e=JO(r,s,e,i),qO(r,s,e,n,o,i)}}function JO(t,e,n,i){let r=yN(t),s=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Vp(null,t,e,n,i),n=Ra(n,e.attrs,i),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==r)if(n=Vp(r,t,e,n,i),s===null){let l=eF(t,e,i);l!==void 0&&Array.isArray(l)&&(l=Vp(null,t,e,l[1],i),l=Ra(l,e.attrs,i),tF(t,e,i,l))}else s=nF(t,e,i)}return s!==void 0&&(i?e.residualClasses=s:e.residualStyles=s),n}function eF(t,e,n){let i=n?e.classBindings:e.styleBindings;if(ro(i)!==0)return t[Wr(i)]}function tF(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[Wr(r)]=i}function nF(t,e,n){let i,r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++){let o=t[s].hostAttrs;i=Ra(i,o,n)}return Ra(i,e.attrs,n)}function Vp(t,e,n,i,r){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],i=Ra(i,s.hostAttrs,r),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function Ra(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?r=o:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DN(t,o,n?!0:e[++s]))}return t===void 0?null:t}function iF(t,e,n,i,r,s,o,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=GO(c)?xC(l,e,n,r,ro(c),o):void 0;if(!Nu(u)){Nu(s)||zO(c)&&(s=xC(l,null,n,r,a,o));let d=WC(lo(),n);ek(i,o,d,r,s)}}function xC(t,e,n,i,r,s){let o=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===qr&&(h=d?sn:void 0);let f=d?Tp(h,i):u===i?h:void 0;if(c&&!Nu(f)&&(f=Tp(l,i)),Nu(f)&&(a=f,o))return a;let p=t[r+1];r=o?Wr(p):ro(p)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Tp(l,i))}return a}function Nu(t){return t!==void 0}function rF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Mt(Yg(t)))),t}function sF(t,e){return(t.flags&(e?8:16))!==0}function oF(t,e,n,i,r,s){let o=e.consts,a=Js(o,r),l=Fa(e,t,2,i,a);return nm(e,n,l,Js(o,s)),l.attrs!==null&&Su(l,l.attrs,!1),l.mergedAttrs!==null&&Su(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function D(t,e,n,i){let r=we(),s=vt(),o=In+t,a=r[Ze],l=s.firstCreatePass?oF(o,s,r,e,n,i):s.data[o],c=aF(s,r,l,a,e,t);r[o]=c;let u=ju(l);return Gr(l,!0),Kw(a,c,l),(l.flags&32)!==32&&Uu()&&Qu(s,r,c,l),rN()===0&&Xi(c,r),sN(),u&&(Jg(s,r,l),Xg(s,l,r)),i!==null&&em(r,l),D}function b(){let t=Bt();kg()?ZC():(t=t.parent,Gr(t,!1));let e=t;lN(e)&&cN(),oN();let n=vt();return n.firstCreatePass&&(Ku(n,t),Pg(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&dR(e)&&EC(n,e,we(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&hR(e)&&EC(n,e,we(),e.stylesWithoutHost,!1),b}function me(t,e,n,i){return D(t,e,n,i),b(),me}var aF=(t,e,n,i,r,s)=>($u(!0),$w(i,r,bN()));function lF(t,e,n,i,r){let s=e.consts,o=Js(s,i),a=Fa(e,t,8,"ng-container",o);o!==null&&Su(a,o,!0);let l=Js(s,r);return nm(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Kr(t,e,n){let i=we(),r=vt(),s=t+In,o=r.firstCreatePass?lF(s,r,i,e,n):r.data[s];Gr(o,!0);let a=cF(r,i,o,t);return i[s]=a,Uu()&&Qu(r,i,a,o),Xi(a,i),ju(o)&&(Jg(r,i,o),Xg(r,o,i)),n!=null&&em(i,o),Kr}function Qr(){let t=Bt(),e=vt();return kg()?ZC():(t=t.parent,Gr(t,!1)),e.firstCreatePass&&(Ku(e,t),Pg(t)&&e.queries.elementEnd(t)),Qr}var cF=(t,e,n,i)=>($u(!0),FR(e[Ze],""));function sd(){return we()}var Fr=void 0;function uF(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var dF=["en",[["a","p"],["AM","PM"],Fr],[["AM","PM"],Fr,Fr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fr,"{1} 'at' {0}",Fr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",uF],jp={};function cn(t){let e=hF(t),n=IC(e);if(n)return n;let i=e.split("-")[0];if(n=IC(i),n)return n;if(i==="en")return dF;throw new L(701,!1)}function IC(t){return t in jp||(jp[t]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[t]),jp[t]}var Ye=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Ye||{});function hF(t){return t.toLowerCase().replace(/_/g,"-")}var Ru="en-US";var fF=Ru;function pF(t){typeof t=="string"&&(fF=t.toLowerCase().replace(/_/g,"-"))}function ce(t,e,n,i){let r=we(),s=vt(),o=Bt();return CD(s,r,r[Ze],o,t,e,i),ce}function gF(t,e,n,i){let r=t.cleanup;if(r!=null)for(let s=0;s<r.length-1;s+=2){let o=r[s];if(o===n&&r[s+1]===i){let a=e[xa],l=r[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function CD(t,e,n,i,r,s,o){let a=ju(i),c=t.firstCreatePass&&Sk(t),u=e[xn],d=Ik(e),h=!0;if(i.type&3||o){let g=an(i,e),m=o?o(g):g,y=d.length,v=o?w=>o(Hn(w[i.index])):i.index,_=null;if(!o&&a&&(_=gF(t,e,r,i.index)),_!==null){let w=_.__ngLastListenerFn__||_;w.__ngNextListenerFn__=s,_.__ngLastListenerFn__=s,h=!1}else{s=MC(i,e,u,s,!1);let w=n.listen(m,r,s);d.push(s,w),c&&c.push(r,v,y,y+1)}}else s=MC(i,e,u,s,!1);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let y=p[m],v=p[m+1],C=e[y][v].subscribe(s),E=d.length;if(d.push(s,C),c){let T=typeof C=="function"?E+1:-(E+1);c.push(r,i.index,E,T)}}}}function SC(t,e,n,i){let r=fe(null);try{return jn(6,e,n),n(i)!==!1}catch(s){return aD(t,s),!1}finally{jn(7,e,n),fe(r)}}function MC(t,e,n,i,r){return function s(o){if(o===Function)return i;let a=t.componentOffset>-1?er(t.index,e):e;sm(a);let l=SC(e,n,i,o),c=s.__ngNextListenerFn__;for(;c;)l=SC(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&o.preventDefault(),l}}function An(t=1){return _N(t)}function mF(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function x(t,e=""){let n=we(),i=vt(),r=t+In,s=i.firstCreatePass?Fa(i,r,1,e,null):i.data[r],o=yF(i,n,s,e,t);n[r]=o,Uu()&&Qu(i,n,o,s),Gr(s,!1)}var yF=(t,e,n,i,r)=>($u(!0),kR(e[Ze],i));function cm(t){return At("",t,""),cm}function At(t,e,n){let i=we(),r=HO(i,t,e,n);return r!==qr&&Mk(i,lo(),r),At}function bt(t,e,n){_D(e)&&(e=e());let i=we(),r=Bu();if(ho(i,r,e)){let s=vt(),o=Lg();nD(s,o,i,t,e,i[Ze],n,!1)}return bt}function Pt(t,e){let n=_D(t);return n&&t.set(e),n}function Ct(t,e){let n=we(),i=vt(),r=Bt();return CD(i,n,n[Ze],r,t,e),Ct}function vF(t,e,n){let i=vt();if(i.firstCreatePass){let r=Zi(t);Dg(n,i.data,i.blueprint,r,!0),Dg(e,i.data,i.blueprint,r,!1)}}function Dg(t,e,n,i,r){if(t=St(t),Array.isArray(t))for(let s=0;s<t.length;s++)Dg(t[s],e,n,i,r);else{let s=vt(),o=we(),a=Bt(),l=to(t)?t:St(t.provide),c=ww(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(to(t)||!t.multi){let f=new Hr(c,r,O),p=Up(l,e,r?u:u+h,d);p===-1?(ng(Du(a,o),s,l),Bp(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),o.push(f)):(n[p]=f,o[p]=f)}else{let f=Up(l,e,u+h,d),p=Up(l,e,u,u+h),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){ng(Du(a,o),s,l);let y=CF(r?bF:_F,n.length,r,i,c);!r&&m&&(n[p].providerFactory=y),Bp(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),o.push(y)}else{let y=wD(n[r?p:f],c,!r&&i);Bp(s,t,f>-1?f:p,y)}!r&&i&&m&&n[p].componentProviders++}}}function Bp(t,e,n,i){let r=to(e),s=KN(e);if(r||s){let l=(s?St(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function wD(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Up(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function _F(t,e,n,i){return Eg(this.multi,[])}function bF(t,e,n,i){let r=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=no(n,n[se],this.providerFactory.index,i);s=a.slice(0,o),Eg(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Eg(r,s);return s}function Eg(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function CF(t,e,n,i,r){let s=new Hr(t,n,O);return s.multi=[],s.index=e,s.componentProviders=0,wD(s,r,i&&!n),s}function Gn(t,e=[]){return n=>{n.providersResolver=(i,r)=>vF(i,r?r(t):t,e)}}var wF=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=_w(!1,i.type),s=r.length>0?id([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,s)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=k({token:e,providedIn:"environment",factory:()=>new e(I(Tt))});let t=e;return t})();function DD(t){nd("NgStandalone"),t.getStandaloneInjector=e=>e.get(wF).getOrCreateStandaloneInjector(t)}function DF(t,e){let n=t[e];return n===qr?void 0:n}function EF(t,e,n,i,r,s){let o=e+n;return ho(t,o,r)?jO(t,o+1,s?i.call(s,r):i(r)):DF(t,o+1)}function um(t,e){let n=vt(),i,r=t+In;n.firstCreatePass?(i=xF(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let s=i.factory||(i.factory=$r(i.type,!0)),o,a=jt(O);try{let l=wu(!1),c=s();return wu(l),mF(n,we(),r,c),c}finally{jt(a)}}function xF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function dm(t,e,n){let i=t+In,r=we(),s=JP(r,i);return IF(r,i)?EF(r,dN(),e,s.transform,n,s):s.transform(n)}function IF(t,e){return t[se].data[e].pure}var au=null;function SF(t){au!==null&&(t.defaultEncapsulation!==au.defaultEncapsulation||t.preserveWhitespaces!==au.preserveWhitespaces)||(au=t)}var mi=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ED=new mi("17.2.4"),od=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var hm=new N(""),La=new N(""),ad=(()=>{let e=class e{constructor(i,r,s){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,fm||(MF(s),s.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,s){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),i()},r)),this._callbacks.push({doneCb:i,timeoutId:o,updateCb:s})}whenStable(i,r,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,s){return[]}};e.\u0275fac=function(r){return new(r||e)(I(oe),I(ld),I(La))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),ld=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return fm?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function MF(t){fm=t}var fm;function Zr(t){return!!t&&typeof t.then=="function"}function xD(t){return!!t&&typeof t.subscribe=="function"}var cd=new N(""),ID=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=A(cd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let s of this.appInits){let o=s();if(Zr(o))i.push(o);else if(xD(o)){let a=new Promise((l,c)=>{o.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(s=>{this.reject(s)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ud=new N("");function TF(){S0(()=>{throw new L(600,!1)})}function AF(t){return t.isBoundToModule}function PF(t,e,n){try{let i=n();return Zr(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function SD(t,e){return Array.isArray(e)?e.reduce(SD,t):P(P({},t),e)}var Xr=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(Vw),this.afterRenderEffectManager=A(lm),this.componentTypes=[],this.components=[],this.isStable=A(Yr).hasPendingTasks.pipe(j(i=>!i)),this._injector=A(Tt)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let s=i instanceof Iu;if(!this._injector.get(ID).done){let f=!s&&jC(i),p=!1;throw new L(405,p)}let a;s?a=i:a=this._injector.get(td).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=AF(a)?void 0:this._injector.get(Ji),c=r||a.selector,u=a.create(Mn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(hm,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),hu(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new L(101,!1);let i=fe(null);try{this._runningTick=!0,this.detectChangesInAttachedViews()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,fe(i)}}detectChangesInAttachedViews(){let i=0,r=this.afterRenderEffectManager;for(;;){if(i===hD)throw new L(103,!1);let s=i===0;for(let{_lView:o,notifyErrorHandler:a}of this._views)!s&&!$p(o)||this.detectChangesInView(o,a,s);if(i++,r.executeInternalCallbacks(),!this._views.some(({_lView:o})=>$p(o))&&(r.execute(),!this._views.some(({_lView:o})=>$p(o))))break}}detectChangesInView(i,r,s){let o;s?(o=0,i[U]|=1024):i[U]&64?o=0:o=1,fD(i,r,o)}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;hu(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(ud,[]);[...this._bootstrapListeners,...r].forEach(s=>s(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>hu(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new L(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function $p(t){return Rg(t)}var xg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},dd=(()=>{let e=class e{compileModuleSync(i){return new Pu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),s=BC(i),o=Uw(s.declarations).reduce((a,l)=>{let c=Ki(l);return c&&a.push(new io(c)),a},[]);return new xg(r,o)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),NF=new N("");function RF(t,e,n){let i=new Pu(n);return Promise.resolve(i)}function TC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var kF=(()=>{let e=class e{constructor(){this.zone=A(oe),this.applicationRef=A(Xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function OF(t){return[{provide:oe,useFactory:t},{provide:eo,multi:!0,useFactory:()=>{let e=A(kF,{optional:!0});return()=>e.initialize()}},{provide:eo,multi:!0,useFactory:()=>{let e=A(VF);return()=>{e.initialize()}}},{provide:Vw,useFactory:FF}]}function FF(){let t=A(oe),e=A(zn);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VF=(()=>{let e=class e{constructor(){this.subscription=new Ge,this.initialized=!1,this.zone=A(oe),this.pendingTasks=A(Yr)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{oe.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{oe.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jF(){return typeof $localize<"u"&&$localize.locale||Ru}var hd=new N("",{providedIn:"root",factory:()=>A(hd,ee.Optional|ee.SkipSelf)||jF()});var MD=new N(""),TD=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let s=sO(r?.ngZone,LF({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return s.run(()=>{let o=FO(i.moduleType,this.injector,OF(()=>s)),a=o.injector.get(zn,null);return s.runOutsideAngular(()=>{let l=s.onError.subscribe({next:c=>{a.handleError(c)}});o.onDestroy(()=>{hu(this._modules,o),l.unsubscribe()})}),PF(a,s,()=>{let l=o.injector.get(ID);return l.runInitializers(),l.donePromise.then(()=>{let c=o.injector.get(hd,Ru);return pF(c||Ru),this._moduleDoBootstrap(o),o})})})}bootstrapModule(i,r=[]){let s=SD({},r);return RF(this.injector,s,i).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(i){let r=i.injector.get(Xr);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(s=>r.bootstrap(s));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new L(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(MD,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(I(Mn))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Da=null,AD=new N("");function BF(t){if(Da&&!Da.get(AD,!1))throw new L(400,!1);TF(),Da=t;let e=t.get(TD);return HF(t),e}function pm(t,e,n=[]){let i=`Platform: ${e}`,r=new N(i);return(s=[])=>{let o=PD();if(!o||o.injector.get(AD,!1)){let a=[...n,...s,{provide:r,useValue:!0}];t?t(a):BF(UF(a,i))}return $F(r)}}function UF(t=[],e){return Mn.create({name:e,providers:[{provide:Yu,useValue:"platform"},{provide:MD,useValue:new Set([()=>Da=null])},...t]})}function $F(t){let e=PD();if(!e)throw new L(401,!1);return e}function PD(){return Da?.get(TD)??null}function HF(t){t.get(jg,null)?.forEach(n=>n())}function gm(){return!1}var Jr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=zF;let t=e;return t})();function zF(t){return WF(Bt(),we(),(t&16)===16)}function WF(t,e,n){if(Vu(t)&&!n){let i=er(t.index,e);return new zr(i,i)}else if(t.type&47){let i=e[$n];return new zr(i,e)}return null}var Ig=class{constructor(){}supports(e){return bD(e)}create(e){return new Sg(e)}},GF=(t,e)=>e,Sg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||GF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,s=null;for(;n||i;){let o=!i||n&&n.currentIndex<AC(i,r,s)?n:i,a=AC(o,r,s),l=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(n=n._next,o.previousIndex==null)r++;else{s||(s=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<s.length?s[h]:s[h]=0,p=f+h;u<=p&&p<c&&(s[h]=f+1)}let d=o.previousIndex;s[d]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!bD(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),i=!0):(i&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else r=0,LO(e,a=>{o=this._trackByFn(r,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,o,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,r)):e=this._addAfter(new Mg(n,i),s,r)),e}_verifyReinsertion(e,n,i,r){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return s!==null?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,s=e._nextRemoved;return r===null?this._removalsHead=s:r._nextRemoved=s,s===null?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Mg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Tg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},ku=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new Tg,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function AC(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function PC(){return new mm([new Ig])}var mm=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let s=r.factories.slice();i=i.concat(s)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||PC()),deps:[[e,new zg,new co]]}}find(i){let r=this.factories.find(s=>s.supports(i));if(r!=null)return r;throw new L(901,!1)}};e.\u0275prov=k({token:e,providedIn:"root",factory:PC});let t=e;return t})();var ND=pm(null,"core",[]),RD=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(I(Xr))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({});let t=e;return t})();function Va(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function kD(t){let e=Ki(t);if(!e)return null;let n=new io(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var BD=null;function qn(){return BD}function UD(t){BD??=t}var Cd=class{};var wt=new N(""),Em=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>A(KF),providedIn:"platform"});let t=e;return t})(),$D=new N(""),KF=(()=>{let e=class e extends Em{constructor(){super(),this._doc=A(wt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(i){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=qn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,s){this._history.pushState(i,r,s)}replaceState(i,r,s){this._history.replaceState(i,r,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function xm(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function OD(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function Di(t){return t&&t[0]!=="?"?"?"+t:t}var es=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>A(Im),providedIn:"root"});let t=e;return t})(),HD=new N(""),Im=(()=>{let e=class e extends es{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(wt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return xm(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+Di(this._platformLocation.search),s=this._platformLocation.hash;return s&&i?`${r}${s}`:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(I(Em),I(HD,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),zD=(()=>{let e=class e extends es{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=xm(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,s,o){let a=this.prepareExternalUrl(s+Di(o));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(I(Em),I(HD,8))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),po=(()=>{let e=class e{constructor(i){this._subject=new $e,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=XF(OD(FD(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+Di(r))}normalize(i){return e.stripTrailingSlash(ZF(this._basePath,FD(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",s=null){this._locationStrategy.pushState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Di(r)),s)}replaceState(i,r="",s=null){this._locationStrategy.replaceState(s,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+Di(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(s=>s(i,r))}subscribe(i,r,s){return this._subject.subscribe({next:i,error:r,complete:s})}};e.normalizeQueryParams=Di,e.joinWithSlash=xm,e.stripTrailingSlash=OD,e.\u0275fac=function(r){return new(r||e)(I(es))},e.\u0275prov=k({token:e,factory:()=>QF(),providedIn:"root"});let t=e;return t})();function QF(){return new po(I(es))}function ZF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function FD(t){return t.replace(/\/index.html$/,"")}function XF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Nt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Nt||{}),De=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(De||{}),Yt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Yt||{}),Ei=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Ei||{});function JF(t){return cn(t)[Ye.LocaleId]}function e1(t,e,n){let i=cn(t),r=[i[Ye.DayPeriodsFormat],i[Ye.DayPeriodsStandalone]],s=un(r,e);return un(s,n)}function t1(t,e,n){let i=cn(t),r=[i[Ye.DaysFormat],i[Ye.DaysStandalone]],s=un(r,e);return un(s,n)}function n1(t,e,n){let i=cn(t),r=[i[Ye.MonthsFormat],i[Ye.MonthsStandalone]],s=un(r,e);return un(s,n)}function i1(t,e){let i=cn(t)[Ye.Eras];return un(i,e)}function fd(t,e){let n=cn(t);return un(n[Ye.DateFormat],e)}function pd(t,e){let n=cn(t);return un(n[Ye.TimeFormat],e)}function gd(t,e){let i=cn(t)[Ye.DateTimeFormat];return un(i,e)}function Dd(t,e){let n=cn(t),i=n[Ye.NumberSymbols][e];if(typeof i>"u"){if(e===Ei.CurrencyDecimal)return n[Ye.NumberSymbols][Ei.Decimal];if(e===Ei.CurrencyGroup)return n[Ye.NumberSymbols][Ei.Group]}return i}function WD(t){if(!t[Ye.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Ye.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function r1(t){let e=cn(t);return WD(e),(e[Ye.ExtraData][2]||[]).map(i=>typeof i=="string"?ym(i):[ym(i[0]),ym(i[1])])}function s1(t,e,n){let i=cn(t);WD(i);let r=[i[Ye.ExtraData][0],i[Ye.ExtraData][1]],s=un(r,e)||[];return un(s,n)||[]}function un(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function ym(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var o1=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,md={},a1=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,xi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(xi||{}),ge=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ge||{}),pe=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(pe||{});function l1(t,e,n,i){let r=y1(t);e=wi(n,e)||e;let o=[],a;for(;e;)if(a=a1.exec(e),a){o=o.concat(a.slice(1));let u=o.pop();if(!u)break;e=u}else{o.push(e);break}let l=r.getTimezoneOffset();i&&(l=qD(i,l),r=m1(r,i,!0));let c="";return o.forEach(u=>{let d=p1(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function wd(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function wi(t,e){let n=JF(t);if(md[n]??={},md[n][e])return md[n][e];let i="";switch(e){case"shortDate":i=fd(t,Yt.Short);break;case"mediumDate":i=fd(t,Yt.Medium);break;case"longDate":i=fd(t,Yt.Long);break;case"fullDate":i=fd(t,Yt.Full);break;case"shortTime":i=pd(t,Yt.Short);break;case"mediumTime":i=pd(t,Yt.Medium);break;case"longTime":i=pd(t,Yt.Long);break;case"fullTime":i=pd(t,Yt.Full);break;case"short":let r=wi(t,"shortTime"),s=wi(t,"shortDate");i=yd(gd(t,Yt.Short),[r,s]);break;case"medium":let o=wi(t,"mediumTime"),a=wi(t,"mediumDate");i=yd(gd(t,Yt.Medium),[o,a]);break;case"long":let l=wi(t,"longTime"),c=wi(t,"longDate");i=yd(gd(t,Yt.Long),[l,c]);break;case"full":let u=wi(t,"fullTime"),d=wi(t,"fullDate");i=yd(gd(t,Yt.Full),[u,d]);break}return i&&(md[n][e]=i),i}function yd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function Pn(t,e,n="-",i,r){let s="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,s=n));let o=String(t);for(;o.length<e;)o="0"+o;return i&&(o=o.slice(o.length-e)),s+o}function c1(t,e){return Pn(t,3).substring(0,e)}function Je(t,e,n=0,i=!1,r=!1){return function(s,o){let a=u1(t,s);if((n>0||a>-n)&&(a+=n),t===ge.Hours)a===0&&n===-12&&(a=12);else if(t===ge.FractionalSeconds)return c1(a,e);let l=Dd(o,Ei.MinusSign);return Pn(a,e,l,i,r)}}function u1(t,e){switch(t){case ge.FullYear:return e.getFullYear();case ge.Month:return e.getMonth();case ge.Date:return e.getDate();case ge.Hours:return e.getHours();case ge.Minutes:return e.getMinutes();case ge.Seconds:return e.getSeconds();case ge.FractionalSeconds:return e.getMilliseconds();case ge.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Me(t,e,n=Nt.Format,i=!1){return function(r,s){return d1(r,s,t,e,n,i)}}function d1(t,e,n,i,r,s){switch(n){case pe.Months:return n1(e,r,i)[t.getMonth()];case pe.Days:return t1(e,r,i)[t.getDay()];case pe.DayPeriods:let o=t.getHours(),a=t.getMinutes();if(s){let c=r1(e),u=s1(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=o>=f.hours&&a>=f.minutes,m=o<p.hours||o===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===o&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return e1(e,r,i)[o<12?0:1];case pe.Eras:return i1(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function vd(t){return function(e,n,i){let r=-1*i,s=Dd(n,Ei.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case xi.Short:return(r>=0?"+":"")+Pn(o,2,s)+Pn(Math.abs(r%60),2,s);case xi.ShortGMT:return"GMT"+(r>=0?"+":"")+Pn(o,1,s);case xi.Long:return"GMT"+(r>=0?"+":"")+Pn(o,2,s)+":"+Pn(Math.abs(r%60),2,s);case xi.Extended:return i===0?"Z":(r>=0?"+":"")+Pn(o,2,s)+":"+Pn(Math.abs(r%60),2,s);default:throw new Error(`Unknown zone width "${t}"`)}}}var h1=0,bd=4;function f1(t){let e=wd(t,h1,1).getDay();return wd(t,0,1+(e<=bd?bd:bd+7)-e)}function GD(t){let e=t.getDay(),n=e===0?-3:bd-e;return wd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function vm(t,e=!1){return function(n,i){let r;if(e){let s=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,o=n.getDate();r=1+Math.floor((o+s)/7)}else{let s=GD(n),o=f1(s.getFullYear()),a=s.getTime()-o.getTime();r=1+Math.round(a/6048e5)}return Pn(r,t,Dd(i,Ei.MinusSign))}}function _d(t,e=!1){return function(n,i){let s=GD(n).getFullYear();return Pn(s,t,Dd(i,Ei.MinusSign),e)}}var _m={};function p1(t){if(_m[t])return _m[t];let e;switch(t){case"G":case"GG":case"GGG":e=Me(pe.Eras,De.Abbreviated);break;case"GGGG":e=Me(pe.Eras,De.Wide);break;case"GGGGG":e=Me(pe.Eras,De.Narrow);break;case"y":e=Je(ge.FullYear,1,0,!1,!0);break;case"yy":e=Je(ge.FullYear,2,0,!0,!0);break;case"yyy":e=Je(ge.FullYear,3,0,!1,!0);break;case"yyyy":e=Je(ge.FullYear,4,0,!1,!0);break;case"Y":e=_d(1);break;case"YY":e=_d(2,!0);break;case"YYY":e=_d(3);break;case"YYYY":e=_d(4);break;case"M":case"L":e=Je(ge.Month,1,1);break;case"MM":case"LL":e=Je(ge.Month,2,1);break;case"MMM":e=Me(pe.Months,De.Abbreviated);break;case"MMMM":e=Me(pe.Months,De.Wide);break;case"MMMMM":e=Me(pe.Months,De.Narrow);break;case"LLL":e=Me(pe.Months,De.Abbreviated,Nt.Standalone);break;case"LLLL":e=Me(pe.Months,De.Wide,Nt.Standalone);break;case"LLLLL":e=Me(pe.Months,De.Narrow,Nt.Standalone);break;case"w":e=vm(1);break;case"ww":e=vm(2);break;case"W":e=vm(1,!0);break;case"d":e=Je(ge.Date,1);break;case"dd":e=Je(ge.Date,2);break;case"c":case"cc":e=Je(ge.Day,1);break;case"ccc":e=Me(pe.Days,De.Abbreviated,Nt.Standalone);break;case"cccc":e=Me(pe.Days,De.Wide,Nt.Standalone);break;case"ccccc":e=Me(pe.Days,De.Narrow,Nt.Standalone);break;case"cccccc":e=Me(pe.Days,De.Short,Nt.Standalone);break;case"E":case"EE":case"EEE":e=Me(pe.Days,De.Abbreviated);break;case"EEEE":e=Me(pe.Days,De.Wide);break;case"EEEEE":e=Me(pe.Days,De.Narrow);break;case"EEEEEE":e=Me(pe.Days,De.Short);break;case"a":case"aa":case"aaa":e=Me(pe.DayPeriods,De.Abbreviated);break;case"aaaa":e=Me(pe.DayPeriods,De.Wide);break;case"aaaaa":e=Me(pe.DayPeriods,De.Narrow);break;case"b":case"bb":case"bbb":e=Me(pe.DayPeriods,De.Abbreviated,Nt.Standalone,!0);break;case"bbbb":e=Me(pe.DayPeriods,De.Wide,Nt.Standalone,!0);break;case"bbbbb":e=Me(pe.DayPeriods,De.Narrow,Nt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Me(pe.DayPeriods,De.Abbreviated,Nt.Format,!0);break;case"BBBB":e=Me(pe.DayPeriods,De.Wide,Nt.Format,!0);break;case"BBBBB":e=Me(pe.DayPeriods,De.Narrow,Nt.Format,!0);break;case"h":e=Je(ge.Hours,1,-12);break;case"hh":e=Je(ge.Hours,2,-12);break;case"H":e=Je(ge.Hours,1);break;case"HH":e=Je(ge.Hours,2);break;case"m":e=Je(ge.Minutes,1);break;case"mm":e=Je(ge.Minutes,2);break;case"s":e=Je(ge.Seconds,1);break;case"ss":e=Je(ge.Seconds,2);break;case"S":e=Je(ge.FractionalSeconds,1);break;case"SS":e=Je(ge.FractionalSeconds,2);break;case"SSS":e=Je(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=vd(xi.Short);break;case"ZZZZZ":e=vd(xi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=vd(xi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=vd(xi.Long);break;default:return null}return _m[t]=e,e}function qD(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function g1(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function m1(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),s=qD(e,r);return g1(t,i*(s-r))}function y1(t){if(LD(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,s=1,o=1]=t.split("-").map(a=>+a);return wd(r,s-1,o)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(o1))return v1(i)}let e=new Date(t);if(!LD(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function v1(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,s=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let o=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return s.call(e,o,a,l,c),e}function LD(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ed(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,s]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}var bm=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},YD=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,s){this._viewContainer=i,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((s,o,a)=>{if(s.previousIndex==null)r.createEmbeddedView(this._template,new bm(s.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(o===null?void 0:o);else if(o!==null){let l=r.get(o);r.move(l,a),VD(l,s)}});for(let s=0,o=r.length;s<o;s++){let l=r.get(s).context;l.index=s,l.count=o,l.ngForOf=this._ngForOf}i.forEachIdentityChange(s=>{let o=r.get(s.currentIndex);VD(o,s)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(O(uo),O(ed),O(mm))},e.\u0275dir=Le({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function VD(t,e){t.context.$implicit=e.item}var dn=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Cm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){jD("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){jD("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(O(uo),O(ed))},e.\u0275dir=Le({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Cm=class{constructor(){this.$implicit=null,this.ngIf=null}};function jD(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Mt(e)}'.`)}function _1(t,e){return new L(2100,!1)}var b1="mediumDate",C1=new N(""),w1=new N(""),KD=(()=>{let e=class e{constructor(i,r,s){this.locale=i,this.defaultTimezone=r,this.defaultOptions=s}transform(i,r,s,o){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??b1,l=s??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return l1(i,a,o||this.locale,l)}catch(a){throw _1(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(O(hd,16),O(C1,24),O(w1,24))},e.\u0275pipe=FC({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var QD=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({});let t=e;return t})(),Sm="browser",D1="server";function E1(t){return t===Sm}function ja(t){return t===D1}var ZD=(()=>{let e=class e{};e.\u0275prov=k({token:e,providedIn:"root",factory:()=>E1(A(_t))?new wm(A(wt),window):new Dm});let t=e;return t})(),wm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=x1(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}};function x1(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let s=r.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}var Dm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},fo=class{};var Ua=class{},Id=class{},ns=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),s=r.toLowerCase(),o=n.slice(i+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(s=>s.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Tm=class{encodeKey(e){return XD(e)}encodeValue(e){return XD(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function M1(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,a]=s==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,s)),e.decodeValue(r.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var T1=/%(\d[a-f0-9])/gi,A1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function XD(t){return encodeURIComponent(t).replace(T1,(e,n)=>A1[n]??e)}function xd(t){return`${t}`}var nr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Tm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=M1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(xd):[xd(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(s=>{n.push({param:i,value:s,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(xd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(xd(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Am=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function P1(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function JD(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function eE(t){return typeof Blob<"u"&&t instanceof Blob}function tE(t){return typeof FormData<"u"&&t instanceof FormData}function N1(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ba=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(P1(this.method)||r?(this.body=i!==void 0?i:null,s=r):s=i,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ns,this.context??=new Am,!this.params)this.params=new nr,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:JD(this.body)||eE(this.body)||tE(this.body)||N1(this.body)||typeof this.body=="string"?this.body:this.body instanceof nr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||tE(this.body)?null:eE(this.body)?this.body.type||null:JD(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof nr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,s=e.body!==void 0?e.body:this.body,o=e.withCredentials!==void 0?e.withCredentials:this.withCredentials,a=e.reportProgress!==void 0?e.reportProgress:this.reportProgress,l=e.headers||this.headers,c=e.params||this.params,u=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new t(n,i,s,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:o})}},go=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(go||{}),$a=class{constructor(e,n=Td.Ok,i="OK"){this.headers=e.headers||new ns,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Pm=class t extends $a{constructor(e={}){super(e),this.type=go.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sd=class t extends $a{constructor(e={}){super(e),this.type=go.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Md=class extends $a{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Td=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Td||{});function Mm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var R1=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,s={}){let o;if(i instanceof Ba)o=i;else{let c;s.headers instanceof ns?c=s.headers:c=new ns(s.headers);let u;s.params&&(s.params instanceof nr?u=s.params:u=new nr({fromObject:s.params})),o=new Ba(i,r,s.body!==void 0?s.body:null,{headers:c,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials,transferCache:s.transferCache})}let a=V(o).pipe(fi(c=>this.handler.handle(c)));if(i instanceof Ba||s.observe==="events")return a;let l=a.pipe(mt(c=>c instanceof Sd));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(j(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(j(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(j(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new nr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,s={}){return this.request("PATCH",i,Mm(s,r))}post(i,r,s={}){return this.request("POST",i,Mm(s,r))}put(i,r,s={}){return this.request("PUT",i,Mm(s,r))}};e.\u0275fac=function(r){return new(r||e)(I(Ua))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function sE(t,e){return e(t)}function k1(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function O1(t,e,n){return(i,r)=>Wn(n,()=>e(i,s=>t(s,r)))}var F1=new N(""),Nm=new N(""),L1=new N(""),V1=new N("");function j1(){let t=null;return(e,n)=>{t===null&&(t=(A(F1,{optional:!0})??[]).reduceRight(k1,sE));let i=A(Yr),r=i.add();return t(e,n).pipe(Gi(()=>i.remove(r)))}}var nE=(()=>{let e=class e extends Ua{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=A(Yr);let s=A(V1,{optional:!0});this.backend=s??i}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Nm),...this.injector.get(L1,[])]));this.chain=s.reduceRight((o,a)=>O1(o,a,this.injector),sE)}let r=this.pendingTasks.add();return this.chain(i,s=>this.backend.handle(s)).pipe(Gi(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(I(Id),I(Tt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();var B1=/^\)\]\}',?\n/;function U1(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var iE=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?ue(r.\u0275loadImpl()):V(null)).pipe(Ie(()=>new Z(o=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let m=i.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(i.responseType){let m=i.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let m=a.statusText||"OK",y=new ns(a.getAllResponseHeaders()),v=U1(a)||i.url;return c=new Pm({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:_}=u(),w=null;y!==Td.NoContent&&(w=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=w?Td.Ok:0);let C=y>=200&&y<300;if(i.responseType==="json"&&typeof w=="string"){let E=w;w=w.replace(B1,"");try{w=w!==""?JSON.parse(w):null}catch(T){w=E,C&&(C=!1,w={error:T,text:w})}}C?(o.next(new Sd({body:w,headers:m,status:y,statusText:v,url:_||void 0})),o.complete()):o.error(new Md({error:w,headers:m,status:y,statusText:v,url:_||void 0}))},h=m=>{let{url:y}=u(),v=new Md({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});o.error(v)},f=!1,p=m=>{f||(o.next(u()),f=!0);let y={type:go.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),i.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),o.next(y)},g=m=>{let y={type:go.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),o.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),o.next({type:go.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(I(fo))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),oE=new N(""),$1="XSRF-TOKEN",H1=new N("",{providedIn:"root",factory:()=>$1}),z1="X-XSRF-TOKEN",W1=new N("",{providedIn:"root",factory:()=>z1}),Ad=class{},G1=(()=>{let e=class e{constructor(i,r,s){this.doc=i,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ed(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(I(wt),I(_t),I(H1))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function q1(t,e){let n=t.url.toLowerCase();if(!A(oE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=A(Ad).getToken(),r=A(W1);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var aE=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(aE||{});function Y1(t,e){return{\u0275kind:t,\u0275providers:e}}function K1(...t){let e=[R1,iE,nE,{provide:Ua,useExisting:nE},{provide:Id,useExisting:iE},{provide:Nm,useValue:q1,multi:!0},{provide:oE,useValue:!0},{provide:Ad,useClass:G1}];for(let n of t)e.push(...n.\u0275providers);return qu(e)}var rE=new N("");function Q1(){return Y1(aE.LegacyInterceptors,[{provide:rE,useFactory:j1},{provide:Nm,useExisting:rE,multi:!0}])}var lE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({providers:[K1(Q1())]});let t=e;return t})();var Om=class extends Cd{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Fm=class t extends Om{static makeCurrent(){UD(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Z1();return n==null?null:X1(n)}resetBaseElement(){Ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ed(document.cookie,e)}},Ha=null;function Z1(){return Ha=Ha||document.querySelector("base"),Ha?Ha.getAttribute("href"):null}function X1(t){return new URL(t,document.baseURI).pathname}var Lm=class{addToWindow(e){dt.getAngularTestability=(i,r=!0)=>{let s=e.findTestabilityInTree(i,r);if(s==null)throw new L(5103,!1);return s},dt.getAllAngularTestabilities=()=>e.getAllTestabilities(),dt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=dt.getAllAngularTestabilities(),s=r.length,o=function(){s--,s==0&&i()};r.forEach(a=>{a.whenStable(o)})};dt.frameworkStabilizers||(dt.frameworkStabilizers=[]),dt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?qn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},J1=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Vm=new N(""),hE=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(s=>{s.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,s){return this._findPluginFor(r).addEventListener(i,r,s)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(o=>o.supports(i)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(I(Vm),I(oe))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),Pd=class{constructor(e){this._doc=e}},Rm="ng-app-id",fE=(()=>{let e=class e{constructor(i,r,s,o={}){this.doc=i,this.appId=r,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ja(o),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(s=>s.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${Rm}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(s=>{s.textContent!=null&&r.set(s.textContent,s)}),r}return null}changeUsageCount(i,r){let s=this.styleRef;if(s.has(i)){let o=s.get(i);return o.usage+=r,o.usage}return s.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let s=this.styleNodesInDOM,o=s?.get(r);if(o?.parentNode===i)return s.delete(r),o.removeAttribute(Rm),o;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Rm,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let s=this.getStyleElement(i,r),o=this.styleRef,a=o.get(r)?.elements;a?a.push(s):o.set(r,{elements:[s],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(I(wt),I(Wu),I(Bg,8),I(_t))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),km={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bm=/%COMP%/g,pE="%COMP%",eL=`_nghost-${pE}`,tL=`_ngcontent-${pE}`,nL=!0,iL=new N("",{providedIn:"root",factory:()=>nL});function rL(t){return tL.replace(Bm,t)}function sL(t){return eL.replace(Bm,t)}function gE(t,e){return e.map(n=>n.replace(Bm,t))}var cE=(()=>{let e=class e{constructor(i,r,s,o,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ja(l),this.defaultRenderer=new za(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Un.ShadowDom&&(r=le(P({},r),{encapsulation:Un.Emulated}));let s=this.getOrCreateRenderer(i,r);return s instanceof Nd?s.applyToHost(i):s instanceof Wa&&s.applyStyles(),s}getOrCreateRenderer(i,r){let s=this.rendererByCompId,o=s.get(r.id);if(!o){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Un.Emulated:o=new Nd(c,u,r,this.appId,d,a,l,h);break;case Un.ShadowDom:return new jm(c,u,i,r,a,l,this.nonce,h);default:o=new Wa(c,u,r,d,a,l,h);break}s.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(I(hE),I(fE),I(Wu),I(iL),I(wt),I(_t),I(oe),I(Bg))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),za=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(km[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(uE(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(uE(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new L(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let s=km[r];s?e.setAttributeNS(s,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=km[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(gi.DashCase|gi.Important)?e.style.setProperty(n,i,r&gi.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&gi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=qn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function uE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var jm=class extends za{constructor(e,n,i,r,s,o,a,l){super(e,s,o,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=gE(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wa=class extends za{constructor(e,n,i,r,s,o,a,l){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?gE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Nd=class extends Wa{constructor(e,n,i,r,s,o,a,l){let c=r+"-"+i.id;super(e,n,i,s,o,a,l,c),this.contentAttr=rL(c),this.hostAttr=sL(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},oL=(()=>{let e=class e extends Pd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,s){return i.addEventListener(r,s,!1),()=>this.removeEventListener(i,r,s)}removeEventListener(i,r,s){return i.removeEventListener(r,s)}};e.\u0275fac=function(r){return new(r||e)(I(wt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})(),dE=["alt","control","meta","shift"],aL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},cL=(()=>{let e=class e extends Pd{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,s){let o=e.parseEventName(r),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(i,o.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),s=r.shift();if(r.length===0||!(s==="keydown"||s==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),dE.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=s,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let s=aL[i.key]||i.key,o="";return r.indexOf("code.")>-1&&(s=i.code,o="code."),s==null||!s?!1:(s=s.toLowerCase(),s===" "?s="space":s==="."&&(s="dot"),dE.forEach(a=>{if(a!==s){let l=lL[a];l(i)&&(o+=a+".")}}),o+=s,o===r)}static eventCallback(i,r,s){return o=>{e.matchEventFullKeyCode(o,i)&&s.runGuarded(()=>r(o))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(I(wt))},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function uL(){Fm.makeCurrent()}function dL(){return new zn}function hL(){return aw(document),document}var fL=[{provide:_t,useValue:Sm},{provide:jg,useValue:uL,multi:!0},{provide:wt,useFactory:hL,deps:[]}],mE=pm(ND,"browser",fL),pL=new N(""),gL=[{provide:La,useClass:Lm,deps:[]},{provide:hm,useClass:ad,deps:[oe,ld,La]},{provide:ad,useClass:ad,deps:[oe,ld,La]}],mL=[{provide:Yu,useValue:"root"},{provide:zn,useFactory:dL,deps:[]},{provide:Vm,useClass:oL,multi:!0,deps:[wt,oe,_t]},{provide:Vm,useClass:cL,multi:!0,deps:[wt]},cE,fE,hE,{provide:Pa,useExisting:cE},{provide:fo,useClass:J1,deps:[]},[]],yE=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:Wu,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(I(pL,12))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({providers:[...mL,...gL],imports:[QD,RD]});let t=e;return t})();var vE=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(I(wt))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Q="primary",ol=Symbol("RouteTitle"),Wm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function bo(t){return new Wm(t)}function yL(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let s=0;s<i.length;s++){let o=i[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function vL(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Yn(t[n],e[n]))return!1;return!0}function Yn(t,e){let n=t?Gm(t):void 0,i=e?Gm(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let s=0;s<n.length;s++)if(r=n[s],!ME(t[r],e[r]))return!1;return!0}function Gm(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ME(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,s)=>i[s]===r)}else return t===e}function TE(t){return t.length>0?t[t.length-1]:null}function or(t){return yp(t)?t:Zr(t)?ue(Promise.resolve(t)):V(t)}var _L={exact:PE,subset:NE},AE={exact:bL,subset:CL,ignored:()=>!0};function bE(t,e,n){return _L[n.paths](t.root,e.root,n.matrixParams)&&AE[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function bL(t,e){return Yn(t,e)}function PE(t,e,n){if(!rs(t.segments,e.segments)||!Od(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!PE(t.children[i],e.children[i],n))return!1;return!0}function CL(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ME(t[n],e[n]))}function NE(t,e,n){return RE(t,e,e.segments,n)}function RE(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!rs(r,n)||e.hasChildren()||!Od(r,n,i))}else if(t.segments.length===n.length){if(!rs(t.segments,n)||!Od(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!NE(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!rs(t.segments,r)||!Od(t.segments,r,i)||!t.children[Q]?!1:RE(t.children[Q],e,s,i)}}function Od(t,e,n){return e.every((i,r)=>AE[n](t[r].parameters,i.parameters))}var ir=class{constructor(e=new ye([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=bo(this.queryParams),this._queryParamMap}toString(){return EL.serialize(this)}},ye=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fd(this)}},is=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=bo(this.parameters),this._parameterMap}toString(){return OE(this)}};function wL(t,e){return rs(t,e)&&t.every((n,i)=>Yn(n.parameters,e[i].parameters))}function rs(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function DL(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Q&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Q&&(n=n.concat(e(r,i)))}),n}var al=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>new Xa,providedIn:"root"});let t=e;return t})(),Xa=class{parse(e){let n=new Ym(e);return new ir(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ga(e.root,!0)}`,i=SL(e.queryParams),r=typeof e.fragment=="string"?`#${xL(e.fragment)}`:"";return`${n}${i}${r}`}},EL=new Xa;function Fd(t){return t.segments.map(e=>OE(e)).join("/")}function Ga(t,e){if(!t.hasChildren())return Fd(t);if(e){let n=t.children[Q]?Ga(t.children[Q],!1):"",i=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Q&&i.push(`${r}:${Ga(s,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=DL(t,(i,r)=>r===Q?[Ga(t.children[Q],!1)]:[`${r}:${Ga(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${Fd(t)}/${n[0]}`:`${Fd(t)}/(${n.join("//")})`}}function kE(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Rd(t){return kE(t).replace(/%3B/gi,";")}function xL(t){return encodeURI(t)}function qm(t){return kE(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ld(t){return decodeURIComponent(t)}function CE(t){return Ld(t.replace(/\+/g,"%20"))}function OE(t){return`${qm(t.path)}${IL(t.parameters)}`}function IL(t){return Object.entries(t).map(([e,n])=>`;${qm(e)}=${qm(n)}`).join("")}function SL(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${Rd(n)}=${Rd(r)}`).join("&"):`${Rd(n)}=${Rd(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var ML=/^[^\/()?;#]+/;function Um(t){let e=t.match(ML);return e?e[0]:""}var TL=/^[^\/()?;=#]+/;function AL(t){let e=t.match(TL);return e?e[0]:""}var PL=/^[^=?&#]+/;function NL(t){let e=t.match(PL);return e?e[0]:""}var RL=/^[^&#]+/;function kL(t){let e=t.match(RL);return e?e[0]:""}var Ym=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Q]=new ye(e,n)),i}parseSegment(){let e=Um(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new is(Ld(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=AL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=Um(this.remaining);r&&(i=r,this.capture(i))}e[Ld(n)]=Ld(i)}parseQueryParam(e){let n=NL(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let o=kL(this.remaining);o&&(i=o,this.capture(i))}let r=CE(n),s=CE(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Um(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new L(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Q);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[Q]:new ye([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function FE(t){return t.segments.length>0?new ye([],{[Q]:t}):t}function LE(t){let e={};for(let[i,r]of Object.entries(t.children)){let s=LE(r);if(i===Q&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}let n=new ye(t.segments,e);return OL(n)}function OL(t){if(t.numberOfChildren===1&&t.children[Q]){let e=t.children[Q];return new ye(t.segments.concat(e.segments),e.children)}return t}function Co(t){return t instanceof ir}function FL(t,e,n=null,i=null){let r=VE(t);return jE(r,e,n,i)}function VE(t){let e;function n(s){let o={};for(let l of s.children){let c=n(l);o[l.outlet]=c}let a=new ye(s.url,o);return s===t&&(e=a),a}let i=n(t.root),r=FE(i);return e??r}function jE(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return $m(r,r,r,n,i);let s=LL(e);if(s.toRoot())return $m(r,r,new ye([],{}),n,i);let o=VL(s,r,t),a=o.processChildren?Ka(o.segmentGroup,o.index,s.commands):UE(o.segmentGroup,o.index,s.commands);return $m(r,o.segmentGroup,a,n,i)}function Vd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ja(t){return typeof t=="object"&&t!=null&&t.outlets}function $m(t,e,n,i,r){let s={};i&&Object.entries(i).forEach(([l,c])=>{s[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let o;t===e?o=n:o=BE(t,e,n);let a=FE(LE(o));return new ir(a,s,r)}function BE(t,e,n){let i={};return Object.entries(t.children).forEach(([r,s])=>{s===e?i[r]=n:i[r]=BE(s,e,n)}),new ye(t.segments,i)}var jd=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&Vd(i[0]))throw new L(4003,!1);let r=i.find(Ja);if(r&&r!==TE(i))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function LL(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new jd(!0,0,t);let e=0,n=!1,i=t.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,s]},[]);return new jd(n,e,i)}var vo=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function VL(t,e,n){if(t.isAbsolute)return new vo(e,!0,0);if(!n)return new vo(e,!1,NaN);if(n.parent===null)return new vo(n,!0,0);let i=Vd(t.commands[0])?0:1,r=n.segments.length-1+i;return jL(n,r,t.numberOfDoubleDots)}function jL(t,e,n){let i=t,r=e,s=n;for(;s>r;){if(s-=r,i=i.parent,!i)throw new L(4005,!1);r=i.segments.length}return new vo(i,!1,r-s)}function BL(t){return Ja(t[0])?t[0].outlets:{[Q]:t}}function UE(t,e,n){if(t??=new ye([],{}),t.segments.length===0&&t.hasChildren())return Ka(t,e,n);let i=UL(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let s=new ye(t.segments.slice(0,i.pathIndex),{});return s.children[Q]=new ye(t.segments.slice(i.pathIndex),t.children),Ka(s,0,r)}else return i.match&&r.length===0?new ye(t.segments,{}):i.match&&!t.hasChildren()?Km(t,e,n):i.match?Ka(t,0,r):Km(t,e,n)}function Ka(t,e,n){if(n.length===0)return new ye(t.segments,{});{let i=BL(n),r={};if(Object.keys(i).some(s=>s!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let s=Ka(t.children[Q],e,n);return new ye(t.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=UE(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{i[s]===void 0&&(r[s]=o)}),new ye(t.segments,r)}}function UL(t,e,n){let i=0,r=e,s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return s;let o=t.segments[r],a=n[i];if(Ja(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!DE(l,c,o))return s;i+=2}else{if(!DE(l,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Km(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let s=n[r];if(Ja(s)){let l=$L(s.outlets);return new ye(i,l)}if(r===0&&Vd(n[0])){let l=t.segments[e];i.push(new is(l.path,wE(n[0]))),r++;continue}let o=Ja(s)?s.outlets[Q]:`${s}`,a=r<n.length-1?n[r+1]:null;o&&a&&Vd(a)?(i.push(new is(o,wE(a))),r+=2):(i.push(new is(o,{})),r++)}return new ye(i,{})}function $L(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=Km(new ye([],{}),0,i))}),e}function wE(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function DE(t,e,n){return t==n.path&&Yn(e,n.parameters)}var Qa="imperative",st=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(st||{}),fn=class{constructor(e,n){this.id=e,this.url=n}},wo=class extends fn{constructor(e,n,i="imperative",r=null){super(e,n),this.type=st.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ii=class extends fn{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=st.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},hn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(hn||{}),Bd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Bd||{}),rr=class extends fn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=st.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},sr=class extends fn{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=st.NavigationSkipped}},el=class extends fn{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=st.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ud=class extends fn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Qm=class extends fn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zm=class extends fn{constructor(e,n,i,r,s){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=st.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xm=class extends fn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jm=class extends fn{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=st.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ey=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ty=class{constructor(e){this.route=e,this.type=st.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ny=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iy=class{constructor(e){this.snapshot=e,this.type=st.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ry=class{constructor(e){this.snapshot=e,this.type=st.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sy=class{constructor(e){this.snapshot=e,this.type=st.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$d=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=st.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},tl=class{},nl=class{constructor(e){this.url=e}};var oy=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ll,this.attachRef=null}},ll=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let s=this.getOrCreateContext(i);s.outlet=r,this.contexts.set(i,s)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new oy,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=ay(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=ay(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=ly(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return ly(e,this._root).map(n=>n.value)}};function ay(t,e){if(t===e.value)return e;for(let n of e.children){let i=ay(t,n);if(i)return i}return null}function ly(t,e){if(t===e.value)return[e];for(let n of e.children){let i=ly(t,n);if(i.length)return i.unshift(e),i}return[]}var Kt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function yo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var zd=class extends Hd{constructor(e,n){super(e),this.snapshot=n,vy(this,e)}toString(){return this.snapshot.toString()}};function $E(t){let e=HL(t),n=new ut([new is("",{})]),i=new ut({}),r=new ut({}),s=new ut({}),o=new ut(""),a=new Do(n,i,s,o,r,Q,t,e.root);return a.snapshot=e.root,new zd(new Kt(a,[]),e)}function HL(t){let e={},n={},i={},r="",s=new il([],e,i,r,n,Q,t,null,{});return new Wd("",new Kt(s,[]))}var Do=class{constructor(e,n,i,r,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(j(c=>c[ol]))??V(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(j(e=>bo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(j(e=>bo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yy(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:P(P({},e.params),t.params),data:P(P({},e.data),t.data),resolve:P(P(P(P({},t.data),e.data),r?.data),t._resolvedData)}:i={params:P({},t.params),data:P({},t.data),resolve:P(P({},t.data),t._resolvedData??{})},r&&zE(r)&&(i.resolve[ol]=r.title),i}var il=class{get title(){return this.data?.[ol]}constructor(e,n,i,r,s,o,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=bo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=bo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Wd=class extends Hd{constructor(e,n){super(n),this.url=e,vy(this,n)}toString(){return HE(this._root)}};function vy(t,e){e.value._routerState=t,e.children.forEach(n=>vy(t,n))}function HE(t){let e=t.children.length>0?` { ${t.children.map(HE).join(", ")} } `:"";return`${t.value}${e}`}function Hm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Yn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Yn(e.params,n.params)||t.paramsSubject.next(n.params),vL(e.url,n.url)||t.urlSubject.next(n.url),Yn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function cy(t,e){let n=Yn(t.params,e.params)&&wL(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||cy(t.parent,e.parent))}function zE(t){return typeof t.title=="string"||t.title===null}var _y=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new $e,this.deactivateEvents=new $e,this.attachEvents=new $e,this.detachEvents=new $e,this.parentContexts=A(ll),this.location=A(uo),this.changeDetector=A(Jr),this.environmentInjector=A(Tt),this.inputBinder=A(Qd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:s}=i.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=i;let s=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new uy(i,l,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Le({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bi]});let t=e;return t})(),uy=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i}get(e,n){return e===Do?this.route:e===ll?this.childContexts:this.parent.get(e,n)}},Qd=new N(""),EE=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,s=ba([r.queryParams,r.params,r.data]).pipe(Ie(([o,a,l],c)=>(l=P(P(P({},o),a),l),c===0?V(l):Promise.resolve(l)))).subscribe(o=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=kD(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(i,s)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function zL(t,e,n){let i=rl(t,e._root,n?n._root:void 0);return new zd(i,e)}function rl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=WL(t,e,n);return new Kt(i,r)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>rl(t,a)),o}}let i=GL(e.value),r=e.children.map(s=>rl(t,s));return new Kt(i,r)}}function WL(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return rl(t,i,r);return rl(t,i)})}function GL(t){return new Do(new ut(t.url),new ut(t.params),new ut(t.queryParams),new ut(t.fragment),new ut(t.data),t.outlet,t.component,t)}var WE="ngNavigationCancelingError";function GE(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Co(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=qE(!1,hn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function qE(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[WE]=!0,n.cancellationCode=e,n}function qL(t){return YE(t)&&Co(t.url)}function YE(t){return!!t&&t[WE]}var YL=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Xe({type:e,selectors:[["ng-component"]],standalone:!0,features:[DD],decls:1,vars:0,template:function(r,s){r&1&&me(0,"router-outlet")},dependencies:[_y],encapsulation:2});let t=e;return t})();function KL(t,e){return t.providers&&!t._injector&&(t._injector=id(t.providers,e,`Route: ${t.path}`)),t._injector??e}function by(t){let e=t.children&&t.children.map(by),n=e?le(P({},t),{children:e}):P({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=YL),n}function Kn(t){return t.outlet||Q}function QL(t,e){let n=t.filter(i=>Kn(i)===e);return n.push(...t.filter(i=>Kn(i)!==e)),n}function cl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var ZL=(t,e,n,i)=>j(r=>(new dy(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),dy=class{constructor(e,n,i,r,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),Hm(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=yo(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(r===s)if(r.component){let o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,i);else s&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=yo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(i&&i.outlet){let o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,s=yo(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=yo(n);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new sy(s.value.snapshot))}),e.children.length&&this.forwardEvent(new iy(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,s=n?n.value:null;if(Hm(r),r===s)if(r.component){let o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Hm(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=cl(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}},Gd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_o=class{constructor(e,n){this.component=e,this.route=n}};function XL(t,e,n){let i=t._root,r=e?e._root:null;return qa(i,r,n,[i.value])}function JL(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function xo(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!lw(t)?t:e.get(t):i}function qa(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=yo(e);return t.children.forEach(o=>{eV(o,s[o.value.outlet],n,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Za(a,n.getContext(o),r)),r}function eV(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=tV(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Gd(i)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?qa(t,e,a?a.children:null,i,r):qa(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new _o(a.outlet.component,o))}else o&&Za(e,a,r),r.canActivateChecks.push(new Gd(i)),s.component?qa(t,null,a?a.children:null,i,r):qa(t,null,n,i,r);return r}function tV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!rs(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rs(t.url,e.url)||!Yn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cy(t,e)||!Yn(t.queryParams,e.queryParams);case"paramsChange":default:return!cy(t,e)}}function Za(t,e,n){let i=yo(t),r=t.value;Object.entries(i).forEach(([s,o])=>{r.component?e?Za(o,e.children.getContext(s),n):Za(o,null,n):Za(o,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new _o(e.outlet.component,r)):n.canDeactivateChecks.push(new _o(null,r)):n.canDeactivateChecks.push(new _o(null,r))}function ul(t){return typeof t=="function"}function nV(t){return typeof t=="boolean"}function iV(t){return t&&ul(t.canLoad)}function rV(t){return t&&ul(t.canActivate)}function sV(t){return t&&ul(t.canActivateChild)}function oV(t){return t&&ul(t.canDeactivate)}function aV(t){return t&&ul(t.canMatch)}function KE(t){return t instanceof hi||t?.name==="EmptyError"}var kd=Symbol("INITIAL_VALUE");function Eo(){return Ie(t=>ba(t.map(e=>e.pipe(pi(1),Ep(kd)))).pipe(j(e=>{for(let n of e)if(n!==!0){if(n===kd)return kd;if(n===!1||n instanceof ir)return n}return!0}),mt(e=>e!==kd),pi(1)))}function lV(t,e){return Qe(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?V(le(P({},n),{guardsResult:!0})):cV(o,i,r,t).pipe(Qe(a=>a&&nV(a)?uV(i,s,t,e):V(a)),j(a=>le(P({},n),{guardsResult:a})))})}function cV(t,e,n,i){return ue(t).pipe(Qe(r=>gV(r.component,r.route,n,e,i)),rn(r=>r!==!0,!0))}function uV(t,e,n,i){return ue(e).pipe(fi(r=>Bs(hV(r.route.parent,i),dV(r.route,i),pV(t,r.path,n),fV(t,r.route,n))),rn(r=>r!==!0,!0))}function dV(t,e){return t!==null&&e&&e(new ry(t)),V(!0)}function hV(t,e){return t!==null&&e&&e(new ny(t)),V(!0)}function fV(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return V(!0);let r=i.map(s=>eu(()=>{let o=cl(e)??n,a=xo(s,o),l=rV(a)?a.canActivate(e,t):Wn(o,()=>a(e,t));return or(l).pipe(rn())}));return V(r).pipe(Eo())}function pV(t,e,n){let i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>JL(o)).filter(o=>o!==null).map(o=>eu(()=>{let a=o.guards.map(l=>{let c=cl(o.node)??n,u=xo(l,c),d=sV(u)?u.canActivateChild(i,t):Wn(c,()=>u(i,t));return or(d).pipe(rn())});return V(a).pipe(Eo())}));return V(s).pipe(Eo())}function gV(t,e,n,i,r){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return V(!0);let o=s.map(a=>{let l=cl(e)??r,c=xo(a,l),u=oV(c)?c.canDeactivate(t,e,n,i):Wn(l,()=>c(t,e,n,i));return or(u).pipe(rn())});return V(o).pipe(Eo())}function mV(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return V(!0);let s=r.map(o=>{let a=xo(o,t),l=iV(a)?a.canLoad(e,n):Wn(t,()=>a(e,n));return or(l)});return V(s).pipe(Eo(),QE(i))}function QE(t){return dp(qe(e=>{if(Co(e))throw GE(t,e)}),j(e=>e===!0))}function yV(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return V(!0);let s=r.map(o=>{let a=xo(o,t),l=aV(a)?a.canMatch(e,n):Wn(t,()=>a(e,n));return or(l)});return V(s).pipe(Eo(),QE(i))}var sl=class{constructor(e){this.segmentGroup=e||null}},qd=class extends Error{constructor(e){super(),this.urlTree=e}};function mo(t){return js(new sl(t))}function vV(t){return js(new L(4e3,!1))}function _V(t){return js(qE(!1,hn.GuardRejected))}var hy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return V(i);if(r.numberOfChildren>1||!r.children[Q])return vV(e.redirectTo);r=r.children[Q]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new qd(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let s=this.createSegmentGroup(e,n.root,i,r);return new ir(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);i[r]=n[a]}else i[r]=s}),i}createSegmentGroup(e,n,i,r){let s=this.createSegments(e,n.segments,i,r),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,i,r)}),new ye(s,o)}createSegments(e,n,i,r){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new L(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},fy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function bV(t,e,n,i,r){let s=Cy(t,e,n);return s.matched?(i=KL(e,i),yV(i,e,n,r).pipe(j(o=>o===!0?s:P({},fy)))):V(s)}function Cy(t,e,n){if(e.path==="**")return CV(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?P({},fy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||yL)(n,t,e);if(!r)return P({},fy);let s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=r.consumed.length>0?P(P({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function CV(t){return{matched:!0,parameters:t.length>0?TE(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function xE(t,e,n,i){return n.length>0&&EV(t,n,i)?{segmentGroup:new ye(e,DV(i,new ye(n,t.children))),slicedSegments:[]}:n.length===0&&xV(t,n,i)?{segmentGroup:new ye(t.segments,wV(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new ye(t.segments,t.children),slicedSegments:n}}function wV(t,e,n,i){let r={};for(let s of n)if(Zd(t,e,s)&&!i[Kn(s)]){let o=new ye([],{});r[Kn(s)]=o}return P(P({},i),r)}function DV(t,e){let n={};n[Q]=e;for(let i of t)if(i.path===""&&Kn(i)!==Q){let r=new ye([],{});n[Kn(i)]=r}return n}function EV(t,e,n){return n.some(i=>Zd(t,e,i)&&Kn(i)!==Q)}function xV(t,e,n){return n.some(i=>Zd(t,e,i))}function Zd(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function IV(t,e,n,i){return Kn(t)!==i&&(i===Q||!Zd(e,n,t))?!1:Cy(e,t,n).matched}function SV(t,e,n){return e.length===0&&!t.children[n]}var py=class{};function MV(t,e,n,i,r,s,o="emptyOnly"){return new gy(t,e,n,i,r,o,s).recognize()}var TV=31,gy=class{constructor(e,n,i,r,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new hy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=xE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(j(n=>{let i=new il([],Object.freeze({}),Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),r=new Kt(i,n),s=new Wd("",r),o=FL(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Q).pipe(zi(i=>{if(i instanceof qd)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof sl?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=yy(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(j(s=>s instanceof Kt?[s]:[]))}processChildren(e,n,i){let r=[];for(let s of Object.keys(i.children))s==="primary"?r.unshift(s):r.push(s);return ue(r).pipe(fi(s=>{let o=i.children[s],a=QL(n,s);return this.processSegmentGroup(e,a,o,s)}),Hs((s,o)=>(s.push(...o),s)),Wi(null),Cp(),Qe(s=>{if(s===null)return mo(i);let o=ZE(s);return AV(o),V(o)}))}processSegment(e,n,i,r,s,o){return ue(n).pipe(fi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,s,o).pipe(zi(l=>{if(l instanceof sl)return V(null);throw l}))),rn(a=>!!a),zi(a=>{if(KE(a))return SV(i,r,s)?V(new py):mo(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,s,o,a){return IV(i,r,s,o)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,s,o):mo(r):mo(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,s,o){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Cy(n,r,s);if(!a)return mo(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TV&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Qe(h=>this.processSegment(e,i,n,h.concat(u),o,!1)))}matchSegmentAgainstRoute(e,n,i,r,s){let o=bV(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),o.pipe(Ie(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Ie(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new il(u,h,Object.freeze(P({},this.urlTree.queryParams)),this.urlTree.fragment,NV(i),Kn(i),i.component??i._loadedComponent??null,i,RV(i)),{segmentGroup:p,slicedSegments:g}=xE(n,u,d,l);if(g.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(j(y=>y===null?null:new Kt(f,y)));if(l.length===0&&g.length===0)return V(new Kt(f,[]));let m=Kn(i)===s;return this.processSegment(c,l,p,g,m?Q:s,!0).pipe(j(y=>new Kt(f,y instanceof Kt?[y]:[])))}))):mo(n)))}getChildConfig(e,n,i){return n.children?V({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?V({routes:n._loadedRoutes,injector:n._loadedInjector}):mV(e,n,i,this.urlSerializer).pipe(Qe(r=>r?this.configLoader.loadChildren(e,n).pipe(qe(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):_V(n))):V({routes:[],injector:e})}};function AV(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}function PV(t){let e=t.value.routeConfig;return e&&e.path===""}function ZE(t){let e=[],n=new Set;for(let i of t){if(!PV(i)){e.push(i);continue}let r=e.find(s=>i.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=ZE(i.children);e.push(new Kt(i.value,r))}return e.filter(i=>!n.has(i))}function NV(t){return t.data||{}}function RV(t){return t.resolve||{}}function kV(t,e,n,i,r,s){return Qe(o=>MV(t,e,n,i,o.extractedUrl,r,s).pipe(j(({state:a,tree:l})=>le(P({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function OV(t,e){return Qe(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return V(n);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let c of XE(l))o.add(c);let a=0;return ue(o).pipe(fi(l=>s.has(l)?FV(l,i,t,e):(l.data=yy(l,l.parent,t).resolve,V(void 0))),qe(()=>a++),$s(1),Qe(l=>a===o.size?V(n):Lt))})}function XE(t){let e=t.children.map(n=>XE(n)).flat();return[t,...e]}function FV(t,e,n,i){let r=t.routeConfig,s=t._resolve;return r?.title!==void 0&&!zE(r)&&(s[ol]=r.title),LV(s,t,e,i).pipe(j(o=>(t._resolvedData=o,t.data=yy(t,t.parent,n).resolve,null)))}function LV(t,e,n,i){let r=Gm(t);if(r.length===0)return V({});let s={};return ue(r).pipe(Qe(o=>VV(t[o],e,n,i).pipe(rn(),qe(a=>{s[o]=a}))),$s(1),_p(s),zi(o=>KE(o)?Lt:js(o)))}function VV(t,e,n,i){let r=cl(e)??i,s=xo(t,r),o=s.resolve?s.resolve(e,n):Wn(r,()=>s(e,n));return or(o)}function zm(t){return Ie(e=>{let n=t(e);return n?ue(n).pipe(j(()=>e)):V(e)})}var JE=(()=>{let e=class e{buildTitle(i){let r,s=i.root;for(;s!==void 0;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(o=>o.outlet===Q);return r}getResolvedTitleForRoute(i){return i.data[ol]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>A(jV),providedIn:"root"});let t=e;return t})(),jV=(()=>{let e=class e extends JE{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(I(vE))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dl=new N("",{providedIn:"root",factory:()=>({})}),Yd=new N(""),wy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(dd)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return V(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=or(i.loadComponent()).pipe(j(ex),qe(o=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=o}),Gi(()=>{this.componentLoaders.delete(i)})),s=new ks(r,()=>new nt).pipe(Rs());return this.componentLoaders.set(i,s),s}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return V({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=BV(r,this.compiler,i,this.onLoadEndListener).pipe(Gi(()=>{this.childrenLoaders.delete(r)})),a=new ks(o,()=>new nt).pipe(Rs());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BV(t,e,n,i){return or(t.loadChildren()).pipe(j(ex),Qe(r=>r instanceof Na||Array.isArray(r)?V(r):ue(e.compileModuleAsync(r))),j(r=>{i&&i(t);let s,o,a=!1;return Array.isArray(r)?(o=r,a=!0):(s=r.create(n).injector,o=s.get(Yd,[],{optional:!0,self:!0}).flat()),{routes:o.map(by),injector:s}}))}function UV(t){return t&&typeof t=="object"&&"default"in t}function ex(t){return UV(t)?t.default:t}var Dy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>A($V),providedIn:"root"});let t=e;return t})(),$V=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),tx=new N(""),nx=new N("");function HV(t,e,n){let i=t.get(nx),r=t.get(wt);return t.get(oe).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s,o=new Promise(c=>{s=c}),a=r.startViewTransition(()=>(s(),zV(t))),{onViewTransitionCreated:l}=i;return l&&Wn(t,()=>l({transition:a,from:e,to:n})),o})}function zV(t){return new Promise(e=>{am(e,{injector:t})})}var Ey=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new nt,this.transitionAbortSubject=new nt,this.configLoader=A(wy),this.environmentInjector=A(Tt),this.urlSerializer=A(al),this.rootContexts=A(ll),this.location=A(po),this.inputBindingEnabled=A(Qd,{optional:!0})!==null,this.titleStrategy=A(JE),this.options=A(dl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(Dy),this.createViewTransition=A(tx,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>V(void 0),this.rootComponentType=null;let i=s=>this.events.next(new ey(s)),r=s=>this.events.next(new ty(s));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(le(P(P({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,s){return this.transitions=new ut({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qa,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mt(o=>o.id!==0),j(o=>le(P({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),Ie(o=>{this.currentTransition=o;let a=!1,l=!1;return V(o).pipe(qe(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?le(P({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ie(c=>{let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new sr(c.id,this.urlSerializer.serialize(c.rawUrl),h,Bd.IgnoredSameUrlNavigation)),c.resolve(null),Lt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return V(c).pipe(Ie(h=>{let f=this.transitions?.getValue();return this.events.next(new wo(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Lt:Promise.resolve(h)}),kV(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),qe(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=le(P({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Ud(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new wo(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);let v=$E(this.rootComponentType).snapshot;return this.currentTransition=o=le(P({},c),{targetSnapshot:v,urlAfterRedirects:f,extras:le(P({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,V(o)}else{let h="";return this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Bd.IgnoredByUrlHandlingStrategy)),c.resolve(null),Lt}}),qe(c=>{let u=new Qm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),j(c=>(this.currentTransition=o=le(P({},c),{guards:XL(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),o)),lV(this.environmentInjector,c=>this.events.next(c)),qe(c=>{if(o.guardsResult=c.guardsResult,Co(c.guardsResult))throw GE(this.urlSerializer,c.guardsResult);let u=new Zm(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),mt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",hn.GuardRejected),!1)),zm(c=>{if(c.guards.canActivateChecks.length)return V(c).pipe(qe(u=>{let d=new Xm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ie(u=>{let d=!1;return V(u).pipe(OV(this.paramsInheritanceStrategy,this.environmentInjector),qe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",hn.NoDataFromResolver)}}))}),qe(u=>{let d=new Jm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),zm(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(qe(f=>{d.component=f}),j(()=>{})));for(let f of d.children)h.push(...u(f));return h};return ba(u(c.targetSnapshot.root)).pipe(Wi(null),pi(1))}),zm(()=>this.afterPreactivation()),Ie(()=>{let{currentSnapshot:c,targetSnapshot:u}=o,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?ue(d).pipe(j(()=>o)):V(o)}),j(c=>{let u=zL(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=o=le(P({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,o}),qe(()=>{this.events.next(new tl)}),ZL(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),pi(1),qe({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ii(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),xp(this.transitionAbortSubject.pipe(qe(c=>{throw c}))),Gi(()=>{!a&&!l&&this.cancelNavigationTransition(o,"",hn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),zi(c=>{if(l=!0,YE(c))this.events.next(new rr(o.id,this.urlSerializer.serialize(o.extractedUrl),c.message,c.cancellationCode)),qL(c)?this.events.next(new nl(c.url)):o.resolve(!1);else{this.events.next(new el(o.id,this.urlSerializer.serialize(o.extractedUrl),c,o.targetSnapshot??void 0));try{o.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(u)}}return Lt}))}))}cancelNavigationTransition(i,r,s){let o=new rr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,s);this.events.next(o),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function WV(t){return t!==Qa}var GV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>A(qV),providedIn:"root"});let t=e;return t})(),my=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},qV=(()=>{let e=class e extends my{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ix=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:()=>A(YV),providedIn:"root"});let t=e;return t})(),YV=(()=>{let e=class e extends ix{constructor(){super(...arguments),this.location=A(po),this.urlSerializer=A(al),this.options=A(dl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(Dy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ir,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$E(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof wo)this.stateMemento=this.createStateMemento();else if(i instanceof sr)this.rawUrlTree=r.initialUrl;else if(i instanceof Ud){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(s,r)}}else i instanceof tl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof rr&&(i.code===hn.GuardRejected||i.code===hn.NoDataFromResolver)?this.restoreHistory(r):i instanceof el?this.restoreHistory(r,!0):i instanceof Ii&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let s=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl){let o=this.browserPageId,a=P(P({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(s,"",a)}else{let o=P(P({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===i.finalUrl&&o===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ya=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ya||{});function rx(t,e){t.events.pipe(mt(n=>n instanceof Ii||n instanceof rr||n instanceof el||n instanceof sr),j(n=>n instanceof Ii||n instanceof sr?Ya.COMPLETE:(n instanceof rr?n.code===hn.Redirect||n.code===hn.SupersededByNewNavigation:!1)?Ya.REDIRECTING:Ya.FAILED),mt(n=>n!==Ya.REDIRECTING),pi(1)).subscribe(()=>{e()})}function KV(t){throw t}var QV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Si=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=A(od),this.stateManager=A(ix),this.options=A(dl,{optional:!0})||{},this.pendingTasks=A(Yr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(Ey),this.urlSerializer=A(al),this.location=A(po),this.urlHandlingStrategy=A(Dy),this._events=new nt,this.errorHandler=this.options.errorHandler||KV,this.navigated=!1,this.routeReuseStrategy=A(GV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(Yd,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(Qd,{optional:!0}),this.eventsSubscription=new Ge,this.isNgZoneEnabled=A(oe)instanceof oe&&oe.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof rr&&r.code!==hn.Redirect&&r.code!==hn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ii)this.navigated=!0;else if(r instanceof nl){let a=this.urlHandlingStrategy.merge(r.url,s.currentRawUrl),l={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||WV(s.source)};this.scheduleNavigation(a,Qa,null,l,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}JV(r)&&this._events.next(r)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let c=P({},s);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(by),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=P(P({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=s?s.snapshot:this.routerState.snapshot.root;h=VE(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return jE(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let s=Co(i)?i:this.parseUrl(i),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Qa,null,r)}navigate(i,r={skipLocationChange:!1}){return XV(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let s;if(r===!0?s=P({},QV):r===!1?s=P({},ZV):s=r,Co(i))return bE(this.currentUrlTree,i,s);let o=this.parseUrl(i);return bE(this.currentUrlTree,o,s)}removeEmptyProps(i){return Object.entries(i).reduce((r,[s,o])=>(o!=null&&(r[s]=o),r),{})}scheduleNavigation(i,r,s,o,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return rx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:o,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function XV(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function JV(t){return!(t instanceof tl)&&!(t instanceof nl)}var Kd=class{};var e2=(()=>{let e=class e{constructor(i,r,s,o,a){this.router=i,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(mt(i=>i instanceof Ii),fi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let s=[];for(let o of r){o.providers&&!o._injector&&(o._injector=id(o.providers,i,`Route: ${o.path}`));let a=o._injector??i,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(l,o.children??o._loadedRoutes))}return ue(s).pipe(Hi())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let s;r.loadChildren&&r.canLoad===void 0?s=this.loader.loadChildren(i,r):s=V(null);let o=s.pipe(Qe(a=>a===null?V(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return ue([o,a]).pipe(Hi())}else return o})}};e.\u0275fac=function(r){return new(r||e)(I(Si),I(dd),I(Tt),I(Kd),I(wy))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sx=new N(""),t2=(()=>{let e=class e{constructor(i,r,s,o,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof wo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Ii?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof sr&&i.code===Bd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof $d&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new $d(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){Zw()},e.\u0275prov=k({token:e,factory:e.\u0275fac});let t=e;return t})();function n2(t){return t.routerState.root}function hl(t,e){return{\u0275kind:t,\u0275providers:e}}function i2(){let t=A(Mn);return e=>{let n=t.get(Xr);if(e!==n.components[0])return;let i=t.get(Si),r=t.get(ox);t.get(xy)===1&&i.initialNavigation(),t.get(ax,null,ee.Optional)?.setUpPreloading(),t.get(sx,null,ee.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var ox=new N("",{factory:()=>new nt}),xy=new N("",{providedIn:"root",factory:()=>1});function r2(){return hl(2,[{provide:xy,useValue:0},{provide:cd,multi:!0,deps:[Mn],useFactory:e=>{let n=e.get($D,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(Si),s=e.get(ox);rx(r,()=>{i(!0)}),e.get(Ey).afterPreactivation=()=>(i(!0),s.closed?V(void 0):s),r.initialNavigation()}))}}])}function s2(){return hl(3,[{provide:cd,multi:!0,useFactory:()=>{let e=A(Si);return()=>{e.setUpLocationChangeListener()}}},{provide:xy,useValue:2}])}var ax=new N("");function o2(t){return hl(0,[{provide:ax,useExisting:e2},{provide:Kd,useExisting:t}])}function a2(){return hl(8,[EE,{provide:Qd,useExisting:EE}])}function l2(t){let e=[{provide:tx,useValue:HV},{provide:nx,useValue:P({skipNextTransition:!!t?.skipInitialTransition},t)}];return hl(9,e)}var IE=new N("ROUTER_FORROOT_GUARD"),c2=[po,{provide:al,useClass:Xa},Si,ll,{provide:Do,useFactory:n2,deps:[Si]},wy,[]],Iy=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[c2,[],{provide:Yd,multi:!0,useValue:i},{provide:IE,useFactory:f2,deps:[[Si,new co,new zg]]},{provide:dl,useValue:r||{}},r?.useHash?d2():h2(),u2(),r?.preloadingStrategy?o2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?p2(r):[],r?.bindToComponentInputs?a2().\u0275providers:[],r?.enableViewTransitions?l2().\u0275providers:[],g2()]}}static forChild(i){return{ngModule:e,providers:[{provide:Yd,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(I(IE,8))},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({});let t=e;return t})();function u2(){return{provide:sx,useFactory:()=>{let t=A(ZD),e=A(oe),n=A(dl),i=A(Ey),r=A(al);return n.scrollOffset&&t.setOffset(n.scrollOffset),new t2(r,i,t,e,n)}}}function d2(){return{provide:es,useClass:zD}}function h2(){return{provide:es,useClass:Im}}function f2(t){return"guarded"}function p2(t){return[t.initialNavigation==="disabled"?s2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?r2().\u0275providers:[]]}var SE=new N("");function g2(){return[{provide:SE,useFactory:i2},{provide:ud,multi:!0,useExisting:SE}]}var vx=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(O(tr),O(_i))},e.\u0275dir=Le({type:e});let t=e;return t})(),oh=(()=>{let e=class e extends vx{};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275dir=Le({type:e,features:[Ut]});let t=e;return t})(),To=new N("");var m2={provide:To,useExisting:ln(()=>$t),multi:!0};function y2(){let t=qn()?qn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var v2=new N(""),$t=(()=>{let e=class e extends vx{constructor(i,r,s){super(i,r),this._compositionMode=s,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!y2())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(O(tr),O(_i),O(v2,8))},e.\u0275dir=Le({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,s){r&1&&ce("input",function(a){return s._handleInput(a.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(a){return s._compositionEnd(a.target.value)})},features:[Gn([m2]),Ut]});let t=e;return t})();function ar(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function _x(t){return t!=null&&typeof t.length=="number"}var yl=new N(""),ah=new N(""),_2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,ke=class{static min(e){return b2(e)}static max(e){return C2(e)}static required(e){return bx(e)}static requiredTrue(e){return w2(e)}static email(e){return D2(e)}static minLength(e){return E2(e)}static maxLength(e){return x2(e)}static pattern(e){return I2(e)}static nullValidator(e){return Jd(e)}static compose(e){return Ix(e)}static composeAsync(e){return Sx(e)}};function b2(t){return e=>{if(ar(e.value)||ar(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function C2(t){return e=>{if(ar(e.value)||ar(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function bx(t){return ar(t.value)?{required:!0}:null}function w2(t){return t.value===!0?null:{required:!0}}function D2(t){return ar(t.value)||_2.test(t.value)?null:{email:!0}}function E2(t){return e=>ar(e.value)||!_x(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function x2(t){return e=>_x(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function I2(t){if(!t)return Jd;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(ar(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function Jd(t){return null}function Cx(t){return t!=null}function wx(t){return Zr(t)?ue(t):t}function Dx(t){let e={};return t.forEach(n=>{e=n!=null?P(P({},e),n):e}),Object.keys(e).length===0?null:e}function Ex(t,e){return e.map(n=>n(t))}function S2(t){return!t.validate}function xx(t){return t.map(e=>S2(e)?e:n=>e.validate(n))}function Ix(t){if(!t)return null;let e=t.filter(Cx);return e.length==0?null:function(n){return Dx(Ex(n,e))}}function Ay(t){return t!=null?Ix(xx(t)):null}function Sx(t){if(!t)return null;let e=t.filter(Cx);return e.length==0?null:function(n){let i=Ex(n,e).map(wx);return vp(i).pipe(j(Dx))}}function Py(t){return t!=null?Sx(xx(t)):null}function cx(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Mx(t){return t._rawValidators}function Tx(t){return t._rawAsyncValidators}function Sy(t){return t?Array.isArray(t)?t:[t]:[]}function eh(t,e){return Array.isArray(t)?t.includes(e):t===e}function ux(t,e){let n=Sy(e);return Sy(t).forEach(r=>{eh(n,r)||n.push(r)}),n}function dx(t,e){return Sy(e).filter(n=>!eh(t,n))}var th=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Ay(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Mi=class extends th{get formDirective(){return null}get path(){return null}},ss=class extends th{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},nh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},M2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},JK=le(P({},M2),{"[class.ng-submitted]":"isSubmitted"}),pn=(()=>{let e=class e extends nh{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(O(ss,2))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,s){r&2&&Tn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)},features:[Ut]});let t=e;return t})(),Qn=(()=>{let e=class e extends nh{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(O(Mi,10))},e.\u0275dir=Le({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,s){r&2&&Tn("ng-untouched",s.isUntouched)("ng-touched",s.isTouched)("ng-pristine",s.isPristine)("ng-dirty",s.isDirty)("ng-valid",s.isValid)("ng-invalid",s.isInvalid)("ng-pending",s.isPending)("ng-submitted",s.isSubmitted)},features:[Ut]});let t=e;return t})();var fl="VALID",Xd="INVALID",Io="PENDING",pl="DISABLED";function Ny(t){return(lh(t)?t.validators:t)||null}function T2(t){return Array.isArray(t)?Ay(t):t||null}function Ry(t,e){return(lh(e)?e.asyncValidators:t)||null}function A2(t){return Array.isArray(t)?Py(t):t||null}function lh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function Ax(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new L(1e3,"");if(!i[n])throw new L(1001,"")}function Px(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new L(1002,"")})}var So=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===fl}get invalid(){return this.status===Xd}get pending(){return this.status==Io}get disabled(){return this.status===pl}get enabled(){return this.status!==pl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(ux(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ux(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(dx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(dx(e,this._rawAsyncValidators))}hasValidator(e){return eh(this._rawValidators,e)}hasAsyncValidator(e){return eh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Io,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=pl,this.errors=null,this._forEachChild(i=>{i.disable(le(P({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(le(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=fl,this._forEachChild(i=>{i.enable(le(P({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(le(P({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fl||this.status===Io)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pl:fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Io,this._hasOwnPendingAsyncValidator=!0;let n=wx(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new $e,this.statusChanges=new $e}_calculateStatus(){return this._allControlsDisabled()?pl:this.errors?Xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Io)?Io:this._anyControlsHaveStatus(Xd)?Xd:fl}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){lh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=T2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=A2(this._rawAsyncValidators)}},Mo=class extends So{constructor(e,n,i){super(Ny(n),Ry(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){Px(this,!0,e),Object.keys(e).forEach(i=>{Ax(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,s)=>{i=n(i,r,s)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var My=class extends Mo{};var vl=new N("CallSetDisabledState",{providedIn:"root",factory:()=>ch}),ch="always";function Nx(t,e){return[...e.path,t]}function ih(t,e,n=ch){ky(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),N2(t,e),k2(t,e),R2(t,e),P2(t,e)}function hx(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),sh(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function rh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function P2(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ky(t,e){let n=Mx(t);e.validator!==null?t.setValidators(cx(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=Tx(t);e.asyncValidator!==null?t.setAsyncValidators(cx(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();rh(e._rawValidators,r),rh(e._rawAsyncValidators,r)}function sh(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=Mx(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.validator);s.length!==r.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let r=Tx(t);if(Array.isArray(r)&&r.length>0){let s=r.filter(o=>o!==e.asyncValidator);s.length!==r.length&&(n=!0,t.setAsyncValidators(s))}}}let i=()=>{};return rh(e._rawValidators,i),rh(e._rawAsyncValidators,i),n}function N2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&Rx(t,e)})}function R2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&Rx(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function Rx(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function k2(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function kx(t,e){t==null,ky(t,e)}function O2(t,e){return sh(t,e)}function Ox(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function F2(t){return Object.getPrototypeOf(t.constructor)===oh}function Fx(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function Lx(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(s=>{s.constructor===$t?n=s:F2(s)?i=s:r=s}),r||i||n||null}function L2(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var V2={provide:Mi,useExisting:ln(()=>Oy)},gl=Promise.resolve(),Oy=(()=>{let e=class e extends Mi{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new $e,this.form=new Mo({},Ay(i),Py(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){gl.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),ih(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){gl.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){gl.then(()=>{let r=this._findContainer(i.path),s=new Mo({});kx(s,i),r.registerControl(i.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){gl.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){gl.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,Fx(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(O(yl,10),O(ah,10),O(vl,8))},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,s){r&1&&ce("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{options:[ht.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gn([V2]),Ut]});let t=e;return t})();function fx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function px(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ml=class extends So{constructor(e=null,n,i){super(Ny(n),Ry(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(px(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){fx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){fx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){px(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var j2=t=>t instanceof ml;var B2={provide:ss,useExisting:ln(()=>_l)},gx=Promise.resolve(),_l=(()=>{let e=class e extends ss{constructor(i,r,s,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new ml,this._registered=!1,this.name="",this.update=new $e,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Lx(this,o)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),Ox(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ih(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){gx.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,s=r!==0&&Va(r);gx.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?Nx(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(O(Mi,9),O(yl,10),O(ah,10),O(To,10),O(Jr,8),O(vl,8))},e.\u0275dir=Le({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[ht.None,"disabled","isDisabled"],model:[ht.None,"ngModel","model"],options:[ht.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Gn([B2]),Ut,bi]});let t=e;return t})(),Zn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Le({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),U2={provide:To,useExisting:ln(()=>bl),multi:!0},bl=(()=>{let e=class e extends oh{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,s){r&1&&ce("input",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},features:[Gn([U2]),Ut]});let t=e;return t})();var Vx=new N("");var $2={provide:Mi,useExisting:ln(()=>Ti)},Ti=(()=>{let e=class e extends Mi{constructor(i,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new $e,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(sh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return ih(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){hx(i.control||null,i,!1),L2(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,Fx(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,s=this.form.get(i.path);r!==s&&(hx(r||null,i),j2(s)&&(ih(s,i,this.callSetDisabledState),i.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);kx(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&O2(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ky(this.form,this),this._oldForm&&sh(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(O(yl,10),O(ah,10),O(vl,8))},e.\u0275dir=Le({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,s){r&1&&ce("submit",function(a){return s.onSubmit(a)})("reset",function(){return s.onReset()})},inputs:{form:[ht.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Gn([$2]),Ut,bi]});let t=e;return t})();var H2={provide:ss,useExisting:ln(()=>Ai)},Ai=(()=>{let e=class e extends ss{set isDisabled(i){}constructor(i,r,s,o,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new $e,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=Lx(this,o)}ngOnChanges(i){this._added||this._setUpControl(),Ox(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return Nx(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(O(Mi,13),O(yl,10),O(ah,10),O(To,10),O(Vx,8))},e.\u0275dir=Le({type:e,selectors:[["","formControlName",""]],inputs:{name:[ht.None,"formControlName","name"],isDisabled:[ht.None,"disabled","isDisabled"],model:[ht.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Gn([H2]),Ut,bi]});let t=e;return t})(),z2={provide:To,useExisting:ln(()=>lr),multi:!0};function jx(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function W2(t){return t.split(":")[0]}var lr=(()=>{let e=class e extends oh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),s=jx(r,i);this.setProperty("value",s)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=W2(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,s){r&1&&ce("change",function(a){return s.onChange(a.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Gn([z2]),Ut]});let t=e;return t})(),Ao=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(jx(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(O(_i),O(tr),O(lr,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),G2={provide:To,useExisting:ln(()=>Bx),multi:!0};function mx(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function q2(t){return t.split(":")[0]}var Bx=(()=>{let e=class e extends oh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let s=i.map(o=>this._getOptionId(o));r=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else r=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let s=[],o=r.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);s.push(u)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);s.push(u)}}}this.value=s,i(s)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=q2(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,s){r&1&&ce("change",function(a){return s.onChange(a.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[Gn([G2]),Ut]});let t=e;return t})(),Po=(()=>{let e=class e{constructor(i,r,s){this._element=i,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(mx(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(mx(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(O(_i),O(tr),O(Bx,9))},e.\u0275dir=Le({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Y2=(()=>{let e=class e{constructor(){this._validator=Jd}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Jd,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Le({type:e,features:[bi]});let t=e;return t})();var K2={provide:yl,useExisting:ln(()=>Cl),multi:!0};var Cl=(()=>{let e=class e extends Y2{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Va,this.createValidator=i=>bx}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(s){return(i||(i=Ci(e)))(s||e)}})(),e.\u0275dir=Le({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,s){r&2&&rd("required",s._enabled?"":null)},inputs:{required:"required"},features:[Gn([K2]),Ut]});let t=e;return t})();var Ux=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({});let t=e;return t})(),Ty=class extends So{constructor(e,n,i){super(Ny(n),Ry(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){Px(this,!1,e),e.forEach((i,r)=>{Ax(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function yx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var cr=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let s=this._reduceControls(i),o={};return yx(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Mo(s,o)}record(i,r=null){let s=this._reduceControls(i);return new My(s,r)}control(i,r,s){let o={};return this.useNonNullable?(yx(r)?o=r:(o.validators=r,o.asyncValidators=s),new ml(i,le(P({},o),{nonNullable:!0}))):new ml(i,r,s)}array(i,r,s){let o=i.map(a=>this._createControl(a));return new Ty(o,r,s)}_reduceControls(i){let r={};return Object.keys(i).forEach(s=>{r[s]=this._createControl(i[s])}),r}_createControl(i){if(i instanceof ml)return i;if(i instanceof So)return i;if(Array.isArray(i)){let r=i[0],s=i.length>1?i[1]:null,o=i.length>2?i[2]:null;return this.control(r,s,o)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var $x=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:vl,useValue:i.callSetDisabledState??ch}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({imports:[Ux]});let t=e;return t})(),Hx=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Vx,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:vl,useValue:i.callSetDisabledState??ch}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({imports:[Ux]});let t=e;return t})();var Q2="firebase",Z2="10.8.1";$i(Q2,Z2,"app");var as=new mi("ANGULARFIRE2_VERSION");var X2=(t,e)=>{let n=e?[e]:C0(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(o=>{i.includes(o)||i.push(o)})}),i},os=class{constructor(){return X2(J2)}},J2="app-check";function Fy(){}var uh=class{zone;delegate;constructor(e,n=gp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,s=function(o){r.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,i)}},Ly=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Fy,{},Fy,Fy)),n.pipe(qe({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},dh=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new uh(Zone.current)),this.insideAngular=n.run(()=>new uh(Zone.current,_a)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(I(oe))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function ej(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Pi(t){return tj(ej())(t)}function tj(t){return function(n){return n=n.lift(new Ly(t.ngZone)),n.pipe(wn(t.outsideAngular),nn(t.insideAngular))}}var rj=new Map,sj={activated:!1,tokenObservers:[]},oj={initialized:!1,enabled:!1};function Nn(t){return rj.get(t)||Object.assign({},sj)}function Kx(){return oj}var aj="https://content-firebaseappcheck.googleapis.com/v1";var lj="exchangeDebugToken",Wx={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},vQ=24*60*60*1e3;var jy=class{constructor(e,n,i,r,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=r,r>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return en(this,null,function*(){this.stop();try{this.pending=new rt,this.pending.promise.catch(n=>{}),yield cj(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new rt,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function cj(t){return new Promise(e=>{setTimeout(e,t)})}var uj={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},ur=new f0("appCheck","AppCheck",uj);function Qx(t){if(!Nn(t).activated)throw ur.create("use-before-activation",{appName:t.name})}function Zx(i,r){return en(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let f=yield o.getHeartbeatsHeader();f&&(s["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(f){throw ur.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw ur.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw ur.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw ur.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function Xx(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${aj}/projects/${n}/apps/${i}:${lj}?key=${r}`,body:{debug_token:e}}}var dj="firebase-app-check-database",hj=1,By="firebase-app-check-store";var hh=null;function fj(){return hh||(hh=new Promise((t,e)=>{try{let n=indexedDB.open(dj,hj);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(ur.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(By,{keyPath:"compositeKey"})}}}catch(n){e(ur.create("storage-open",{originalErrorMessage:n?.message}))}}),hh)}function pj(t,e){return gj(mj(t),e)}function gj(t,e){return en(this,null,function*(){let i=(yield fj()).transaction(By,"readwrite"),s=i.objectStore(By).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},i.onerror=l=>{var c;a(ur.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function mj(t){return`${t.options.appId}-${t.name}`}var Uy=new Ms("@firebase/app-check");function Vy(t,e){return h0()?pj(t,e).catch(n=>{Uy.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function Jx(){return Kx().enabled}function eI(){return en(this,null,function*(){let t=Kx();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var yj={error:"UNKNOWN_ERROR"};function vj(t){return Sc.encodeString(JSON.stringify(t),!1)}function $y(t,e=!1){return en(this,null,function*(){let n=t.app;Qx(n);let i=Nn(n),r=i.token,s;if(r&&!wl(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(wl(l)?r=l:yield Vy(n,void 0))}if(!e&&r&&wl(r))return{token:r.token};let o=!1;if(Jx()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Zx(Xx(n,yield eI()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),o=!0);let l=yield i.exchangeTokenPromise;return yield Vy(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),o=!0),r=yield Nn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Uy.warn(l.message):Uy.error(l),s=l}let a;return r?s?wl(r)?a={token:r.token,internalError:s}:a=qx(s):(a={token:r.token},i.token=r,yield Vy(n,r)):a=qx(s),o&&wj(n,a),a})}function _j(t){return en(this,null,function*(){let e=t.app;Qx(e);let{provider:n}=Nn(e);if(Jx()){let i=yield eI(),{token:r}=yield Zx(Xx(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function bj(t,e,n,i){let{app:r}=t,s=Nn(r),o={next:n,error:i,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&wl(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),Gx(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Gx(t))}function tI(t,e){let n=Nn(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function Gx(t){let{app:e}=t,n=Nn(e),i=n.tokenRefresher;i||(i=Cj(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function Cj(t){let{app:e}=t;return new jy(()=>en(this,null,function*(){let n=Nn(e),i;if(n.token?i=yield $y(t,!0):i=yield $y(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Nn(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},Wx.RETRIAL_MIN_WAIT,Wx.RETRIAL_MAX_WAIT)}function wj(t,e){let n=Nn(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function wl(t){return t.expireTimeMillis-Date.now()>0}function qx(t){return{token:vj(yj),error:t}}var Hy=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Nn(this.app);for(let n of e)tI(this.app,n.next);return Promise.resolve()}};function Dj(t,e){return new Hy(t,e)}function Ej(t){return{getToken:e=>$y(t,e),getLimitedUseToken:()=>_j(t),addTokenListener:e=>bj(t,"INTERNAL",e),removeTokenListener:e=>tI(t.app,e)}}var xj="@firebase/app-check",Ij="0.8.2";var Sj="app-check",Yx="app-check-internal";function Mj(){ma(new ui(Sj,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return Dj(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Yx).initialize()})),ma(new ui(Yx,t=>{let e=t.getProvider("app-check").getImmediate();return Ej(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$i(xj,Ij)}Mj();var Tj=["localhost","0.0.0.0","127.0.0.1"],AQ=typeof window<"u"&&Tj.includes(window.location.hostname);var Aj="firebase",Pj="10.8.1";It.registerVersion(Aj,Pj,"app-compat");var Nj=["ngOnDestroy"],rI=(t,e,n,i={})=>new Proxy(t,{get:(r,s)=>n.runOutsideAngular(()=>{if(t[s])return i?.spy?.get&&i.spy.get(s,t[s]),t[s];if(Nj.indexOf(s)>-1)return()=>{};let o=e.toPromise().then(a=>{let l=a?.[s];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>o[l],apply:(a,l,c)=>o.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(s,c,d),d})})})});var fh=class{constructor(e){return e}},Ro=new N("angularfire2.app.options"),ko=new N("angularfire2.app.name");function Dl(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let o=It.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>It.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(o.options)){let a=!!module.hot;Rj("error",`${o.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new fh(o)}var Rj=(t,...e)=>{gm()&&typeof console<"u"&&console[t](...e)},kj={provide:fh,useFactory:Dl,deps:[Ro,oe,[new co,ko]]},sI=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:Ro,useValue:n},{provide:ko,useValue:i}]}}constructor(n){It.registerVersion("angularfire",as.full,"core"),It.registerVersion("angularfire",as.full,"app-compat"),It.registerVersion("angular",ED.full,n.toString())}static \u0275fac=function(i){return new(i||t)(I(_t))};static \u0275mod=Fe({type:t});static \u0275inj=Ve({providers:[kj]})}return t})();function ph(t,e,n,i,r){let[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(s)return Oj(r,o)||(iI("error",`${e} was already initialized on the ${n} Firebase App with different settings.${Fj?" You may need to reload as Firebase is not HMR aware.":""}`),iI("warn",{is:r,was:o})),s;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function Oj(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var Fj=typeof module<"u"&&!!module.hot,iI=(t,...e)=>{gm()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var zy=new N("angularfire2.auth.use-emulator"),Wy=new N("angularfire2.auth.settings"),Gy=new N("angularfire2.auth.tenant-id"),qy=new N("angularfire2.auth.langugage-code"),Yy=new N("angularfire2.auth.use-device-language"),Ky=new N("angularfire.auth.persistence"),Qy=(t,e,n,i,r,s,o,a)=>ph(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,s&&l.useDeviceLanguage(),o)for(let[c,u]of Object.entries(o))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,s,o,a]),El=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,s,o,a,l,c,u,d,h,f){let p=new nt,g=V(void 0).pipe(nn(o.outsideAngular),Ie(()=>s.runOutsideAngular(()=>import("./chunk-FG2RN4SQ.js"))),j(()=>Dl(n,s,i)),j(m=>Qy(m,s,a,c,u,d,l,h)),nu({bufferSize:1,refCount:!1}));if(ja(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=V(null);else{g.pipe(rn()).subscribe();let m=g.pipe(Ie(_=>_.getRedirectResult().then(w=>w,()=>null)),Pi,nu({bufferSize:1,refCount:!1})),y=g.pipe(Ie(_=>new Z(w=>({unsubscribe:s.runOutsideAngular(()=>_.onAuthStateChanged(C=>w.next(C),C=>w.error(C),()=>w.complete()))})))),v=g.pipe(Ie(_=>new Z(w=>({unsubscribe:s.runOutsideAngular(()=>_.onIdTokenChanged(C=>w.next(C),C=>w.error(C),()=>w.complete()))}))));this.authState=m.pipe(iu(y),wn(o.outsideAngular),nn(o.insideAngular)),this.user=m.pipe(iu(v),wn(o.outsideAngular),nn(o.insideAngular)),this.idToken=this.user.pipe(Ie(_=>_?ue(_.getIdToken()):V(null))),this.idTokenResult=this.user.pipe(Ie(_=>_?ue(_.getIdTokenResult()):V(null))),this.credential=Us(m,p,this.authState.pipe(mt(_=>!_))).pipe(j(_=>_?.user?_:null),wn(o.outsideAngular),nn(o.insideAngular))}return rI(this,g,s,{spy:{apply:(m,y,v)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&v.then(_=>p.next(_))}}})}static \u0275fac=function(i){return new(i||t)(I(Ro),I(ko,8),I(_t),I(oe),I(dh),I(zy,8),I(Wy,8),I(Gy,8),I(qy,8),I(Yy,8),I(Ky,8),I(os,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),oI=(()=>{class t{constructor(){It.registerVersion("angularfire",as.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Fe({type:t});static \u0275inj=Ve({providers:[El]})}return t})();var lI="@firebase/database",cI="1.0.3";var l_="";function c_(t){l_=t}var rv=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Mc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var sv=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return tn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var BI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new rv(e)}}catch{}return new sv},cs=BI("localStorage"),ov=BI("sessionStorage");var Vo=new Ms("@firebase/database"),UI=function(){let t=1;return function(){return t++}}(),$I=function(t){let e=v0(t),n=new y0;n.update(e);let i=n.digest();return Sc.encodeByteArray(i)},Yl=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Yl.apply(null,i):typeof i=="object"?e+=Ke(i):e+=i,e+=" "}return e},us=null,uI=!0,HI=function(t,e){S(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Vo.logLevel=_0.VERBOSE,us=Vo.log.bind(Vo),e&&ov.set("logging_enabled",!0)):typeof t=="function"?us=t:(us=null,ov.remove("logging_enabled"))},ot=function(...t){if(uI===!0&&(uI=!1,us===null&&ov.get("logging_enabled")===!0&&HI(!0)),us){let e=Yl.apply(null,t);us(e)}},Kl=function(t){return function(...e){ot(t,...e)}},av=function(...t){let e="FIREBASE INTERNAL ERROR: "+Yl(...t);Vo.error(e)},ei=function(...t){let e=`FIREBASE FATAL ERROR: ${Yl(...t)}`;throw Vo.error(e),new Error(e)},Dt=function(...t){let e="FIREBASE WARNING: "+Yl(...t);Vo.warn(e)},Lj=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Dt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},$h=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Vj=function(t){if(Ln()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pr="[MIN_NAME]",Ni="[MAX_NAME]",hs=function(t,e){if(t===e)return 0;if(t===pr||e===Ni)return-1;if(e===pr||t===Ni)return 1;{let n=dI(t),i=dI(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},jj=function(t,e){return t===e?0:t<e?-1:1},xl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},u_=function(t){if(typeof t!="object"||t===null)return Ke(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ke(e[i]),n+=":",n+=u_(t[e[i]]);return n+="}",n},zI=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function at(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var WI=function(t){S(!$h(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,s,o,a,l;t===0?(s=0,o=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),s=a+i,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},Bj=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Uj=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function $j(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var Hj=new RegExp("^-?(0*)\\d{1,10}$"),zj=-2147483648,Wj=2147483647,dI=function(t){if(Hj.test(t)){let e=Number(t);if(e>=zj&&e<=Wj)return e}return null},qo=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Dt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Gj=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Tl=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var lv=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Dt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var cv=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Dt(e)}},Al=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),mh="5",GI="v",qI="s",YI="r",KI="f",QI=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ZI="ls",XI="p",uv="ac",JI="websocket",eS="long_polling";var yh=class{constructor(e,n,i,r,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=cs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&cs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function qj(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function tS(t,e,n){S(typeof e=="string","typeof type must == string"),S(typeof n=="object","typeof params must == object");let i;if(e===JI)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===eS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);qj(t)&&(n.ns=t.namespace);let r=[];return at(n,(s,o)=>{r.push(s+"="+o)}),i+r.join("&")}var dv=class{constructor(){this.counters_={}}incrementCounter(e,n=1){tn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return c0(this.counters_)}};var Zy={},Xy={};function d_(t){let e=t.toString();return Zy[e]||(Zy[e]=new dv),Zy[e]}function Yj(t,e){let n=t.toString();return Xy[n]||(Xy[n]=e()),Xy[n]}var hv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&qo(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var hI="start",Kj="close",Qj="pLPCommand",Zj="pRTLPCB",nS="id",iS="pw",rS="ser",Xj="cb",Jj="seg",eB="ts",tB="d",nB="dframe",sS=1870,oS=30,iB=sS-oS,rB=25e3,sB=3e4,kl=class t{constructor(e,n,i,r,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kl(e),this.stats_=d_(n),this.urlFn=l=>(this.appCheckToken&&(l[uv]=this.appCheckToken),tS(n,eS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new hv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(sB)),Vj(()=>{if(this.isClosed_)return;this.scriptTagHolder=new fv((...s)=>{let[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===hI)this.id=a,this.password=l;else if(o===Kj)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[hI]="t",i[rS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[Xj]=this.scriptTagHolder.uniqueCallbackIdentifier),i[GI]=mh,this.transportSessionId&&(i[qI]=this.transportSessionId),this.lastSessionId&&(i[ZI]=this.lastSessionId),this.applicationId&&(i[XI]=this.applicationId),this.appCheckToken&&(i[uv]=this.appCheckToken),typeof location<"u"&&location.hostname&&QI.test(location.hostname)&&(i[YI]=KI);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Ln()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Bj()&&!Uj()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=l0(n),r=zI(i,iB);for(let s=0;s<r.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Ln())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[nB]="t",i[nS]=e,i[iS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},fv=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Ln())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=UI(),window[Qj+this.uniqueCallbackIdentifier]=e,window[Zj+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ot("frame writing exception"),a.stack&&ot(a.stack),ot(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[nS]=this.myID,e[iS]=this.myPW,e[rS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+oS+i.length<=sS;){let o=this.pendingSegs.shift();i=i+"&"+Jj+r+"="+o.seg+"&"+eB+r+"="+o.ts+"&"+tB+r+"="+o.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(rB)),s=()=>{clearTimeout(r),i()};this.addTag(e,s)}addTag(e,n){Ln()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var oB=16384,aB=45e3,vh=null;typeof MozWebSocket<"u"?vh=MozWebSocket:typeof WebSocket<"u"&&(vh=WebSocket);var Fo=(()=>{class t{constructor(n,i,r,s,o,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kl(this.connId),this.stats_=d_(i),this.connURL=t.connectionURL_(i,a,l,s,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,s,o){let a={};return a[GI]=mh,!Ln()&&typeof location<"u"&&location.hostname&&QI.test(location.hostname)&&(a[YI]=KI),i&&(a[qI]=i),r&&(a[ZI]=r),s&&(a[uv]=s),o&&(a[XI]=o),tS(n,JI,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,cs.set("previous_websocket_failure",!0);try{let r;if(Ln()){let s=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${mh}/${l_}/${process.platform}/${s}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let o=process.env,a=this.connURL.indexOf("wss://")===0?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new vh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&vh!==null&&!t.forceDisallow_}static previouslyFailed(){return cs.isInMemoryStorage||cs.get("previous_websocket_failure")===!0}markConnectionHealthy(){cs.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Mc(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(S(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Ke(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=zI(i,oB);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(aB))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),aS=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[kl,Fo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=Fo&&Fo.isAvailable(),r=i&&!Fo.previouslyFailed();if(n.webSocketOnly&&(i||Dt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Fo];else{let s=this.transports_=[];for(let o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),lB=6e4,cB=5e3,uB=10*1024,dB=100*1024,Jy="t",fI="d",hB="s",pI="r",fB="e",gI="o",mI="a",yI="n",vI="p",pB="h",pv=class{constructor(e,n,i,r,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kl("c:"+this.id+":"),this.transportManager_=new aS(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Tl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>dB?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>uB?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Jy in e){let n=e[Jy];n===mI?this.upgradeIfSecondaryHealthy_():n===pI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===gI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=xl("t",e),i=xl("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:vI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:yI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=xl("t",e),i=xl("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=xl(Jy,e);if(fI in e){let i=e[fI];if(n===pB){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===yI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===hB?this.onConnectionShutdown_(i):n===pI?this.onReset_(i):n===fB?av("Server Error: "+i):n===gI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):av("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),mh!==i&&Dt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Tl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(lB))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Tl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(cB))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:vI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(cs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var _h=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var bh=class{constructor(e){this.allowedEvents_=e,this.listeners_={},S(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let s=0;s<r.length;s++)if(r[s].callback===n&&(!i||i===r[s].context)){r.splice(s,1);return}}validateEventType_(e){S(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ch=class t extends bh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Xf()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return S(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var _I=32,bI=768,he=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function de(){return new he("")}function X(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function gr(t){return t.pieces_.length-t.pieceNum_}function Ee(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new he(t.pieces_,e)}function h_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function gB(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Ol(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lS(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new he(e,0)}function Oe(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof he)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new he(n,0)}function J(t){return t.pieceNum_>=t.pieces_.length}function Rt(t,e){let n=X(t),i=X(e);if(n===null)return e;if(n===i)return Rt(Ee(t),Ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function mB(t,e){let n=Ol(t,0),i=Ol(e,0);for(let r=0;r<n.length&&r<i.length;r++){let s=hs(n[r],i[r]);if(s!==0)return s}return n.length===i.length?0:n.length<i.length?-1:1}function f_(t,e){if(gr(t)!==gr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function gn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(gr(t)>gr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var gv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=Ol(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ga(this.parts_[i]);cS(this)}};function yB(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ga(e),cS(t)}function vB(t){let e=t.parts_.pop();t.byteLength_-=ga(e),t.parts_.length>0&&(t.byteLength_-=1)}function cS(t){if(t.byteLength_>bI)throw new Error(t.errorPrefix_+"has a key path longer than "+bI+" bytes ("+t.byteLength_+").");if(t.parts_.length>_I)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+_I+") or object contains a cycle "+ls(t))}function ls(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var mv=class t extends bh{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return S(e==="visible","Unknown event type: "+e),[this.visible_]}};var Il=1e3,_B=60*5*1e3,CI=30*1e3,bB=1.3,CB=3e4,wB="server_kill",wI=3,p_=(()=>{class t extends _h{constructor(n,i,r,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=Kl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Il,this.maxReconnectDelay_=_B,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Ln())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ch.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let s=++this.requestNumber_,o={r:s,a:n,b:i};this.log_(Ke(o)),S(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),r&&(this.requestCBHash_[s]=r)}get(n){this.initConnection_();let i=new rt,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;let o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),i.promise}listen(n,i,r,s){this.initConnection_();let o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),S(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");let l={onComplete:s,hashFn:i,query:n,tag:r};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),s=i._queryIdentifier;this.log_("Listen on "+r+" for "+s);let o={p:r},a="q";n.tag&&(o.q=i._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest(a,o,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(s))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&tn(n,"w")){let r=Ui(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let s='".indexOn": "'+i._queryParams.getIndex().toString()+'"',o=i._path.toString();Dt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||g0(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=CI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=p0(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,s=>{let o=s.s,a=s.d||"error";this.authToken_===n&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),S(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,n._queryObject,i)}sendUnlisten_(n,i,r,s){this.log_("Unlisten on "+n+" for "+i);let o={p:n},a="n";s&&(o.q=r,o.t=s),this.sendRequest(a,o)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,s){let o={p:i,d:r};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,i,r,s){this.putInternal("p",n,i,r,s)}merge(n,i,r,s){this.putInternal("m",n,i,r,s)}putInternal(n,i,r,s,o){this.initConnection_();let a={p:i,d:r};o!==void 0&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,o=>{this.log_(i+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let o=r.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ke(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):av("Unrecognized action received from server: "+Ke(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){S(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>CB&&(this.reconnectDelay_=Il),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*bB)}this.onConnectStatus_(!1)}establishConnection_(){return en(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+t.nextConnectionId_++,o=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){S(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new pv(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{Dt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(wB)},o))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Dt(h),c())}}})}interrupt(n){ot("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){ot("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Tc(this.interruptReasons_)&&(this.reconnectDelay_=Il,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(o=>u_(o)).join("$"):r="default";let s=this.removeListen_(n,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,i){let r=new he(n).toString(),s;if(this.listens.has(r)){let o=this.listens.get(r);s=o.get(i),o.delete(i),o.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(n,i){ot("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=wI&&(this.reconnectDelay_=CI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){ot("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=wI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Ln()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+l_.replace(/\./g,"-")]=1,Xf()?n["framework.cordova"]=1:d0()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ch.getInstance().currentlyOnline();return Tc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),te=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var jo=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new te(pr,e),r=new te(pr,n);return this.compare(i,r)!==0}minPost(){return te.MIN}};var gh,wh=class extends jo{static get __EMPTY_NODE(){return gh}static set __EMPTY_NODE(e){gh=e}compare(e,n){return hs(e.name,n.name)}isDefinedOn(e){throw Ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return te.MIN}maxPost(){return new te(Ni,gh)}makePost(e,n){return S(typeof e=="string","KeyIndex indexValue must always be a string."),new te(e,gh)}toString(){return".key"}},Jn=new wh;var Lo=class{constructor(e,n,i,r,s=null){this.isReverse_=r,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?i(e.key,n):1,r&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Rn=(()=>{class t{constructor(n,i,r,s,o){this.key=n,this.value=i,this.color=r??t.RED,this.left=s??mn.EMPTY_NODE,this.right=o??mn.EMPTY_NODE}copy(n,i,r,s,o){return new t(n??this.key,i??this.value,r??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let s=this,o=r(n,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(n,i,r),null):o===0?s=s.copy(null,i,null,null,null):s=s.copy(null,null,null,null,s.right.insert(n,i,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return mn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,s;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return mn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),yv=class{copy(e,n,i,r,s){return this}insert(e,n,i){return new Rn(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},mn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rn.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rn.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Lo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Lo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Lo(this.root_,null,this.comparator_,!0,e)}};mn.EMPTY_NODE=new yv;function DB(t,e){return hs(t.name,e.name)}function g_(t,e){return hs(t,e)}var vv;function EB(t){vv=t}var uS=function(t){return typeof t=="number"?"number:"+WI(t):"string:"+t},dS=function(t){if(t.isLeafNode()){let e=t.val();S(typeof e=="string"||typeof e=="number"||typeof e=="object"&&tn(e,".sv"),"Priority must be a string or number.")}else S(t===vv||t.isEmpty(),"priority of unexpected type.");S(t===vv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var DI,Bo=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,S(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),dS(this.priorityNode_)}static set __childrenNodeConstructor(n){DI=n}static get __childrenNodeConstructor(){return DI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return J(n)?this:X(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=X(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(S(r!==".priority"||gr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+uS(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=WI(this.value_):n+=this.value_,this.lazyHash_=$I(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(S(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(i),o=t.VALUE_TYPE_ORDER.indexOf(r);return S(s>=0,"Unknown leaf type: "+i),S(o>=0,"Unknown leaf type: "+r),s===o?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),hS,fS;function xB(t){hS=t}function IB(t){fS=t}var _v=class extends jo{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),s=i.compareTo(r);return s===0?hs(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return te.MIN}maxPost(){return new te(Ni,new Bo("[PRIORITY-POST]",fS))}makePost(e,n){let i=hS(e);return new te(n,new Bo("[PRIORITY-POST]",i))}toString(){return".priority"}},Te=new _v;var SB=Math.log(2),bv=class{constructor(e){let n=s=>parseInt(Math.log(s)/SB,10),i=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Dh=function(t,e,n,i){t.sort(e);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new Rn(h,d.node,Rn.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=t[f],h=n?n(d):d,new Rn(h,d.node,Rn.BLACK,p,g)}},s=function(l){let c=null,u=null,d=t.length,h=function(p,g){let m=d-p,y=d;d-=p;let v=r(m+1,y),_=t[m],w=n?n(_):_;f(new Rn(w,_.node,g,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,Rn.BLACK):(h(m,Rn.BLACK),h(m,Rn.RED))}return u},o=new bv(t.length),a=s(o);return new mn(i||e,a)};var ev,Oo={},Uo=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return S(Oo&&Te,"ChildrenNode.ts has not been loaded"),ev=ev||new t({".priority":Oo},{".priority":Te}),ev}get(e){let n=Ui(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof mn?n:null}hasIndex(e){return tn(this.indexSet_,e.toString())}addIndex(e,n){S(e!==Jn,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,s=n.getIterator(te.Wrap),o=s.getNext();for(;o;)r=r||e.isDefinedOn(o.node),i.push(o),o=s.getNext();let a;r?a=Dh(i,e.getCompare()):a=Oo;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let i=pa(this.indexes_,(r,s)=>{let o=Ui(this.indexSet_,s);if(S(o,"Missing index implementation for "+s),r===Oo)if(o.isDefinedOn(e.node)){let a=[],l=n.getIterator(te.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Dh(a,o.getCompare())}else return Oo;else{let a=n.get(e.name),l=r;return a&&(l=l.remove(new te(e.name,a))),l.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=pa(this.indexes_,r=>{if(r===Oo)return r;{let s=n.get(e.name);return s?r.remove(new te(e.name,s)):r}});return new t(i,this.indexSet_)}};var Sl,z=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&dS(this.priorityNode_),this.children_.isEmpty()&&S(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Sl||(Sl=new t(new mn(g_),null,Uo.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Sl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?Sl:i}}getChild(n){let i=X(n);return i===null?this:this.getImmediateChild(i).getChild(Ee(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(S(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new te(n,i),s,o;i.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(n,i),o=this.indexMap_.addToIndexes(r,this.children_));let a=s.isEmpty()?Sl:this.priorityNode_;return new t(s,a,o)}}updateChild(n,i){let r=X(n);if(r===null)return i;{S(X(n)!==".priority"||gr(n)===1,".priority must be the last token in a path");let s=this.getImmediateChild(r).updateChild(Ee(n),i);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,s=0,o=!0;if(this.forEachChild(Te,(a,l)=>{i[a]=l.val(n),r++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+uS(this.getPriority().val())+":"),this.forEachChild(Te,(i,r)=>{let s=r.hash();s!==""&&(n+=":"+i+":"+s)}),this.lazyHash_=n===""?"":$I(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let s=this.resolveIndex_(r);if(s){let o=s.getPredecessorKey(new te(n,i));return o?o.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new te(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new te(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(s=>i(s.name,s.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,s=>s);{let s=this.children_.getIteratorFrom(n.name,te.Wrap),o=s.peek();for(;o!=null&&i.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,s=>s);{let s=this.children_.getReverseIteratorFrom(n.name,te.Wrap),o=s.peek();for(;o!=null&&i.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ql?-1:0}withIndex(n){if(n===Jn||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===Jn||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(Te),s=i.getIterator(Te),o=r.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=r.getNext(),a=s.getNext()}return o===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===Jn?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Cv=class extends z{constructor(){super(new mn(g_),z.EMPTY_NODE,Uo.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return z.EMPTY_NODE}isEmpty(){return!1}},Ql=new Cv;Object.defineProperties(te,{MIN:{value:new te(pr,z.EMPTY_NODE)},MAX:{value:new te(Ni,Ql)}});wh.__EMPTY_NODE=z.EMPTY_NODE;Bo.__childrenNodeConstructor=z;EB(Ql);IB(Ql);var MB=!0;function je(t,e=null){if(t===null)return z.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),S(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Bo(n,je(e))}if(!(t instanceof Array)&&MB){let n=[],i=!1;if(at(t,(o,a)=>{if(o.substring(0,1)!=="."){let l=je(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new te(o,l)))}}),n.length===0)return z.EMPTY_NODE;let s=Dh(n,DB,o=>o.name,g_);if(i){let o=Dh(n,Te.getCompare());return new z(s,je(e),new Uo({".priority":o},{".priority":Te}))}else return new z(s,je(e),Uo.Default)}else{let n=z.EMPTY_NODE;return at(t,(i,r)=>{if(tn(t,i)&&i.substring(0,1)!=="."){let s=je(r);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(i,s))}}),n.updatePriority(je(e))}}xB(je);var Fl=class extends jo{constructor(e){super(),this.indexPath_=e,S(!J(e)&&X(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),s=i.compareTo(r);return s===0?hs(e.name,n.name):s}makePost(e,n){let i=je(e),r=z.EMPTY_NODE.updateChild(this.indexPath_,i);return new te(n,r)}maxPost(){let e=z.EMPTY_NODE.updateChild(this.indexPath_,Ql);return new te(Ni,e)}toString(){return Ol(this.indexPath_,0).join("/")}};var wv=class extends jo{compare(e,n){let i=e.node.compareTo(n.node);return i===0?hs(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return te.MIN}maxPost(){return te.MAX}makePost(e,n){let i=je(e);return new te(n,i)}toString(){return".value"}},m_=new wv;function pS(t){return{type:"value",snapshotNode:t}}function $o(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Ll(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Vl(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function TB(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var jl=class{constructor(e){this.index_=e}updateChild(e,n,i,r,s,o){S(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(o!=null&&(i.isEmpty()?e.hasChild(n)?o.trackChildChange(Ll(n,a)):S(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange($o(n,i)):o.trackChildChange(Vl(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Te,(r,s)=>{n.hasChild(r)||i.trackChildChange(Ll(r,s))}),n.isLeafNode()||n.forEachChild(Te,(r,s)=>{if(e.hasChild(r)){let o=e.getImmediateChild(r);o.equals(s)||i.trackChildChange(Vl(r,s,o))}else i.trackChildChange($o(r,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?z.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Eh=class t{constructor(e){this.indexedFilter_=new jl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,s,o){return this.matches(new te(n,i))||(i=z.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,s,o)}updateFullNode(e,n,i){n.isLeafNode()&&(n=z.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(z.EMPTY_NODE);let s=this;return n.forEachChild(Te,(o,a)=>{s.matches(new te(o,a))||(r=r.updateImmediateChild(o,z.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Dv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Eh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,s,o){return this.rangedFilter_.matches(new te(n,i))||(i=z.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,s,o):this.fullLimitUpdateChild_(e,n,i,s,o)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=z.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=z.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(z.EMPTY_NODE);let s;this.reverse_?s=r.getReverseIterator(this.index_):s=r.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:r=r.updateImmediateChild(a.name,z.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,s){let o;if(this.reverse_){let d=this.index_.getCompare();o=(h,f)=>d(f,h)}else o=this.index_.getCompare();let a=e;S(a.numChildren()===this.limit_,"");let l=new te(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:o(h,l);if(u&&!i.isEmpty()&&f>=0)return s?.trackChildChange(Vl(n,i,d)),a.updateImmediateChild(n,i);{s?.trackChildChange(Ll(n,d));let g=a.updateImmediateChild(n,z.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s?.trackChildChange($o(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&o(c,l)>=0?(s!=null&&(s.trackChildChange(Ll(c.name,c.node)),s.trackChildChange($o(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,z.EMPTY_NODE)):e}};var Bl=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Te}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return S(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return S(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pr}hasEnd(){return this.endSet_}getIndexEndValue(){return S(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return S(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ni}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return S(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Te}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function AB(t){return t.loadsAllData()?new jl(t.getIndex()):t.hasLimit()?new Dv(t):new Eh(t)}function PB(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function NB(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Ev(t,e,n){let i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function RB(t,e,n){let i;return t.index_===Jn||n?i=Ev(t,e,n):i=Ev(t,e,Ni),i.startAfterSet_=!0,i}function xv(t,e,n){let i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function kB(t,e,n){let i;return t.index_===Jn||n?i=xv(t,e,n):i=xv(t,e,pr),i.endBeforeSet_=!0,i}function Hh(t,e){let n=t.copy();return n.index_=e,n}function EI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Te?n="$priority":t.index_===m_?n="$value":t.index_===Jn?n="$key":(S(t.index_ instanceof Fl,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ke(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Te&&(e.i=t.index_.toString()),e}var Iv=class t extends _h{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Kl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(S(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=t.getListenId_(e,i),a={};this.listens_[o]=a;let l=EI(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(s,d,!1,i),Ui(this.listens_,o)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=EI(e._queryParams),i=e._path.toString(),r=new rt;return this.restRequest_(i+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,s])=>{r&&r.accessToken&&(n.auth=r.accessToken),s&&s.token&&(n.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+m0(n);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Mc(a.responseText)}catch{Dt("Failed to parse JSON response for "+o+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&Dt("Got unsuccessful REST response for "+o+" Status: "+a.status),i(a.status);i=null}},a.open("GET",o,!0),a.send()})}};var Sv=class{constructor(){this.rootNode_=z.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function xh(){return{value:null,children:new Map}}function Yo(t,e,n){if(J(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=X(e);t.children.has(i)||t.children.set(i,xh());let r=t.children.get(i);e=Ee(e),Yo(r,e,n)}}function Mv(t,e){if(J(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Te,(i,r)=>{Yo(t,new he(i),r)}),Mv(t,e)}}else if(t.children.size>0){let n=X(e);return e=Ee(e),t.children.has(n)&&Mv(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Tv(t,e,n){t.value!==null?n(e,t.value):OB(t,(i,r)=>{let s=new he(e.toString()+"/"+i);Tv(r,s,n)})}function OB(t,e){t.children.forEach((n,i)=>{e(i,n)})}var Av=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&at(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var II=10*1e3,FB=30*1e3,LB=5*60*1e3,Pv=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Av(e);let i=II+(FB-II)*Math.random();Tl(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;at(e,(r,s)=>{s>0&&tn(this.statsToReport_,r)&&(n[r]=s,i=!0)}),i&&this.server_.reportStats(n),Tl(this.reportStats_.bind(this),Math.floor(Math.random()*2*LB))}};var Xn=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Xn||{});function y_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function v_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function __(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var Nv=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=Xn.ACK_USER_WRITE,this.source=y_()}operationForChild(e){if(J(this.path)){if(this.affectedTree.value!=null)return S(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new he(e));return new t(de(),n,this.revert)}}else return S(X(this.path)===e,"operationForChild called for unrelated child."),new t(Ee(this.path),this.affectedTree,this.revert)}};var Ih=class t{constructor(e,n){this.source=e,this.path=n,this.type=Xn.LISTEN_COMPLETE}operationForChild(e){return J(this.path)?new t(this.source,de()):new t(this.source,Ee(this.path))}};var Ho=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=Xn.OVERWRITE}operationForChild(e){return J(this.path)?new t(this.source,de(),this.snap.getImmediateChild(e)):new t(this.source,Ee(this.path),this.snap)}};var Ul=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=Xn.MERGE}operationForChild(e){if(J(this.path)){let n=this.children.subtree(new he(e));return n.isEmpty()?null:n.value?new Ho(this.source,de(),n.value):new t(this.source,de(),n)}else return S(X(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ti=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(J(e))return this.isFullyInitialized()&&!this.filtered_;let n=X(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var Rv=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function VB(t,e,n,i){let r=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(TB(o.childName,o.snapshotNode))}),Ml(t,r,"child_removed",e,i,n),Ml(t,r,"child_added",e,i,n),Ml(t,r,"child_moved",s,i,n),Ml(t,r,"child_changed",e,i,n),Ml(t,r,"value",e,i,n),r}function Ml(t,e,n,i,r,s){let o=i.filter(a=>a.type===n);o.sort((a,l)=>BB(t,a,l)),o.forEach(a=>{let l=jB(t,a,s);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function jB(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function BB(t,e,n){if(e.childName==null||n.childName==null)throw Ss("Should only compare child_ events.");let i=new te(e.childName,e.snapshotNode),r=new te(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function zh(t,e){return{eventCache:t,serverCache:e}}function Pl(t,e,n,i){return zh(new ti(e,n,i),t.serverCache)}function gS(t,e,n,i){return zh(t.eventCache,new ti(e,n,i))}function Sh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function ds(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var tv,UB=()=>(tv||(tv=new mn(jj)),tv),kt=class t{constructor(e,n=UB()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return at(e,(i,r)=>{n=n.set(new he(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:de(),value:this.value};if(J(e))return null;{let i=X(e),r=this.children.get(i);if(r!==null){let s=r.findRootMostMatchingPathAndValue(Ee(e),n);return s!=null?{path:Oe(new he(i),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(J(e))return this;{let n=X(e),i=this.children.get(n);return i!==null?i.subtree(Ee(e)):new t(null)}}set(e,n){if(J(e))return new t(n,this.children);{let i=X(e),s=(this.children.get(i)||new t(null)).set(Ee(e),n),o=this.children.insert(i,s);return new t(this.value,o)}}remove(e){if(J(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=X(e),i=this.children.get(n);if(i){let r=i.remove(Ee(e)),s;return r.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,r),this.value===null&&s.isEmpty()?new t(null):new t(this.value,s)}else return this}}get(e){if(J(e))return this.value;{let n=X(e),i=this.children.get(n);return i?i.get(Ee(e)):null}}setTree(e,n){if(J(e))return n;{let i=X(e),s=(this.children.get(i)||new t(null)).setTree(Ee(e),n),o;return s.isEmpty()?o=this.children.remove(i):o=this.children.insert(i,s),new t(this.value,o)}}fold(e){return this.fold_(de(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,s)=>{i[r]=s.fold_(Oe(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,de(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(J(e))return null;{let s=X(e),o=this.children.get(s);return o?o.findOnPath_(Ee(e),Oe(n,s),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,de(),n)}foreachOnPath_(e,n,i){if(J(e))return this;{this.value&&i(n,this.value);let r=X(e),s=this.children.get(r);return s?s.foreachOnPath_(Ee(e),Oe(n,r),i):new t(null)}}foreach(e){this.foreach_(de(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Oe(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var kn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new kt(null))}};function Nl(t,e,n){if(J(e))return new kn(new kt(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,s=i.value,o=Rt(r,e);return s=s.updateChild(o,n),new kn(t.writeTree_.set(r,s))}else{let r=new kt(n),s=t.writeTree_.setTree(e,r);return new kn(s)}}}function kv(t,e,n){let i=t;return at(n,(r,s)=>{i=Nl(i,Oe(e,r),s)}),i}function SI(t,e){if(J(e))return kn.empty();{let n=t.writeTree_.setTree(e,new kt(null));return new kn(n)}}function Ov(t,e){return fs(t,e)!=null}function fs(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rt(n.path,e)):null}function MI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Te,(i,r)=>{e.push(new te(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new te(i,r.value))}),e}function hr(t,e){if(J(e))return t;{let n=fs(t,e);return n!=null?new kn(new kt(n)):new kn(t.writeTree_.subtree(e))}}function Fv(t){return t.writeTree_.isEmpty()}function zo(t,e){return mS(de(),t.writeTree_,e)}function mS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,s)=>{r===".priority"?(S(s.value!==null,"Priority writes must always be leaf nodes"),i=s.value):n=mS(Oe(t,r),s,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Oe(t,".priority"),i)),n}}function Wh(t,e){return bS(e,t)}function $B(t,e,n,i,r){S(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=Nl(t.visibleWrites,e,n)),t.lastWriteId=i}function HB(t,e,n,i){S(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=kv(t.visibleWrites,e,n),t.lastWriteId=i}function zB(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function WB(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);S(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,s=!1,o=t.allWrites.length-1;for(;r&&o>=0;){let a=t.allWrites[o];a.visible&&(o>=n&&GB(a,i.path)?r=!1:gn(i.path,a.path)&&(s=!0)),o--}if(r){if(s)return qB(t),!0;if(i.snap)t.visibleWrites=SI(t.visibleWrites,i.path);else{let a=i.children;at(a,l=>{t.visibleWrites=SI(t.visibleWrites,Oe(i.path,l))})}return!0}else return!1}function GB(t,e){if(t.snap)return gn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&gn(Oe(t.path,n),e))return!0;return!1}function qB(t){t.visibleWrites=yS(t.allWrites,YB,de()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YB(t){return t.visible}function yS(t,e,n){let i=kn.empty();for(let r=0;r<t.length;++r){let s=t[r];if(e(s)){let o=s.path,a;if(s.snap)gn(n,o)?(a=Rt(n,o),i=Nl(i,a,s.snap)):gn(o,n)&&(a=Rt(o,n),i=Nl(i,de(),s.snap.getChild(a)));else if(s.children){if(gn(n,o))a=Rt(n,o),i=kv(i,a,s.children);else if(gn(o,n))if(a=Rt(o,n),J(a))i=kv(i,de(),s.children);else{let l=Ui(s.children,X(a));if(l){let c=l.getChild(Ee(a));i=Nl(i,de(),c)}}}else throw Ss("WriteRecord should have .snap or .children")}}return i}function vS(t,e,n,i,r){if(!i&&!r){let s=fs(t.visibleWrites,e);if(s!=null)return s;{let o=hr(t.visibleWrites,e);if(Fv(o))return n;if(n==null&&!Ov(o,de()))return null;{let a=n||z.EMPTY_NODE;return zo(o,a)}}}else{let s=hr(t.visibleWrites,e);if(!r&&Fv(s))return n;if(!r&&n==null&&!Ov(s,de()))return null;{let o=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(gn(c.path,e)||gn(e,c.path))},a=yS(t.allWrites,o,e),l=n||z.EMPTY_NODE;return zo(a,l)}}}function KB(t,e,n){let i=z.EMPTY_NODE,r=fs(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Te,(s,o)=>{i=i.updateImmediateChild(s,o)}),i;if(n){let s=hr(t.visibleWrites,e);return n.forEachChild(Te,(o,a)=>{let l=zo(hr(s,new he(o)),a);i=i.updateImmediateChild(o,l)}),MI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}else{let s=hr(t.visibleWrites,e);return MI(s).forEach(o=>{i=i.updateImmediateChild(o.name,o.node)}),i}}function QB(t,e,n,i,r){S(i||r,"Either existingEventSnap or existingServerSnap must exist");let s=Oe(e,n);if(Ov(t.visibleWrites,s))return null;{let o=hr(t.visibleWrites,s);return Fv(o)?r.getChild(n):zo(o,r.getChild(n))}}function ZB(t,e,n,i){let r=Oe(e,n),s=fs(t.visibleWrites,r);if(s!=null)return s;if(i.isCompleteForChild(n)){let o=hr(t.visibleWrites,r);return zo(o,i.getNode().getImmediateChild(n))}else return null}function XB(t,e){return fs(t.visibleWrites,e)}function JB(t,e,n,i,r,s,o){let a,l=hr(t.visibleWrites,e),c=fs(l,de());if(c!=null)a=c;else if(n!=null)a=zo(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(i,o):a.getIteratorFrom(i,o),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function eU(){return{visibleWrites:kn.empty(),allWrites:[],lastWriteId:-1}}function Mh(t,e,n,i){return vS(t.writeTree,t.treePath,e,n,i)}function b_(t,e){return KB(t.writeTree,t.treePath,e)}function TI(t,e,n,i){return QB(t.writeTree,t.treePath,e,n,i)}function Th(t,e){return XB(t.writeTree,Oe(t.treePath,e))}function tU(t,e,n,i,r,s){return JB(t.writeTree,t.treePath,e,n,i,r,s)}function C_(t,e,n){return ZB(t.writeTree,t.treePath,e,n)}function _S(t,e){return bS(Oe(t.treePath,e),t.writeTree)}function bS(t,e){return{treePath:t,writeTree:e}}var Lv=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;S(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),S(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let s=r.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(i,Vl(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(i,Ll(i,r.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(i,$o(i,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(i,Vl(i,e.snapshotNode,r.oldSnap));else throw Ss("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var Vv=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},CS=new Vv,$l=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new ti(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return C_(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:ds(this.viewCache_),s=tU(this.writes_,r,n,1,i,e);return s.length===0?null:s[0]}};function nU(t){return{filter:t}}function iU(t,e){S(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),S(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function rU(t,e,n,i,r){let s=new Lv,o,a;if(n.type===Xn.OVERWRITE){let c=n;c.source.fromUser?o=jv(t,e,c.path,c.snap,i,r,s):(S(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!J(c.path),o=Ah(t,e,c.path,c.snap,i,r,a,s))}else if(n.type===Xn.MERGE){let c=n;c.source.fromUser?o=oU(t,e,c.path,c.children,i,r,s):(S(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Bv(t,e,c.path,c.children,i,r,a,s))}else if(n.type===Xn.ACK_USER_WRITE){let c=n;c.revert?o=cU(t,e,c.path,i,r,s):o=aU(t,e,c.path,c.affectedTree,i,r,s)}else if(n.type===Xn.LISTEN_COMPLETE)o=lU(t,e,n.path,i,s);else throw Ss("Unknown operation type: "+n.type);let l=s.getChanges();return sU(e,o,l),{viewCache:o,changes:l}}function sU(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),s=Sh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(s)||!i.getNode().getPriority().equals(s.getPriority()))&&n.push(pS(Sh(e)))}}function wS(t,e,n,i,r,s){let o=e.eventCache;if(Th(i,n)!=null)return e;{let a,l;if(J(n))if(S(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=ds(e),u=c instanceof z?c:z.EMPTY_NODE,d=b_(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{let c=Mh(i,ds(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{let c=X(n);if(c===".priority"){S(gr(n)===1,"Can't have a priority with additional path components");let u=o.getNode();l=e.serverCache.getNode();let d=TI(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{let u=Ee(n),d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();let h=TI(i,n,o.getNode(),l);h!=null?d=o.getNode().getImmediateChild(c).updateChild(u,h):d=o.getNode().getImmediateChild(c)}else d=C_(i,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,r,s):a=o.getNode()}}return Pl(e,a,o.isFullyInitialized()||J(n),t.filter.filtersNodes())}}function Ah(t,e,n,i,r,s,o,a){let l=e.serverCache,c,u=o?t.filter:t.filter.getIndexedFilter();if(J(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=X(n);if(!l.isCompleteForPath(n)&&gr(n)>1)return e;let p=Ee(n),m=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),m):c=u.updateChild(l.getNode(),f,m,p,CS,null)}let d=gS(e,c,l.isFullyInitialized()||J(n),u.filtersNodes()),h=new $l(r,d,s);return wS(t,d,n,r,h,a)}function jv(t,e,n,i,r,s,o){let a=e.eventCache,l,c,u=new $l(r,e,s);if(J(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,o),l=Pl(e,c,!0,t.filter.filtersNodes());else{let d=X(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Pl(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=Ee(n),f=a.getNode().getImmediateChild(d),p;if(J(h))p=i;else{let g=u.getCompleteChild(d);g!=null?h_(h)===".priority"&&g.getChild(lS(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=z.EMPTY_NODE}if(f.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,h,u,o);l=Pl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function AI(t,e){return t.eventCache.isCompleteForChild(e)}function oU(t,e,n,i,r,s,o){let a=e;return i.foreach((l,c)=>{let u=Oe(n,l);AI(e,X(u))&&(a=jv(t,a,u,c,r,s,o))}),i.foreach((l,c)=>{let u=Oe(n,l);AI(e,X(u))||(a=jv(t,a,u,c,r,s,o))}),a}function PI(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function Bv(t,e,n,i,r,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;J(n)?c=i:c=new kt(null).setTree(n,i);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=PI(t,f,h);l=Ah(t,l,new he(d),p,r,s,o,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),g=PI(t,p,h);l=Ah(t,l,new he(d),g,r,s,o,a)}}),l}function aU(t,e,n,i,r,s,o){if(Th(r,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(J(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ah(t,e,n,l.getNode().getChild(n),r,s,a,o);if(J(n)){let c=new kt(null);return l.getNode().forEachChild(Jn,(u,d)=>{c=c.set(new he(u),d)}),Bv(t,e,n,c,r,s,a,o)}else return e}else{let c=new kt(null);return i.foreach((u,d)=>{let h=Oe(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),Bv(t,e,n,c,r,s,a,o)}}function lU(t,e,n,i,r){let s=e.serverCache,o=gS(e,s.getNode(),s.isFullyInitialized()||J(n),s.isFiltered());return wS(t,o,n,i,CS,r)}function cU(t,e,n,i,r,s){let o;if(Th(i,n)!=null)return e;{let a=new $l(i,e,r),l=e.eventCache.getNode(),c;if(J(n)||X(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Mh(i,ds(e));else{let d=e.serverCache.getNode();S(d instanceof z,"serverChildren would be complete if leaf node"),u=b_(i,d)}u=u,c=t.filter.updateFullNode(l,u,s)}else{let u=X(n),d=C_(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ee(n),a,s):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,z.EMPTY_NODE,Ee(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Mh(i,ds(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Th(i,de())!=null,Pl(e,c,o,t.filter.filtersNodes())}}var Uv=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new jl(i.getIndex()),s=AB(i);this.processor_=nU(s);let o=n.serverCache,a=n.eventCache,l=r.updateFullNode(z.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(z.EMPTY_NODE,a.getNode(),null),u=new ti(l,o.isFullyInitialized(),r.filtersNodes()),d=new ti(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=zh(d,u),this.eventGenerator_=new Rv(this.query_)}get query(){return this.query_}};function uU(t){return t.viewCache_.serverCache.getNode()}function dU(t){return Sh(t.viewCache_)}function hU(t,e){let n=ds(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!J(e)&&!n.getImmediateChild(X(e)).isEmpty())?n.getChild(e):null}function NI(t){return t.eventRegistrations_.length===0}function fU(t,e){t.eventRegistrations_.push(e)}function RI(t,e,n){let i=[];if(n){S(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(n,r);o&&i.push(o)})}if(e){let r=[];for(let s=0;s<t.eventRegistrations_.length;++s){let o=t.eventRegistrations_[s];if(!o.matches(e))r.push(o);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function kI(t,e,n,i){e.type===Xn.MERGE&&e.source.queryId!==null&&(S(ds(t.viewCache_),"We should always have a full cache before handling merges"),S(Sh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,s=rU(t.processor_,r,e,n,i);return iU(t.processor_,s.viewCache),S(s.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,DS(t,s.changes,s.viewCache.eventCache.getNode(),null)}function pU(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Te,(s,o)=>{i.push($o(s,o))}),n.isFullyInitialized()&&i.push(pS(n.getNode())),DS(t,i,n.getNode(),e)}function DS(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return VB(t.eventGenerator_,e,n,r)}var Ph,Nh=class{constructor(){this.views=new Map}};function gU(t){S(!Ph,"__referenceConstructor has already been defined"),Ph=t}function mU(){return S(Ph,"Reference.ts has not been loaded"),Ph}function yU(t){return t.views.size===0}function w_(t,e,n,i){let r=e.source.queryId;if(r!==null){let s=t.views.get(r);return S(s!=null,"SyncTree gave us an op for an invalid query."),kI(s,e,n,i)}else{let s=[];for(let o of t.views.values())s=s.concat(kI(o,e,n,i));return s}}function ES(t,e,n,i,r){let s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Mh(n,r?i:null),l=!1;a?l=!0:i instanceof z?(a=b_(n,i),l=!1):(a=z.EMPTY_NODE,l=!1);let c=zh(new ti(a,l,!1),new ti(i,r,!1));return new Uv(e,c)}return o}function vU(t,e,n,i,r,s){let o=ES(t,e,i,r,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),fU(o,n),pU(o,n)}function _U(t,e,n,i){let r=e._queryIdentifier,s=[],o=[],a=mr(t);if(r==="default")for(let[l,c]of t.views.entries())o=o.concat(RI(c,n,i)),NI(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{let l=t.views.get(r);l&&(o=o.concat(RI(l,n,i)),NI(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!mr(t)&&s.push(new(mU())(e._repo,e._path)),{removed:s,events:o}}function xS(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fr(t,e){let n=null;for(let i of t.views.values())n=n||hU(i,e);return n}function IS(t,e){if(e._queryParams.loadsAllData())return Gh(t);{let i=e._queryIdentifier;return t.views.get(i)}}function SS(t,e){return IS(t,e)!=null}function mr(t){return Gh(t)!=null}function Gh(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Rh;function bU(t){S(!Rh,"__referenceConstructor has already been defined"),Rh=t}function CU(){return S(Rh,"Reference.ts has not been loaded"),Rh}var wU=1,kh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new kt(null),this.pendingWriteTree_=eU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function D_(t,e,n,i,r){return $B(t.pendingWriteTree_,e,n,i,r),r?Ko(t,new Ho(y_(),e,n)):[]}function DU(t,e,n,i){HB(t.pendingWriteTree_,e,n,i);let r=kt.fromObject(n);return Ko(t,new Ul(y_(),e,r))}function dr(t,e,n=!1){let i=zB(t.pendingWriteTree_,e);if(WB(t.pendingWriteTree_,e)){let s=new kt(null);return i.snap!=null?s=s.set(de(),!0):at(i.children,o=>{s=s.set(new he(o),!0)}),Ko(t,new Nv(i.path,s,n))}else return[]}function Zl(t,e,n){return Ko(t,new Ho(v_(),e,n))}function EU(t,e,n){let i=kt.fromObject(n);return Ko(t,new Ul(v_(),e,i))}function xU(t,e){return Ko(t,new Ih(v_(),e))}function IU(t,e,n){let i=E_(t,n);if(i){let r=x_(i),s=r.path,o=r.queryId,a=Rt(s,e),l=new Ih(__(o),a);return I_(t,s,l)}else return[]}function Oh(t,e,n,i,r=!1){let s=e._path,o=t.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||SS(o,e))){let l=_U(o,e,n,i);yU(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(s,(h,f)=>mr(f));if(u&&!d){let h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){let f=TU(h);for(let p=0;p<f.length;++p){let g=f[p],m=g.query,y=PS(t,g);t.listenProvider_.startListening(Rl(m),Hl(t,m),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Rl(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(Yh(h));t.listenProvider_.stopListening(Rl(h),f)}))}AU(t,c)}return a}function MS(t,e,n,i){let r=E_(t,i);if(r!=null){let s=x_(r),o=s.path,a=s.queryId,l=Rt(o,e),c=new Ho(__(a),l,n);return I_(t,o,c)}else return[]}function SU(t,e,n,i){let r=E_(t,i);if(r){let s=x_(r),o=s.path,a=s.queryId,l=Rt(o,e),c=kt.fromObject(n),u=new Ul(__(a),l,c);return I_(t,o,u)}else return[]}function $v(t,e,n,i=!1){let r=e._path,s=null,o=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Rt(h,r);s=s||fr(f,p),o=o||mr(f)});let a=t.syncPointTree_.get(r);a?(o=o||mr(a),s=s||fr(a,de())):(a=new Nh,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;s!=null?l=!0:(l=!1,s=z.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{let g=fr(p,de());g&&(s=s.updateImmediateChild(f,g))}));let c=SS(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=Yh(e);S(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=PU();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=Wh(t.pendingWriteTree_,r),d=vU(a,e,n,u,s,l);if(!c&&!o&&!i){let h=IS(a,e);d=d.concat(NU(t,e,h))}return d}function qh(t,e,n){let r=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{let l=Rt(o,e),c=fr(a,l);if(c)return c});return vS(r,e,s,n,!0)}function MU(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Rt(c,n);i=i||fr(u,d)});let r=t.syncPointTree_.get(n);r?i=i||fr(r,de()):(r=new Nh,t.syncPointTree_=t.syncPointTree_.set(n,r));let s=i!=null,o=s?new ti(i,!0,!1):null,a=Wh(t.pendingWriteTree_,e._path),l=ES(r,e,a,s?o.getNode():z.EMPTY_NODE,s);return dU(l)}function Ko(t,e){return TS(e,t.syncPointTree_,null,Wh(t.pendingWriteTree_,de()))}function TS(t,e,n,i){if(J(t.path))return AS(t,e,n,i);{let r=e.get(de());n==null&&r!=null&&(n=fr(r,de()));let s=[],o=X(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){let c=n?n.getImmediateChild(o):null,u=_S(i,o);s=s.concat(TS(a,l,c,u))}return r&&(s=s.concat(w_(r,t,i,n))),s}}function AS(t,e,n,i){let r=e.get(de());n==null&&r!=null&&(n=fr(r,de()));let s=[];return e.children.inorderTraversal((o,a)=>{let l=n?n.getImmediateChild(o):null,c=_S(i,o),u=t.operationForChild(o);u&&(s=s.concat(AS(u,a,l,c)))}),r&&(s=s.concat(w_(r,t,i,n))),s}function PS(t,e){let n=e.query,i=Hl(t,n);return{hashFn:()=>(uU(e)||z.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?IU(t,n._path,i):xU(t,n._path);{let s=$j(r,n);return Oh(t,n,null,s)}}}}function Hl(t,e){let n=Yh(e);return t.queryToTagMap.get(n)}function Yh(t){return t._path.toString()+"$"+t._queryIdentifier}function E_(t,e){return t.tagToQueryMap.get(e)}function x_(t){let e=t.indexOf("$");return S(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new he(t.substr(0,e))}}function I_(t,e,n){let i=t.syncPointTree_.get(e);S(i,"Missing sync point for query tag that we're tracking");let r=Wh(t.pendingWriteTree_,e);return w_(i,n,r,null)}function TU(t){return t.fold((e,n,i)=>{if(n&&mr(n))return[Gh(n)];{let r=[];return n&&(r=xS(n)),at(i,(s,o)=>{r=r.concat(o)}),r}})}function Rl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(CU())(t._repo,t._path):t}function AU(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=Yh(i),s=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(s)}}}function PU(){return wU++}function NU(t,e,n){let i=e._path,r=Hl(t,e),s=PS(t,n),o=t.listenProvider_.startListening(Rl(e),r,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(i);if(r)S(!mr(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!J(c)&&u&&mr(u))return[Gh(u).query];{let h=[];return u&&(h=h.concat(xS(u).map(f=>f.query))),at(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Rl(u),Hl(t,u))}}return o}var Hv=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},zv=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Oe(this.path_,e);return new t(this.syncTree_,n)}node(){return qh(this.syncTree_,this.path_)}},RU=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},OI=function(t,e,n){if(!t||typeof t!="object")return t;if(S(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return kU(t[".sv"],e,n);if(typeof t[".sv"]=="object")return OU(t[".sv"],e);S(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},kU=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:S(!1,"Unexpected server value: "+t)}},OU=function(t,e,n){t.hasOwnProperty("increment")||S(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&S(!1,"Unexpected increment value: "+i);let r=e.node();if(S(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let o=r.getValue();return typeof o!="number"?i:o+i},NS=function(t,e,n,i){return M_(e,new zv(n,t),i)},S_=function(t,e,n){return M_(t,new Hv(e),n)};function M_(t,e,n){let i=t.getPriority().val(),r=OI(i,e.getImmediateChild(".priority"),n),s;if(t.isLeafNode()){let o=t,a=OI(o.getValue(),e,n);return a!==o.getValue()||r!==o.getPriority().val()?new Bo(a,je(r)):t}else{let o=t;return s=o,r!==o.getPriority().val()&&(s=s.updatePriority(new Bo(r))),o.forEachChild(Te,(a,l)=>{let c=M_(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}var zl=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function Kh(t,e){let n=e instanceof he?e:new he(e),i=t,r=X(n);for(;r!==null;){let s=Ui(i.node.children,r)||{children:{},childCount:0};i=new zl(r,i,s),n=Ee(n),r=X(n)}return i}function ps(t){return t.node.value}function T_(t,e){t.node.value=e,Wv(t)}function RS(t){return t.node.childCount>0}function FU(t){return ps(t)===void 0&&!RS(t)}function Qh(t,e){at(t.node.children,(n,i)=>{e(new zl(n,t,i))})}function kS(t,e,n,i){n&&!i&&e(t),Qh(t,r=>{kS(r,e,!0,i)}),n&&i&&e(t)}function LU(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function Xl(t){return new he(t.parent===null?t.name:Xl(t.parent)+"/"+t.name)}function Wv(t){t.parent!==null&&VU(t.parent,t.name,t)}function VU(t,e,n){let i=FU(n),r=tn(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,Wv(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,Wv(t))}var jU=/[\[\].#$\/\u0000-\u001F\u007F]/,BU=/[\[\].#$\u0000-\u001F\u007F]/,nv=10*1024*1024,Zh=function(t){return typeof t=="string"&&t.length!==0&&!jU.test(t)},OS=function(t){return typeof t=="string"&&t.length!==0&&!BU.test(t)},UU=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),OS(t)},Wl=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!$h(t)||t&&typeof t=="object"&&tn(t,".sv")},ni=function(t,e,n,i){i&&e===void 0||Jl(Ft(t,"value"),e,n)},Jl=function(t,e,n){let i=n instanceof he?new gv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ls(i));if(typeof e=="function")throw new Error(t+"contains a function "+ls(i)+" with contents = "+e.toString());if($h(e))throw new Error(t+"contains "+e.toString()+" "+ls(i));if(typeof e=="string"&&e.length>nv/3&&ga(e)>nv)throw new Error(t+"contains a string greater than "+nv+" utf8 bytes "+ls(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,s=!1;if(at(e,(o,a)=>{if(o===".value")r=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!Zh(o)))throw new Error(t+" contains an invalid key ("+o+") "+ls(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);yB(i,o),Jl(t,a,i),vB(i)}),r&&s)throw new Error(t+' contains ".value" child '+ls(i)+" in addition to actual children.")}},$U=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let s=Ol(i);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!Zh(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(mB);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&gn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},FS=function(t,e,n,i){if(i&&e===void 0)return;let r=Ft(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let s=[];at(e,(o,a)=>{let l=new he(o);if(Jl(r,a,Oe(n,l)),h_(l)===".priority"&&!Wl(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),$U(r,s)},A_=function(t,e,n){if(!(n&&e===void 0)){if($h(e))throw new Error(Ft(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wl(e))throw new Error(Ft(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},ec=function(t,e,n,i){if(!(i&&n===void 0)&&!Zh(n))throw new Error(Ft(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Qo=function(t,e,n,i){if(!(i&&n===void 0)&&!OS(n))throw new Error(Ft(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},HU=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Qo(t,e,n,i)},Qt=function(t,e){if(X(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},LS=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Zh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UU(n))throw new Error(Ft(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Gv=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function Xh(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],s=r.getPath();n!==null&&!f_(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(r)}n&&t.eventLists_.push(n)}function VS(t,e,n){Xh(t,n),jS(t,i=>f_(i,e))}function Zt(t,e,n){Xh(t,n),jS(t,i=>gn(i,e)||gn(e,i))}function jS(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let s=r.path;e(s)?(zU(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function zU(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();us&&ot("event: "+n.toString()),qo(i)}}}var BS="repo_interrupt",WU=25,qv=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Gv,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=xh(),this.transactionQueueTree_=new zl,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function GU(t,e,n){if(t.stats_=d_(t.repoInfo_),t.forceRestClient_||Gj())t.server_=new Iv(t.repoInfo_,(i,r,s,o)=>{FI(t,i,r,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>LI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new p_(t.repoInfo_,e,(i,r,s,o)=>{FI(t,i,r,s,o)},i=>{LI(t,i)},i=>{qU(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=Yj(t.repoInfo_,()=>new Pv(t.stats_,t.server_)),t.infoData_=new Sv,t.infoSyncTree_=new kh({startListening:(i,r,s,o)=>{let a=[],l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=Zl(t.infoSyncTree_,i._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),P_(t,"connected",!1),t.serverSyncTree_=new kh({startListening:(i,r,s,o)=>(t.server_.listen(i,s,r,(a,l)=>{let c=o(a,l);Zt(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function US(t){let n=t.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function tc(t){return RU({timestamp:US(t)})}function FI(t,e,n,i,r){t.dataUpdateCount++;let s=new he(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(r)if(i){let l=pa(n,c=>je(c));o=SU(t.serverSyncTree_,s,l,r)}else{let l=je(n);o=MS(t.serverSyncTree_,s,l,r)}else if(i){let l=pa(n,c=>je(c));o=EU(t.serverSyncTree_,s,l)}else{let l=je(n);o=Zl(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=Wo(t,s)),Zt(t.eventQueue_,a,o)}function LI(t,e){P_(t,"connected",e),e===!1&&QU(t)}function qU(t,e){at(e,(n,i)=>{P_(t,n,i)})}function P_(t,e,n){let i=new he("/.info/"+e),r=je(n);t.infoData_.updateSnapshot(i,r);let s=Zl(t.infoSyncTree_,i,r);Zt(t.eventQueue_,i,s)}function Jh(t){return t.nextWriteId_++}function YU(t,e,n){let i=MU(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let s=je(r).withIndex(e._queryParams.getIndex());$v(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=Zl(t.serverSyncTree_,e._path,s);else{let a=Hl(t.serverSyncTree_,e);o=MS(t.serverSyncTree_,e._path,s,a)}return Zt(t.eventQueue_,e._path,o),Oh(t.serverSyncTree_,e,n,null,!0),s},r=>(Zo(t,"get for query "+Ke(e)+" failed: "+r),Promise.reject(new Error(r))))}function N_(t,e,n,i,r){Zo(t,"set",{path:e.toString(),value:n,priority:i});let s=tc(t),o=je(n,i),a=qh(t.serverSyncTree_,e),l=S_(o,a,s),c=Jh(t),u=D_(t.serverSyncTree_,e,l,c,!0);Xh(t.eventQueue_,u),t.server_.put(e.toString(),o.val(!0),(h,f)=>{let p=h==="ok";p||Dt("set at "+e+" failed: "+h);let g=dr(t.serverSyncTree_,c,!p);Zt(t.eventQueue_,e,g),yr(t,r,h,f)});let d=k_(t,e);Wo(t,d),Zt(t.eventQueue_,d,[])}function KU(t,e,n,i){Zo(t,"update",{path:e.toString(),value:n});let r=!0,s=tc(t),o={};if(at(n,(a,l)=>{r=!1,o[a]=NS(Oe(e,a),je(l),t.serverSyncTree_,s)}),r)ot("update() called with empty data.  Don't do anything."),yr(t,i,"ok",void 0);else{let a=Jh(t),l=DU(t.serverSyncTree_,e,o,a);Xh(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||Dt("update at "+e+" failed: "+c);let h=dr(t.serverSyncTree_,a,!d),f=h.length>0?Wo(t,e):e;Zt(t.eventQueue_,f,h),yr(t,i,c,u)}),at(n,c=>{let u=k_(t,Oe(e,c));Wo(t,u)}),Zt(t.eventQueue_,e,[])}}function QU(t){Zo(t,"onDisconnectEvents");let e=tc(t),n=xh();Tv(t.onDisconnect_,de(),(r,s)=>{let o=NS(r,s,t.serverSyncTree_,e);Yo(n,r,o)});let i=[];Tv(n,de(),(r,s)=>{i=i.concat(Zl(t.serverSyncTree_,r,s));let o=k_(t,r);Wo(t,o)}),t.onDisconnect_=xh(),Zt(t.eventQueue_,de(),i)}function ZU(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&Mv(t.onDisconnect_,e),yr(t,n,i,r)})}function VI(t,e,n,i){let r=je(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(s,o)=>{s==="ok"&&Yo(t.onDisconnect_,e,r),yr(t,i,s,o)})}function XU(t,e,n,i,r){let s=je(n,i);t.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&Yo(t.onDisconnect_,e,s),yr(t,r,o,a)})}function JU(t,e,n,i){if(Tc(n)){ot("onDisconnect().update() called with empty data.  Don't do anything."),yr(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,s)=>{r==="ok"&&at(n,(o,a)=>{let l=je(a);Yo(t.onDisconnect_,Oe(e,o),l)}),yr(t,i,r,s)})}function e$(t,e,n){let i;X(e._path)===".info"?i=$v(t.infoSyncTree_,e,n):i=$v(t.serverSyncTree_,e,n),VS(t.eventQueue_,e._path,i)}function Yv(t,e,n){let i;X(e._path)===".info"?i=Oh(t.infoSyncTree_,e,n):i=Oh(t.serverSyncTree_,e,n),VS(t.eventQueue_,e._path,i)}function $S(t){t.persistentConnection_&&t.persistentConnection_.interrupt(BS)}function t$(t){t.persistentConnection_&&t.persistentConnection_.resume(BS)}function Zo(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function yr(t,e,n,i){e&&qo(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),s=r;i&&(s+=": "+i);let o=new Error(s);o.code=r,e(o)}})}function n$(t,e,n,i,r,s){Zo(t,"transaction on "+e);let o={path:e,update:n,onComplete:i,status:null,order:UI(),applyLocally:s,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=R_(t,e,void 0);o.currentInputSnapshot=a;let l=o.update(a.val());if(l===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{Jl("transaction failed: Data returned ",l,o.path),o.status=0;let c=Kh(t.transactionQueueTree_,e),u=ps(c)||[];u.push(o),T_(c,u);let d;typeof l=="object"&&l!==null&&tn(l,".priority")?(d=Ui(l,".priority"),S(Wl(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(qh(t.serverSyncTree_,e)||z.EMPTY_NODE).getPriority().val();let h=tc(t),f=je(l,d),p=S_(f,a,h);o.currentOutputSnapshotRaw=f,o.currentOutputSnapshotResolved=p,o.currentWriteId=Jh(t);let g=D_(t.serverSyncTree_,e,p,o.currentWriteId,o.applyLocally);Zt(t.eventQueue_,e,g),ef(t,t.transactionQueueTree_)}}function R_(t,e,n){return qh(t.serverSyncTree_,e,n)||z.EMPTY_NODE}function ef(t,e=t.transactionQueueTree_){if(e||tf(t,e),ps(e)){let n=zS(t,e);S(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&i$(t,Xl(e),n)}else RS(e)&&Qh(e,n=>{ef(t,n)})}function i$(t,e,n){let i=n.map(c=>c.currentWriteId),r=R_(t,e,i),s=r,o=r.hash();for(let c=0;c<n.length;c++){let u=n[c];S(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Rt(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}let a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Zo(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(dr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();tf(t,Kh(t.transactionQueueTree_,e)),ef(t,t.transactionQueueTree_),Zt(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)qo(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Dt("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}Wo(t,e)}},o)}function Wo(t,e){let n=HS(t,e),i=Xl(n),r=zS(t,n);return r$(t,r,i),i}function r$(t,e,n){if(e.length===0)return;let i=[],r=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Rt(n,l.path),u=!1,d;if(S(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(dr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=WU)u=!0,d="maxretry",r=r.concat(dr(t.serverSyncTree_,l.currentWriteId,!0));else{let h=R_(t,l.path,o);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){Jl("transaction failed: Data returned ",f,l.path);let p=je(f);typeof f=="object"&&f!=null&&tn(f,".priority")||(p=p.updatePriority(h.getPriority()));let m=l.currentWriteId,y=tc(t),v=S_(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Jh(t),o.splice(o.indexOf(m),1),r=r.concat(D_(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(dr(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",r=r.concat(dr(t.serverSyncTree_,l.currentWriteId,!0))}Zt(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}tf(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)qo(i[a]);ef(t,t.transactionQueueTree_)}function HS(t,e){let n,i=t.transactionQueueTree_;for(n=X(e);n!==null&&ps(i)===void 0;)i=Kh(i,n),e=Ee(e),n=X(e);return i}function zS(t,e){let n=[];return WS(t,e,n),n.sort((i,r)=>i.order-r.order),n}function WS(t,e,n){let i=ps(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);Qh(e,r=>{WS(t,r,n)})}function tf(t,e){let n=ps(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,T_(e,n.length>0?n:void 0)}Qh(e,i=>{tf(t,i)})}function k_(t,e){let n=Xl(HS(t,e)),i=Kh(t.transactionQueueTree_,e);return LU(i,r=>{iv(t,r)}),iv(t,i),kS(i,r=>{iv(t,r)}),n}function iv(t,e){let n=ps(e);if(n){let i=[],r=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(S(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(S(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),r=r.concat(dr(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&i.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?T_(e,void 0):n.length=s+1,Zt(t.eventQueue_,Xl(e),r);for(let o=0;o<i.length;o++)qo(i[o])}}function s$(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function o$(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Dt(`Invalid query segment '${n}' in query '${t}'`)}return e}var Kv=function(t,e){let n=a$(t),i=n.namespace;n.domain==="firebase.com"&&ei(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&ei("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Lj();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new yh(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new he(n.pathString)}},a$=function(t){let e="",n="",i="",r="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=s$(t.substring(u,d)));let h=o$(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=i}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:o,scheme:a,pathString:r,namespace:s}};var jI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",l$=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,s=new Array(8);for(r=7;r>=0;r--)s[r]=jI.charAt(n%64),n=Math.floor(n/64);S(n===0,"Cannot push at time == 0");let o=s.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)o+=jI.charAt(e[r]);return S(o.length===20,"nextPushId: Length should be 20."),o}}();var Fh=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}},Lh=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Gl=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return S(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Vh=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new rt;return ZU(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Qt("OnDisconnect.remove",this._path);let e=new rt;return VI(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Qt("OnDisconnect.set",this._path),ni("OnDisconnect.set",e,this._path,!1);let n=new rt;return VI(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){Qt("OnDisconnect.setWithPriority",this._path),ni("OnDisconnect.setWithPriority",e,this._path,!1),A_("OnDisconnect.setWithPriority",n,!1);let i=new rt;return XU(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){Qt("OnDisconnect.update",this._path),FS("OnDisconnect.update",e,this._path,!1);let n=new rt;return JU(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var Ot=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return J(this._path)?null:h_(this._path)}get ref(){return new Xt(this._repo,this._path)}get _queryIdentifier(){let e=xI(this._queryParams),n=u_(e);return n==="{}"?"default":n}get _queryObject(){return xI(this._queryParams)}isEqual(e){if(e=xt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=f_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+gB(this._path)}};function nf(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function _r(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Jn){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==pr)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==Ni)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Te){if(e!=null&&!Wl(e)||n!=null&&!Wl(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(S(t.getIndex()instanceof Fl||t.getIndex()===m_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rf(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Xt=class t extends Ot{constructor(e,n){super(e,n,new Bl,!1)}get parent(){let e=lS(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},Go=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new he(e),i=vr(this.ref,e);return new t(this._node.getChild(n),i,Te)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,vr(this.ref,i),Te)))}hasChild(e){let n=new he(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function O_(t,e){return t=xt(t),t._checkNotDeleted("ref"),e!==void 0?vr(t._root,e):t._root}function F_(t,e){t=xt(t),t._checkNotDeleted("refFromURL");let n=Kv(e,t._repo.repoInfo_.nodeAdmin);LS("refFromURL",n);let i=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&ei("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),O_(t,n.path.toString())}function vr(t,e){return t=xt(t),X(t._path)===null?HU("child","path",e,!1):Qo("child","path",e,!1),new Xt(t._repo,Oe(t._path,e))}function GS(t,e){t=xt(t),Qt("push",t._path),ni("push",e,t._path,!0);let n=US(t._repo),i=l$(n),r=vr(t,i),s=vr(t,i),o;return e!=null?o=sf(s,e).then(()=>s):o=Promise.resolve(s),r.then=o.then.bind(o),r.catch=o.then.bind(o,void 0),r}function qS(t){return Qt("remove",t._path),sf(t,null)}function sf(t,e){t=xt(t),Qt("set",t._path),ni("set",e,t._path,!1);let n=new rt;return N_(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function YS(t,e){t=xt(t),Qt("setPriority",t._path),A_("setPriority",e,!1);let n=new rt;return N_(t._repo,Oe(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function KS(t,e,n){if(Qt("setWithPriority",t._path),ni("setWithPriority",e,t._path,!1),A_("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let i=new rt;return N_(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}function QS(t,e){FS("update",e,t._path,!1);let n=new rt;return KU(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function ZS(t){t=xt(t);let e=new Gl(()=>{}),n=new ql(e);return YU(t._repo,t,n).then(i=>new Go(i,new Xt(t._repo,t._path),t._queryParams.getIndex()))}var ql=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new Fh("value",this,new Go(e.snapshotNode,new Xt(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Lh(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},jh=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Lh(this,e,n):null}createEvent(e,n){S(e.childName!=null,"Child events should have a childName.");let i=vr(new Xt(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new Fh(e.type,this,new Go(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function nc(t,e,n,i,r){let s;if(typeof i=="object"&&(s=void 0,r=i),typeof i=="function"&&(s=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{Yv(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let o=new Gl(n,s||void 0),a=e==="value"?new ql(o):new jh(e,o);return e$(t._repo,t,a),()=>Yv(t._repo,t,a)}function of(t,e,n,i){return nc(t,"value",e,n,i)}function L_(t,e,n,i){return nc(t,"child_added",e,n,i)}function V_(t,e,n,i){return nc(t,"child_changed",e,n,i)}function j_(t,e,n,i){return nc(t,"child_moved",e,n,i)}function B_(t,e,n,i){return nc(t,"child_removed",e,n,i)}function U_(t,e,n){let i=null,r=n?new Gl(n):null;e==="value"?i=new ql(r):e&&(i=new jh(e,r)),Yv(t._repo,t,i)}var Jt=class{},Bh=class extends Jt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){ni("endAt",this._value,e._path,!0);let n=xv(e._queryParams,this._value,this._key);if(rf(n),_r(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ot(e._repo,e._path,n,e._orderByCalled)}};function XS(t,e){return ec("endAt","key",e,!0),new Bh(t,e)}var Qv=class extends Jt{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){ni("endBefore",this._value,e._path,!1);let n=kB(e._queryParams,this._value,this._key);if(rf(n),_r(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ot(e._repo,e._path,n,e._orderByCalled)}};function JS(t,e){return ec("endBefore","key",e,!0),new Qv(t,e)}var Uh=class extends Jt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){ni("startAt",this._value,e._path,!0);let n=Ev(e._queryParams,this._value,this._key);if(rf(n),_r(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ot(e._repo,e._path,n,e._orderByCalled)}};function eM(t=null,e){return ec("startAt","key",e,!0),new Uh(t,e)}var Zv=class extends Jt{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){ni("startAfter",this._value,e._path,!1);let n=RB(e._queryParams,this._value,this._key);if(rf(n),_r(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ot(e._repo,e._path,n,e._orderByCalled)}};function tM(t,e){return ec("startAfter","key",e,!0),new Zv(t,e)}var Xv=class extends Jt{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ot(e._repo,e._path,PB(e._queryParams,this._limit),e._orderByCalled)}};function nM(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Xv(t)}var Jv=class extends Jt{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ot(e._repo,e._path,NB(e._queryParams,this._limit),e._orderByCalled)}};function iM(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Jv(t)}var e_=class extends Jt{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){nf(e,"orderByChild");let n=new he(this._path);if(J(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Fl(n),r=Hh(e._queryParams,i);return _r(r),new Ot(e._repo,e._path,r,!0)}};function rM(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qo("orderByChild","path",t,!1),new e_(t)}var t_=class extends Jt{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){nf(e,"orderByKey");let n=Hh(e._queryParams,Jn);return _r(n),new Ot(e._repo,e._path,n,!0)}};function sM(){return new t_}var n_=class extends Jt{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){nf(e,"orderByPriority");let n=Hh(e._queryParams,Te);return _r(n),new Ot(e._repo,e._path,n,!0)}};function oM(){return new n_}var i_=class extends Jt{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){nf(e,"orderByValue");let n=Hh(e._queryParams,m_);return _r(n),new Ot(e._repo,e._path,n,!0)}};function aM(){return new i_}var r_=class extends Jt{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(ni("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Bh(this._value,this._key)._apply(new Uh(this._value,this._key)._apply(e))}};function lM(t,e){return ec("equalTo","key",e,!0),new r_(t,e)}function yn(t,...e){let n=xt(t);for(let i of e)n=i._apply(n);return n}gU(Xt);bU(Xt);var c$="FIREBASE_DATABASE_EMULATOR_HOST",s_={},u$=!1;function d$(t,e,n,i){t.repoInfo_=new yh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function $_(t,e,n,i,r){let s=i||t.options.databaseURL;s===void 0&&(t.options.projectId||ei("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=Kv(s,r),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[c$]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=Kv(s,r),a=o.repoInfo):l=!o.repoInfo.secure;let u=r&&l?new Al(Al.OWNER):new cv(t.name,t.options,e);LS("Invalid Firebase Database URL",o),J(o.path)||ei("Database URL must point to the root of a Firebase Database (not including a child path).");let d=f$(a,t,u,new lv(t.name,n));return new o_(d,t)}function h$(t,e){let n=s_[e];(!n||n[t.key]!==t)&&ei(`Database ${e}(${t.repoInfo_}) has already been deleted.`),$S(t),delete n[t.key]}function f$(t,e,n,i){let r=s_[e.name];r||(r={},s_[e.name]=r);let s=r[t.toURLString()];return s&&ei("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new qv(t,u$,n,i),r[t.toURLString()]=s,s}var o_=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(GU(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Xt(this._repo,de())),this._rootInternal}_delete(){return this._rootInternal!==null&&(h$(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ei("Cannot call "+e+" on a deleted database.")}};function cM(){aS.IS_TRANSPORT_INITIALIZED&&Dt("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function uM(){cM(),kl.forceDisallow()}function dM(){cM(),Fo.forceDisallow(),kl.forceAllow()}function hM(t,e,n,i={}){t=xt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ei("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,s;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&ei('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new Al(Al.OWNER);else if(i.mockUserToken){let o=typeof i.mockUserToken=="string"?i.mockUserToken:u0(i.mockUserToken,t.app.options.projectId);s=new Al(o)}d$(r,e,n,s)}function fM(t){t=xt(t),t._checkNotDeleted("goOffline"),$S(t._repo)}function pM(t){t=xt(t),t._checkNotDeleted("goOnline"),t$(t._repo)}function gM(t,e){HI(t,e)}function p$(t){c_(b0),ma(new ui("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return $_(i,r,s,n)},"PUBLIC").setMultipleInstances(!0)),$i(lI,cI,t),$i(lI,cI,"esm2017")}var g$={".sv":"timestamp"};function mM(){return g$}function yM(t){return{".sv":{increment:t}}}var a_=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function vM(t,e,n){var i;if(t=xt(t),Qt("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,s=new rt,o=(l,c,u)=>{let d=null;l?s.reject(l):(d=new Go(u,new Xt(t._repo,t._path),Te),s.resolve(new a_(c,d)))},a=of(t,()=>{});return n$(t._repo,t._path,e,o,a,r),s.promise}p_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};p_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};p$();var m$="@firebase/database-compat",y$="1.0.3";var v$=new Ms("@firebase/database-compat"),_M=function(t){let e="FIREBASE WARNING: "+t;v$.warn(e)};var _$=function(t,e,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Ft(t,e)+"must be a boolean.")},b$=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Ft(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var H_=class{constructor(e){this._delegate=e}cancel(e){B("OnDisconnect.cancel",0,1,arguments.length),tt("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),i=>e(i)),n}remove(e){B("OnDisconnect.remove",0,1,arguments.length),tt("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),i=>e(i)),n}set(e,n){B("OnDisconnect.set",1,2,arguments.length),tt("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){B("OnDisconnect.setWithPriority",2,3,arguments.length),tt("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(e,n);return i&&r.then(()=>i(null),s=>i(s)),r}update(e,n){if(B("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,_M("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}tt("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(e);return n&&i.then(()=>n(null),r=>n(r)),i}};var z_=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return B("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var gs=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return B("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return B("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return B("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return B("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return B("DataSnapshot.child",0,1,arguments.length),e=String(e),Qo("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return B("DataSnapshot.hasChild",1,1,arguments.length),Qo("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return B("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return B("DataSnapshot.forEach",1,1,arguments.length),tt("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return B("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return B("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return B("DataSnapshot.ref",0,0,arguments.length),new Ri(this._database,this._delegate.ref)}get ref(){return this.getRef()}},af=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,i,r){var s;B("Query.on",2,4,arguments.length),tt("Query.on","callback",n,!1);let o=t.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(o.context,new gs(this.database,c),u)};a.userCallback=n,a.context=o.context;let l=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return of(this._delegate,a,l),n;case"child_added":return L_(this._delegate,a,l),n;case"child_removed":return B_(this._delegate,a,l),n;case"child_changed":return V_(this._delegate,a,l),n;case"child_moved":return j_(this._delegate,a,l),n;default:throw new Error(Ft("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,i){if(B("Query.off",0,3,arguments.length),b$("Query.off",e,!0),tt("Query.off","callback",n,!0),Jf("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,U_(this._delegate,e,r)}else U_(this._delegate,e)}get(){return ZS(this._delegate).then(e=>new gs(this.database,e))}once(e,n,i,r){B("Query.once",1,4,arguments.length),tt("Query.once","callback",n,!0);let s=t.getCancelAndContextArgs_("Query.once",i,r),o=new rt,a=(c,u)=>{let d=new gs(this.database,c);n&&n.call(s.context,d,u),o.resolve(d)};a.userCallback=n,a.context=s.context;let l=c=>{s.cancel&&s.cancel.call(s.context,c),o.reject(c)};switch(e){case"value":of(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":L_(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":B_(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":V_(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":j_(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Ft("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return B("Query.limitToFirst",1,1,arguments.length),new t(this.database,yn(this._delegate,nM(e)))}limitToLast(e){return B("Query.limitToLast",1,1,arguments.length),new t(this.database,yn(this._delegate,iM(e)))}orderByChild(e){return B("Query.orderByChild",1,1,arguments.length),new t(this.database,yn(this._delegate,rM(e)))}orderByKey(){return B("Query.orderByKey",0,0,arguments.length),new t(this.database,yn(this._delegate,sM()))}orderByPriority(){return B("Query.orderByPriority",0,0,arguments.length),new t(this.database,yn(this._delegate,oM()))}orderByValue(){return B("Query.orderByValue",0,0,arguments.length),new t(this.database,yn(this._delegate,aM()))}startAt(e=null,n){return B("Query.startAt",0,2,arguments.length),new t(this.database,yn(this._delegate,eM(e,n)))}startAfter(e=null,n){return B("Query.startAfter",0,2,arguments.length),new t(this.database,yn(this._delegate,tM(e,n)))}endAt(e=null,n){return B("Query.endAt",0,2,arguments.length),new t(this.database,yn(this._delegate,XS(e,n)))}endBefore(e=null,n){return B("Query.endBefore",0,2,arguments.length),new t(this.database,yn(this._delegate,JS(e,n)))}equalTo(e,n){return B("Query.equalTo",1,2,arguments.length),new t(this.database,yn(this._delegate,lM(e,n)))}toString(){return B("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return B("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(B("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,tt(e,"cancel",r.cancel,!0),r.context=i,Jf(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Ft(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Ri(this.database,new Xt(this._delegate._repo,this._delegate._path))}},Ri=class t extends af{constructor(e,n){super(e,new Ot(n._repo,n._path,new Bl,!1)),this.database=e,this._delegate=n}getKey(){return B("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return B("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,vr(this._delegate,e))}getParent(){B("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return B("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){B("Reference.set",1,2,arguments.length),tt("Reference.set","onComplete",n,!0);let i=sf(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}update(e,n){if(B("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let s=0;s<e.length;++s)r[""+s]=e[s];e=r,_M("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Qt("Reference.update",this._delegate._path),tt("Reference.update","onComplete",n,!0);let i=QS(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){B("Reference.setWithPriority",2,3,arguments.length),tt("Reference.setWithPriority","onComplete",i,!0);let r=KS(this._delegate,e,n);return i&&r.then(()=>i(null),s=>i(s)),r}remove(e){B("Reference.remove",0,1,arguments.length),tt("Reference.remove","onComplete",e,!0);let n=qS(this._delegate);return e&&n.then(()=>e(null),i=>e(i)),n}transaction(e,n,i){B("Reference.transaction",1,3,arguments.length),tt("Reference.transaction","transactionUpdate",e,!1),tt("Reference.transaction","onComplete",n,!0),_$("Reference.transaction","applyLocally",i,!0);let r=vM(this._delegate,e,{applyLocally:i}).then(s=>new z_(s.committed,new gs(this.database,s.snapshot)));return n&&r.then(s=>n(null,s.committed,s.snapshot),s=>n(s,!1,null)),r}setPriority(e,n){B("Reference.setPriority",1,2,arguments.length),tt("Reference.setPriority","onComplete",n,!0);let i=YS(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}push(e,n){B("Reference.push",0,2,arguments.length),tt("Reference.push","onComplete",n,!0);let i=GS(this._delegate,e),r=i.then(o=>new t(this.database,o));n&&r.then(()=>n(null),o=>n(o));let s=new t(this.database,i);return s.then=r.then.bind(r),s.catch=r.catch.bind(r,void 0),s}onDisconnect(){return Qt("Reference.onDisconnect",this._delegate._path),new H_(new Vh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var ms=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:uM,forceLongPolling:dM}}useEmulator(e,n,i={}){hM(this._delegate,e,n,i)}ref(e){if(B("database.ref",0,1,arguments.length),e instanceof Ri){let n=F_(this._delegate,e.toString());return new Ri(this,n)}else{let n=O_(this._delegate,e);return new Ri(this,n)}}refFromURL(e){B("database.refFromURL",1,1,arguments.length);let i=F_(this._delegate,e);return new Ri(this,i)}goOffline(){return B("database.goOffline",0,0,arguments.length),fM(this._delegate)}goOnline(){return B("database.goOnline",0,0,arguments.length),pM(this._delegate)}};ms.ServerValue={TIMESTAMP:mM(),increment:t=>yM(t)};function C$({app:t,url:e,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:s,nodeAdmin:o=!1}){c_(n);let a=new ep("database-standalone"),l=new Ac("auth-internal",a);l.setComponent(new ui("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new Ac("app-check-internal",a),c.setComponent(new ui("app-check-internal",()=>r,"PRIVATE"))),{instance:new ms($_(t,l,c,e,o),t),namespace:s}}var w$=Object.freeze({__proto__:null,initStandalone:C$});var D$=ms.ServerValue;function E$(t){t.INTERNAL.registerComponent(new ui("database-compat",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new ms(r,i)},"PUBLIC").setServiceProps({Reference:Ri,Query:af,Database:ms,DataSnapshot:gs,enableLogging:gM,INTERNAL:w$,ServerValue:D$}).setMultipleInstances(!0)),t.registerVersion(m$,y$)}E$(It);function ic(t,e,n="on",i=_a){return new Z(r=>{let s=null;return s=t[n](e,(o,a)=>{i.schedule(()=>{r.next({snapshot:o,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},o=>{i.schedule(()=>r.error(o))}),n==="on"?{unsubscribe(){s!=null&&t.off(e,s)}}:{unsubscribe(){}}}).pipe(j(r=>{let{snapshot:s,prevKey:o}=r,a=null;return s.exists()&&(a=s.key),{type:e,payload:s,prevKey:o,key:a}}),Ca())}function x$(t){return typeof t=="string"}function I$(t){return typeof t.exportVal=="function"}function EM(t){return t==null}function xM(t){return typeof t.set=="function"}function bM(t,e){return xM(e)?e:t.ref(e)}function IM(t,e){if(x$(t))return e.stringCase();if(xM(t))return e.firebaseCase();if(I$(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function SM(t){return(EM(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function MM(t,e,n){e=SM(e);let i=e.map(r=>ic(t,r,"on",n));return Us(...i)}function S$(t,e,n){let i=MM(t,e).pipe(Hs((r,s)=>[...r,s],[]));return T$(t,i,n)}function M$(t,e){return ic(t,"value","on",e).pipe(j(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function T$(t,e,n){return M$(t,n).pipe(Ip(e),j(([r,s])=>{let o=r.lastKeyToLoad,a=s.map(l=>l.key);return{actions:s,lastKeyToLoad:o,loadedKeys:a}}),Dp(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),j(r=>r.actions))}function CM(t,e){return function(i,r){return IM(i,{stringCase:()=>t.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function A$(t){return function(n){return n?IM(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function P$(t,e,n){return ic(t,"value","once",n).pipe(Ie(i=>{let r=[V(i)];return e.forEach(s=>r.push(ic(t,s,"on",n))),Us(...r).pipe(Hs(R$,[]))}),bp())}function TM(t,e){let n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function N$(t,e){if(EM(e))return 0;{let n=TM(t,e);return n===-1?t.length:n+1}}function R$(t,e){let{payload:n,prevKey:i,key:r}=e,s=TM(t,r),o=N$(t,i);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(s>-1)(t[s-1]?.key||null)!==i&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(o,0,e));else{if(i==null)return[e,...t];t=t.slice(),t.splice(o,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===r?e:a);case"child_moved":if(s>-1){let a=t.splice(s,1)[0];return t=t.slice(),t.splice(o,0,a),t}return t;default:return t}}function wM(t,e,n){return e=SM(e),P$(t,e,n)}function k$(t,e){let n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:CM(i,"update"),set:CM(i,"set"),push:r=>i.push(r),remove:A$(i),snapshotChanges(r){return wM(t,r,n).pipe(Pi)},stateChanges(r){return MM(t,r,n).pipe(Pi)},auditTrail(r){return S$(t,r,n).pipe(Pi)},valueChanges(r,s){return wM(t,r,n).pipe(j(a=>a.map(l=>s&&s.idField?le(P({},l.payload.val()),{[s.idField]:l.key}):l.payload.val())),Pi)}}}function DM(t,e){return function(){return ic(t,"value","on",e)}}function O$(t,e){return{query:t,snapshotChanges(){return DM(t,e.schedulers.outsideAngular)().pipe(Pi)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return DM(t,e.schedulers.outsideAngular)().pipe(Pi,j(i=>i.payload.exists()?i.payload.val():null))}}}var F$=new N("angularfire2.realtimeDatabaseURL"),L$=new N("angularfire2.database.use-emulator"),W_=(()=>{class t{schedulers;database;constructor(n,i,r,s,o,a,l,c,u,d,h,f,p,g,m){this.schedulers=a;let y=l,v=Dl(n,o,i);c&&Qy(v,o,u,h,f,p,d,g),this.database=ph(`${v.name}.database.${r}`,"AngularFireDatabase",v.name,()=>{let _=o.runOutsideAngular(()=>v.database(r||void 0));return y&&_.useEmulator(...y),_},[y])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>bM(this.database,n)),s=r;return i&&(s=i(r)),k$(s,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>bM(this.database,n));return O$(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||t)(I(Ro),I(ko,8),I(F$,8),I(_t),I(oe),I(dh),I(L$,8),I(El,8),I(zy,8),I(Wy,8),I(Gy,8),I(qy,8),I(Yy,8),I(Ky,8),I(os,8))};static \u0275prov=k({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),AM=(()=>{class t{constructor(){It.registerVersion("angularfire",as.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Fe({type:t});static \u0275inj=Ve({providers:[W_]})}return t})();var ii=(()=>{let e=class e{constructor(i){this.db=i,this.suinosRef=i.list("/suinos")}getSuinos(){return this.suinosRef.valueChanges()}addSuino(i){return this.suinosRef.push(i).then(r=>Promise.resolve(r.key))}updateSuino(i){return new Promise((r,s)=>{this.db.list("/suinos",o=>o.orderByChild("brinco").equalTo(i.brinco).limitToFirst(1)).snapshotChanges().subscribe(o=>{if(o.length>0){let a=o[0].payload.key;this.db.object(`/suinos/${a}`).update(i).then(()=>{console.log("Su\xEDno atualizado com sucesso."),r()}).catch(l=>{console.error("Erro ao atualizar su\xEDno:",l),s(l)})}else console.error("Su\xEDno n\xE3o encontrado."),s("Su\xEDno n\xE3o encontrado.")},o=>{console.error("Erro ao buscar su\xEDno:",o),s(o)})})}cadastrarPeso(i,r,s){return this.db.list(`/pesos/${i}`).push({dataPesagem:r,peso:s}).then(o=>Promise.resolve(o.key))}getPeso(i){return this.db.list(`/pesos/${i}`).valueChanges()}atualizarPeso(i,r,s,o){return this.db.object(`/pesos/${i}/${r}`).update({dataPesagem:s,peso:o})}excluirSuino(i){return new Promise((r,s)=>{this.db.list("/suinos",o=>o.orderByChild("brinco").equalTo(i.brinco).limitToFirst(1)).snapshotChanges().subscribe(o=>{let a=o[0].key;a?this.db.object(`/suinos/${a}`).remove().then(()=>{console.log("Su\xEDno exclu\xEDdo com sucesso."),r()}).catch(l=>{console.error("Erro ao excluir su\xEDno:",l),s(l)}):(console.error("Su\xEDno n\xE3o encontrado."),s("Su\xEDno n\xE3o encontrado."))},o=>{console.error("Erro ao buscar su\xEDno:",o),s(o)})})}};e.\u0275fac=function(r){return new(r||e)(I(W_))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function j$(t,e){t&1&&(D(0,"small"),x(1," O brinco do animal \xE9 obrigat\xF3rio. "),b())}function B$(t,e){t&1&&(D(0,"small"),x(1," O brinco do pai \xE9 obrigat\xF3rio. "),b())}function U$(t,e){t&1&&(D(0,"small"),x(1," O brinco da m\xE3e \xE9 obrigat\xF3rio. "),b())}function $$(t,e){t&1&&(D(0,"small"),x(1," A data de nascimento \xE9 obrigat\xF3ria. "),b())}function H$(t,e){t&1&&(D(0,"small"),x(1," A data de sa\xEDda \xE9 obrigat\xF3ria. "),b())}function z$(t,e){t&1&&(D(0,"small"),x(1," O status \xE9 obrigat\xF3rio. "),b())}function W$(t,e){t&1&&(D(0,"small"),x(1," O sexo \xE9 obrigat\xF3rio. "),b())}var lf=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.suinoForm=this.formBuilder.group({brinco:["",ke.required],brincoPai:["",ke.required],brincoMae:["",ke.required],dataNascimento:["",ke.required],dataSaida:["",ke.required],status:["",ke.required],sexo:["",ke.required]})}ngOnInit(){}cadastrarSuino(){if(this.suinoForm.valid){let i=this.suinoForm.value;this.suinoService.addSuino(i).then(()=>{console.log("Novo su\xEDno cadastrado:",i),this.suinoForm.reset()}).catch(r=>{console.error("Erro ao cadastrar su\xEDno:",r)})}else this.suinoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(O(cr),O(ii))},e.\u0275cmp=Xe({type:e,selectors:[["app-suino-cadastro"]],decls:51,vars:9,consts:[[3,"formGroup","ngSubmit"],["for","brinco"],["type","number","id","brinco","formControlName","brinco"],[4,"ngIf"],["for","brincoPai"],["type","number","id","brincoPai","formControlName","brincoPai"],["for","brincoMae"],["type","number","id","brincoMae","formControlName","brincoMae"],["for","dataNascimento"],["type","date","id","dataNascimento","formControlName","dataNascimento"],["for","dataSaida"],["type","date","id","dataSaida","formControlName","dataSaida"],["for","status"],["id","status","formControlName","status"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","formControlName","sexo"],["value","M"],["value","F"],["type","submit",3,"disabled"]],template:function(r,s){if(r&1&&(D(0,"div")(1,"h2"),x(2,"Cadastro de Su\xEDno"),b(),D(3,"form",0),ce("ngSubmit",function(){return s.cadastrarSuino()}),D(4,"div")(5,"label",1),x(6,"Brinco do Animal:"),b(),me(7,"input",2),Se(8,j$,2,0,"small",3),b(),D(9,"div")(10,"label",4),x(11,"Brinco do Pai:"),b(),me(12,"input",5),Se(13,B$,2,0,"small",3),b(),D(14,"div")(15,"label",6),x(16,"Brinco da M\xE3e:"),b(),me(17,"input",7),Se(18,U$,2,0,"small",3),b(),D(19,"div")(20,"label",8),x(21,"Data de Nascimento:"),b(),me(22,"input",9),Se(23,$$,2,0,"small",3),b(),D(24,"div")(25,"label",10),x(26,"Data de Sa\xEDda:"),b(),me(27,"input",11),Se(28,H$,2,0,"small",3),b(),D(29,"div")(30,"label",12),x(31,"Status:"),b(),D(32,"select",13)(33,"option",14),x(34,"Ativo"),b(),D(35,"option",15),x(36,"Vendido"),b(),D(37,"option",16),x(38,"Morto"),b()(),Se(39,z$,2,0,"small",3),b(),D(40,"div")(41,"label",17),x(42,"Sexo:"),b(),D(43,"select",18)(44,"option",19),x(45,"Macho"),b(),D(46,"option",20),x(47,"F\xEAmea"),b()(),Se(48,W$,2,0,"small",3),b(),D(49,"button",21),x(50,"Cadastrar"),b()()()),r&2){let o,a,l,c,u,d,h;R(3),Y("formGroup",s.suinoForm),R(5),Y("ngIf",((o=s.suinoForm.get("brinco"))==null?null:o.invalid)&&((o=s.suinoForm.get("brinco"))==null?null:o.touched)),R(5),Y("ngIf",((a=s.suinoForm.get("brincoPai"))==null?null:a.invalid)&&((a=s.suinoForm.get("brincoPai"))==null?null:a.touched)),R(5),Y("ngIf",((l=s.suinoForm.get("brincoMae"))==null?null:l.invalid)&&((l=s.suinoForm.get("brincoMae"))==null?null:l.touched)),R(5),Y("ngIf",((c=s.suinoForm.get("dataNascimento"))==null?null:c.invalid)&&((c=s.suinoForm.get("dataNascimento"))==null?null:c.touched)),R(5),Y("ngIf",((u=s.suinoForm.get("dataSaida"))==null?null:u.invalid)&&((u=s.suinoForm.get("dataSaida"))==null?null:u.touched)),R(11),Y("ngIf",((d=s.suinoForm.get("status"))==null?null:d.invalid)&&((d=s.suinoForm.get("status"))==null?null:d.touched)),R(9),Y("ngIf",((h=s.suinoForm.get("sexo"))==null?null:h.invalid)&&((h=s.suinoForm.get("sexo"))==null?null:h.touched)),R(),Y("disabled",!s.suinoForm.valid)}},dependencies:[dn,Zn,Ao,Po,$t,bl,lr,pn,Qn,Ti,Ai],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.small-error[_ngcontent-%COMP%]{color:red;font-size:12px}"]});let t=e;return t})();function ac(t){return t+.5|0}var br=(t,e,n)=>Math.max(Math.min(t,n),e);function sc(t){return br(ac(t*2.55),0,255)}function Cr(t){return br(ac(t*255),0,255)}function ki(t){return br(ac(t/2.55)/100,0,1)}function PM(t){return br(ac(t*100),0,100)}var vn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},q_=[..."0123456789ABCDEF"],q$=t=>q_[t&15],Y$=t=>q_[(t&240)>>4]+q_[t&15],cf=t=>(t&240)>>4===(t&15),K$=t=>cf(t.r)&&cf(t.g)&&cf(t.b)&&cf(t.a);function Q$(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&vn[t[1]]*17,g:255&vn[t[2]]*17,b:255&vn[t[3]]*17,a:e===5?vn[t[4]]*17:255}:(e===7||e===9)&&(n={r:vn[t[1]]<<4|vn[t[2]],g:vn[t[3]]<<4|vn[t[4]],b:vn[t[5]]<<4|vn[t[6]],a:e===9?vn[t[7]]<<4|vn[t[8]]:255})),n}var Z$=(t,e)=>t<255?e(t):"";function X$(t){var e=K$(t)?q$:Y$;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Z$(t.a,e):void 0}var J$=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function OM(t,e,n){let i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function eH(t,e,n){let i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function tH(t,e,n){let i=OM(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function nH(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function Y_(t){let n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2,l,c,u;return s!==o&&(u=s-o,c=a>.5?u/(2-s-o):u/(s+o),l=nH(n,i,r,u,s),l=l*60+.5),[l|0,c||0,a]}function K_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Cr)}function Q_(t,e,n){return K_(OM,t,e,n)}function iH(t,e,n){return K_(tH,t,e,n)}function rH(t,e,n){return K_(eH,t,e,n)}function FM(t){return(t%360+360)%360}function sH(t){let e=J$.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?sc(+e[5]):Cr(+e[5]));let r=FM(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=iH(r,s,o):e[1]==="hsv"?i=rH(r,s,o):i=Q_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function oH(t,e){var n=Y_(t);n[0]=FM(n[0]+e),n=Q_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function aH(t){if(!t)return;let e=Y_(t),n=e[0],i=PM(e[1]),r=PM(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${ki(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var NM={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},RM={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function lH(){let t={},e=Object.keys(RM),n=Object.keys(NM),i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,NM[s]);s=parseInt(RM[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}var uf;function cH(t){uf||(uf=lH(),uf.transparent=[0,0,0,0]);let e=uf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var uH=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function dH(t){let e=uH.exec(t),n=255,i,r,s;if(e){if(e[7]!==i){let o=+e[7];n=e[8]?sc(o):br(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?sc(i):br(i,0,255)),r=255&(e[4]?sc(r):br(r,0,255)),s=255&(e[6]?sc(s):br(s,0,255)),{r:i,g:r,b:s,a:n}}}function hH(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ki(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var G_=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Xo=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function fH(t,e,n){let i=Xo(ki(t.r)),r=Xo(ki(t.g)),s=Xo(ki(t.b));return{r:Cr(G_(i+n*(Xo(ki(e.r))-i))),g:Cr(G_(r+n*(Xo(ki(e.g))-r))),b:Cr(G_(s+n*(Xo(ki(e.b))-s))),a:t.a+n*(e.a-t.a)}}function df(t,e,n){if(t){let i=Y_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Q_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function LM(t,e){return t&&Object.assign(e||{},t)}function kM(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Cr(t[3]))):(e=LM(t,{r:0,g:0,b:0,a:1}),e.a=Cr(e.a)),e}function pH(t){return t.charAt(0)==="r"?dH(t):sH(t)}var oc=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=kM(e):n==="string"&&(i=Q$(e)||cH(e)||pH(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=LM(this._rgb);return e&&(e.a=ki(e.a)),e}set rgb(e){this._rgb=kM(e)}rgbString(){return this._valid?hH(this._rgb):void 0}hexString(){return this._valid?X$(this._rgb):void 0}hslString(){return this._valid?aH(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,s,o=n===s?.5:n,a=2*o-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,i.r=255&c*i.r+s*r.r+.5,i.g=255&c*i.g+s*r.g+.5,i.b=255&c*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=fH(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=Cr(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=ac(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return df(this._rgb,2,e),this}darken(e){return df(this._rgb,2,-e),this}saturate(e){return df(this._rgb,1,e),this}desaturate(e){return df(this._rgb,1,-e),this}rotate(e){return oH(this._rgb,e),this}};function oi(){}var YM=(()=>{let t=0;return()=>t++})();function ae(t){return t===null||typeof t>"u"}function Ae(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ie(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Be(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function zt(t,e){return Be(t)?t:e}function W(t,e){return typeof t>"u"?e:t}var KM=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,eb=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function xe(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function ve(t,e,n,i){let r,s,o;if(Ae(t))if(s=t.length,i)for(r=s-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<s;r++)e.call(n,t[r],r);else if(ie(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function uc(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function gf(t){if(Ae(t))return t.map(gf);if(ie(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=gf(t[n[r]]);return e}return t}function QM(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function gH(t,e,n,i){if(!QM(t))return;let r=e[t],s=n[t];ie(r)&&ie(s)?ea(r,s,i):e[t]=gf(s)}function ea(t,e,n){let i=Ae(e)?e:[e],r=i.length;if(!ie(t))return t;n=n||{};let s=n.merger||gH,o;for(let a=0;a<r;++a){if(o=i[a],!ie(o))continue;let l=Object.keys(o);for(let c=0,u=l.length;c<u;++c)s(l[c],t,o,n)}return t}function na(t,e){return ea(t,e,{merger:mH})}function mH(t,e,n){if(!QM(t))return;let i=e[t],r=n[t];ie(i)&&ie(r)?na(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=gf(r))}var VM={"":t=>t,x:t=>t.x,y:t=>t.y};function yH(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function vH(t){let e=yH(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function Li(t,e){return(VM[e]||(VM[e]=vH(e)))(t)}function _f(t){return t.charAt(0).toUpperCase()+t.slice(1)}var ia=t=>typeof t<"u",Oi=t=>typeof t=="function",tb=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function ZM(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Pe=Math.PI,Ne=2*Pe,_H=Ne+Pe,mf=Number.POSITIVE_INFINITY,bH=Pe/180,ze=Pe/2,ys=Pe/4,jM=Pe*2/3,Fi=Math.log10,On=Math.sign;function ra(t,e,n){return Math.abs(t-e)<n}function nb(t){let e=Math.round(t);t=ra(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Fi(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function XM(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function bs(t){return!isNaN(parseFloat(t))&&isFinite(t)}function JM(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function ib(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function _n(t){return t*(Pe/180)}function bf(t){return t*(180/Pe)}function rb(t){if(!Be(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function sb(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),s=Math.atan2(i,n);return s<-.5*Pe&&(s+=Ne),{angle:s,distance:r}}function yf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function CH(t,e){return(t-e+_H)%Ne-Pe}function Ht(t){return(t%Ne+Ne)%Ne}function sa(t,e,n,i){let r=Ht(t),s=Ht(e),o=Ht(n),a=Ht(s-r),l=Ht(o-r),c=Ht(r-s),u=Ht(r-o);return r===s||r===o||i&&s===o||a>l&&c<u}function it(t,e,n){return Math.max(e,Math.min(n,t))}function eT(t){return it(t,-32768,32767)}function ai(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Cf(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}var ri=(t,e,n,i)=>Cf(t,n,i?r=>{let s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),tT=(t,e,n)=>Cf(t,n,i=>t[i][e]>=n);function nT(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var iT=["push","pop","shift","splice","unshift"];function rT(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),iT.forEach(n=>{let i="_onData"+_f(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){let o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function ob(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(iT.forEach(s=>{delete t[s]}),delete t._chartjs)}function ab(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var lb=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function cb(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,lb.call(window,()=>{i=!1,t.apply(e,n)}))}}function sT(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var wf=t=>t==="start"?"left":t==="end"?"right":"center",ft=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,oT=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function ub(t,e,n){let i=e.length,r=0,s=i;if(t._sorted){let{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:d,maxDefined:h}=o.getUserBounds();d&&(r=it(Math.min(ri(a,l,c).lo,n?i:ri(e,l,o.getPixelForValue(c)).lo),0,i-1)),h?s=it(Math.max(ri(a,o.axis,u,!0).hi+1,n?0:ri(e,l,o.getPixelForValue(u),!0).hi+1),r,i)-r:s=i-r}return{start:r,count:s}}function db(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let s=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),s}var hf=t=>t===0||t===1,BM=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Ne/n)),UM=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Ne/n)+1,Jo={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ze)+1,easeOutSine:t=>Math.sin(t*ze),easeInOutSine:t=>-.5*(Math.cos(Pe*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>hf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>hf(t)?t:BM(t,.075,.3),easeOutElastic:t=>hf(t)?t:UM(t,.075,.3),easeInOutElastic(t){return hf(t)?t:t<.5?.5*BM(t*2,.1125,.45):.5+.5*UM(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Jo.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Jo.easeInBounce(t*2)*.5:Jo.easeOutBounce(t*2-1)*.5+.5};function hb(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function fb(t){return hb(t)?t:new oc(t)}function Z_(t){return hb(t)?t:new oc(t).saturate(.5).darken(.1).hexString()}var wH=["x","y","borderWidth","radius","tension"],DH=["color","borderColor","backgroundColor"];function EH(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:DH},numbers:{type:"number",properties:wH}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function xH(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var $M=new Map;function IH(t,e){e=e||{};let n=t+JSON.stringify(e),i=$M.get(n);return i||(i=new Intl.NumberFormat(t,e),$M.set(n,i)),i}function oa(t,e,n){return IH(e,n).format(t)}var aT={values(t){return Ae(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,s=t;if(n.length>1){let c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),s=SH(t,n)}let o=Fi(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),oa(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(Fi(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?aT.numeric.call(this,t,e,n):""}};function SH(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var dc={formatters:aT};function MH(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:dc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Dr=Object.create(null),Df=Object.create(null);function lc(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function X_(t,e,n){return typeof e=="string"?ea(lc(t,e),n):ea(lc(t,""),e)}var J_=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Z_(r.backgroundColor),this.hoverBorderColor=(i,r)=>Z_(r.borderColor),this.hoverColor=(i,r)=>Z_(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return X_(this,e,n)}get(e){return lc(this,e)}describe(e,n){return X_(Df,e,n)}override(e,n){return X_(Dr,e,n)}route(e,n,i,r){let s=lc(this,e),o=lc(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){let l=this[a],c=o[r];return ie(l)?Object.assign({},c,l):W(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}},Ue=new J_({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[EH,xH,MH]);function TH(t){return!t||ae(t.size)||ae(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function cc(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function lT(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0,a=n.length,l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Ae(d))o=cc(t,r,s,o,d);else if(Ae(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Ae(h)&&(o=cc(t,r,s,o,h));t.restore();let f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[s[l]];s.splice(0,f)}return o}function Er(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function pb(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ef(t,e,n,i){gb(t,e,n,i,null)}function gb(t,e,n,i,r){let s,o,a,l,c,u,d,h,f=e.pointStyle,p=e.rotation,g=e.radius,m=(p||0)*bH;if(f&&typeof f=="object"&&(s=f.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Ne):t.arc(n,i,g,0,Ne),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=jM,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=jM,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(m+ys)*l,d=Math.cos(m+ys)*(r?r/2-c:l),a=Math.sin(m+ys)*l,h=Math.sin(m+ys)*(r?r/2-c:l),t.arc(n-d,i-a,c,m-Pe,m-ze),t.arc(n+h,i-o,c,m-ze,m),t.arc(n+d,i+a,c,m,m+ze),t.arc(n-h,i+o,c,m+ze,m+Pe),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=ys;case"rectRot":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+h,i-o),t.lineTo(n+d,i+a),t.lineTo(n-h,i+o),t.closePath();break;case"crossRot":m+=ys;case"cross":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"star":d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o),m+=ys,d=Math.cos(m)*(r?r/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-o),t.lineTo(n-h,i+o);break;case"line":o=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function si(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function hc(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function fc(t){t.restore()}function cT(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function uT(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function AH(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ae(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function PH(t,e,n,i,r){if(r.strikethrough||r.underline){let s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function NH(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function xr(t,e,n,i,r,s={}){let o=Ae(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="",l,c;for(t.save(),t.font=r.string,AH(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&NH(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ae(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,i,s.maxWidth)),t.fillText(c,n,i,s.maxWidth),PH(t,n,i,c,s),i+=Number(r.lineHeight);t.restore()}function aa(t,e){let{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Pe,Pe,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Pe,ze,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,ze,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-ze,!0),t.lineTo(n+o.topLeft,i)}var RH=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,kH=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function OH(t,e){let n=(""+t).match(RH);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var FH=t=>+t||0;function xf(t,e){let n={},i=ie(e),r=i?Object.keys(e):e,s=ie(t)?i?o=>W(t[o],t[e[o]]):o=>t[o]:()=>t;for(let o of r)n[o]=FH(s(o));return n}function mb(t){return xf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ir(t){return xf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function pt(t){let e=mb(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function et(t,e){t=t||{},e=e||Ue.font;let n=W(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=W(t.style,e.style);i&&!(""+i).match(kH)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:W(t.family,e.family),lineHeight:OH(W(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:W(t.weight,e.weight),string:""};return r.string=TH(r),r}function la(t,e,n,i){let r=!0,s,o,a;for(s=0,o=t.length;s<o;++s)if(a=t[s],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Ae(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function dT(t,e,n){let{min:i,max:r}=t,s=eb(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Vi(t,e){return Object.assign(Object.create(t),e)}function If(t,e=[""],n,i,r=()=>t[0]){let s=n||t;typeof i>"u"&&(i=pT("_fallback",t));let o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>If([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return hT(a,l,()=>zH(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return zM(a).includes(l)},ownKeys(a){return zM(a)},set(a,l,c){let u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function _s(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:yb(t,i),setContext:s=>_s(t,s,n,i),override:s=>_s(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return hT(s,o,()=>VH(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function yb(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Oi(n)?n:()=>n,isIndexable:Oi(i)?i:()=>i}}var LH=(t,e)=>t?t+_f(e):e,vb=(t,e)=>ie(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function hT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let i=n();return t[e]=i,i}function VH(t,e,n){let{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t,a=i[e];return Oi(a)&&o.isScriptable(e)&&(a=jH(e,a,t,n)),Ae(a)&&a.length&&(a=BH(e,a,t,o.isIndexable)),vb(e,a)&&(a=_s(a,r,s&&s[e],o)),a}function jH(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),vb(t,l)&&(l=_b(r._scopes,r,t,l)),l}function BH(t,e,n,i){let{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(ie(e[0])){let l=e,c=r._scopes.filter(u=>u!==l);e=[];for(let u of l){let d=_b(c,r,t,u);e.push(_s(d,s,o&&o[t],a))}}return e}function fT(t,e,n){return Oi(t)?t(e,n):t}var UH=(t,e)=>t===!0?e:typeof t=="string"?Li(e,t):void 0;function $H(t,e,n,i,r){for(let s of e){let o=UH(n,s);if(o){t.add(o);let a=fT(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function _b(t,e,n,i){let r=e._rootScopes,s=fT(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=HM(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=HM(a,o,s,l,i),l===null)?!1:If(Array.from(a),[""],r,s,()=>HH(e,n,i))}function HM(t,e,n,i,r){for(;n;)n=$H(t,e,n,i,r);return n}function HH(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return Ae(r)&&ie(n)?n:r||{}}function zH(t,e,n,i){let r;for(let s of e)if(r=pT(LH(s,t),n),typeof r<"u")return vb(t,r)?_b(n,i,t,r):r}function pT(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function zM(t){let e=t._keys;return e||(e=t._keys=WH(t._scopes)),e}function WH(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function bb(t,e,n,i){let{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i),a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],o[a]={r:r.parse(Li(u,s),c)};return o}var GH=Number.EPSILON||1e-14,ta=(t,e)=>e<t.length&&!t[e].skip&&t[e],gT=t=>t==="x"?"y":"x";function qH(t,e,n,i){let r=t.skip?e:t,s=e,o=n.skip?e:n,a=yf(s,r),l=yf(o,s),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=i*c,h=i*u;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+h*(o.x-r.x),y:s.y+h*(o.y-r.y)}}}function YH(t,e,n){let i=t.length,r,s,o,a,l,c=ta(t,0);for(let u=0;u<i-1;++u)if(l=c,c=ta(t,u+1),!(!l||!c)){if(ra(e[u],0,GH)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[u]=r*o*e[u],n[u+1]=s*o*e[u])}}function KH(t,e,n="x"){let i=gT(n),r=t.length,s,o,a,l=ta(t,0);for(let c=0;c<r;++c){if(o=a,a=l,l=ta(t,c+1),!a)continue;let u=a[n],d=a[i];o&&(s=(u-o[n])/3,a[`cp1${n}`]=u-s,a[`cp1${i}`]=d-s*e[c]),l&&(s=(l[n]-u)/3,a[`cp2${n}`]=u+s,a[`cp2${i}`]=d+s*e[c])}}function QH(t,e="x"){let n=gT(e),i=t.length,r=Array(i).fill(0),s=Array(i),o,a,l,c=ta(t,0);for(o=0;o<i;++o)if(a=l,l=c,c=ta(t,o+1),!!l){if(c){let u=c[e]-l[e];r[o]=u!==0?(c[n]-l[n])/u:0}s[o]=a?c?On(r[o-1])!==On(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}YH(t,r,s),KH(t,s,e)}function ff(t,e,n){return Math.max(Math.min(t,n),e)}function ZH(t,e){let n,i,r,s,o,a=si(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&si(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=ff(r.cp1x,e.left,e.right),r.cp1y=ff(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=ff(r.cp2x,e.left,e.right),r.cp2y=ff(r.cp2y,e.top,e.bottom)))}function mT(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")QH(t,r);else{let c=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=qH(c,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&ZH(t,n)}function Sf(){return typeof window<"u"&&typeof document<"u"}function Mf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function vf(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var Tf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function XH(t,e){return Tf(t).getPropertyValue(e)}var JH=["top","right","bottom","left"];function vs(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let s=JH[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var ez=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function tz(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i,o=!1,a,l;if(ez(r,s,t.target))a=r,l=s;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Sr(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=Tf(n),s=r.boxSizing==="border-box",o=vs(r,"padding"),a=vs(r,"border","width"),{x:l,y:c,box:u}=tz(t,n),d=o.left+(u&&a.left),h=o.top+(u&&a.top),{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function nz(t,e,n){let i,r;if(e===void 0||n===void 0){let s=Mf(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{let o=s.getBoundingClientRect(),a=Tf(s),l=vs(a,"border","width"),c=vs(a,"padding");e=o.width-c.width-l.width,n=o.height-c.height-l.height,i=vf(a.maxWidth,s,"clientWidth"),r=vf(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||mf,maxHeight:r||mf}}var pf=t=>Math.round(t*10)/10;function yT(t,e,n,i){let r=Tf(t),s=vs(r,"margin"),o=vf(r.maxWidth,t,"clientWidth")||mf,a=vf(r.maxHeight,t,"clientHeight")||mf,l=nz(t,e,n),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let h=vs(r,"border","width"),f=vs(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-s.width),u=Math.max(0,i?c/i:u-s.height),c=pf(Math.min(c,o,l.maxWidth)),u=pf(Math.min(u,a,l.maxHeight)),c&&!u&&(u=pf(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=pf(Math.floor(u*i))),{width:c,height:u}}function Cb(t,e,n){let i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var vT=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Sf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function wb(t,e){let n=XH(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function wr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function _T(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function bT(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=wr(t,r,n),a=wr(r,s,n),l=wr(s,e,n),c=wr(o,a,n),u=wr(a,l,n);return wr(c,u,n)}var iz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},rz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Cs(t,e,n){return t?iz(e,n):rz()}function Db(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function Eb(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function CT(t){return t==="angle"?{between:sa,compare:CH,normalize:Ht}:{between:ai,compare:(e,n)=>e-n,normalize:e=>e}}function WM({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function sz(t,e,n){let{property:i,start:r,end:s}=n,{between:o,normalize:a}=CT(i),l=e.length,{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&o(a(e[c%l][i]),r,s);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function xb(t,e,n){if(!n)return[t];let{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=CT(i),{start:u,end:d,loop:h,style:f}=sz(t,e,n),p=[],g=!1,m=null,y,v,_,w=()=>l(r,_,y)&&a(r,_)!==0,C=()=>a(s,y)===0||l(s,_,y),E=()=>g||w(),T=()=>!g||C();for(let M=u,F=u;M<=d;++M)v=e[M%o],!v.skip&&(y=c(v[i]),y!==_&&(g=l(y,r,s),m===null&&E()&&(m=a(y,r)===0?M:F),m!==null&&T()&&(p.push(WM({start:m,end:M,loop:h,count:o,style:f})),m=null),F=M,_=y));return m!==null&&p.push(WM({start:m,end:d,loop:h,count:o,style:f})),p}function Ib(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let s=xb(i[r],t.points,e);s.length&&n.push(...s)}return n}function oz(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function az(t,e,n,i){let r=t.length,s=[],o=e,a=t[e],l;for(l=e+1;l<=n;++l){let c=t[l%r];c.skip||c.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=c.stop?l:null):(o=l,a.skip&&(e=l)),a=c}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function wT(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let s=!!t._loop,{start:o,end:a}=oz(n,r,s,i);if(i===!0)return GM(t,[{start:o,end:a,loop:s}],n,e);let l=a<o?a+r:a,c=!!t._fullLoop&&o===0&&a===r-1;return GM(t,az(n,o,l,c),n,e)}function GM(t,e,n,i){return!i||!i.setContext||!n?e:lz(t,e,n,i)}function lz(t,e,n,i){let r=t._chart.getContext(),s=qM(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[],u=s,d=e[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=v;for(;n[g%l].skip;)g+=v;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(let p of e){d=a?d:p.start;let g=n[d%l],m;for(h=d+1;h<=p.end;h++){let y=n[h%l];m=qM(i.setContext(Vi(r,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),cz(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return c}function qM(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function cz(t,e){if(!e)return!1;let n=[],i=function(r,s){return hb(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var Fb=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=lb.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let s=i.items,o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},ji=new Fb,DT="transparent",uz={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=fb(t||DT),r=i.valid&&fb(e||DT);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},Lb=class{constructor(e,n,i,r){let s=n[i];r=la([e.to,r,s,e.from]);let o=la([e.from,s,r]);this._active=!0,this._fn=e.fn||uz[e.type||typeof o],this._easing=Jo[e.easing]||Jo.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=la([e.to,n,r,e.from]),this._from=la([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to,l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},jf=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ie(e))return;let n=Object.keys(Ue.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let s=e[r];if(!ie(s))return;let o={};for(let a of n)o[a]=s[a];(Ae(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){let i=n.options,r=hz(e,i);if(!r)return[];let s=this._createAnimations(r,i);return i.$shared&&dz(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){let i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now(),l;for(l=o.length-1;l>=0;--l){let c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}let u=n[c],d=s[c],h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}s[c]=d=new Lb(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return ji.add(this._chart,i),!0}};function dz(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function hz(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ET(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function fz(t,e,n){if(n===!1)return!1;let i=ET(t,n),r=ET(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function pz(t){let e,n,i,r;return ie(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function EA(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function xT(t,e,n,i={}){let r=t.keys,s=i.mode==="single",o,a,l,c;if(e!==null){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(i.all)continue;break}c=t.values[l],Be(c)&&(s||e===0||On(e)===On(c))&&(e+=c)}return e}}function gz(t){let e=Object.keys(t),n=new Array(e.length),i,r,s;for(i=0,r=e.length;i<r;++i)s=e[i],n[i]={x:s,y:t[s]};return n}function IT(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function mz(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function yz(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function vz(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function ST(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function MT(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,c=o.axis,u=mz(s,o,i),d=e.length,h;for(let f=0;f<d;++f){let p=e[f],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});h=y[c]=vz(r,u,g),h[a]=m,h._top=ST(h,o,!0,i.type),h._bottom=ST(h,o,!1,i.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function Sb(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function _z(t,e){return Vi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function bz(t,e,n){return Vi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function pc(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}var Mb=t=>t==="reset"||t==="none",TT=(t,e)=>e?t:Object.assign({},t),Cz=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:EA(n,!0),values:null},Tr=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=IT(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&pc(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),s=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,o=i.xAxisID=W(r.xAxisID,Sb(n,"x")),a=i.yAxisID=W(r.yAxisID,Sb(n,"y")),l=i.rAxisID=W(r.rAxisID,Sb(n,"r")),c=i.indexAxis,u=i.iAxisID=s(c,o,a,l),d=i.vAxisID=s(c,a,o,l);i.xScale=this.getScaleForId(o),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&ob(this._data,this),n._stacked&&pc(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(ie(i))this._data=gz(i);else if(r!==i){if(r){ob(r,this);let s=this._cachedMeta;pc(s),s._parsed=[]}i&&Object.isExtensible(i)&&rT(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),s=!1;this._dataCheck();let o=i._stacked;i._stacked=IT(i.vScale,i),i.stack!==r.stack&&(s=!0,pc(i),i.stack=r.stack),this._resyncElements(n),(s||o!==i._stacked)&&MT(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis,c=n===0&&i===s.length?!0:r._sorted,u=n>0&&r._parsed[n-1],d,h,f;if(this._parsing===!1)r._parsed=s,r._sorted=!0,f=s;else{Ae(s[n])?f=this.parseArrayData(r,s,n,i):ie(s[n])?f=this.parseObjectData(r,s,n,i):f=this.parsePrimitiveData(r,s,n,i);let p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<i;++d)r._parsed[d+n]=h=f[d],c&&(p()&&(c=!1),u=h);r._sorted=c}a&&MT(this,f)}parsePrimitiveData(n,i,r,s){let{iScale:o,vScale:a}=n,l=o.axis,c=a.axis,u=o.getLabels(),d=o===a,h=new Array(s),f,p,g;for(f=0,p=s;f<p;++f)g=f+r,h[f]={[l]:d||o.parse(u[g],g),[c]:a.parse(i[g],g)};return h}parseArrayData(n,i,r,s){let{xScale:o,yScale:a}=n,l=new Array(s),c,u,d,h;for(c=0,u=s;c<u;++c)d=c+r,h=i[d],l[c]={x:o.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(n,i,r,s){let{xScale:o,yScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(s),d,h,f,p;for(d=0,h=s;d<h;++d)f=d+r,p=i[f],u[d]={x:o.parse(Li(p,l),f),y:a.parse(Li(p,c),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let s=this.chart,o=this._cachedMeta,a=i[n.axis],l={keys:EA(s,!0),values:i._stacks[n.axis]._visualValues};return xT(l,a,o.index,{mode:r})}updateRangeFromParsed(n,i,r,s){let o=r[i.axis],a=o===null?NaN:o,l=s&&r._stacks[i.axis];s&&l&&(s.values=l,a=xT(s,o,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,s=r._parsed,o=r._sorted&&n===r.iScale,a=s.length,l=this._getOtherScale(n),c=Cz(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=yz(l),f,p;function g(){p=s[f];let m=p[l.axis];return!Be(p[n.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,n,p,c),o));++f);if(o){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,n,p,c);break}}return u}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],s,o,a;for(s=0,o=i.length;s<o;++s)a=i[s][n.axis],Be(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,s=i.vScale,o=this.getParsed(n);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=pz(W(this.options.clip,fz(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,s=r.data||[],o=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||s.length-l,u=this.options.drawActiveElementsOnTop,d;for(r.dataset&&r.dataset.draw(n,o,l,c),d=l;d<l+c;++d){let h=s[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,o))}for(d=0;d<a.length;++d)a[d].draw(n,o)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let s=this.getDataset(),o;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];o=a.$context||(a.$context=bz(this.getContext(),n,a)),o.parsed=this.getParsed(n),o.raw=s.data[n],o.index=o.dataIndex=n}else o=this.$context||(this.$context=_z(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!i,o.mode=r,o}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let s=i==="active",o=this._cachedDataOpts,a=n+"-"+i,l=o[a],c=this.enableOptionSharing&&ia(r);if(l)return TT(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=s?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(Ue.elements[n]),g=()=>this.getContext(r,s,i),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=c,o[a]=Object.freeze(TT(m,c))),m}_resolveAnimations(n,i,r){let s=this.chart,o=this._cachedDataOpts,a=`animation-${i}`,l=o[a];if(l)return l;let c;if(s.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,i),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(n,r,i))}let u=new jf(s,c&&c.animations);return c&&c._cacheable&&(o[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||Mb(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(i,o)||o!==s;return this.updateSharedOptions(o,i,r),{sharedOptions:o,includeOptions:a}}updateElement(n,i,r,s){Mb(s)?Object.assign(n,r):this._resolveAnimations(i,s).update(n,r)}updateSharedOptions(n,i,r){n&&!Mb(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,s){n.active=s;let o=this.getStyle(i,s);this._resolveAnimations(i,r,s).update(n,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let s=r.length,o=i.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,n):o<s&&this._removeElements(o,s-o)}_insertElements(n,i,r=!0){let s=this._cachedMeta,o=s.data,a=n+i,l,c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(o),l=n;l<a;++l)o[l]=new this.dataElementType;this._parsing&&c(s._parsed),this.parse(n,i),r&&this.updateElements(o,n,i,"reset")}updateElements(n,i,r,s){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let s=r._parsed.splice(n,i);r._stacked&&pc(r,s)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,s]=n;this[i](r,s)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function wz(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=ab(i.sort((r,s)=>r-s))}return t._cache.$bar}function Dz(t){let e=t.iScale,n=wz(e,t.type),i=e._length,r,s,o,a,l=()=>{o===32767||o===-32768||(ia(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function Ez(t,e,n,i){let r=n.barThickness,s,o;return ae(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function xz(t,e,n,i){let r=e.pixels,s=r[t],o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);let c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:c}}function Iz(t,e,n,i){let r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s),l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:s,min:o,max:a}}function xA(t,e,n,i){return Ae(t)?Iz(t,e,n,i):e[n.axis]=n.parse(t,i),e}function AT(t,e,n,i){let r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[],c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=a||r.parse(o[c],c),l.push(xA(h,d,s,c));return l}function Tb(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Sz(t,e,n){return t!==0?On(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function Mz(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function Tz(t,e,n,i){let r=e.borderSkipped,s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:o,end:a,reverse:l,top:c,bottom:u}=Mz(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(s[PT(u,o,a,l)]=!0,r=c)),s[PT(r,o,a,l)]=!0,t.borderSkipped=s}function PT(t,e,n,i){return i?(t=Az(t,e,n),t=NT(t,n,e)):t=NT(t,e,n),t}function Az(t,e,n){return t===e?n:t===n?e:t}function NT(t,e,n){return t==="start"?e:t==="end"?n:t}function Pz(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var Nz=(()=>{class t extends Tr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,r,s){return AT(n,i,r,s)}parseArrayData(n,i,r,s){return AT(n,i,r,s)}parseObjectData(n,i,r,s){let{iScale:o,vScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=o.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[],f,p,g,m;for(f=r,p=r+s;f<p;++f)m=i[f],g={},g[o.axis]=o.parse(Li(m,u),f),h.push(xA(Li(m,d),g,a,f));return h}updateRangeFromParsed(n,i,r,s){super.updateRangeFromParsed(n,i,r,s);let o=r._custom;o&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,o.min),n.max=Math.max(n.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:r,vScale:s}=i,o=this.getParsed(n),a=o._custom,l=Tb(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,s){let o=s==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,s);for(let p=i;p<i+r;p++){let g=this.getParsed(p),m=o||ae(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[l.axis],_={horizontal:u,base:m.base,enableBorderRadius:!v||Tb(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(_.options=h||this.resolveDataElementOptions(p,n[p].active?"active":s));let w=_.options||n[p].options;Tz(_,w,v,a),Pz(_,w,d.ratio),this.updateElement(n[p],p,_,s)}}_getStacks(n,i){let{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),o=r.options.stacked,a=[],l=c=>{let u=c.controller.getParsed(i),d=u&&u[c.vScale.axis];if(ae(d)||isNaN(d))return!0};for(let c of s)if(!(i!==void 0&&l(c))&&((o===!1||a.indexOf(c.stack)===-1||o===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){let s=this._getStacks(n,r),o=i!==void 0?s.indexOf(i):-1;return o===-1?s.length-1:o}_getRuler(){let n=this.options,i=this._cachedMeta,r=i.iScale,s=[],o,a;for(o=0,a=i.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));let l=n.barThickness;return{min:l||Dz(i),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:l?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:r,index:s},options:{base:o,minBarLength:a}}=this,l=o||0,c=this.getParsed(n),u=c._custom,d=Tb(u),h=c[i.axis],f=0,p=r?this.applyStack(i,c,r):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&On(h)!==On(u.barEnd)&&(f=0),f+=h);let y=!ae(o)&&!d?o:f,v=i.getPixelForValue(y);if(this.chart.getDataVisibility(n)?g=i.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=Sz(m,i,l)*a,h===l&&(v-=m/2);let _=i.getPixelForDecimal(0),w=i.getPixelForDecimal(1),C=Math.min(_,w),E=Math.max(_,w);v=Math.max(Math.min(v,E),C),g=v+m,r&&!d&&(c._stacks[i.axis]._visualValues[s]=i.getValueForPixel(g)-i.getValueForPixel(v))}if(v===i.getPixelForValue(l)){let _=On(m)*i.getLineWidthForValue(l)/2;v+=_,m-=_}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(n,i){let r=i.scale,s=this.options,o=s.skipNull,a=W(s.maxBarThickness,1/0),l,c;if(i.grouped){let u=o?this._getStackCount(n):i.stackCount,d=s.barThickness==="flex"?xz(n,i,s,u):Ez(n,i,s,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,o?n:void 0);l=d.start+d.chunk*h+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=r.getPixelForValue(this.getParsed(n)[r.axis],n),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let n=this._cachedMeta,i=n.vScale,r=n.data,s=r.length,o=0;for(;o<s;++o)this.getParsed(o)[i.axis]!==null&&r[o].draw(this._ctx)}}return t})(),Rz=(()=>{class t extends Tr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,s){let o=super.parsePrimitiveData(n,i,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(n,i,r,s){let o=super.parseArrayData(n,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=W(l[2],this.resolveDataElementOptions(a+r).radius)}return o}parseObjectData(n,i,r,s){let o=super.parseObjectData(n,i,r,s);for(let a=0;a<o.length;a++){let l=i[r+a];o[a]._custom=W(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y),u=a._custom;return{label:r[n]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,s),d=a.axis,h=l.axis;for(let f=i;f<i+r;f++){let p=n[f],g=!o&&this.getParsed(f),m={},y=m[d]=o?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=o?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":s),o&&(m.options.radius=0)),this.updateElement(p,f,m,s)}}resolveDataElementOptions(n,i){let r=this.getParsed(n),s=super.resolveDataElementOptions(n,i);s.$shared&&(s=Object.assign({},s,{$shared:!1}));let o=s.radius;return i!=="active"&&(s.radius=0),s.radius+=W(r&&r._custom,o),s}}return t})();function kz(t,e,n){let i=1,r=1,s=0,o=0;if(e<Ne){let a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(_,w,C)=>sa(_,a,l,!0)?1:Math.max(w,w*n,C,C*n),p=(_,w,C)=>sa(_,a,l,!0)?-1:Math.min(w,w*n,C,C*n),g=f(0,c,d),m=f(ze,u,h),y=p(Pe,c,d),v=p(Pe+ze,u,h);i=(g-y)/2,r=(m-v)/2,s=-(g+y)/2,o=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}var i0=(()=>{class t extends Tr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,s=this._cachedMeta;if(this._parsing===!1)s._parsed=r;else{let o=c=>+r[c];if(ie(r[n])){let{key:c="value"}=this._parsing;o=u=>+Li(r[u],c)}let a,l;for(a=n,l=n+i;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return _n(this.options.rotation-90)}_getCircumference(){return _n(this.options.circumference)}_getRotationExtents(){let n=Ne,i=-Ne;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();n=Math.min(n,o),i=Math.max(i,o+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(KM(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=kz(h,d,c),y=(r.width-a)/f,v=(r.height-a)/p,_=Math.max(Math.min(y,v)/2,0),w=eb(this.options.radius,_),C=Math.max(w*c,0),E=(w-C)/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,s.total=this.calculateTotal(),this.outerRadius=w-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*u,0),this.updateElements(o,0,o.length,n)}_circumference(n,i){let r=this.options,s=this._cachedMeta,o=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||s._parsed[n]===null||s.data[n].hidden?0:this.calculateCircumference(s._parsed[n]*o/Ne)}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=o&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(i,s),v=this._getRotation(),_;for(_=0;_<i;++_)v+=this._circumference(_,o);for(_=i;_<i+r;++_){let w=this._circumference(_,o),C=n[_],E={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+w,circumference:w,outerRadius:g,innerRadius:p};y&&(E.options=m||this.resolveDataElementOptions(_,C.active?"active":s)),v+=w,this.updateElement(C,_,E,s)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,s;for(s=0;s<i.length;s++){let o=n._parsed[s];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!i[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Ne*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=oa(i._parsed[n],r.options.locale);return{label:s[n]||"",value:o}}getMaxBorderWidth(n){let i=0,r=this.chart,s,o,a,l,c;if(!n){for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),n=a.data,l=a.controller;break}}if(!n)return 0;for(s=0,o=n.length;s<o;++s)c=l.resolveDataElementOptions(s),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,s=n.length;r<s;++r){let o=this.resolveDataElementOptions(r);i=Math.max(i,o.offset||0,o.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(W(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),Oz=(()=>{class t extends Tr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=i,a=this.chart._animationsDisabled,{start:l,count:c}=ub(i,s,a);this._drawStart=l,this._drawCount=c,db(i)&&(l=0,c=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;let u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},n),this.updateElements(s,l,c,n)}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(i,s),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=bs(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||o||s==="none",_=i+r,w=n.length,C=i>0&&this.getParsed(i-1);for(let E=0;E<w;++E){let T=n[E],M=v?T:{};if(E<i||E>=_){M.skip=!0;continue}let F=this.getParsed(E),G=ae(F[p]),K=M[f]=a.getPixelForValue(F[f],E),re=M[p]=o||G?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[p],E);M.skip=isNaN(K)||isNaN(re)||G,M.stop=E>0&&Math.abs(F[f]-C[f])>y,m&&(M.parsed=F,M.raw=u.data[E]),h&&(M.options=d||this.resolveDataElementOptions(E,T.active?"active":s)),v||this.updateElement(T,E,M,s),C=F}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,s=n.data||[];if(!s.length)return r;let o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),IA=(()=>{class t extends Tr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:s}}=n.legend.options;return i.labels.map((o,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:o,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:s,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,s=r.data.labels||[],o=oa(i._parsed[n].r,r.options.locale);return{label:s[n]||"",value:o}}parseObjectData(n,i,r,s){return bb.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,s)=>{let o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<i.min&&(i.min=o),o>i.max&&(i.max=o))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,r=n.options,s=Math.min(i.right-i.left,i.bottom-i.top),o=Math.max(s/2,0),a=Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0),l=(o-a)/n.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(n,i,r,s){let o=s==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*Pe,p=f,g,m=360/this.countVisibleElements();for(g=0;g<i;++g)p+=this._computeAngle(g,s,m);for(g=i;g<i+r;g++){let y=n[g],v=p,_=p+this._computeAngle(g,s,m),w=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=_,o&&(c.animateScale&&(w=0),c.animateRotate&&(v=_=f));let C={x:d,y:h,innerRadius:0,outerRadius:w,startAngle:v,endAngle:_,options:this.resolveDataElementOptions(g,y.active?"active":s)};this.updateElement(y,g,C,s)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&i++}),i}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?_n(this.resolveDataElementOptions(n,i).angle||r):0}}return t})(),Fz=(()=>{class t extends i0{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),Lz=(()=>{class t extends Tr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(n,i,r,s){return bb.bind(this)(n,i,r,s)}update(n){let i=this._cachedMeta,r=i.dataset,s=i.data||[],o=i.iScale.getLabels();if(r.points=s,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:o.length===s.length,options:a};this.updateElement(r,void 0,l,n)}this.updateElements(s,0,s.length,n)}updateElements(n,i,r,s){let o=this._cachedMeta.rScale,a=s==="reset";for(let l=i;l<i+r;l++){let c=n[l],u=this.resolveDataElementOptions(l,c.active?"active":s),d=o.getPointPositionForValue(l,this.getParsed(l).r),h=a?o.xCenter:d.x,f=a?o.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(c,l,p,s)}}}return t})(),Vz=(()=>{class t extends Tr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:s,yScale:o}=i,a=this.getParsed(n),l=s.getLabelForValue(a.x),c=o.getLabelForValue(a.y);return{label:r[n]||"",value:"("+l+", "+c+")"}}update(n){let i=this._cachedMeta,{data:r=[]}=i,s=this.chart._animationsDisabled,{start:o,count:a}=ub(i,r,s);if(this._drawStart=o,this._drawCount=a,db(i)&&(o=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:u},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,o,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,r,s){let o=s==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(i,s),h=this.getSharedOptions(d),f=this.includeOptions(s,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,v=bs(m)?m:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||o||s==="none",w=i>0&&this.getParsed(i-1);for(let C=i;C<i+r;++C){let E=n[C],T=this.getParsed(C),M=_?E:{},F=ae(T[g]),G=M[p]=a.getPixelForValue(T[p],C),K=M[g]=o||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,T,c):T[g],C);M.skip=isNaN(G)||isNaN(K)||F,M.stop=C>0&&Math.abs(T[p]-w[p])>v,y&&(M.parsed=T,M.raw=u.data[C]),f&&(M.options=h||this.resolveDataElementOptions(C,E.active?"active":s)),_||this.updateElement(E,C,M,s),w=T}this.updateSharedOptions(h,s,d)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=n.dataset,s=r.options&&r.options.borderWidth||0;if(!i.length)return s;let o=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(s,o,a)/2}}return t})(),jz=Object.freeze({__proto__:null,BarController:Nz,BubbleController:Rz,DoughnutController:i0,LineController:Oz,PieController:Fz,PolarAreaController:IA,RadarController:Lz,ScatterController:Vz});function ws(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var Vb=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return ws()}parse(){return ws()}format(){return ws()}add(){return ws()}diff(){return ws()}startOf(){return ws()}endOf(){return ws()}},Bz={_date:Vb};function Uz(t,e,n,i){let{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){let l=a._reversePixels?tT:ri;if(i){if(r._sharedOptions){let c=s[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){let d=l(s,e,n-u),h=l(s,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Ec(t,e,n,i,r){let s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){let{index:c,data:u}=s[a],{lo:d,hi:h}=Uz(s[a],e,o,r);for(let f=d;f<=h;++f){let p=u[f];p.skip||i(p,c,f)}}}function $z(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Ab(t,e,n,i,r){let s=[];return!r&&!t.isPointInArea(e)||Ec(t,n,e,function(a,l,c){!r&&!si(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function Hz(t,e,n,i){let r=[];function s(o,a,l){let{startAngle:c,endAngle:u}=o.getProps(["startAngle","endAngle"],i),{angle:d}=sb(o,{x:e.x,y:e.y});sa(d,c,u)&&r.push({element:o,datasetIndex:a,index:l})}return Ec(t,n,e,s),r}function zz(t,e,n,i,r,s){let o=[],a=$z(n),l=Number.POSITIVE_INFINITY;function c(u,d,h){let f=u.inRange(e.x,e.y,r);if(i&&!f)return;let p=u.getCenterPoint(r);if(!(!!s||t.isPointInArea(p))&&!f)return;let m=a(e,p);m<l?(o=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&o.push({element:u,datasetIndex:d,index:h})}return Ec(t,n,e,c),o}function Pb(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?Hz(t,e,n,r):zz(t,e,n,i,r,s)}function RT(t,e,n,i,r){let s=[],o=n==="x"?"inXRange":"inYRange",a=!1;return Ec(t,n,e,(l,c,u)=>{l[o](e[n],r)&&(s.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var Wz={evaluateInteractionItems:Ec,modes:{index(t,e,n,i){let r=Sr(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Ab(t,r,s,i,o):Pb(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){let r=Sr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1,a=n.intersect?Ab(t,r,s,i,o):Pb(t,r,s,!1,i,o);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){let r=Sr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Ab(t,r,s,i,o)},nearest(t,e,n,i){let r=Sr(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Pb(t,r,s,n.intersect,i,o)},x(t,e,n,i){let r=Sr(e,t);return RT(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=Sr(e,t);return RT(t,r,"y",n.intersect,i)}}},SA=["left","top","right","bottom"];function gc(t,e){return t.filter(n=>n.pos===e)}function kT(t,e){return t.filter(n=>SA.indexOf(n.pos)===-1&&n.box.axis===e)}function mc(t,e){return t.sort((n,i)=>{let r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Gz(t){let e=[],n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function qz(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:s}=n;if(!i||!SA.includes(r))continue;let o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function Yz(t,e){let n=qz(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];let{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function Kz(t){let e=Gz(t),n=mc(e.filter(c=>c.box.fullSize),!0),i=mc(gc(e,"left"),!0),r=mc(gc(e,"right")),s=mc(gc(e,"top"),!0),o=mc(gc(e,"bottom")),a=kT(e,"x"),l=kT(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:gc(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function OT(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function MA(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qz(t,e,n,i){let{pos:r,box:s}=n,o=t.maxPadding;if(!ie(r)){n.size&&(t[r]-=n.size);let d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&MA(o,s.getPadding());let a=Math.max(0,e.outerWidth-OT(o,t,"left","right")),l=Math.max(0,e.outerHeight-OT(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function Zz(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function Xz(t,e){let n=e.maxPadding;function i(r){let s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function _c(t,e,n,i){let r=[],s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,Xz(a.horizontal,e));let{same:d,other:h}=Qz(e,n,a,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&_c(r,e,n,i)||u}function Af(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function FT(t,e,n,i){let r=n.padding,{x:s,y:o}=e;for(let a of t){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=e.w*u,h=c.size||l.height;ia(c.start)&&(o=c.start),l.fullSize?Af(l,r.left,o,n.outerWidth-r.right-r.left,h):Af(l,e.left+c.placed,o,d,h),c.start=o,c.placed+=d,o=l.bottom}else{let d=e.h*u,h=c.size||l.width;ia(c.start)&&(s=c.start),l.fullSize?Af(l,s,r.top,h,n.outerHeight-r.bottom-r.top):Af(l,s,e.top+c.placed,h,d),c.start=s,c.placed+=d,s=l.right}}e.x=s,e.y=o}var Et={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=pt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=Kz(t.boxes),l=a.vertical,c=a.horizontal;ve(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),h=Object.assign({},r);MA(h,pt(i));let f=Object.assign({maxPadding:h,w:s,h:o,x:r.left,y:r.top},r),p=Yz(l.concat(c),d);_c(a.fullSize,f,d,p),_c(l,f,d,p),_c(c,f,d,p)&&_c(l,f,d,p),Zz(f),FT(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,FT(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},ve(a.chartArea,g=>{let m=g.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Bf=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},jb=class extends Bf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},Lf="$chartjs",Jz={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},LT=t=>t===null||t==="";function eW(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[Lf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",LT(r)){let s=wb(t,"width");s!==void 0&&(t.width=s)}if(LT(i))if(t.style.height==="")t.height=t.width/(e||2);else{let s=wb(t,"height");s!==void 0&&(t.height=s)}return t}var TA=vT?{passive:!0}:!1;function tW(t,e,n){t&&t.addEventListener(e,n,TA)}function nW(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,TA)}function iW(t,e){let n=Jz[t.type]||t.type,{x:i,y:r}=Sr(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Uf(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function rW(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Uf(a.addedNodes,i),o=o&&!Uf(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function sW(t,e,n){let i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(let a of s)o=o||Uf(a.removedNodes,i),o=o&&!Uf(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var Cc=new Map,VT=0;function AA(){let t=window.devicePixelRatio;t!==VT&&(VT=t,Cc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function oW(t,e){Cc.size||window.addEventListener("resize",AA),Cc.set(t,e)}function aW(t){Cc.delete(t),Cc.size||window.removeEventListener("resize",AA)}function lW(t,e,n){let i=t.canvas,r=i&&Mf(i);if(!r)return;let s=cb((a,l)=>{let c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||s(c,u)});return o.observe(r),oW(t,s),o}function Nb(t,e,n){n&&n.disconnect(),e==="resize"&&aW(t)}function cW(t,e,n){let i=t.canvas,r=cb(s=>{t.ctx!==null&&n(iW(s,t))},t);return tW(i,e,r),r}var Bb=class extends Bf{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(eW(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[Lf])return!1;let i=n[Lf].initial;["height","width"].forEach(s=>{let o=i[s];ae(o)?n.removeAttribute(s):n.setAttribute(s,o)});let r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[Lf],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),o={attach:rW,detach:sW,resize:lW}[n]||cW;r[n]=o(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:Nb,detach:Nb,resize:Nb}[n]||nW)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return yT(e,n,i,r)}isAttached(e){let n=Mf(e);return!!(n&&n.isConnected)}};function uW(t){return!Sf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?jb:Bb}var Fn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return bs(this.x)&&bs(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}};function dW(t,e){let n=t.options.ticks,i=hW(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?pW(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>r)return gW(e,c,s,o/r),c;let u=fW(s,e,r);if(o>0){let d,h,f=o>1?Math.round((l-a)/(o-1)):null;for(Pf(e,c,u,ae(f)?0:a-f,a),d=0,h=o-1;d<h;d++)Pf(e,c,u,s[d],s[d+1]);return Pf(e,c,u,l,ae(f)?e.length:l+f),c}return Pf(e,c,u),c}function hW(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function fW(t,e,n){let i=mW(t),r=e.length/n;if(!i)return Math.max(r,1);let s=XM(i);for(let o=0,a=s.length-1;o<a;o++){let l=s[o];if(l>r)return l}return Math.max(r,1)}function pW(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function gW(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Pf(t,e,n,i,r){let s=W(i,0),o=Math.min(W(r,t.length),t.length),a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=s;u<0;)a++,u=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===u&&(e.push(t[c]),a++,u=Math.round(s+a*n))}function mW(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var yW=t=>t==="left"?"right":t==="right"?"left":t,jT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,BT=(t,e)=>Math.min(e||t,t);function UT(t,e){let n=[],i=t.length/e,r=t.length,s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function vW(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6,l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-s,o-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<s-a||l>o+a)))return l}function _W(t,e){ve(t,n=>{let i=n.gc,r=i.length/2,s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function yc(t){return t.drawTicks?t.tickLength:0}function $T(t,e){if(!t.display)return 0;let n=et(t.font,e),i=pt(t.padding);return(Ae(t.text)?t.text.length:1)*n.lineHeight+i.height}function bW(t,e){return Vi(t,{scale:e,type:"scale"})}function CW(t,e,n){return Vi(t,{tick:n,index:e,type:"tick"})}function wW(t,e,n){let i=wf(t);return(n&&e!=="right"||!n&&e==="right")&&(i=yW(i)),i}function DW(t,e,n,i){let{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l,d=0,h,f,p,g=o-r,m=a-s;if(t.isHorizontal()){if(f=ft(i,s,a),ie(n)){let y=Object.keys(n)[0],v=n[y];p=u[y].getPixelForValue(v)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=jT(t,n,e);h=a-s}else{if(ie(n)){let y=Object.keys(n)[0],v=n[y];f=u[y].getPixelForValue(v)-m+e}else n==="center"?f=(c.left+c.right)/2-m+e:f=jT(t,n,e);p=ft(i,o,r),d=n==="left"?-ze:ze}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var Es=class t extends Fn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=zt(e,Number.POSITIVE_INFINITY),n=zt(n,Number.NEGATIVE_INFINITY),i=zt(i,Number.POSITIVE_INFINITY),r=zt(r,Number.NEGATIVE_INFINITY),{min:zt(e,i),max:zt(n,r),minDefined:Be(e),maxDefined:Be(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:zt(n,zt(i,n)),max:zt(i,zt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){xe(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=dT(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?UT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=dW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){xe(this.options.afterUpdate,[this])}beforeSetDimensions(){xe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){xe(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),xe(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){xe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=xe(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){xe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){xe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=BT(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation,o=r,a,l,c;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=it(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-yc(e.grid)-n.padding-$T(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),o=bf(Math.min(Math.asin(it((u.highest.height+6)/a,-1,1)),Math.asin(it(l/c,-1,1))-Math.asin(it(h/c,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){xe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){xe(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){let l=$T(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=yc(s)+l):(e.height=this.maxHeight,e.width=yc(s)+l),i.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=_n(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=i.mirror?0:m*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{let y=i.mirror?0:g*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):s==="start"?f=n.width:s==="end"?h=e.width:s!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+o)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+o)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;s==="start"?(u=0,d=e.height):s==="end"&&(u=n.height,d=0),this.paddingTop=u+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){xe(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ae(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=UT(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/BT(n,i)),c=0,u=0,d,h,f,p,g,m,y,v,_,w,C;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=m=g.string,y=s[m]=s[m]||{data:{},gc:[]},v=g.lineHeight,_=w=0,!ae(p)&&!Ae(p))_=cc(r,y.data,y.gc,_,p),w=v;else if(Ae(p))for(h=0,f=p.length;h<f;++h)C=p[h],!ae(C)&&!Ae(C)&&(_=cc(r,y.data,y.gc,_,C),w+=v);o.push(_),a.push(w),c=Math.max(_,c),u=Math.max(w,u)}_W(s,n);let E=o.indexOf(c),T=a.indexOf(u),M=F=>({width:o[F]||0,height:a[F]||0});return{first:M(0),last:M(n-1),widest:M(E),highest:M(T),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return eT(this._alignToPixels?Er(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=CW(this.getContext(),e,i))}return this.$context||(this.$context=bW(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=_n(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=yc(s),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(Re){return Er(i,Re,g)},v,_,w,C,E,T,M,F,G,K,re,lt;if(o==="top")v=y(this.bottom),T=this.bottom-h,F=v-m,K=y(e.top)+m,lt=e.bottom;else if(o==="bottom")v=y(this.top),K=e.top,lt=y(e.bottom)-m,T=v+m,F=this.top+h;else if(o==="left")v=y(this.right),E=this.right-h,M=v-m,G=y(e.left)+m,re=e.right;else if(o==="right")v=y(this.left),G=e.left,re=y(e.right)-m,E=v+m,M=this.left+h;else if(n==="x"){if(o==="center")v=y((e.top+e.bottom)/2+.5);else if(ie(o)){let Re=Object.keys(o)[0],We=o[Re];v=y(this.chart.scales[Re].getPixelForValue(We))}K=e.top,lt=e.bottom,T=v+m,F=T+h}else if(n==="y"){if(o==="center")v=y((e.left+e.right)/2);else if(ie(o)){let Re=Object.keys(o)[0],We=o[Re];v=y(this.chart.scales[Re].getPixelForValue(We))}E=v-m,M=E-h,G=e.left,re=e.right}let qt=W(r.ticks.maxTicksLimit,d),_e=Math.max(1,Math.ceil(d/qt));for(_=0;_<d;_+=_e){let Re=this.getContext(_),We=s.setContext(Re),bn=a.setContext(Re),gt=We.lineWidth,xs=We.color,xc=bn.dash||[],Is=bn.dashOffset,ha=We.tickWidth,Ar=We.tickColor,fa=We.tickBorderDash||[],Pr=We.tickBorderDashOffset;w=vW(this,_,l),w!==void 0&&(C=Er(i,w,gt),c?E=M=G=re=C:T=F=K=lt=C,f.push({tx1:E,ty1:T,tx2:M,ty2:F,x1:G,y1:K,x2:re,y2:lt,width:gt,color:xs,borderDash:xc,borderDashOffset:Is,tickWidth:ha,tickColor:Ar,tickBorderDash:fa,tickBorderDashOffset:Pr}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=s,h=yc(i.grid),f=h+u,p=d?-u:f,g=-_n(this.labelRotation),m=[],y,v,_,w,C,E,T,M,F,G,K,re,lt="middle";if(r==="top")E=this.bottom-p,T=this._getXAxisLabelAlignment();else if(r==="bottom")E=this.top+p,T=this._getXAxisLabelAlignment();else if(r==="left"){let _e=this._getYAxisLabelAlignment(h);T=_e.textAlign,C=_e.x}else if(r==="right"){let _e=this._getYAxisLabelAlignment(h);T=_e.textAlign,C=_e.x}else if(n==="x"){if(r==="center")E=(e.top+e.bottom)/2+f;else if(ie(r)){let _e=Object.keys(r)[0],Re=r[_e];E=this.chart.scales[_e].getPixelForValue(Re)+f}T=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")C=(e.left+e.right)/2-f;else if(ie(r)){let _e=Object.keys(r)[0],Re=r[_e];C=this.chart.scales[_e].getPixelForValue(Re)}T=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?lt="top":l==="end"&&(lt="bottom"));let qt=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){_=a[y],w=_.label;let _e=s.setContext(this.getContext(y));M=this.getPixelForTick(y)+s.labelOffset,F=this._resolveTickFontOptions(y),G=F.lineHeight,K=Ae(w)?w.length:1;let Re=K/2,We=_e.color,bn=_e.textStrokeColor,gt=_e.textStrokeWidth,xs=T;o?(C=M,T==="inner"&&(y===v-1?xs=this.options.reverse?"left":"right":y===0?xs=this.options.reverse?"right":"left":xs="center"),r==="top"?c==="near"||g!==0?re=-K*G+G/2:c==="center"?re=-qt.highest.height/2-Re*G+G:re=-qt.highest.height+G/2:c==="near"||g!==0?re=G/2:c==="center"?re=qt.highest.height/2-Re*G:re=qt.highest.height-K*G,d&&(re*=-1),g!==0&&!_e.showLabelBackdrop&&(C+=G/2*Math.sin(g))):(E=M,re=(1-K)*G/2);let xc;if(_e.showLabelBackdrop){let Is=pt(_e.backdropPadding),ha=qt.heights[y],Ar=qt.widths[y],fa=re-Is.top,Pr=0-Is.left;switch(lt){case"middle":fa-=ha/2;break;case"bottom":fa-=ha;break}switch(T){case"center":Pr-=Ar/2;break;case"right":Pr-=Ar;break;case"inner":y===v-1?Pr-=Ar:y>0&&(Pr-=Ar/2);break}xc={left:Pr,top:fa,width:Ar+Is.width,height:ha+Is.height,color:_e.backdropColor}}m.push({label:w,font:F,textOffset:re,options:{rotation:g,color:We,strokeColor:bn,strokeWidth:gt,textAlign:xs,textBaseline:lt,translation:[C,E],backdrop:xc}})}return m}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-_n(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width,c,u;return n==="left"?r?(u=this.right+s,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+s,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),s,o,a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){let l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,h;this.isHorizontal()?(c=Er(e,this.left,o)-o/2,u=Er(e,this.right,a)+a/2,d=h=l):(d=Er(e,this.top,o)-o/2,h=Er(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&hc(i,r);let s=this.getLabelItems(e);for(let o of s){let a=o.options,l=o.font,c=o.label,u=o.textOffset;xr(i,c,0,u,l,a)}r&&fc(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let s=et(i.font),o=pt(i.padding),a=i.align,l=s.lineHeight/2;n==="bottom"||n==="center"||ie(n)?(l+=o.bottom,Ae(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=DW(this,l,n,a);xr(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:h,textAlign:wW(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=W(e.grid&&e.grid.z,-1),r=W(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],s,o;for(s=0,o=n.length;s<o;++s){let a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return et(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},ua=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;IW(n)&&(i=this.register(n));let r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,EW(e,o,i),this.override&&Ue.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Ue[r]&&(delete Ue[r][i],this.override&&delete Dr[i])}};function EW(t,e,n){let i=ea(Object.create(null),[n?Ue.get(n):{},Ue.get(e),t.defaults]);Ue.set(e,i),t.defaultRoutes&&xW(e,t.defaultRoutes),t.descriptors&&Ue.describe(e,t.descriptors)}function xW(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Ue.route(s,r,l,a)})}function IW(t){return"id"in t&&"defaults"in t}var Ub=class{constructor(){this.controllers=new ua(Tr,"datasets",!0),this.elements=new ua(Fn,"elements"),this.plugins=new ua(Object,"plugins"),this.scales=new ua(Es,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):ve(r,o=>{let a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){let r=_f(e);xe(i["before"+r],[],i),n[e](i),xe(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},ci=new Ub,$b=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(let s of e){let o=s.plugin,a=o[i],l=[n,r,s.options];if(xe(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=W(i.options&&i.options.plugins,{}),s=SW(i);return r===!1&&!n?[]:TW(e,s,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function SW(t){let e={},n=[],i=Object.keys(ci.plugins.items);for(let s=0;s<i.length;s++)n.push(ci.getPlugin(i[s]));let r=t.plugins||[];for(let s=0;s<r.length;s++){let o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function MW(t,e){return!e&&t===!1?null:t===!0?{}:t}function TW(t,{plugins:e,localIds:n},i,r){let s=[],o=t.getContext();for(let a of e){let l=a.id,c=MW(i[l],r);c!==null&&s.push({plugin:a,options:AW(t.config,{plugin:a,local:n[l]},c,o)})}return s}function AW(t,{plugin:e,local:n},i,r){let s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hb(t,e){let n=Ue.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function PW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function NW(t,e){return t===e?"_index_":"_value_"}function HT(t){if(t==="x"||t==="y"||t==="r")return t}function RW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function zb(t,...e){if(HT(t))return t;for(let n of e){let i=n.axis||RW(n.position)||t.length>1&&HT(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function zT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function kW(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return zT(t,"x",n[0])||zT(t,"y",n[0])}return{}}function OW(t,e){let n=Dr[t.type]||{scales:{}},i=e.scales||{},r=Hb(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{let a=i[o];if(!ie(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);let l=zb(o,a,kW(o,t),Ue.scales[a.type]),c=NW(l,r),u=n.scales||{};s[o]=na(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(o=>{let a=o.type||t.type,l=o.indexAxis||Hb(a,e),u=(Dr[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=PW(d,l),f=o[h+"AxisID"]||h;s[f]=s[f]||Object.create(null),na(s[f],[{axis:h},i[f],u[d]])})}),Object.keys(s).forEach(o=>{let a=s[o];na(a,[Ue.scales[a.type],Ue.scale])}),s}function PA(t){let e=t.options||(t.options={});e.plugins=W(e.plugins,{}),e.scales=OW(t,e)}function NA(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function FW(t){return t=t||{},t.data=NA(t.data),PA(t),t}var WT=new Map,RA=new Set;function Nf(t,e){let n=WT.get(t);return n||(n=e(),WT.set(t,n),RA.add(n)),n}var vc=(t,e,n)=>{let i=Li(e,n);i!==void 0&&t.add(i)},Wb=class{constructor(e){this._config=FW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=NA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),PA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Nf(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Nf(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Nf(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return Nf(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;let l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>vc(l,e,d))),u.forEach(d=>vc(l,r,d)),u.forEach(d=>vc(l,Dr[s]||{},d)),u.forEach(d=>vc(l,Ue,d)),u.forEach(d=>vc(l,Df,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),RA.has(n)&&o.set(n,c),c}chartOptionScopes(){let{options:e,type:n}=this;return[e,Dr[n]||{},Ue.datasets[n]||{},{type:n},Ue,Df]}resolveNamedOptions(e,n,i,r=[""]){let s={$shared:!0},{resolver:o,subPrefixes:a}=GT(this._resolverCache,e,r),l=o;if(VW(o,n)){s.$shared=!1,i=Oi(i)?i():i;let c=this.createResolver(e,i,a);l=_s(o,i,c)}for(let c of n)s[c]=l[c];return s}createResolver(e,n,i=[""],r){let{resolver:s}=GT(this._resolverCache,e,i);return ie(n)?_s(s,n,void 0,r):s}};function GT(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),s=i.get(r);return s||(s={resolver:If(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}var LW=t=>ie(t)&&Object.getOwnPropertyNames(t).some(e=>Oi(t[e]));function VW(t,e){let{isScriptable:n,isIndexable:i}=yb(t);for(let r of e){let s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Oi(a)||LW(a))||o&&Ae(a))return!0}return!1}var jW="4.4.2",BW=["top","bottom","left","right","chartArea"];function qT(t,e){return t==="top"||t==="bottom"||BW.indexOf(t)===-1&&e==="x"}function YT(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function KT(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),xe(n&&n.onComplete,[t],e)}function UW(t){let e=t.chart,n=e.options.animation;xe(n&&n.onProgress,[t],e)}function kA(t){return Sf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Vf={},QT=t=>{let e=kA(t);return Object.values(Vf).filter(n=>n.canvas===e).pop()};function $W(t,e,n){let i=Object.keys(t);for(let r of i){let s=+r;if(s>=e){let o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function HW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Rf(t,e,n){return t.options.clip?t[n]:e[n]}function zW(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:Rf(n,e,"left"),right:Rf(n,e,"right"),top:Rf(i,e,"top"),bottom:Rf(i,e,"bottom")}:e}var Wf=(()=>{class t{static defaults=Ue;static instances=Vf;static overrides=Dr;static registry=ci;static version=jW;static getChart=QT;static register(...n){ci.add(...n),ZT()}static unregister(...n){ci.remove(...n),ZT()}constructor(n,i){let r=this.config=new Wb(i),s=kA(n),o=QT(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||uW(s)),this.platform.updateConfig(r);let l=this.platform.acquireContext(s,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=YM(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $b,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=sT(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Vf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}ji.listen(this,"complete",KT),ji.listen(this,"progress",UW),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:s,_aspectRatio:o}=this;return ae(n)?i&&o?o:s?r/s:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return ci}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Cb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pb(this.canvas,this.ctx),this}stop(){return ji.stop(this),this}resize(n,i){ji.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(s,n,i,o),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Cb(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),xe(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};ve(i,(r,s)=>{r.id=s})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,s=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),o=[];i&&(o=o.concat(Object.keys(i).map(a=>{let l=i[a],c=zb(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),ve(o,a=>{let l=a.options,c=l.id,u=zb(c,l),d=W(l.type,a.dtype);(l.position===void 0||qT(l.position,u)!==qT(a.dposition))&&(l.position=a.dposition),s[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{let f=ci.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,n)}),ve(s,(a,l)=>{a||delete r[l]}),ve(r,a=>{Et.configure(this,a,a.options),Et.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((s,o)=>s.index-o.index),r>i){for(let s=i;s<r;++s)this._destroyDatasetMeta(s);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(YT("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,s)=>{i.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,s;for(this._removeUnreferencedMetasets(),r=0,s=i.length;r<s;r++){let o=i[r],a=this.getDatasetMeta(r),l=o.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=o.indexAxis||Hb(l,this.options),a.order=o.order||0,a.index=r,a.label=""+o.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=ci.getController(l),{datasetElementType:u,dataElementType:d}=Ue.datasets[l];Object.assign(c,{dataElementType:ci.getElement(d),datasetElementType:u&&ci.getElement(u)}),a.controller=new c(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){ve(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!s&&o.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),s||ve(o,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(YT("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){ve(this.scales,n=>{Et.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!tb(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:s,count:o}of i){let a=r==="_removeElements"?-o:o;$W(n,s,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=o=>new Set(n.filter(a=>a[0]===o).map((a,l)=>l+","+a.splice(1).join(","))),s=r(0);for(let o=1;o<i;o++)if(!tb(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Et.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],ve(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Oi(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),s={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(i),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ji.has(this)?this.attached&&!ji.running(this)&&ji.start(this):(this.draw(),KT({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:s}=this._resizeBeforeDraw;this._resize(r,s),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],s,o;for(s=0,o=i.length;s<o;++s){let a=i[s];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r=n._clip,s=!r.disabled,o=zW(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(s&&hc(i,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),n.controller.draw(),s&&fc(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return si(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,s){let o=Wz.modes[i];return typeof o=="function"?o(this,n,r,s):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,s=r.filter(o=>o&&o._dataset===i).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=Vi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let s=r?"show":"hide",o=this.getDatasetMeta(n),a=o.controller._resolveAnimations(void 0,s);ia(i)?(o.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(o,{visible:r}),this.update(l=>l.datasetIndex===n?s:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),ji.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),pb(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Vf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(o,a)=>{i.addEventListener(this,o,a),n[o]=a},s=(o,a,l)=>{o.offsetX=a,o.offsetY=l,this._eventHandler(o)};ve(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(c,u)=>{i.addEventListener(this,c,u),n[c]=u},s=(c,u)=>{n[c]&&(i.removeEventListener(this,c,u),delete n[c])},o=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{s("attach",l),this.attached=!0,this.resize(),r("resize",o),r("detach",a)};a=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){ve(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},ve(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let s=r?"set":"remove",o,a,l,c;for(i==="dataset"&&(o=this.getDatasetMeta(n[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),l=0,c=n.length;l<c;++l){a=n[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[s+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:o,index:a})=>{let l=this.getDatasetMeta(o);if(!l)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:l.data[a],index:a}});!uc(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let s=this.options.hover,o=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=o(i,n),l=r?n:o(n,i);a.length&&this.updateHoverStyle(a,s.mode,!1),l.length&&s.mode&&this.updateHoverStyle(l,s.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},s=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;let o=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:s=[],options:o}=this,a=i,l=this._getActiveElements(n,s,r,a),c=ZM(n),u=HW(n,this._lastEvent,r,c);r&&(this._lastEvent=null,xe(o.onHover,[n,l,this],this),c&&xe(o.onClick,[n,l,this],this));let d=!uc(l,s);return(d||i)&&(this._active=l,this._updateHoverStyles(l,s,i)),this._lastEvent=u,d}_getActiveElements(n,i,r,s){if(n.type==="mouseout")return[];if(!r)return i;let o=this.options.hover;return this.getElementsAtEventForMode(n,o.mode,o,s)}}return t})();function ZT(){return ve(Wf.instances,t=>t._plugins.invalidate())}function WW(t,e,n){let{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e,c=r/a;t.beginPath(),t.arc(s,o,a,i-c,n+c),l>r?(c=r/l,t.arc(s,o,l,n+c,i-c,!0)):t.arc(s,o,r,n+ze,i-ze),t.closePath(),t.clip()}function GW(t){return xf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function qW(t,e,n,i){let r=GW(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{let c=(n-Math.min(s,l))*i/2;return it(l,0,Math.min(s,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:it(r.innerStart,0,o),innerEnd:it(r.innerEnd,0,o)}}function ca(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function $f(t,e,n,i,r,s){let{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0,f=0,p=r-l;if(i){let _e=u>0?u-i:0,Re=d>0?d-i:0,We=(_e+Re)/2,bn=We!==0?p*We/(We+i):p;f=(p-bn)/2}let g=Math.max(.001,p*d-n/Pe)/d,m=(p-g)/2,y=l+m+f,v=r-m-f,{outerStart:_,outerEnd:w,innerStart:C,innerEnd:E}=qW(e,h,d,v-y),T=d-_,M=d-w,F=y+_/T,G=v-w/M,K=h+C,re=h+E,lt=y+C/K,qt=v-E/re;if(t.beginPath(),s){let _e=(F+G)/2;if(t.arc(o,a,d,F,_e),t.arc(o,a,d,_e,G),w>0){let gt=ca(M,G,o,a);t.arc(gt.x,gt.y,w,G,v+ze)}let Re=ca(re,v,o,a);if(t.lineTo(Re.x,Re.y),E>0){let gt=ca(re,qt,o,a);t.arc(gt.x,gt.y,E,v+ze,qt+Math.PI)}let We=(v-E/h+(y+C/h))/2;if(t.arc(o,a,h,v-E/h,We,!0),t.arc(o,a,h,We,y+C/h,!0),C>0){let gt=ca(K,lt,o,a);t.arc(gt.x,gt.y,C,lt+Math.PI,y-ze)}let bn=ca(T,y,o,a);if(t.lineTo(bn.x,bn.y),_>0){let gt=ca(T,F,o,a);t.arc(gt.x,gt.y,_,y-ze,F)}}else{t.moveTo(o,a);let _e=Math.cos(F)*d+o,Re=Math.sin(F)*d+a;t.lineTo(_e,Re);let We=Math.cos(G)*d+o,bn=Math.sin(G)*d+a;t.lineTo(We,bn)}t.closePath()}function YW(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a}=e,l=e.endAngle;if(s){$f(t,e,n,i,l,r);for(let c=0;c<s;++c)t.fill();isNaN(a)||(l=o+(a%Ne||Ne))}return $f(t,e,n,i,l,r),t.fill(),l}function KW(t,e,n,i,r){let{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){$f(t,e,n,i,p,r);for(let g=0;g<s;++g)t.stroke();isNaN(a)||(p=o+(a%Ne||Ne))}f&&WW(t,e,p),s||($f(t,e,n,i,p,r),t.stroke())}var Gb=class extends Fn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:s,distance:o}=sb(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,p=W(d,l-a)>=Ne||sa(s,a,l),g=ai(o,c+h,u+h);return p&&g}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+s)/2,d=(o+a+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,s=(n.spacing||0)/2,o=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Ne?Math.floor(i/Ne):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Pe,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,YW(e,this,c,s,o),KW(e,this,c,s,o),e.restore()}};function OA(t,e,n=e){t.lineCap=W(n.borderCapStyle,e.borderCapStyle),t.setLineDash(W(n.borderDash,e.borderDash)),t.lineDashOffset=W(n.borderDashOffset,e.borderDashOffset),t.lineJoin=W(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=W(n.borderWidth,e.borderWidth),t.strokeStyle=W(n.borderColor,e.borderColor)}function QW(t,e,n){t.lineTo(n.x,n.y)}function ZW(t){return t.stepped?cT:t.tension||t.cubicInterpolationMode==="monotone"?uT:QW}function FA(t,e,n={}){let i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),c=Math.min(s,a),u=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function XW(t,e,n,i){let{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:c}=FA(r,n,i),u=ZW(s),{move:d=!0,reverse:h}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%o],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,s.stepped),g=p);return l&&(p=r[(a+(h?c:0))%o],u(t,g,p,h,s.stepped)),!!l}function JW(t,e,n,i){let r=e.points,{count:s,start:o,ilen:a}=FA(r,n,i),{move:l=!0,reverse:c}=i||{},u=0,d=0,h,f,p,g,m,y,v=w=>(o+(c?a-w:w))%s,_=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=r[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[v(h)],f.skip)continue;let w=f.x,C=f.y,E=w|0;E===p?(C<g?g=C:C>m&&(m=C),u=(d*u+w)/++d):(_(),t.lineTo(w,C),p=E,d=0,g=m=C),y=C}_()}function qb(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?JW:XW}function e3(t){return t.stepped?_T:t.tension||t.cubicInterpolationMode==="monotone"?bT:wr}function t3(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),OA(t,e.options),t.stroke(r)}function n3(t,e,n,i){let{segments:r,options:s}=e,o=qb(e);for(let a of r)OA(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var i3=typeof Path2D=="function";function r3(t,e,n,i){i3&&!e.options.segment?t3(t,e,n,i):n3(t,e,n,i)}var Gf=(()=>{class t extends Fn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let s=r.spanGaps?this._loop:this._fullLoop;mT(this._points,r,n,s,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=wT(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,s=n[i],o=this.points,a=Ib(this,{property:i,start:s,end:s});if(!a.length)return;let l=[],c=e3(r),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=o[h],g=o[f];if(p===g){l.push(p);continue}let m=Math.abs((s-p[i])/(g[i]-p[i])),y=c(p,g,m,r.stepped);y[i]=n[i],l.push(y)}return l.length===1?l[0]:l}pathSegment(n,i,r){return qb(this)(n,this,i,r)}path(n,i,r){let s=this.segments,o=qb(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of s)a&=o(n,this,l,{start:i,end:i+r-1});return!!a}draw(n,i,r,s){let o=this.options||{};(this.points||[]).length&&o.borderWidth&&(n.save(),r3(n,this,r,s),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function XT(t,e,n,i){let r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}var s3=(()=>{class t extends Fn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return XT(this,n,"x",i)}inYRange(n,i){return XT(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!si(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Ef(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function LA(t,e){let{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e),a,l,c,u,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=s/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function Mr(t,e,n,i){return t?0:it(e,n,i)}function o3(t,e,n){let i=t.options.borderWidth,r=t.borderSkipped,s=mb(i);return{t:Mr(r.top,s.top,0,n),r:Mr(r.right,s.right,0,e),b:Mr(r.bottom,s.bottom,0,n),l:Mr(r.left,s.left,0,e)}}function a3(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=Ir(r),o=Math.min(e,n),a=t.borderSkipped,l=i||ie(r);return{topLeft:Mr(!l||a.top||a.left,s.topLeft,0,o),topRight:Mr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:Mr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:Mr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function l3(t){let e=LA(t),n=e.right-e.left,i=e.bottom-e.top,r=o3(t,n/2,i/2),s=a3(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Rb(t,e,n,i){let r=e===null,s=n===null,a=t&&!(r&&s)&&LA(t,i);return a&&(r||ai(e,a.left,a.right))&&(s||ai(n,a.top,a.bottom))}function c3(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function u3(t,e){t.rect(e.x,e.y,e.w,e.h)}function kb(t,e,n={}){let i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}var Yb=class extends Fn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=l3(this),a=c3(o.radius)?aa:u3;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,kb(o,n,s)),e.clip(),a(e,kb(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,kb(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Rb(this,e,n,i)}inXRange(e,n){return Rb(this,e,null,n)}inYRange(e,n){return Rb(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},d3=Object.freeze({__proto__:null,ArcElement:Gb,BarElement:Yb,LineElement:Gf,PointElement:s3}),Kb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],JT=Kb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function VA(t){return Kb[t%Kb.length]}function jA(t){return JT[t%JT.length]}function h3(t,e){return t.borderColor=VA(e),t.backgroundColor=jA(e),++e}function f3(t,e){return t.backgroundColor=t.data.map(()=>VA(e++)),e}function p3(t,e){return t.backgroundColor=t.data.map(()=>jA(e++)),e}function g3(t){let e=0;return(n,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof i0?e=f3(n,e):r instanceof IA?e=p3(n,e):r&&(e=h3(n,e))}}function eA(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function m3(t){return t&&(t.borderColor||t.backgroundColor)}var y3={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:s}=r;if(!n.forceOverride&&(eA(i)||m3(r)||s&&eA(s)))return;let o=g3(t);i.forEach(o)}};function v3(t,e,n,i,r){let s=r.samples||i;if(s>=n)return t.slice(e,e+n);let o=[],a=(n-2)/(s-2),l=0,c=e+n-1,u=e,d,h,f,p,g;for(o[l++]=t[u],d=0;d<s-2;d++){let m=0,y=0,v,_=Math.floor((d+1)*a)+1+e,w=Math.min(Math.floor((d+2)*a)+1,n)+e,C=w-_;for(v=_;v<w;v++)m+=t[v].x,y+=t[v].y;m/=C,y/=C;let E=Math.floor(d*a)+1+e,T=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:M,y:F}=t[u];for(f=p=-1,v=E;v<T;v++)p=.5*Math.abs((M-m)*(t[v].y-F)-(M-t[v].x)*(y-F)),p>f&&(f=p,h=t[v],g=v);o[l++]=h,u=g}return o[l++]=t[c],o}function _3(t,e,n,i){let r=0,s=0,o,a,l,c,u,d,h,f,p,g,m=[],y=e+n-1,v=t[e].x,w=t[y].x-v;for(o=e;o<e+n;++o){a=t[o],l=(a.x-v)/w*i,c=a.y;let C=l|0;if(C===u)c<p?(p=c,d=o):c>g&&(g=c,h=o),r=(s*r+a.x)/++s;else{let E=o-1;if(!ae(d)&&!ae(h)){let T=Math.min(d,h),M=Math.max(d,h);T!==f&&T!==E&&m.push(le(P({},t[T]),{x:r})),M!==f&&M!==E&&m.push(le(P({},t[M]),{x:r}))}o>0&&E!==f&&m.push(t[E]),m.push(a),u=C,s=0,p=g=c,d=h=f=o}}return m}function BA(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function tA(t){t.data.datasets.forEach(e=>{BA(e)})}function b3(t,e){let n=e.length,i=0,r,{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=it(ri(e,s.axis,o).lo,0,n-1)),c?r=it(ri(e,s.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var C3={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){tA(t);return}let i=t.width;t.data.datasets.forEach((r,s)=>{let{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),c=o||r.data;if(la([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=b3(l,c),f=n.threshold||4*i;if(h<=f){BA(r);return}ae(o)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=v3(c,d,h,i,n);break;case"min-max":p=_3(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){tA(t)}};function w3(t,e,n){let i=t.segments,r=t.points,s=e.points,o=[];for(let a of i){let{start:l,end:c}=a;c=r0(l,c,r);let u=Qb(n,r[l],r[c],a.loop);if(!e.segments){o.push({source:a,target:u,start:r[l],end:r[c]});continue}let d=Ib(e,u);for(let h of d){let f=Qb(n,s[h.start],s[h.end],h.loop),p=xb(a,r,f);for(let g of p)o.push({source:g,target:h,start:{[n]:nA(u,f,"start",Math.max)},end:{[n]:nA(u,f,"end",Math.min)}})}}return o}function Qb(t,e,n,i){if(i)return;let r=e[t],s=n[t];return t==="angle"&&(r=Ht(r),s=Ht(s)),{property:t,start:r,end:s}}function D3(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,s=[];return e.segments.forEach(({start:o,end:a})=>{a=r0(o,a,r);let l=r[o],c=r[a];i!==null?(s.push({x:l.x,y:i}),s.push({x:c.x,y:i})):n!==null&&(s.push({x:n,y:l.y}),s.push({x:n,y:c.y}))}),s}function r0(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function nA(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function UA(t,e){let n=[],i=!1;return Ae(t)?(i=!0,n=t):n=D3(t,e),n.length?new Gf({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function iA(t){return t&&t.fill!==!1}function E3(t,e,n){let r=t[e].fill,s=[e],o;if(!n)return r;for(;r!==!1&&s.indexOf(r)===-1;){if(!Be(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function x3(t,e,n){let i=T3(t);if(ie(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return Be(r)&&Math.floor(r)===r?I3(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function I3(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function S3(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ie(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function M3(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ie(t)?i=t.value:i=e.getBaseValue(),i}function T3(t){let e=t.options,n=e.fill,i=W(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function A3(t){let{scale:e,index:n,line:i}=t,r=[],s=i.segments,o=i.points,a=P3(e,n);a.push(UA({x:null,y:e.bottom},i));for(let l=0;l<s.length;l++){let c=s[l];for(let u=c.start;u<=c.end;u++)N3(r,o[u],a)}return new Gf({points:r,options:{}})}function P3(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let s=i[r];if(s.index===e)break;s.hidden||n.unshift(s.dataset)}return n}function N3(t,e,n){let i=[];for(let r=0;r<n.length;r++){let s=n[r],{first:o,last:a,point:l}=R3(s,e,"x");if(!(!l||o&&a)){if(o)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function R3(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],s=t.segments,o=t.points,a=!1,l=!1;for(let c=0;c<s.length;c++){let u=s[c],d=o[u.start][n],h=o[u.end][n];if(ai(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:i}}var Hf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:s,radius:o}=this;return n=n||{start:0,end:Ne},e.arc(r,s,o,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,s=e.angle;return{x:n+Math.cos(s)*r,y:i+Math.sin(s)*r,angle:s}}};function k3(t){let{chart:e,fill:n,line:i}=t;if(Be(n))return O3(e,n);if(n==="stack")return A3(t);if(n==="shape")return!0;let r=F3(t);return r instanceof Hf?r:UA(r,i)}function O3(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function F3(t){return(t.scale||{}).getPointPositionForValue?V3(t):L3(t)}function L3(t){let{scale:e={},fill:n}=t,i=S3(n,e);if(Be(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function V3(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,s=i.reverse?e.max:e.min,o=M3(n,e,s),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,s);return new Hf({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,o));return a}function Ob(t,e,n){let i=k3(e),{line:r,scale:s,axis:o}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(hc(t,n),j3(t,{line:r,target:i,above:u,below:d,area:n,scale:s,axis:o}),fc(t))}function j3(t,e){let{line:n,target:i,above:r,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&s!==r&&(rA(t,i,o.top),sA(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),rA(t,i,o.bottom)),sA(t,{line:n,target:i,color:s,scale:a,property:l}),t.restore()}function rA(t,e,n){let{segments:i,points:r}=e,s=!0,o=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,u=r[l],d=r[r0(l,c,r)];s?(t.moveTo(u.x,u.y),s=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function sA(t,e){let{line:n,target:i,property:r,color:s,scale:o}=e,a=w3(n,i,r);for(let{source:l,target:c,start:u,end:d}of a){let{style:{backgroundColor:h=s}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,B3(t,o,f&&Qb(r,u,d)),t.beginPath();let p=!!n.pathSegment(t,l),g;if(f){p?t.closePath():oA(t,i,d,r);let m=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&m,g||oA(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function B3(t,e,n){let{top:i,bottom:r}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};s==="x"&&(t.beginPath(),t.rect(o,i,a-o,r-i),t.clip())}function oA(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var U3={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],s,o,a,l;for(o=0;o<i;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Gf&&(l={visible:t.isDatasetVisible(o),index:o,fill:x3(a,o,i),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<i;++o)l=r[o],!(!l||l.fill===!1)&&(l.fill=E3(r,o,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){let a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),i&&a.fill&&Ob(t.ctx,a,s))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let s=i[r].$filler;iA(s)&&Ob(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!iA(i)||n.drawTime!=="beforeDatasetDraw"||Ob(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},aA=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},$3=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,zf=class extends Fn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=xe(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=et(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=aA(i,s),c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(o,s,a,l)+10):(u=this.maxHeight,c=this._fitCols(o,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){let{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a,d=e;s.textAlign="left",s.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=i+n/2+s.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>o)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:m,height:r},c[c.length-1]+=m+a}),d}_fitCols(e,n,i,r){let{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=o-e,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:_}=H3(i,n,s,m,r);y>0&&f+_+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:v,height:_},h=Math.max(h,v),f+=_+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=Cs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=ft(i,this.left+r,this.right-this.lineWidths[a]);for(let c of n)a!==c.row&&(a=c.row,l=ft(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+r}else{let a=0,l=ft(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of n)c.col!==a&&(a=c.col,l=ft(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;hc(e,this),this._draw(),fc(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Ue.color,l=Cs(e.rtl,this.left,this.width),c=et(o.font),{padding:u}=o,d=c.size,h=d/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=aA(o,d),y=function(E,T,M){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();let F=W(M.lineWidth,1);if(r.fillStyle=W(M.fillStyle,a),r.lineCap=W(M.lineCap,"butt"),r.lineDashOffset=W(M.lineDashOffset,0),r.lineJoin=W(M.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=W(M.strokeStyle,a),r.setLineDash(W(M.lineDash,[])),o.usePointStyle){let G={radius:g*Math.SQRT2/2,pointStyle:M.pointStyle,rotation:M.rotation,borderWidth:F},K=l.xPlus(E,p/2),re=T+h;gb(r,G,K,re,o.pointStyleWidth&&p)}else{let G=T+Math.max((d-g)/2,0),K=l.leftForLtr(E,p),re=Ir(M.borderRadius);r.beginPath(),Object.values(re).some(lt=>lt!==0)?aa(r,{x:K,y:G,w:p,h:g,radius:re}):r.rect(K,G,p,g),r.fill(),F!==0&&r.stroke()}r.restore()},v=function(E,T,M){xr(r,M.text,E,T+m/2,c,{strikethrough:M.hidden,textAlign:l.textAlign(M.textAlign)})},_=this.isHorizontal(),w=this._computeTitleHeight();_?f={x:ft(s,this.left+u,this.right-i[0]),y:this.top+u+w,line:0}:f={x:this.left+u,y:ft(s,this.top+w+u,this.bottom-n[0].height),line:0},Db(this.ctx,e.textDirection);let C=m+u;this.legendItems.forEach((E,T)=>{r.strokeStyle=E.fontColor,r.fillStyle=E.fontColor;let M=r.measureText(E.text).width,F=l.textAlign(E.textAlign||(E.textAlign=o.textAlign)),G=p+h+M,K=f.x,re=f.y;l.setWidth(this.width),_?T>0&&K+G+u>this.right&&(re=f.y+=C,f.line++,K=f.x=ft(s,this.left+u,this.right-i[f.line])):T>0&&re+C>this.bottom&&(K=f.x=K+n[f.line].width+u,f.line++,re=f.y=ft(s,this.top+w+u,this.bottom-n[f.line].height));let lt=l.x(K);if(y(lt,re,E),K=oT(F,K+p+h,_?K+G:this.right,e.rtl),v(l.x(K),re,E),_)f.x+=G+u;else if(typeof E.text!="string"){let qt=c.lineHeight;f.y+=$A(E,qt)+u}else f.y+=C}),Eb(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=et(n.font),r=pt(n.padding);if(!n.display)return;let s=Cs(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,c=r.top+l,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=ft(e.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+ft(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let f=ft(a,d,d+h);o.textAlign=s.textAlign(wf(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,xr(o,n.text,f,u,i)}_computeTitleHeight(){let e=this.options.title,n=et(e.font),i=pt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(ai(e,this.left,this.right)&&ai(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],ai(e,r.left,r.left+r.width)&&ai(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!G3(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,s=$3(r,i);r&&!s&&xe(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&xe(n.onHover,[e,i,this],this)}else i&&xe(n.onClick,[e,i,this],this)}};function H3(t,e,n,i,r){let s=z3(i,t,e,n),o=W3(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function z3(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function W3(t,e,n){let i=t;return typeof e.text!="string"&&(i=$A(e,n)),i}function $A(t,e){let n=t.text?t.text.length:0;return e*n}function G3(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var q3={id:"legend",_element:zf,start(t,e,n){let i=t.legend=new zf({ctx:t.ctx,options:n,chart:t});Et.configure(t,i,n),Et.addBox(t,i)},stop(t){Et.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;Et.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(n?0:void 0),u=pt(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},wc=class extends Fn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=Ae(i.text)?i.text.length:1;this._padding=pt(i.padding);let s=r*et(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align,l=0,c,u,d;return this.isHorizontal()?(u=ft(a,i,s),d=n+e,c=s-i):(o.position==="left"?(u=i+e,d=ft(a,r,n),l=Pe*-.5):(u=s-e,d=ft(a,n,r),l=Pe*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=et(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);xr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:wf(n.align),textBaseline:"middle",translation:[o,a]})}};function Y3(t,e){let n=new wc({ctx:t.ctx,options:e,chart:t});Et.configure(t,n,e),Et.addBox(t,n),t.titleBlock=n}var K3={id:"title",_element:wc,start(t,e,n){Y3(t,n)},stop(t){let e=t.titleBlock;Et.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;Et.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},kf=new WeakMap,Q3={id:"subtitle",start(t,e,n){let i=new wc({ctx:t.ctx,options:n,chart:t});Et.configure(t,i,n),Et.addBox(t,i),kf.set(t,i)},stop(t){Et.removeBox(t,kf.get(t)),kf.delete(t)},beforeUpdate(t,e,n){let i=kf.get(t);Et.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},bc={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){let l=t[s].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=yf(e,c);u<r&&(r=u,a=l)}}if(a){let l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function li(t,e){return e&&(Ae(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Bi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Z3(t,e){let{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function lA(t,e){let n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=et(e.bodyFont),c=et(e.titleFont),u=et(e.footerFont),d=s.length,h=r.length,f=i.length,p=pt(e.padding),g=p.height,m=0,y=i.reduce((w,C)=>w+C.before.length+C.lines.length+C.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){let w=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*w+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0,_=function(w){m=Math.max(m,n.measureText(w).width+v)};return n.save(),n.font=c.string,ve(t.title,_),n.font=l.string,ve(t.beforeBody.concat(t.afterBody),_),v=e.displayColors?o+2+e.boxPadding:0,ve(i,w=>{ve(w.before,_),ve(w.lines,_),ve(w.after,_)}),v=0,n.font=u.string,ve(t.footer,_),n.restore(),m+=p.width,{width:m,height:g}}function X3(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function J3(t,e,n,i){let{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function e4(t,e,n,i){let{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=s/2?c="left":r>=o-s/2&&(c="right"),J3(c,t,e,n)&&(c="center"),c}function cA(t,e,n){let i=n.yAlign||e.yAlign||X3(t,n);return{xAlign:n.xAlign||e.xAlign||e4(t,e,n,i),yAlign:i}}function t4(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function n4(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function uA(t,e,n,i){let{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=r+s,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Ir(o),p=t4(e,a),g=n4(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:it(p,0,i.width-e.width),y:it(g,0,i.height-e.height)}}function Of(t,e,n){let i=pt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function dA(t){return li([],Bi(t))}function i4(t,e,n){return Vi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function hA(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var HA={beforeTitle:oi,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:oi,beforeBody:oi,beforeLabel:oi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return ae(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:oi,afterBody:oi,beforeFooter:oi,footer:oi,afterFooter:oi};function Wt(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?HA[e].call(n,i):r}var fA=(()=>{class t extends Fn{static positioners=bc;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&i.options.animation&&r.animations,o=new jf(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=i4(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,s=Wt(r,"beforeTitle",this,n),o=Wt(r,"title",this,n),a=Wt(r,"afterTitle",this,n),l=[];return l=li(l,Bi(s)),l=li(l,Bi(o)),l=li(l,Bi(a)),l}getBeforeBody(n,i){return dA(Wt(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,s=[];return ve(n,o=>{let a={before:[],lines:[],after:[]},l=hA(r,o);li(a.before,Bi(Wt(l,"beforeLabel",this,o))),li(a.lines,Wt(l,"label",this,o)),li(a.after,Bi(Wt(l,"afterLabel",this,o))),s.push(a)}),s}getAfterBody(n,i){return dA(Wt(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,s=Wt(r,"beforeFooter",this,n),o=Wt(r,"footer",this,n),a=Wt(r,"afterFooter",this,n),l=[];return l=li(l,Bi(s)),l=li(l,Bi(o)),l=li(l,Bi(a)),l}_createItems(n){let i=this._active,r=this.chart.data,s=[],o=[],a=[],l=[],c,u;for(c=0,u=i.length;c<u;++c)l.push(Z3(this.chart,i[c]));return n.filter&&(l=l.filter((d,h,f)=>n.filter(d,h,f,r))),n.itemSort&&(l=l.sort((d,h)=>n.itemSort(d,h,r))),ve(l,d=>{let h=hA(n.callbacks,d);s.push(Wt(h,"labelColor",this,d)),o.push(Wt(h,"labelPointStyle",this,d)),a.push(Wt(h,"labelTextColor",this,d))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(n,i){let r=this.options.setContext(this.getContext()),s=this._active,o,a=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{let l=bc[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=lA(this,r),u=Object.assign({},l,c),d=cA(this.chart,r,u),h=uA(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,o={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,s){let o=this.getCaretPosition(n,r,s);i.lineTo(o.x1,o.y1),i.lineTo(o.x2,o.y2),i.lineTo(o.x3,o.y3)}getCaretPosition(n,i,r){let{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Ir(l),{x:f,y:p}=n,{width:g,height:m}=i,y,v,_,w,C,E;return o==="center"?(C=p+m/2,s==="left"?(y=f,v=y-a,w=C+a,E=C-a):(y=f+g,v=y+a,w=C-a,E=C+a),_=y):(s==="left"?v=f+Math.max(c,d)+a:s==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,o==="top"?(w=p,C=w-a,y=v-a,_=v+a):(w=p+m,C=w+a,y=v+a,_=v-a),E=w),{x1:y,x2:v,x3:_,y1:w,y2:C,y3:E}}drawTitle(n,i,r){let s=this.title,o=s.length,a,l,c;if(o){let u=Cs(r.rtl,this.x,this.width);for(n.x=Of(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=et(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<o;++c)i.fillText(s[c],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+l,c+1===o&&(n.y+=r.titleMarginBottom-l)}}_drawColorBox(n,i,r,s,o){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=o,d=et(o.bodyFont),h=Of(this,"left",o),f=s.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=i.y+p;if(o.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=s.leftForLtr(f,u)+u/2,v=g+c/2;n.strokeStyle=o.multiKeyBackground,n.fillStyle=o.multiKeyBackground,Ef(n,m,y,v),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Ef(n,m,y,v)}else{n.lineWidth=ie(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let m=s.leftForLtr(f,u),y=s.leftForLtr(s.xPlus(f,1),u-2),v=Ir(a.borderRadius);Object.values(v).some(_=>_!==0)?(n.beginPath(),n.fillStyle=o.multiKeyBackground,aa(n,{x:m,y:g,w:u,h:c,radius:v}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),aa(n,{x:y,y:g+1,w:u-2,h:c-2,radius:v}),n.fill()):(n.fillStyle=o.multiKeyBackground,n.fillRect(m,g,u,c),n.strokeRect(m,g,u,c),n.fillStyle=a.backgroundColor,n.fillRect(y,g+1,u-2,c-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=et(r.bodyFont),f=h.lineHeight,p=0,g=Cs(r.rtl,this.x,this.width),m=function(F){i.fillText(F,g.x(n.x+p),n.y+f/2),n.y+=f+o},y=g.textAlign(a),v,_,w,C,E,T,M;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,n.x=Of(this,y,r),i.fillStyle=r.bodyColor,ve(this.beforeBody,m),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,C=0,T=s.length;C<T;++C){for(v=s[C],_=this.labelTextColors[C],i.fillStyle=_,ve(v.before,m),w=v.lines,l&&w.length&&(this._drawColorBox(i,n,C,g,r),f=Math.max(h.lineHeight,c)),E=0,M=w.length;E<M;++E)m(w[E]),f=h.lineHeight;ve(v.after,m)}p=0,f=h.lineHeight,ve(this.afterBody,m),n.y-=o}drawFooter(n,i,r){let s=this.footer,o=s.length,a,l;if(o){let c=Cs(r.rtl,this.x,this.width);for(n.x=Of(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=et(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<o;++l)i.fillText(s[l],c.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,s){let{xAlign:o,yAlign:a}=this,{x:l,y:c}=n,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Ir(s.cornerRadius);i.fillStyle=s.backgroundColor,i.strokeStyle=s.borderColor,i.lineWidth=s.borderWidth,i.beginPath(),i.moveTo(l+h,c),a==="top"&&this.drawCaret(n,i,r,s),i.lineTo(l+u-f,c),i.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&o==="right"&&this.drawCaret(n,i,r,s),i.lineTo(l+u,c+d-g),i.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(n,i,r,s),i.lineTo(l+p,c+d),i.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&o==="left"&&this.drawCaret(n,i,r,s),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),s.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){let a=bc[n.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=lA(this,n),c=Object.assign({},a,this._size),u=cA(i,n,c),d=uA(n,c,u,i);(s._to!==d.x||o._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=pt(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(n.save(),n.globalAlpha=r,this.drawBackground(o,n,s,i),Db(n,i.textDirection),o.y+=a.top,this.drawTitle(o,n,i),this.drawBody(o,n,i),this.drawFooter(o,n,i),Eb(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,s=n.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),o=!uc(r,s),a=this._positionChanged(s,i);(o||a)&&(this._active=s,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let s=this.options,o=this._active||[],a=this._getActiveElements(n,o,i,r),l=this._positionChanged(a,n),c=i||!uc(a,o)||l;return c&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),c}_getActiveElements(n,i,r,s){let o=this.options;if(n.type==="mouseout")return[];if(!s)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:s,options:o}=this,a=bc[o.position].call(this,n,i);return a!==!1&&(r!==a.x||s!==a.y)}}return t})(),r4={id:"tooltip",_element:fA,positioners:bc,afterInit(t,e,n){n&&(t.tooltip=new fA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",le(P({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},s4=Object.freeze({__proto__:null,Colors:y3,Decimation:C3,Filler:U3,Legend:q3,SubTitle:Q3,Title:K3,Tooltip:r4}),o4=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function a4(t,e,n,i){let r=t.indexOf(e);if(r===-1)return o4(t,e,n,i);let s=t.lastIndexOf(e);return r!==s?n:r}var l4=(t,e)=>t===null?null:it(Math.round(t),0,e);function pA(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var c4=(()=>{class t extends Es{static id="category";static defaults={ticks:{callback:pA}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:s,label:o}of i)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(ae(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:a4(r,n,W(i,n),this._addedLabels),l4(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,s=[],o=this.getLabels();o=n===0&&i===o.length-1?o:o.slice(n,i+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)s.push({value:a});return s}getLabelForValue(n){return pA.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function u4(t,e){let n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=s||1,p=u-1,{min:g,max:m}=e,y=!ae(o),v=!ae(a),_=!ae(c),w=(m-g)/(d+1),C=nb((m-g)/p/f)*f,E,T,M,F;if(C<1e-14&&!y&&!v)return[{value:g},{value:m}];F=Math.ceil(m/C)-Math.floor(g/C),F>p&&(C=nb(F*C/p/f)*f),ae(l)||(E=Math.pow(10,l),C=Math.ceil(C*E)/E),r==="ticks"?(T=Math.floor(g/C)*C,M=Math.ceil(m/C)*C):(T=g,M=m),y&&v&&s&&JM((a-o)/s,C/1e3)?(F=Math.round(Math.min((a-o)/C,u)),C=(a-o)/F,T=o,M=a):_?(T=y?o:T,M=v?a:M,F=c-1,C=(M-T)/F):(F=(M-T)/C,ra(F,Math.round(F),C/1e3)?F=Math.round(F):F=Math.ceil(F));let G=Math.max(rb(C),rb(T));E=Math.pow(10,ae(l)?G:l),T=Math.round(T*E)/E,M=Math.round(M*E)/E;let K=0;for(y&&(h&&T!==o?(n.push({value:o}),T<o&&K++,ra(Math.round((T+K*C)*E)/E,o,gA(o,w,t))&&K++):T<o&&K++);K<F;++K){let re=Math.round((T+K*C)*E)/E;if(v&&re>a)break;n.push({value:re})}return v&&h&&M!==a?n.length&&ra(n[n.length-1].value,a,gA(a,w,t))?n[n.length-1].value=a:n.push({value:a}):(!v||M===a)&&n.push({value:M}),n}function gA(t,e,{horizontal:n,minRotation:i}){let r=_n(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}var da=class extends Es{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ae(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:s}=this,o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){let l=On(r),c=On(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=u4(r,s);return e.bounds==="ticks"&&ib(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return oa(e,this.chart.options.locale,this.options.ticks.format)}},Zb=class extends da{static id="linear";static defaults={ticks:{callback:dc.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Be(e)?e:0,this.max=Be(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=_n(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},Dc=t=>Math.floor(Fi(t)),Ds=(t,e)=>Math.pow(10,Dc(t)+e);function mA(t){return t/Math.pow(10,Dc(t))===1}function yA(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function d4(t,e){let n=e-t,i=Dc(n);for(;yA(t,e,i)>10;)i++;for(;yA(t,e,i)<10;)i--;return Math.min(i,Dc(t))}function h4(t,{min:e,max:n}){e=zt(t.min,e);let i=[],r=Dc(e),s=d4(e,n),o=s<0?Math.pow(10,Math.abs(s)):1,a=Math.pow(10,s),l=r>s?Math.pow(10,r):0,c=Math.round((e-l)*o)/o,u=Math.floor((e-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,s)),h=zt(t.min,Math.round((l+u+d*Math.pow(10,s))*o)/o);for(;h<n;)i.push({value:h,major:mA(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(s++,d=2,o=s>=0?1:o),h=Math.round((l+u+d*Math.pow(10,s))*o)/o;let f=zt(t.max,h);return i.push({value:f,major:mA(f),significand:d}),i}var Xb=class extends Es{static id="logarithmic";static defaults={ticks:{callback:dc.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=da.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return Be(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=Be(e)?Math.max(0,e):null,this.max=Be(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Be(this._userMin)&&(this.min=e===Ds(this.min,0)?Ds(this.min,-1):Ds(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,s=a=>i=e?i:a,o=a=>r=n?r:a;i===r&&(i<=0?(s(1),o(10)):(s(Ds(i,-1)),o(Ds(r,1)))),i<=0&&s(Ds(r,-1)),r<=0&&o(Ds(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=h4(n,this);return e.bounds==="ticks"&&ib(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":oa(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Fi(e),this._valueRange=Fi(this.max)-Fi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Fi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function Jb(t){let e=t.ticks;if(e.display&&t.display){let n=pt(e.backdropPadding);return W(e.font&&e.font.size,Ue.font.size)+n.height}return 0}function f4(t,e,n){return n=Ae(n)?n:[n],{w:lT(t,e.string,n),h:n.length*e.lineHeight}}function vA(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function p4(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Pe/s:0;for(let l=0;l<s;l++){let c=o.setContext(t.getPointLabelContext(l));r[l]=c.padding;let u=t.getPointPosition(l,t.drawingArea+r[l],a),d=et(c.font),h=f4(t.ctx,d,t._pointLabels[l]);i[l]=h;let f=Ht(t.getIndexAngle(l)+a),p=Math.round(bf(f)),g=vA(p,u.x,h.w,0,180),m=vA(p,u.y,h.h,90,270);g4(n,e,f,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=v4(t,i,r)}function g4(t,e,n,i,r){let s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function m4(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),c=Math.round(bf(Ht(l.angle+ze))),u=C4(l.y,a.h,c),d=_4(c),h=b4(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function y4(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:s}=t;return!(si({x:n,y:i},e)||si({x:n,y:s},e)||si({x:r,y:i},e)||si({x:r,y:s},e))}function v4(t,e,n){let i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Jb(s)/2,additionalAngle:o?Pe/r:0},c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];let d=m4(t,u,l);i.push(d),a==="auto"&&(d.visible=y4(d,c),d.visible&&(c=d))}return i}function _4(t){return t===0||t===180?"center":t<180?"left":"right"}function b4(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function C4(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function w4(t,e,n){let{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ae(a)){let l=Ir(e.borderRadius),c=pt(e.backdropPadding);t.fillStyle=a;let u=i-c.left,d=r-c.top,h=s-i+c.width,f=o-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),aa(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function D4(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let s=t._pointLabelItems[r];if(!s.visible)continue;let o=i.setContext(t.getPointLabelContext(r));w4(n,o,s);let a=et(o.font),{x:l,y:c,textAlign:u}=s;xr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:o.color,textAlign:u,textBaseline:"middle"})}}function zA(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Ne);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function E4(t,e,n,i,r){let s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash),s.lineDashOffset=r.dashOffset,s.beginPath(),zA(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function x4(t,e,n){return Vi(t,{label:n,index:e,type:"pointLabel"})}var e0=class extends da{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:dc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=pt(Jb(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=Be(e)&&!isNaN(e)?e:0,this.max=Be(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Jb(this.options))}generateTickLabels(e){da.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=xe(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?p4(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Ne/(this._pointLabels.length||1),i=this.options.startAngle||0;return Ht(e*n+_n(i))}getDistanceFromCenterForValue(e){if(ae(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ae(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return x4(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-ze+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),zA(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length,a,l,c;if(n.pointLabels.display&&D4(this,o),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=r.setContext(h),p=s.setContext(h);E4(this,f,l,o,p)}}),i.display){for(e.save(),a=o-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;let c=i.setContext(this.getContext(l)),u=et(c.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,o=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let d=pt(c.backdropPadding);e.fillRect(-o/2-d.left,-s-u.size/2-d.top,o+d.width,u.size+d.height)}xr(e,a.label,0,-s,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},qf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gt=Object.keys(qf);function _A(t,e){return t-e}function bA(t,e){if(ae(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts,o=e;return typeof i=="function"&&(o=i(o)),Be(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(bs(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function CA(t,e,n,i){let r=Gt.length;for(let s=Gt.indexOf(t);s<r-1;++s){let o=qf[Gt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Gt[s]}return Gt[r-1]}function I4(t,e,n,i,r){for(let s=Gt.length-1;s>=Gt.indexOf(n);s--){let o=Gt[s];if(qf[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Gt[n?Gt.indexOf(n):0]}function S4(t){for(let e=Gt.indexOf(t)+1,n=Gt.length;e<n;++e)if(qf[Gt[e]].common)return Gt[e]}function wA(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=Cf(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function M4(t,e,n,i){let r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value,a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function DA(t,e,n){let i=[],r={},s=e.length,o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:M4(t,i,r,n)}var t0=(()=>{class t extends Es{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),s=this._adapter=new Bz._date(n.adapters.date);s.init(i),na(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:bA(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(s=Math.min(s,u.min)),!l&&!isNaN(u.max)&&(o=Math.max(o,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&c(this.getMinMax(!1))),s=Be(s)&&!isNaN(s)?s:+i.startOf(Date.now(),r),o=Be(o)&&!isNaN(o)?o:+i.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);let o=this.min,a=this.max,l=nT(s,o,a);return this._unit=i.unit||(r.autoSkip?CA(i.minUnit,this.min,this.max,this._getLabelCapacity(o)):I4(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:S4(this._unit),this.initOffsets(s),n.reverse&&l.reverse(),DA(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,s,o;this.options.offset&&n.length&&(s=this.getDecimalForValue(n[0]),n.length===1?i=1-s:i=(this.getDecimalForValue(n[1])-s)/2,o=this.getDecimalForValue(n[n.length-1]),n.length===1?r=o:r=(o-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=it(i,0,a),r=it(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||CA(o.minUnit,i,r,this._getLabelCapacity(i)),l=W(s.ticks.stepSize,1),c=a==="week"?o.isoWeekday:!1,u=bs(c)||c===!0,d={},h=i,f,p;if(u&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,u?"day":a),n.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let g=s.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+n.add(f,l,a),p++)wA(d,f,g);return(f===r||s.bounds==="ticks"||p===1)&&wA(d,f,g),Object.keys(d).sort(_A).map(m=>+m)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let s=this.options.time.displayFormats,o=this._unit,a=i||s[o];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,s){let o=this.options,a=o.ticks.callback;if(a)return xe(a,[n,i,r],this);let l=o.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[i],p=u&&h&&f&&f.major;return this._adapter.format(n,s||(p?h:d))}generateTickLabels(n){let i,r,s;for(i=0,r=n.length;i<r;++i)s=n[i],s.label=this._tickFormatFunction(s.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,s=_n(this.isHorizontal()?i.maxRotation:i.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,s=r[i.unit]||r.millisecond,o=this._tickFormatFunction(n,0,DA(this,[n],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(i=0,r=s.length;i<r;++i)n=n.concat(s[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let s=this.getLabels();for(i=0,r=s.length;i<r;++i)n.push(bA(this,s[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return ab(n.sort(_A))}}return t})();function Ff(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=ri(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=ri(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);let c=o-s;return c?a+(l-a)*(e-s)/c:a}var n0=class extends t0{static id="timeseries";static defaults=t0.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Ff(n,this.min),this._tableRange=Ff(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],s=[],o,a,l,c,u;for(o=0,a=e.length;o<a;++o)c=e[o],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)u=r[o+1],l=r[o-1],c=r[o],Math.round((u+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Ff(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Ff(this._table,i*this._tableRange+this._minPos,!0)}},T4=Object.freeze({__proto__:null,CategoryScale:c4,LinearScale:Zb,LogarithmicScale:Xb,RadialLinearScale:e0,TimeScale:t0,TimeSeriesScale:n0}),WA=[jz,d3,s4,T4];var Yf=(()=>{let e=class e{constructor(){this.pesos=[],this.datas=[]}ngOnInit(){Wf.register(...WA);let i=document.getElementById("pesoChart"),r=new Wf(i,{type:"line",data:{labels:this.datas,datasets:[{label:"Peso",data:this.pesos,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{scales:{y:{title:{display:!0,text:"Peso"}},x:{title:{display:!0,text:"Data"}}}}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-controle-peso"]],inputs:{pesos:"pesos",datas:"datas"},decls:2,vars:0,consts:[[1,"controle-peso"],["id","pesoChart"]],template:function(r,s){r&1&&(D(0,"div",0),me(1,"canvas",1),b())}});let t=e;return t})();var GA=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suino={}}ngOnInit(){}salvarEdicao(){this.suinoService.updateSuino(this.suino).then(()=>{console.log("Su\xEDno editado com sucesso.")}).catch(i=>console.error("Erro ao editar su\xEDno:",i))}};e.\u0275fac=function(r){return new(r||e)(O(ii))},e.\u0275cmp=Xe({type:e,selectors:[["app-suino-edicao"]],inputs:{suino:"suino"},decls:41,vars:7,consts:[[3,"ngSubmit"],["for","brinco"],["type","text","id","brinco","name","brinco","required","",3,"ngModel","ngModelChange"],["for","brincoPai"],["type","text","id","brincoPai","name","brincoPai",3,"ngModel","ngModelChange"],["for","brincoMae"],["type","text","id","brincoMae","name","brincoMae",3,"ngModel","ngModelChange"],["for","dataNascimento"],["type","date","id","dataNascimento","name","dataNascimento",3,"ngModel","ngModelChange"],["for","dataSaida"],["type","date","id","dataSaida","name","dataSaida",3,"ngModel","ngModelChange"],["for","status"],["id","status","name","status",3,"ngModel","ngModelChange"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","name","sexo",3,"ngModel","ngModelChange"],["value","M"],["value","F"],["type","submit"]],template:function(r,s){r&1&&(D(0,"form",0),ce("ngSubmit",function(){return s.salvarEdicao()}),D(1,"div")(2,"label",1),x(3,"Brinco:"),b(),D(4,"input",2),Ct("ngModelChange",function(a){return Pt(s.suino.brinco,a)||(s.suino.brinco=a),a}),b()(),D(5,"div")(6,"label",3),x(7,"Brinco do Pai:"),b(),D(8,"input",4),Ct("ngModelChange",function(a){return Pt(s.suino.brincoPai,a)||(s.suino.brincoPai=a),a}),b()(),D(9,"div")(10,"label",5),x(11,"Brinco da M\xE3e:"),b(),D(12,"input",6),Ct("ngModelChange",function(a){return Pt(s.suino.brincoMae,a)||(s.suino.brincoMae=a),a}),b()(),D(13,"div")(14,"label",7),x(15,"Data de Nascimento:"),b(),D(16,"input",8),Ct("ngModelChange",function(a){return Pt(s.suino.dataNascimento,a)||(s.suino.dataNascimento=a),a}),b()(),D(17,"div")(18,"label",9),x(19,"Data de Sa\xEDda:"),b(),D(20,"input",10),Ct("ngModelChange",function(a){return Pt(s.suino.dataSaida,a)||(s.suino.dataSaida=a),a}),b()(),D(21,"div")(22,"label",11),x(23,"Status:"),b(),D(24,"select",12),Ct("ngModelChange",function(a){return Pt(s.suino.status,a)||(s.suino.status=a),a}),D(25,"option",13),x(26,"Ativo"),b(),D(27,"option",14),x(28,"Vendido"),b(),D(29,"option",15),x(30,"Morto"),b()()(),D(31,"div")(32,"label",16),x(33,"Sexo:"),b(),D(34,"select",17),Ct("ngModelChange",function(a){return Pt(s.suino.sexo,a)||(s.suino.sexo=a),a}),D(35,"option",18),x(36,"Macho"),b(),D(37,"option",19),x(38,"F\xEAmea"),b()()(),D(39,"button",20),x(40,"Salvar"),b()()),r&2&&(R(4),bt("ngModel",s.suino.brinco),R(4),bt("ngModel",s.suino.brincoPai),R(4),bt("ngModel",s.suino.brincoMae),R(4),bt("ngModel",s.suino.dataNascimento),R(4),bt("ngModel",s.suino.dataSaida),R(4),bt("ngModel",s.suino.status),R(10),bt("ngModel",s.suino.sexo))},dependencies:[Zn,Ao,Po,$t,lr,pn,Qn,Cl,_l,Oy],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();function N4(t,e){if(t&1&&me(0,"app-suino-edicao",25),t&2){let n=An(2);Y("suino",n.suinoSelecionado)}}function R4(t,e){if(t&1){let n=sd();D(0,"div")(1,"p")(2,"strong"),x(3,"Brinco:"),b(),x(4),b(),D(5,"p")(6,"strong"),x(7,"Brinco do Pai:"),b(),x(8),b(),D(9,"p")(10,"strong"),x(11,"Brinco da M\xE3e:"),b(),x(12),b(),D(13,"p")(14,"strong"),x(15,"Data de Nascimento:"),b(),x(16),um(17,"date"),b(),D(18,"p")(19,"strong"),x(20,"Data de Sa\xEDda:"),b(),x(21),um(22,"date"),b(),D(23,"p")(24,"strong"),x(25,"Idade:"),b(),x(26),b(),D(27,"p")(28,"strong"),x(29,"Status:"),b(),x(30),b(),D(31,"p")(32,"strong"),x(33,"Sexo:"),b(),x(34),b(),D(35,"div",23)(36,"button",20),ce("click",function(){let s=oo(n).$implicit,o=An();return ao(o.editarSuino(s))}),x(37,"Editar"),b(),D(38,"button",20),ce("click",function(){let s=oo(n).$implicit,o=An();return ao(o.excluirSuino(s))}),x(39,"Excluir"),b(),Se(40,N4,1,1,"app-suino-edicao",24),b()()}if(t&2){let n=e.$implicit,i=An();R(4),At(" ",n.brinco,""),R(4),At(" ",n.brincoPai,""),R(4),At(" ",n.brincoMae,""),R(4),At(" ",dm(17,9,n.dataNascimento),""),R(5),At(" ",dm(22,11,n.dataSaida),""),R(5),At(" ",i.calcularIdade(n.dataNascimento),""),R(4),At(" ",n.status,""),R(4),At(" ",n.sexo,""),R(6),Y("ngIf",i.editando&&i.suinoSelecionado)}}var Kf=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suinos=[],this.suinosFiltrados=[],this.filtro={},this.suinoSelecionado=null,this.editando=!1}ngOnInit(){this.carregarSuinos()}carregarSuinos(){this.suinoService.getSuinos().subscribe(i=>{this.suinos=i,this.aplicarFiltro()})}calcularIdade(i){let r=new Date,s=new Date(i);return((r.getTime()-s.getTime())/(1e3*60*60*24*30)).toFixed(0)+" meses"}editarSuino(i){console.log("Editar su\xEDno com ID:",i.brinco),this.suinoSelecionado=i,this.editando=!0}salvarEdicao(){this.suinoSelecionado&&this.suinoService.updateSuino(this.suinoSelecionado).then(()=>{console.log("Su\xEDno editado com sucesso."),this.carregarSuinos(),this.editando=!1,this.suinoSelecionado=null}).catch(i=>console.error("Erro ao editar su\xEDno:",i))}cancelarEdicao(){this.suinoSelecionado=null,this.editando=!1}excluirSuino(i){this.suinoService.excluirSuino(i).then(()=>{console.log("Su\xEDno exclu\xEDdo com sucesso."),this.suinos=this.suinos.filter(r=>r!==i)}).catch(r=>console.error("Erro ao excluir su\xEDno:",r))}aplicarFiltro(){this.suinosFiltrados=this.suinos.filter(i=>{let r=!0;return this.filtro.brincoPai&&i.brincoPai!==this.filtro.brincoPai&&(r=!1),this.filtro.brincoMae&&i.brincoMae!==this.filtro.brincoMae&&(r=!1),this.filtro.dataNascimento&&i.dataNascimento!==this.filtro.dataNascimento&&(r=!1),this.filtro.dataSaida&&i.dataSaida!==this.filtro.dataSaida&&(r=!1),this.filtro.sexo&&i.sexo!==this.filtro.sexo&&(r=!1),this.filtro.status&&i.status!==this.filtro.status&&(r=!1),r})}limparFiltro(){this.filtro={},this.aplicarFiltro()}};e.\u0275fac=function(r){return new(r||e)(O(ii))},e.\u0275cmp=Xe({type:e,selectors:[["app-suino-listagem"]],decls:53,vars:7,consts:[[1,"suino-listagem"],[1,"filtros"],["for","filtroBrincoPai"],["type","text","id","filtroBrincoPai",3,"ngModel","ngModelChange"],["for","filtroBrincoMae"],["type","text","id","filtroBrincoMae",3,"ngModel","ngModelChange"],["for","filtroDataNascimento"],["type","date","id","filtroDataNascimento",3,"ngModel","ngModelChange"],["for","filtroDataSaida"],["type","date","id","filtroDataSaida",3,"ngModel","ngModelChange"],["for","filtroSexo"],["id","filtroSexo",3,"ngModel","ngModelChange"],["value",""],["value","M"],["value","F"],["for","filtroStatus"],["id","filtroStatus",3,"ngModel","ngModelChange"],["value","Ativo"],["value","Vendido"],["value","Morto"],[3,"click"],[1,"lista-suinos"],[4,"ngFor","ngForOf"],[1,"botoes-acao"],[3,"suino",4,"ngIf"],[3,"suino"]],template:function(r,s){r&1&&(D(0,"div",0)(1,"h2"),x(2,"Listagem de Su\xEDnos"),b(),D(3,"div",1)(4,"h3"),x(5,"Filtros"),b(),D(6,"div")(7,"label",2),x(8,"Brinco do Pai:"),b(),D(9,"input",3),Ct("ngModelChange",function(a){return Pt(s.filtro.brincoPai,a)||(s.filtro.brincoPai=a),a}),b()(),D(10,"div")(11,"label",4),x(12,"Brinco da M\xE3e:"),b(),D(13,"input",5),Ct("ngModelChange",function(a){return Pt(s.filtro.brincoMae,a)||(s.filtro.brincoMae=a),a}),b()(),D(14,"div")(15,"label",6),x(16,"Data de Nascimento:"),b(),D(17,"input",7),Ct("ngModelChange",function(a){return Pt(s.filtro.dataNascimento,a)||(s.filtro.dataNascimento=a),a}),b()(),D(18,"div")(19,"label",8),x(20,"Data de Sa\xEDda:"),b(),D(21,"input",9),Ct("ngModelChange",function(a){return Pt(s.filtro.dataSaida,a)||(s.filtro.dataSaida=a),a}),b()(),D(22,"div")(23,"label",10),x(24,"Sexo:"),b(),D(25,"select",11),Ct("ngModelChange",function(a){return Pt(s.filtro.sexo,a)||(s.filtro.sexo=a),a}),D(26,"option",12),x(27,"Todos"),b(),D(28,"option",13),x(29,"Macho"),b(),D(30,"option",14),x(31,"F\xEAmea"),b()()(),D(32,"div")(33,"label",15),x(34,"Status:"),b(),D(35,"select",16),Ct("ngModelChange",function(a){return Pt(s.filtro.status,a)||(s.filtro.status=a),a}),D(36,"option",12),x(37,"Todos"),b(),D(38,"option",17),x(39,"Ativo"),b(),D(40,"option",18),x(41,"Vendido"),b(),D(42,"option",19),x(43,"Morto"),b()()(),D(44,"div")(45,"button",20),ce("click",function(){return s.aplicarFiltro()}),x(46,"Aplicar Filtro"),b(),D(47,"button",20),ce("click",function(){return s.limparFiltro()}),x(48,"Limpar Filtro"),b()()(),D(49,"div",21)(50,"h3"),x(51,"Su\xEDnos"),b(),Se(52,R4,41,13,"div",22),b()()),r&2&&(R(9),bt("ngModel",s.filtro.brincoPai),R(4),bt("ngModel",s.filtro.brincoMae),R(4),bt("ngModel",s.filtro.dataNascimento),R(4),bt("ngModel",s.filtro.dataSaida),R(4),bt("ngModel",s.filtro.sexo),R(10),bt("ngModel",s.filtro.status),R(17),Y("ngForOf",s.suinosFiltrados))},dependencies:[YD,dn,Ao,Po,$t,lr,pn,_l,GA,KD],styles:[".suino-listagem[_ngcontent-%COMP%]{margin:20px auto;width:80%}.filtros[_ngcontent-%COMP%]{margin-bottom:20px}.filtros[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px}.filtros[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.filtros[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:5px;border:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px}.lista-suinos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;padding:10px;background-color:#f0f0f0;border-bottom:1px solid #ccc;border-radius:5px 5px 0 0}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.lista-suinos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;margin-right:10px;border:none;border-radius:3px;cursor:pointer}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let t=e;return t})();function O4(t,e){t&1&&(D(0,"small"),x(1," A data da pesagem \xE9 obrigat\xF3ria. "),b())}function F4(t,e){t&1&&(D(0,"small"),x(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),b())}var Qf=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.pesoId="",this.peso={},this.edicaoPesoForm=this.formBuilder.group({dataPesagem:["",ke.required],peso:["",[ke.required,ke.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){this.carregarPeso()}carregarPeso(){this.suinoService.getPeso(this.pesoId).subscribe(i=>{this.peso=i[0],this.edicaoPesoForm.patchValue({dataPesagem:this.peso.dataPesagem,peso:this.peso.peso})})}salvarEdicao(){if(this.edicaoPesoForm.valid){let{dataPesagem:i,peso:r}=this.edicaoPesoForm.value;this.suinoService.atualizarPeso(this.pesoId,"ID_DO_HISTORICO",i,r).then(()=>{console.log("Peso atualizado com sucesso.")}).catch(s=>{console.error("Erro ao atualizar peso:",s)})}else this.edicaoPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(O(cr),O(ii))},e.\u0275cmp=Xe({type:e,selectors:[["app-edicao-peso"]],inputs:{pesoId:"pesoId"},decls:16,vars:4,consts:[[3,"formGroup","ngSubmit"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],[4,"ngIf"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,s){if(r&1&&(D(0,"div")(1,"h2"),x(2,"Edi\xE7\xE3o de Peso"),b(),D(3,"form",0),ce("ngSubmit",function(){return s.salvarEdicao()}),D(4,"div")(5,"label",1),x(6,"Data da Pesagem:"),b(),me(7,"input",2),Se(8,O4,2,0,"small",3),b(),D(9,"div")(10,"label",4),x(11,"Peso (em Kg):"),b(),me(12,"input",5),Se(13,F4,2,0,"small",3),b(),D(14,"button",6),x(15,"Salvar Edi\xE7\xE3o"),b()()()),r&2){let o,a;R(3),Y("formGroup",s.edicaoPesoForm),R(5),Y("ngIf",((o=s.edicaoPesoForm.get("dataPesagem"))==null?null:o.invalid)&&((o=s.edicaoPesoForm.get("dataPesagem"))==null?null:o.touched)),R(5),Y("ngIf",((a=s.edicaoPesoForm.get("peso"))==null?null:a.invalid)&&((a=s.edicaoPesoForm.get("peso"))==null?null:a.touched)),R(),Y("disabled",!s.edicaoPesoForm.valid)}},dependencies:[dn,Zn,$t,pn,Qn,Ti,Ai],styles:["div[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;border-radius:5px}h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}small[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();var Zf=(()=>{let e=class e{constructor(i,r){this.afAuth=i,this.router=r,this.user$=i.authState}login(i,r){this.afAuth.signInWithEmailAndPassword(i,r).then(()=>{console.log("Login bem-sucedido!"),this.router.navigate(["/dashboard"])}).catch(s=>{console.error("Erro no login:",s),alert("Email ou senha incorretos. Por favor, tente novamente.")})}signUp(i,r){this.afAuth.createUserWithEmailAndPassword(i,r).then(()=>{console.log("Cadastro bem-sucedido!"),this.router.navigate(["/deshbord"])}).catch(s=>{console.error("Erro no cadastro:",s)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logout bem-sucedido!"),this.router.navigate(["/login"])}).catch(i=>{console.error("Erro no logout:",i)})}};e.\u0275fac=function(r){return new(r||e)(I(El),I(Si))},e.\u0275prov=k({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function V4(t,e){t&1&&(D(0,"small"),x(1," O n\xFAmero de brinco \xE9 obrigat\xF3rio. "),b())}function j4(t,e){t&1&&(D(0,"small"),x(1," A data da pesagem \xE9 obrigat\xF3ria. "),b())}function B4(t,e){t&1&&(D(0,"small"),x(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),b())}var YA=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.cadastroPesoForm=this.formBuilder.group({numeroBrinco:["",ke.required],dataPesagem:["",ke.required],peso:["",[ke.required,ke.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){}cadastrarPeso(){if(this.cadastroPesoForm.valid){let{numeroBrinco:i,dataPesagem:r,peso:s}=this.cadastroPesoForm.value;ue(this.suinoService.cadastrarPeso(i,r,s)).subscribe(()=>{console.log("Peso cadastrado com sucesso."),this.cadastroPesoForm.reset()},o=>{console.error("Erro ao cadastrar peso:",o)})}else this.cadastroPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(O(cr),O(ii))},e.\u0275cmp=Xe({type:e,selectors:[["app-cadastro-peso"]],decls:21,vars:5,consts:[[3,"formGroup","ngSubmit"],["for","numeroBrinco"],["type","number","id","numeroBrinco","formControlName","numeroBrinco"],[4,"ngIf"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,s){if(r&1&&(D(0,"div")(1,"h2"),x(2,"Cadastro de Peso"),b(),D(3,"form",0),ce("ngSubmit",function(){return s.cadastrarPeso()}),D(4,"div")(5,"label",1),x(6,"N\xFAmero de Brinco:"),b(),me(7,"input",2),Se(8,V4,2,0,"small",3),b(),D(9,"div")(10,"label",4),x(11,"Data da Pesagem:"),b(),me(12,"input",5),Se(13,j4,2,0,"small",3),b(),D(14,"div")(15,"label",6),x(16,"Peso (em Kg):"),b(),me(17,"input",7),Se(18,B4,2,0,"small",3),b(),D(19,"button",8),x(20,"Cadastrar Peso"),b()()()),r&2){let o,a,l;R(3),Y("formGroup",s.cadastroPesoForm),R(5),Y("ngIf",((o=s.cadastroPesoForm.get("numeroBrinco"))==null?null:o.invalid)&&((o=s.cadastroPesoForm.get("numeroBrinco"))==null?null:o.touched)),R(5),Y("ngIf",((a=s.cadastroPesoForm.get("dataPesagem"))==null?null:a.invalid)&&((a=s.cadastroPesoForm.get("dataPesagem"))==null?null:a.touched)),R(5),Y("ngIf",((l=s.cadastroPesoForm.get("peso"))==null?null:l.invalid)&&((l=s.cadastroPesoForm.get("peso"))==null?null:l.touched)),R(),Y("disabled",!s.cadastroPesoForm.valid)}},dependencies:[dn,Zn,$t,bl,pn,Qn,Ti,Ai],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}form[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:red}"]});let t=e;return t})();function $4(t,e){t&1&&(Kr(0),me(1,"app-suino-cadastro"),Qr())}function H4(t,e){t&1&&(Kr(0),me(1,"app-suino-listagem"),Qr())}function z4(t,e){t&1&&(Kr(0),me(1,"app-controle-peso"),Qr())}function W4(t,e){t&1&&(Kr(0),me(1,"app-edicao-peso"),Qr())}function G4(t,e){t&1&&(Kr(0),me(1,"app-cadastro-peso"),Qr())}var KA=(()=>{let e=class e{constructor(i){this.authService=i,this.currentComponent="",this.currentYear=new Date().getFullYear(),this.sidebarHidden=!1}showCadastro(){this.currentComponent="cadastro"}showListagem(){this.currentComponent="listagem"}showControlePeso(){this.currentComponent="controlePeso"}showEdicaoPeso(){this.currentComponent="edicaoPeso"}showCadastroPeso(){this.currentComponent="cadastroPeso"}toggleSidebar(){this.sidebarHidden=!this.sidebarHidden}logout(){this.authService.logout()}};e.\u0275fac=function(r){return new(r||e)(O(Zf))},e.\u0275cmp=Xe({type:e,selectors:[["app-dashboard"]],decls:34,vars:18,consts:[[1,"dashboard"],[1,"header"],[1,"toggle-button",3,"click"],[1,"logout-button",3,"click"],[1,"content"],[1,"sidebar"],[1,"button-container"],[3,"click"],[1,"main-content"],[4,"ngIf"],[1,"footer"]],template:function(r,s){r&1&&(D(0,"div",0)(1,"div",1)(2,"h2"),x(3,"Su\xEDnoFarm"),b(),D(4,"button",2),ce("click",function(){return s.toggleSidebar()}),x(5,"\u2630"),b(),D(6,"button",3),ce("click",function(){return s.logout()}),x(7,"Logout"),b()(),D(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7),ce("click",function(){return s.showCadastro()}),x(12,"Cadastro de Su\xEDno"),b()(),D(13,"div",6)(14,"button",7),ce("click",function(){return s.showListagem()}),x(15,"Listagem de Su\xEDnos"),b()(),D(16,"div",6)(17,"button",7),ce("click",function(){return s.showControlePeso()}),x(18,"Controle de Peso"),b()(),D(19,"div",6)(20,"button",7),ce("click",function(){return s.showEdicaoPeso()}),x(21,"Edi\xE7\xE3o de Peso"),b()(),D(22,"div",6)(23,"button",7),ce("click",function(){return s.showCadastroPeso()}),x(24,"Cadastro de Peso"),b()()(),D(25,"div",8),Se(26,$4,2,0,"ng-container",9)(27,H4,2,0,"ng-container",9)(28,z4,2,0,"ng-container",9)(29,W4,2,0,"ng-container",9)(30,G4,2,0,"ng-container",9),b()(),D(31,"div",10)(32,"p"),x(33),b()()()),r&2&&(R(9),Tn("hide",s.sidebarHidden),R(2),Tn("active",s.currentComponent==="cadastro"),R(3),Tn("active",s.currentComponent==="listagem"),R(3),Tn("active",s.currentComponent==="controlePeso"),R(3),Tn("active",s.currentComponent==="edicaoPeso"),R(3),Tn("active",s.currentComponent==="cadastroPeso"),R(3),Y("ngIf",s.currentComponent==="cadastro"),R(),Y("ngIf",s.currentComponent==="listagem"),R(),Y("ngIf",s.currentComponent==="controlePeso"),R(),Y("ngIf",s.currentComponent==="edicaoPeso"),R(),Y("ngIf",s.currentComponent==="cadastroPeso"),R(3),At("\xA9 ",s.currentYear," Su\xEDnoFarm. Todos os direitos reservados."))},dependencies:[dn,YA,Yf,Qf,lf,Kf],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.content[_ngcontent-%COMP%]{display:flex;flex:1}.sidebar[_ngcontent-%COMP%]{width:200px;background-color:#f0f0f0;padding:10px;transition:width .3s ease}.main-content[_ngcontent-%COMP%]{flex:1;padding:10px}.footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#45a049}.hide[_ngcontent-%COMP%]{display:none}.toggle-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:20px;cursor:pointer}"]});let t=e;return t})();function QA(){return t=>{let e=t.value||"";return/[A-Z]/.test(e)?null:{uppercase:!0}}}function q4(t,e){t&1&&(D(0,"small"),x(1,"O e-mail \xE9 obrigat\xF3rio."),b())}function Y4(t,e){t&1&&(D(0,"small"),x(1,"O e-mail n\xE3o \xE9 v\xE1lido."),b())}function K4(t,e){if(t&1&&(D(0,"div"),Se(1,q4,2,0,"small",4)(2,Y4,2,0,"small",4),b()),t&2){let n=An(2),i,r;R(),Y("ngIf",(i=n.authForm.get("email"))==null||i.errors==null?null:i.errors.required),R(),Y("ngIf",(r=n.authForm.get("email"))==null||r.errors==null?null:r.errors.email)}}function Q4(t,e){t&1&&(D(0,"small"),x(1,"A senha \xE9 obrigat\xF3ria."),b())}function Z4(t,e){t&1&&(D(0,"small"),x(1,"A senha deve ter pelo menos 6 caracteres."),b())}function X4(t,e){t&1&&(D(0,"small"),x(1,"A senha deve conter pelo menos uma letra mai\xFAscula."),b())}function J4(t,e){if(t&1&&(D(0,"div"),Se(1,Q4,2,0,"small",4)(2,Z4,2,0,"small",4)(3,X4,2,0,"small",4),b()),t&2){let n=An(2),i,r,s;R(),Y("ngIf",(i=n.authForm.get("password"))==null||i.errors==null?null:i.errors.required),R(),Y("ngIf",(r=n.authForm.get("password"))==null||r.errors==null?null:r.errors.minlength),R(),Y("ngIf",(s=n.authForm.get("password"))==null||s.errors==null?null:s.errors.uppercase)}}function e5(t,e){if(t&1){let n=sd();D(0,"form",1),ce("ngSubmit",function(){oo(n);let r=An();return ao(r.submitForm())}),me(1,"input",2)(2,"input",3),Se(3,K4,3,2,"div",4)(4,J4,4,3,"div",4),D(5,"button",5),x(6),b(),D(7,"button",6),ce("click",function(){oo(n);let r=An();return ao(r.toggleMode())}),x(8),b()()}if(t&2){let n=An(),i,r;Y("formGroup",n.authForm),R(3),Y("ngIf",(i=n.authForm.get("email"))==null?null:i.errors),R(),Y("ngIf",(r=n.authForm.get("password"))==null?null:r.errors),R(2),cm(n.isLoginMode?"Login":"Cadastrar"),R(2),At(" ",n.isLoginMode?"N\xE3o tem uma conta? Clique aqui para se cadastrar.":"J\xE1 tem uma conta? Clique aqui para fazer login."," ")}}var ZA=(()=>{let e=class e{constructor(i,r){this.authService=i,this.fb=r,this.email="",this.password="",this.isLoginMode=!0,this.authForm=this.fb.group({email:["",[ke.required,ke.email]],password:["",[ke.required,ke.minLength(6),QA()]]})}submitForm(){let i=this.authForm.value.email,r=this.authForm.value.password;this.isLoginMode?this.authService.login(i,r):this.authService.signUp(i,r)}toggleMode(){this.isLoginMode=!this.isLoginMode,this.authForm.reset()}};e.\u0275fac=function(r){return new(r||e)(O(Zf),O(cr))},e.\u0275cmp=Xe({type:e,selectors:[["app-auth"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["type","email","formControlName","email","placeholder","E-mail","required",""],["type","password","formControlName","password","placeholder","Senha","required",""],[4,"ngIf"],["type","submit"],["type","button",3,"click"]],template:function(r,s){r&1&&Se(0,e5,9,5,"form",0),r&2&&Y("ngIf",s.authForm)},dependencies:[dn,Zn,$t,pn,Qn,Cl,Ti,Ai],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}input[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;border:1px solid #ccc;border-radius:5px;font-size:1rem;width:300px}button[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none}nav[_ngcontent-%COMP%]{background-color:#333;padding:10px 20px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-right:20px;transition:color .3s ease}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff8c00}"]});let t=e;return t})();var t5=[{path:"login",component:ZA},{path:"dashboard",component:KA},{path:"cadastro",component:lf},{path:"controle-peso",component:Yf},{path:"edicao/:id",component:Qf},{path:"listagem",component:Kf},{path:"**",redirectTo:"/login",pathMatch:"full"}],XA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Ve({imports:[Iy.forRoot(t5),Iy]});let t=e;return t})();var JA=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Xe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,s){r&1&&me(0,"router-outlet")},dependencies:[_y]});let t=e;return t})();var eP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Fe({type:e,bootstrap:[JA]}),e.\u0275inj=Ve({imports:[yE,XA,lE,$x,Hx,sI.initializeApp({apiKey:"AIzaSyAEenTbuLW6QkWSCPd-gMNr93VQPP9AwVk",authDomain:"suinofarm-manager.firebaseapp.com",databaseURL:"https://suinofarm-manager-default-rtdb.firebaseio.com",projectId:"suinofarm-manager",storageBucket:"suinofarm-manager.appspot.com",messagingSenderId:"960113480429",appId:"1:960113480429:web:4fc9a410a1ca5c9d2cf2e4"}),AM,oI]});let t=e;return t})();mE().bootstrapModule(eP).catch(t=>console.error(t));
