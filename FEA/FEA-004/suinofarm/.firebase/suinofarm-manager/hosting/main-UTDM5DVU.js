import{A as Ea,B as jb,C as Bb,D as U,E as Bt,F as it,G as dp,H as Ub,I as xa,J as Tt,K as yi,L as $c,M as hp,N as $b,O as zo,P as Ia,Q as Hb,R as zb,S as Xi,T as At,a as N,b as ce,c as cn,d as Mb,e as Vc,f as Tb,g as Ab,h as M,i as Ho,j as jc,k as Pb,l as Nb,m as ot,n as Rb,o as up,p as Ob,q as Gn,r as kb,s as Fb,t as Bc,u as Ze,v as Lb,w as Vb,x as un,y as Zi,z as Uc}from"./chunk-KUEMT6K3.js";var Wb=null;var fp=1,pp=Symbol("SIGNAL");function me(t){let e=Wb;return Wb=t,e}var Gb={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function kP(t){if(!(yp(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===fp)){if(!t.producerMustRecompute(t)&&!gp(t)){t.dirty=!1,t.lastCleanEpoch=fp;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=fp}}function qb(t){return t&&(t.nextProducerIndex=0),me(t)}function Yb(t,e){if(me(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(yp(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)mp(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gp(t){Hc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],i=t.producerLastReadVersion[e];if(i!==n.version||(kP(n),i!==n.version))return!0}return!1}function Kb(t){if(Hc(t),yp(t))for(let e=0;e<t.producerNode.length;e++)mp(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function mp(t,e){if(FP(t),Hc(t),t.liveConsumerNode.length===1)for(let i=0;i<t.producerNode.length;i++)mp(t.producerNode[i],t.producerIndexOfThis[i]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let i=t.liveConsumerIndexOfThis[e],r=t.liveConsumerNode[e];Hc(r),r.producerIndexOfThis[i]=e}}function yp(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Hc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function FP(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function LP(){throw new Error}var VP=LP;function Qb(t){VP=t}function H(t){return typeof t=="function"}function Wo(t){let n=t(i=>{Error.call(i),i.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zc=Wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Gr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ye=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:i}=this;if(H(i))try{i()}catch(o){e=o instanceof zc?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Zb(o)}catch(s){e=e??[],s instanceof zc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new zc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Zb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Gr(n,e)}remove(e){let{_finalizers:n}=this;n&&Gr(n,e),e instanceof t&&e._removeParent(this)}};Ye.EMPTY=(()=>{let t=new Ye;return t.closed=!0,t})();var vp=Ye.EMPTY;function Wc(t){return t instanceof Ye||t&&"closed"in t&&H(t.remove)&&H(t.add)&&H(t.unsubscribe)}function Zb(t){H(t)?t():t.unsubscribe()}var Tn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Go={setTimeout(t,e,...n){let{delegate:i}=Go;return i?.setTimeout?i.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Go;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Gc(t){Go.setTimeout(()=>{let{onUnhandledError:e}=Tn;if(e)e(t);else throw t})}function qr(){}var Xb=_p("C",void 0,void 0);function Jb(t){return _p("E",void 0,t)}function eC(t){return _p("N",t,void 0)}function _p(t,e,n){return{kind:t,value:e,error:n}}var Yr=null;function qo(t){if(Tn.useDeprecatedSynchronousErrorHandling){let e=!Yr;if(e&&(Yr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:i}=Yr;if(Yr=null,n)throw i}}else t()}function tC(t){Tn.useDeprecatedSynchronousErrorHandling&&Yr&&(Yr.errorThrown=!0,Yr.error=t)}var Kr=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Wc(e)&&e.add(this)):this.destination=UP}static create(e,n,i){return new vi(e,n,i)}next(e){this.isStopped?Cp(eC(e),this):this._next(e)}error(e){this.isStopped?Cp(Jb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Cp(Xb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jP=Function.prototype.bind;function bp(t,e){return jP.call(t,e)}var wp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(i){qc(i)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(i){qc(i)}else qc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){qc(n)}}},vi=class extends Kr{constructor(e,n,i){super();let r;if(H(e)||!e)r={next:e??void 0,error:n??void 0,complete:i??void 0};else{let o;this&&Tn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&bp(e.next,o),error:e.error&&bp(e.error,o),complete:e.complete&&bp(e.complete,o)}):r=e}this.destination=new wp(r)}};function qc(t){Tn.useDeprecatedSynchronousErrorHandling?tC(t):Gc(t)}function BP(t){throw t}function Cp(t,e){let{onStoppedNotification:n}=Tn;n&&Go.setTimeout(()=>n(t,e))}var UP={closed:!0,next:qr,error:BP,complete:qr};var Yo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pt(t){return t}function Dp(...t){return Ep(t)}function Ep(t){return t.length===0?pt:t.length===1?t[0]:function(n){return t.reduce((i,r)=>r(i),n)}}var ee=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let i=new t;return i.source=this,i.operator=n,i}subscribe(n,i,r){let o=HP(n)?n:new vi(n,i,r);return qo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(i){n.error(i)}}forEach(n,i){return i=nC(i),new i((r,o)=>{let s=new vi({next:a=>{try{n(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(n){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(n)}[Yo](){return this}pipe(...n){return Ep(n)(this)}toPromise(n){return n=nC(n),new n((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return t.create=e=>new t(e),t})();function nC(t){var e;return(e=t??Tn.Promise)!==null&&e!==void 0?e:Promise}function $P(t){return t&&H(t.next)&&H(t.error)&&H(t.complete)}function HP(t){return t&&t instanceof Kr||$P(t)&&Wc(t)}function xp(t){return H(t?.lift)}function Y(t){return e=>{if(xp(e))return e.lift(function(n){try{return t(n,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function z(t,e,n,i,r){return new Ip(t,e,n,i,r)}var Ip=class extends Kr{constructor(e,n,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ko(){return Y((t,e)=>{let n=null;t._refCount++;let i=z(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(i),i.closed||(n=t.connect())})}var Qo=class extends ee{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,xp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let n=this.getSubject();e.add(this.source.subscribe(z(n,void 0,()=>{this._teardown(),n.complete()},i=>{this._teardown(),n.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return Ko()(this)}};var iC=Wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class t extends ee{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let i=new Yc(this,this);return i.operator=n,i}_throwIfClosed(){if(this.closed)throw new iC}next(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(n)}})}error(n){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:i}=this;for(;i.length;)i.shift().error(n)}})}complete(){qo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:i,isStopped:r,observers:o}=this;return i||r?vp:(this.currentObservers=null,o.push(n),new Ye(()=>{this.currentObservers=null,Gr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:i,thrownError:r,isStopped:o}=this;i?n.error(r):o&&n.complete()}asObservable(){let n=new ee;return n.source=this,n}}return t.create=(e,n)=>new Yc(e,n),t})(),Yc=class extends Ke{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.next)===null||i===void 0||i.call(n,e)}error(e){var n,i;(i=(n=this.destination)===null||n===void 0?void 0:n.error)===null||i===void 0||i.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,i;return(i=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&i!==void 0?i:vp}};var gt=class extends Ke{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:i}=this;if(e)throw n;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}};var Sa={now(){return(Sa.delegate||Date).now()},delegate:void 0};var Kc=class extends Ke{constructor(e=1/0,n=1/0,i=Sa){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){let{isStopped:n,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;n||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){let{_bufferSize:e,_timestampProvider:n,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){let s=n.now(),a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}};var Qc=class extends Ye{constructor(e,n){super()}schedule(e,n=0){return this}};var Ma={setInterval(t,e,...n){let{delegate:i}=Ma;return i?.setInterval?i.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ma;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Zo=class extends Qc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var i;if(this.closed)return this;this.state=e;let r=this.id,o=this.scheduler;return r!=null&&(this.id=this.recycleAsyncId(o,r,n)),this.pending=!0,this.delay=n,this.id=(i=this.id)!==null&&i!==void 0?i:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,i=0){return Ma.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,n,i=0){if(i!=null&&this.delay===i&&this.pending===!1)return n;n!=null&&Ma.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let i=this._execute(e,n);if(i)return i;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i=!1,r;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:i}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Gr(i,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Xo=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,i){return new this.schedulerActionCtor(this,e).schedule(i,n)}};Xo.now=Sa.now;var Jo=class extends Xo{constructor(e,n=Xo.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let i;this._active=!0;do if(i=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,i){for(;e=n.shift();)e.unsubscribe();throw i}}};var Ta=new Jo(Zo);var Zc=class extends Zo{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,i=0){return i!=null&&i>0||i==null&&this.delay>0?super.requestAsyncId(e,n,i):(e.flush(this),0)}};var Xc=class extends Jo{};var Sp=new Xc(Zc);var Pt=new ee(t=>t.complete());function rC(t){return t&&H(t.schedule)}function Mp(t){return t[t.length-1]}function es(t){return H(Mp(t))?t.pop():void 0}function qn(t){return rC(Mp(t))?t.pop():void 0}function oC(t,e){return typeof Mp(t)=="number"?t.pop():e}var Jc=t=>t&&typeof t.length=="number"&&typeof t!="function";function eu(t){return H(t?.then)}function tu(t){return H(t[Yo])}function nu(t){return Symbol.asyncIterator&&H(t?.[Symbol.asyncIterator])}function iu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zP(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ru=zP();function ou(t){return H(t?.[ru])}function su(t){return Tb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:i,done:r}=yield Vc(n.read());if(r)return yield Vc(void 0);yield yield Vc(i)}}finally{n.releaseLock()}})}function au(t){return H(t?.getReader)}function De(t){if(t instanceof ee)return t;if(t!=null){if(tu(t))return WP(t);if(Jc(t))return GP(t);if(eu(t))return qP(t);if(nu(t))return sC(t);if(ou(t))return YP(t);if(au(t))return KP(t)}throw iu(t)}function WP(t){return new ee(e=>{let n=t[Yo]();if(H(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GP(t){return new ee(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qP(t){return new ee(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Gc)})}function YP(t){return new ee(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function sC(t){return new ee(e=>{QP(t,e).catch(n=>e.error(n))})}function KP(t){return sC(su(t))}function QP(t,e){var n,i,r,o;return Mb(this,void 0,void 0,function*(){try{for(n=Ab(t);i=yield n.next(),!i.done;){let s=i.value;if(e.next(s),e.closed)return}}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=n.return)&&(yield o.call(n))}finally{if(r)throw r.error}}e.complete()})}function Ut(t,e,n,i=0,r=!1){let o=e.schedule(function(){n(),r?t.add(this.schedule(null,i)):this.unsubscribe()},i);if(t.add(o),!r)return o}function dn(t,e=0){return Y((n,i)=>{n.subscribe(z(i,r=>Ut(i,t,()=>i.next(r),e),()=>Ut(i,t,()=>i.complete(),e),r=>Ut(i,t,()=>i.error(r),e)))})}function An(t,e=0){return Y((n,i)=>{i.add(t.schedule(()=>n.subscribe(i),e))})}function aC(t,e){return De(t).pipe(An(e),dn(e))}function lC(t,e){return De(t).pipe(An(e),dn(e))}function cC(t,e){return new ee(n=>{let i=0;return e.schedule(function(){i===t.length?n.complete():(n.next(t[i++]),n.closed||this.schedule())})})}function uC(t,e){return new ee(n=>{let i;return Ut(n,e,()=>{i=t[ru](),Ut(n,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){n.error(s);return}o?n.complete():n.next(r)},0,!0)}),()=>H(i?.return)&&i.return()})}function lu(t,e){if(!t)throw new Error("Iterable cannot be null");return new ee(n=>{Ut(n,e,()=>{let i=t[Symbol.asyncIterator]();Ut(n,e,()=>{i.next().then(r=>{r.done?n.complete():n.next(r.value)})},0,!0)})})}function dC(t,e){return lu(su(t),e)}function hC(t,e){if(t!=null){if(tu(t))return aC(t,e);if(Jc(t))return cC(t,e);if(eu(t))return lC(t,e);if(nu(t))return lu(t,e);if(ou(t))return uC(t,e);if(au(t))return dC(t,e)}throw iu(t)}function he(t,e){return e?hC(t,e):De(t)}function j(...t){let e=qn(t);return he(t,e)}function ts(t,e){let n=H(t)?t:()=>t,i=r=>r.error(n());return new ee(e?r=>e.schedule(i,0,r):i)}function Tp(t){return!!t&&(t instanceof ee||H(t.lift)&&H(t.subscribe))}var _i=Wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function B(t,e){return Y((n,i)=>{let r=0;n.subscribe(z(i,o=>{i.next(t.call(e,o,r++))}))})}var{isArray:ZP}=Array;function XP(t,e){return ZP(e)?t(...e):t(e)}function cu(t){return B(e=>XP(t,e))}var{isArray:JP}=Array,{getPrototypeOf:eN,prototype:tN,keys:nN}=Object;function uu(t){if(t.length===1){let e=t[0];if(JP(e))return{args:e,keys:null};if(iN(e)){let n=nN(e);return{args:n.map(i=>e[i]),keys:n}}}return{args:t,keys:null}}function iN(t){return t&&typeof t=="object"&&eN(t)===tN}function du(t,e){return t.reduce((n,i,r)=>(n[i]=e[r],n),{})}function Aa(...t){let e=qn(t),n=es(t),{args:i,keys:r}=uu(t);if(i.length===0)return he([],e);let o=new ee(rN(i,e,r?s=>du(r,s):pt));return n?o.pipe(cu(n)):o}function rN(t,e,n=pt){return i=>{fC(e,()=>{let{length:r}=t,o=new Array(r),s=r,a=r;for(let l=0;l<r;l++)fC(e,()=>{let c=he(t[l],e),u=!1;c.subscribe(z(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(n(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}function fC(t,e,n){t?Ut(n,t,e):e()}function pC(t,e,n,i,r,o,s,a){let l=[],c=0,u=0,d=!1,h=()=>{d&&!l.length&&!c&&e.complete()},f=g=>c<i?p(g):l.push(g),p=g=>{o&&e.next(g),c++;let m=!1;De(n(g,u++)).subscribe(z(e,y=>{r?.(y),o?f(y):e.next(y)},()=>{m=!0},void 0,()=>{if(m)try{for(c--;l.length&&c<i;){let y=l.shift();s?Ut(e,s,()=>p(y)):p(y)}h()}catch(y){e.error(y)}}))};return t.subscribe(z(e,f,()=>{d=!0,h()})),()=>{a?.()}}function Xe(t,e,n=1/0){return H(e)?Xe((i,r)=>B((o,s)=>e(i,o,r,s))(De(t(i,r))),n):(typeof e=="number"&&(n=e),Y((i,r)=>pC(i,r,t,n)))}function Ji(t=1/0){return Xe(pt,t)}function gC(){return Ji(1)}function ns(...t){return gC()(he(t,qn(t)))}function hu(t){return new ee(e=>{De(t()).subscribe(e)})}function Ap(...t){let e=es(t),{args:n,keys:i}=uu(t),r=new ee(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),l=s,c=s;for(let u=0;u<s;u++){let d=!1;De(n[u]).subscribe(z(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?du(i,a):a),o.complete())}))}});return e?r.pipe(cu(e)):r}function is(...t){let e=qn(t),n=oC(t,1/0),i=t;return i.length?i.length===1?De(i[0]):Ji(n)(he(i,e)):Pt}function Dt(t,e){return Y((n,i)=>{let r=0;n.subscribe(z(i,o=>t.call(e,o,r++)&&i.next(o)))})}function er(t){return Y((e,n)=>{let i=null,r=!1,o;i=e.subscribe(z(n,void 0,void 0,s=>{o=De(t(s,er(t)(e))),i?(i.unsubscribe(),i=null,o.subscribe(n)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(n))})}function mC(t,e,n,i,r){return(o,s)=>{let a=n,l=e,c=0;o.subscribe(z(s,u=>{let d=c++;l=a?t(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}function bi(t,e){return H(e)?Xe(t,e,1):Xe(t,1)}function tr(t){return Y((e,n)=>{let i=!1;e.subscribe(z(n,r=>{i=!0,n.next(r)},()=>{i||n.next(t),n.complete()}))})}function Ci(t){return t<=0?()=>Pt:Y((e,n)=>{let i=0;e.subscribe(z(n,r=>{++i<=t&&(n.next(r),t<=i&&n.complete())}))})}function Pp(t){return B(()=>t)}function Np(t,e=pt){return t=t??oN,Y((n,i)=>{let r,o=!0;n.subscribe(z(i,s=>{let a=e(s);(o||!t(r,a))&&(o=!1,r=a,i.next(s))}))})}function oN(t,e){return t===e}function fu(t=sN){return Y((e,n)=>{let i=!1;e.subscribe(z(n,r=>{i=!0,n.next(r)},()=>i?n.complete():n.error(t())))})}function sN(){return new _i}function nr(t){return Y((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function hn(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Dt((r,o)=>t(r,o,i)):pt,Ci(1),n?tr(e):fu(()=>new _i))}function rs(t){return t<=0?()=>Pt:Y((e,n)=>{let i=[];e.subscribe(z(n,r=>{i.push(r),t<i.length&&i.shift()},()=>{for(let r of i)n.next(r);n.complete()},void 0,()=>{i=null}))})}function Rp(t,e){let n=arguments.length>=2;return i=>i.pipe(t?Dt((r,o)=>t(r,o,i)):pt,rs(1),n?tr(e):fu(()=>new _i))}function os(t,e){return Y(mC(t,e,arguments.length>=2,!0))}function Pa(t={}){let{connector:e=()=>new Ke,resetOnError:n=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=t;return o=>{let s,a,l,c=0,u=!1,d=!1,h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{let g=s;f(),g?.unsubscribe()};return Y((g,m)=>{c++,!d&&!u&&h();let y=l=l??e();m.add(()=>{c--,c===0&&!d&&!u&&(a=Op(p,r))}),y.subscribe(m),!s&&c>0&&(s=new vi({next:v=>y.next(v),error:v=>{d=!0,h(),a=Op(f,n,v),y.error(v)},complete:()=>{u=!0,h(),a=Op(f,i),y.complete()}}),De(g).subscribe(s))})(o)}}function Op(t,e,...n){if(e===!0){t();return}if(e===!1)return;let i=new vi({next:()=>{i.unsubscribe(),t()}});return De(e(...n)).subscribe(i)}function pu(t,e,n){let i,r=!1;return t&&typeof t=="object"?{bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:n}=t:i=t??1/0,Pa({connector:()=>new Kc(i,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function kp(t){return Y((e,n)=>{let i=!1,r=0;e.subscribe(z(n,o=>(i||(i=!t(o,r++)))&&n.next(o)))})}function Fp(...t){let e=qn(t);return Y((n,i)=>{(e?ns(t,n,e):ns(t,n)).subscribe(i)})}function Me(t,e){return Y((n,i)=>{let r=null,o=0,s=!1,a=()=>s&&!r&&i.complete();n.subscribe(z(i,l=>{r?.unsubscribe();let c=0,u=o++;De(t(l,u)).subscribe(r=z(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function gu(t,e){return H(e)?Me(()=>t,e):Me(()=>t)}function Lp(t){return Y((e,n)=>{De(t).subscribe(z(n,()=>n.complete(),qr)),!n.closed&&e.subscribe(n)})}function Je(t,e,n){let i=H(t)||e||n?{next:t,error:e,complete:n}:t;return i?Y((r,o)=>{var s;(s=i.subscribe)===null||s===void 0||s.call(i);let a=!0;r.subscribe(z(o,l=>{var c;(c=i.next)===null||c===void 0||c.call(i,l),o.next(l)},()=>{var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),o.complete()},l=>{var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),o.error(l)},()=>{var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):pt}function Vp(...t){let e=es(t);return Y((n,i)=>{let r=t.length,o=new Array(r),s=t.map(()=>!1),a=!1;for(let l=0;l<r;l++)De(t[l]).subscribe(z(i,c=>{o[l]=c,!a&&!s[l]&&(s[l]=!0,(a=s.every(pt))&&(s=null))},qr));n.subscribe(z(i,l=>{if(a){let c=[l,...o];i.next(e?e(...c):c)}}))})}var aN="https://g.co/ng/security#xss",L=class extends Error{constructor(e,n){super(Yu(e,n)),this.code=e}};function Yu(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Wa(t){return{toString:t}.toString()}var mu="__parameters__";function lN(t){return function(...n){if(t){let i=t(...n);for(let r in i)this[r]=i[r]}}}function tw(t,e,n){return Wa(()=>{let i=lN(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;let s=new r(...o);return a.annotation=s,a;function a(l,c,u){let d=l.hasOwnProperty(mu)?l[mu]:Object.defineProperty(l,mu,{value:[]})[mu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var mt=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function cN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Rt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Rt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function yC(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uN=Ee({__forward_ref__:Ee});function pn(t){return t.__forward_ref__=pn,t.toString=function(){return Rt(this())},t}function Nt(t){return nw(t)?t():t}function nw(t){return typeof t=="function"&&t.hasOwnProperty(uN)&&t.__forward_ref__===pn}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function je(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ku(t){return vC(t,rw)||vC(t,ow)}function iw(t){return Ku(t)!==null}function vC(t,e){return t.hasOwnProperty(e)?t[e]:null}function dN(t){let e=t&&(t[rw]||t[ow]);return e||null}function _C(t){return t&&(t.hasOwnProperty(bC)||t.hasOwnProperty(hN))?t[bC]:null}var rw=Ee({\u0275prov:Ee}),bC=Ee({\u0275inj:Ee}),ow=Ee({ngInjectableDef:Ee}),hN=Ee({ngInjectorDef:Ee}),R=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=O({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function sw(t){return t&&!!t.\u0275providers}var fN=Ee({\u0275cmp:Ee}),pN=Ee({\u0275dir:Ee}),gN=Ee({\u0275pipe:Ee}),mN=Ee({\u0275mod:Ee}),Iu=Ee({\u0275fac:Ee}),Na=Ee({__NG_ELEMENT_ID__:Ee}),CC=Ee({__NG_ENV_ID__:Ee});function Oa(t){return typeof t=="string"?t:t==null?"":String(t)}function yN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Oa(t)}function vN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new L(-200,t)}function Yg(t,e){throw new L(-201,!1)}var ie=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ie||{}),eg;function aw(){return eg}function $t(t){let e=eg;return eg=t,e}function lw(t,e,n){let i=Ku(t);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(n&ie.Optional)return null;if(e!==void 0)return e;Yg(t,"Injector")}var _N={},ka=_N,tg="__NG_DI_FLAG__",Su="ngTempTokenPath",bN="ngTokenPath",CN=/\n/gm,wN="\u0275",wC="__source",us;function DN(){return us}function ir(t){let e=us;return us=t,e}function EN(t,e=ie.Default){if(us===void 0)throw new L(-203,!1);return us===null?lw(t,void 0,e):us.get(t,e&ie.Optional?null:void 0,e)}function I(t,e=ie.Default){return(aw()||EN)(Nt(t),e)}function A(t,e=ie.Default){return I(t,Qu(e))}function Qu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function ng(t){let e=[];for(let n=0;n<t.length;n++){let i=Nt(t[n]);if(Array.isArray(i)){if(i.length===0)throw new L(900,!1);let r,o=ie.Default;for(let s=0;s<i.length;s++){let a=i[s],l=xN(a);typeof l=="number"?l===-1?r=a.token:o|=l:r=a}e.push(I(r,o))}else e.push(I(i))}return e}function cw(t,e){return t[tg]=e,t.prototype[tg]=e,t}function xN(t){return t[tg]}function IN(t,e,n,i){let r=t[Su];throw e[wC]&&r.unshift(e[wC]),t.message=SN(`
`+t.message,r,n,i),t[bN]=r,t[Su]=null,t}function SN(t,e,n,i=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==wN?t.slice(2):t;let r=Rt(e);if(Array.isArray(e))r=e.map(Rt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Rt(a)))}r=`{${o.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(CN,`
  `)}`}var bs=cw(tw("Optional"),8);var Kg=cw(tw("SkipSelf"),4);function Jr(t,e){let n=t.hasOwnProperty(Iu);return n?t[Iu]:null}function MN(t,e,n){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){let r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}function TN(t){return t.flat(Number.POSITIVE_INFINITY)}function Qg(t,e){t.forEach(n=>Array.isArray(n)?Qg(n,e):e(n))}function uw(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Mu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AN(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(r===1)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;){let o=r-2;t[r]=t[o],r--}t[e]=n,t[e+1]=i}}function PN(t,e,n){let i=Ga(t,e);return i>=0?t[i|1]=n:(i=~i,AN(t,i,e,n)),i}function jp(t,e){let n=Ga(t,e);if(n>=0)return t[n|1]}function Ga(t,e){return NN(t,e,1)}function NN(t,e,n){let i=0,r=t.length>>n;for(;r!==i;){let o=i+(r-i>>1),s=t[o<<n];if(e===s)return o<<n;s>e?r=o:i=o+1}return~(r<<n)}var hs={},fn=[],fs=new R(""),dw=new R("",-1),hw=new R(""),Tu=class{get(e,n=ka){if(n===ka){let i=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw i.name="NullInjectorError",i}return n}},fw=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(fw||{}),Qn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Qn||{}),yt=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(yt||{});function RN(t,e,n){let i=t.length;for(;;){let r=t.indexOf(e,n);if(r===-1)return r;if(r===0||t.charCodeAt(r-1)<=32){let o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function ig(t,e,n){let i=0;for(;i<n.length;){let r=n[i];if(typeof r=="number"){if(r!==0)break;i++;let o=n[i++],s=n[i++],a=n[i++];t.setAttribute(e,s,a,o)}else{let o=r,s=n[++i];kN(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),i++}}return i}function ON(t){return t===3||t===4||t===6}function kN(t){return t.charCodeAt(0)===64}function Fa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){let r=e[i];typeof r=="number"?n=r:n===0||(n===-1||n===2?DC(t,n,r,null,e[++i]):DC(t,n,r,null,null))}}return t}function DC(t,e,n,i,r){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(i===null){r!==null&&(t[o+1]=r);return}else if(i===t[o+1]){t[o+2]=r;return}}o++,i!==null&&o++,r!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),i!==null&&t.splice(o++,0,i),r!==null&&t.splice(o++,0,r)}var pw="ng-template";function FN(t,e,n,i){let r=0;if(i){for(;r<e.length&&typeof e[r]=="string";r+=2)if(e[r]==="class"&&RN(e[r+1].toLowerCase(),n,0)!==-1)return!0}else if(Zg(t))return!1;if(r=e.indexOf(1,r),r>-1){let o;for(;++r<e.length&&typeof(o=e[r])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zg(t){return t.type===4&&t.value!==pw}function LN(t,e,n){let i=t.type===4&&!n?pw:t.value;return e===i}function VN(t,e,n){let i=4,r=t.attrs,o=r!==null?UN(r):0,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!s&&!Pn(i)&&!Pn(l))return!1;if(s&&Pn(l))continue;s=!1,i=l|i&1;continue}if(!s)if(i&4){if(i=2|i&1,l!==""&&!LN(t,l,n)||l===""&&e.length===1){if(Pn(i))return!1;s=!0}}else if(i&8){if(r===null||!FN(t,r,l,n)){if(Pn(i))return!1;s=!0}}else{let c=e[++a],u=jN(l,r,Zg(t),n);if(u===-1){if(Pn(i))return!1;s=!0;continue}if(c!==""){let d;if(u>o?d="":d=r[u+1].toLowerCase(),i&2&&c!==d){if(Pn(i))return!1;s=!0}}}}return Pn(i)||s}function Pn(t){return(t&1)===0}function jN(t,e,n,i){if(e===null)return-1;let r=0;if(i||!n){let o=!1;for(;r<e.length;){let s=e[r];if(s===t)return r;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++r];for(;typeof a=="string";)a=e[++r];continue}else{if(s===4)break;if(s===0){r+=4;continue}}r+=o?1:2}return-1}else return $N(e,t)}function BN(t,e,n=!1){for(let i=0;i<e.length;i++)if(VN(t,e[i],n))return!0;return!1}function UN(t){for(let e=0;e<t.length;e++){let n=t[e];if(ON(n))return e}return t.length}function $N(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let i=t[n];if(typeof i=="number")return-1;if(i===e)return n;n++}return-1}function EC(t,e){return t?":not("+e.trim()+")":e}function HN(t){let e=t[0],n=1,i=2,r="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(i&2){let a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else i&8?r+="."+s:i&4&&(r+=" "+s);else r!==""&&!Pn(s)&&(e+=EC(o,r),r=""),i=s,o=o||!Pn(i);n++}return r!==""&&(e+=EC(o,r)),e}function zN(t){return t.map(HN).join(",")}function WN(t){let e=[],n=[],i=1,r=2;for(;i<t.length;){let o=t[i];if(typeof o=="string")r===2?o!==""&&e.push(o,t[++i]):r===8&&n.push(o);else{if(!Pn(r))break;r=o}i++}return{attrs:e,classes:n}}function Fe(t){return Wa(()=>{let e=bw(t),n=ce(N({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===fw.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Qn.Emulated,styles:t.styles||fn,_:null,schemas:t.schemas||null,tView:null,id:""});Cw(n);let i=t.dependencies;return n.directiveDefs=IC(i,!1),n.pipeDefs=IC(i,!0),n.id=YN(n),n})}function GN(t){return or(t)||mw(t)}function qN(t){return t!==null}function Be(t){return Wa(()=>({type:t.type,bootstrap:t.bootstrap||fn,declarations:t.declarations||fn,imports:t.imports||fn,exports:t.exports||fn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function xC(t,e){if(t==null)return hs;let n={};for(let i in t)if(t.hasOwnProperty(i)){let r=t[i],o,s,a=yt.None;Array.isArray(r)?(a=r[0],o=r[1],s=r[2]??o):(o=r,s=r),e?(n[o]=a!==yt.None?[i,a]:i,e[o]=s):n[o]=i}return n}function Ue(t){return Wa(()=>{let e=bw(t);return Cw(e),e})}function gw(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function or(t){return t[fN]||null}function mw(t){return t[pN]||null}function yw(t){return t[gN]||null}function vw(t){let e=or(t)||mw(t)||yw(t);return e!==null?e.standalone:!1}function _w(t,e){let n=t[mN]||null;if(!n&&e===!0)throw new Error(`Type ${Rt(t)} does not have '\u0275mod' property.`);return n}function bw(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||hs,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||fn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:xC(t.inputs,e),outputs:xC(t.outputs),debugInfo:null}}function Cw(t){t.features?.forEach(e=>e(t))}function IC(t,e){if(!t)return null;let n=e?yw:GN;return()=>(typeof t=="function"?t():t).map(i=>n(i)).filter(qN)}function YN(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let r of n)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zu(t){return{\u0275providers:t}}function KN(...t){return{\u0275providers:ww(!0,t),\u0275fromNgModule:!0}}function ww(t,...e){let n=[],i=new Set,r,o=s=>{n.push(s)};return Qg(e,s=>{let a=s;rg(a,o,[],i)&&(r||=[],r.push(a))}),r!==void 0&&Dw(r,o),n}function Dw(t,e){for(let n=0;n<t.length;n++){let{ngModule:i,providers:r}=t[n];Xg(r,o=>{e(o,i)})}}function rg(t,e,n,i){if(t=Nt(t),!t)return!1;let r=null,o=_C(t),s=!o&&or(t);if(!o&&!s){let l=t.ngModule;if(o=_C(l),o)r=l;else return!1}else{if(s&&!s.standalone)return!1;r=t}let a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){let l=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let c of l)rg(c,e,n,i)}}else if(o){if(o.imports!=null&&!a){i.add(r);let c;try{Qg(o.imports,u=>{rg(u,e,n,i)&&(c||=[],c.push(u))})}finally{}c!==void 0&&Dw(c,e)}if(!a){let c=Jr(r)||(()=>new r);e({provide:r,useFactory:c,deps:fn},r),e({provide:hw,useValue:r,multi:!0},r),e({provide:fs,useValue:()=>I(r),multi:!0},r)}let l=o.providers;if(l!=null&&!a){let c=t;Xg(l,u=>{e(u,c)})}}else return!1;return r!==t&&t.providers!==void 0}function Xg(t,e){for(let n of t)sw(n)&&(n=n.\u0275providers),Array.isArray(n)?Xg(n,e):e(n)}var QN=Ee({provide:String,useValue:Ee});function Ew(t){return t!==null&&typeof t=="object"&&QN in t}function ZN(t){return!!(t&&t.useExisting)}function XN(t){return!!(t&&t.useFactory)}function ps(t){return typeof t=="function"}function JN(t){return!!t.useClass}var Xu=new R(""),bu={},eR={},Bp;function Jg(){return Bp===void 0&&(Bp=new Tu),Bp}var Ot=class{},La=class extends Ot{get destroyed(){return this._destroyed}constructor(e,n,i,r){super(),this.parent=n,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,sg(e,s=>this.processProvider(s)),this.records.set(dw,ss(void 0,this)),r.has("environment")&&this.records.set(Ot,ss(void 0,this));let o=this.records.get(Xu);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(hw,fn,ie.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=me(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of n)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),me(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),i=$t(void 0),r;try{return e()}finally{ir(n),$t(i)}}get(e,n=ka,i=ie.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(CC))return e[CC](this);i=Qu(i);let r,o=ir(this),s=$t(void 0);try{if(!(i&ie.SkipSelf)){let l=this.records.get(e);if(l===void 0){let c=oR(e)&&Ku(e);c&&this.injectableDefInScope(c)?l=ss(og(e),bu):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=i&ie.Self?Jg():this.parent;return n=i&ie.Optional&&n===ka?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Su]=a[Su]||[]).unshift(Rt(e)),o)throw a;return IN(a,e,"R3InjectorError",this.source)}else throw a}finally{$t(s),ir(o)}}resolveInjectorInitializers(){let e=me(null),n=ir(this),i=$t(void 0),r;try{let o=this.get(fs,fn,ie.Self);for(let s of o)s()}finally{ir(n),$t(i),me(e)}}toString(){let e=[],n=this.records;for(let i of n.keys())e.push(Rt(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new L(205,!1)}processProvider(e){e=Nt(e);let n=ps(e)?e:Nt(e&&e.provide),i=nR(e);if(!ps(e)&&e.multi===!0){let r=this.records.get(n);r||(r=ss(void 0,bu,!0),r.factory=()=>ng(r.multi),this.records.set(n,r)),n=e,r.multi.push(e)}this.records.set(n,i)}hydrate(e,n){let i=me(null);try{return n.value===bu&&(n.value=eR,n.value=n.factory()),typeof n.value=="object"&&n.value&&rR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{me(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Nt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function og(t){let e=Ku(t),n=e!==null?e.factory:Jr(t);if(n!==null)return n;if(t instanceof R)throw new L(204,!1);if(t instanceof Function)return tR(t);throw new L(204,!1)}function tR(t){if(t.length>0)throw new L(204,!1);let n=dN(t);return n!==null?()=>n.factory(t):()=>new t}function nR(t){if(Ew(t))return ss(void 0,t.useValue);{let e=xw(t);return ss(e,bu)}}function xw(t,e,n){let i;if(ps(t)){let r=Nt(t);return Jr(r)||og(r)}else if(Ew(t))i=()=>Nt(t.useValue);else if(XN(t))i=()=>t.useFactory(...ng(t.deps||[]));else if(ZN(t))i=()=>I(Nt(t.useExisting));else{let r=Nt(t&&(t.useClass||t.provide));if(iR(t))i=()=>new r(...ng(t.deps));else return Jr(r)||og(r)}return i}function ss(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function iR(t){return!!t.deps}function rR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function oR(t){return typeof t=="function"||typeof t=="object"&&t instanceof R}function sg(t,e){for(let n of t)Array.isArray(n)?sg(n,e):n&&sw(n)?sg(n.\u0275providers,e):e(n)}function On(t,e){t instanceof La&&t.assertNotDestroyed();let n,i=ir(t),r=$t(void 0);try{return e()}finally{ir(i),$t(r)}}function Iw(){return aw()!==void 0||DN()!=null}function sR(t){if(!Iw())throw new L(-203,!1)}function aR(t){let e=mt.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function lR(t){return typeof t=="function"}var xi=0,Z=1,$=2,vt=3,Nn=4,kn=5,Au=6,Va=7,Rn=8,gs=9,Zn=10,et=11,ja=12,SC=13,Cs=14,Xn=15,qa=16,as=17,wi=18,Ju=19,Sw=20,rr=21,Up=22,eo=23,en=25,Mw=1;var to=7,Pu=8,ms=9,Jt=10,em=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(em||{});function Zr(t){return Array.isArray(t)&&typeof t[Mw]=="object"}function Ii(t){return Array.isArray(t)&&t[Mw]===!0}function tm(t){return(t.flags&4)!==0}function ed(t){return t.componentOffset>-1}function td(t){return(t.flags&1)===1}function sr(t){return!!t.template}function cR(t){return(t[$]&512)!==0}var ag=class{constructor(e,n,i){this.previousValue=e,this.currentValue=n,this.firstChange=i}isFirstChange(){return this.firstChange}};function Tw(t,e,n,i){e!==null?e.applyValueToInputSignal(e,i):t[n]=i}function Si(){return Aw}function Aw(t){return t.type.prototype.ngOnChanges&&(t.setInput=dR),uR}Si.ngInherit=!0;function uR(){let t=Nw(this),e=t?.current;if(e){let n=t.previous;if(n===hs)t.previous=e;else for(let i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function dR(t,e,n,i,r){let o=this.declaredInputs[i],s=Nw(t)||hR(t,{previous:hs,current:null}),a=s.current||(s.current={}),l=s.previous,c=l[o];a[o]=new ag(c&&c.currentValue,n,l===hs),Tw(t,e,r,n)}var Pw="__ngSimpleChanges__";function Nw(t){return t[Pw]||null}function hR(t,e){return t[Pw]=e}var MC=null;var Yn=function(t,e,n){MC?.(t,e,n)},fR="svg",pR="math",gR=!1;function mR(){return gR}function Jn(t){for(;Array.isArray(t);)t=t[xi];return t}function Rw(t,e){return Jn(e[t])}function gn(t,e){return Jn(e[t.index])}function Ow(t,e){return t.data[e]}function nm(t,e){return t[e]}function ur(t,e){let n=e[t];return Zr(n)?n:n[xi]}function yR(t){return(t[$]&4)===4}function im(t){return(t[$]&128)===128}function vR(t){return Ii(t[vt])}function ys(t,e){return e==null?null:t[e]}function kw(t){t[as]=0}function _R(t){t[$]&1024||(t[$]|=1024,im(t)&&Ba(t))}function bR(t,e){for(;t>0;)e=e[Cs],t--;return e}function rm(t){return!!(t[$]&9216||t[eo]?.dirty)}function lg(t){t[Zn].changeDetectionScheduler?.notify(1),rm(t)?Ba(t):t[$]&64&&(mR()?(t[$]|=1024,Ba(t)):t[Zn].changeDetectionScheduler?.notify())}function Ba(t){t[Zn].changeDetectionScheduler?.notify();let e=Ua(t);for(;e!==null&&!(e[$]&8192||(e[$]|=8192,!im(e)));)e=Ua(e)}function Fw(t,e){if((t[$]&256)===256)throw new L(911,!1);t[rr]===null&&(t[rr]=[]),t[rr].push(e)}function CR(t,e){if(t[rr]===null)return;let n=t[rr].indexOf(e);n!==-1&&t[rr].splice(n,1)}function Ua(t){let e=t[vt];return Ii(e)?e[vt]:e}var X={lFrame:Ww(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function wR(){return X.lFrame.elementDepthCount}function DR(){X.lFrame.elementDepthCount++}function ER(){X.lFrame.elementDepthCount--}function Lw(){return X.bindingsEnabled}function xR(){return X.skipHydrationRootTNode!==null}function IR(t){return X.skipHydrationRootTNode===t}function SR(){X.skipHydrationRootTNode=null}function fe(){return X.lFrame.lView}function st(){return X.lFrame.tView}function Ht(t){return X.lFrame.contextLView=t,t[Rn]}function zt(t){return X.lFrame.contextLView=null,t}function Wt(){let t=Vw();for(;t!==null&&t.type===64;)t=t.parent;return t}function Vw(){return X.lFrame.currentTNode}function MR(){let t=X.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function lo(t,e){let n=X.lFrame;n.currentTNode=t,n.isParent=e}function om(){return X.lFrame.isParent}function jw(){X.lFrame.isParent=!1}function TR(){return X.lFrame.contextLView}function Bw(){let t=X.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AR(){return X.lFrame.bindingIndex}function PR(t){return X.lFrame.bindingIndex=t}function nd(){return X.lFrame.bindingIndex++}function Uw(t){let e=X.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function NR(){return X.lFrame.inI18n}function RR(t,e){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=t,cg(e)}function OR(){return X.lFrame.currentDirectiveIndex}function cg(t){X.lFrame.currentDirectiveIndex=t}function kR(t){let e=X.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function $w(){return X.lFrame.currentQueryIndex}function sm(t){X.lFrame.currentQueryIndex=t}function FR(t){let e=t[Z];return e.type===2?e.declTNode:e.type===1?t[kn]:null}function Hw(t,e,n){if(n&ie.SkipSelf){let r=e,o=t;for(;r=r.parent,r===null&&!(n&ie.Host);)if(r=FR(o),r===null||(o=o[Cs],r.type&10))break;if(r===null)return!1;e=r,t=o}let i=X.lFrame=zw();return i.currentTNode=e,i.lView=t,!0}function am(t){let e=zw(),n=t[Z];X.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zw(){let t=X.lFrame,e=t===null?null:t.child;return e===null?Ww(t):e}function Ww(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function Gw(){let t=X.lFrame;return X.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var qw=Gw;function lm(){let t=Gw();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function LR(t){return(X.lFrame.contextLView=bR(t,X.lFrame.contextLView))[Rn]}function co(){return X.lFrame.selectedIndex}function no(t){X.lFrame.selectedIndex=t}function cm(){let t=X.lFrame;return Ow(t.tView,t.selectedIndex)}function VR(){return X.lFrame.currentNamespace}var Yw=!0;function id(){return Yw}function rd(t){Yw=t}function jR(t,e,n){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){let s=Aw(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}r&&(n.preOrderHooks??=[]).push(0-t,r),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function od(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),c&&((t.viewHooks??=[]).push(n,c),(t.viewCheckHooks??=[]).push(n,c)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Cu(t,e,n){Kw(t,e,3,n)}function wu(t,e,n,i){(t[$]&3)===n&&Kw(t,e,n,i)}function $p(t,e){let n=t[$];(n&3)===e&&(n&=16383,n+=1,t[$]=n)}function Kw(t,e,n,i){let r=i!==void 0?t[as]&65535:0,o=i??-1,s=e.length-1,a=0;for(let l=r;l<s;l++)if(typeof e[l+1]=="number"){if(a=e[l],i!=null&&a>=i)break}else e[l]<0&&(t[as]+=65536),(a<o||o==-1)&&(BR(t,n,e,l),t[as]=(t[as]&4294901760)+l+2),l++}function TC(t,e){Yn(4,t,e);let n=me(null);try{e.call(t)}finally{me(n),Yn(5,t,e)}}function BR(t,e,n,i){let r=n[i]<0,o=n[i+1],s=r?-n[i]:n[i],a=t[s];r?t[$]>>14<t[as]>>16&&(t[$]&3)===e&&(t[$]+=16384,TC(a,o)):TC(a,o)}var ds=-1,io=class{constructor(e,n,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i}};function UR(t){return t instanceof io}function $R(t){return(t.flags&8)!==0}function HR(t){return(t.flags&16)!==0}function Qw(t){return t!==ds}function Nu(t){return t&32767}function zR(t){return t>>16}function Ru(t,e){let n=zR(t),i=e;for(;n>0;)i=i[Cs],n--;return i}var ug=!0;function Ou(t){let e=ug;return ug=t,e}var WR=256,Zw=WR-1,Xw=5,GR=0,Kn={};function qR(t,e,n){let i;typeof n=="string"?i=n.charCodeAt(0)||0:n.hasOwnProperty(Na)&&(i=n[Na]),i==null&&(i=n[Na]=GR++);let r=i&Zw,o=1<<r;e.data[t+(r>>Xw)]|=o}function ku(t,e){let n=Jw(t,e);if(n!==-1)return n;let i=e[Z];i.firstCreatePass&&(t.injectorIndex=e.length,Hp(i.data,t),Hp(e,null),Hp(i.blueprint,null));let r=um(t,e),o=t.injectorIndex;if(Qw(r)){let s=Nu(r),a=Ru(r,e),l=a[Z].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function Hp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Jw(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function um(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,i=null,r=e;for(;r!==null;){if(i=rD(r),i===null)return ds;if(n++,r=r[Cs],i.injectorIndex!==-1)return i.injectorIndex|n<<16}return ds}function dg(t,e,n){qR(t,e,n)}function eD(t,e,n){if(n&ie.Optional||t!==void 0)return t;Yg(e,"NodeInjector")}function tD(t,e,n,i){if(n&ie.Optional&&i===void 0&&(i=null),!(n&(ie.Self|ie.Host))){let r=t[gs],o=$t(void 0);try{return r?r.get(e,i,n&ie.Optional):lw(e,i,n&ie.Optional)}finally{$t(o)}}return eD(i,e,n)}function nD(t,e,n,i=ie.Default,r){if(t!==null){if(e[$]&2048&&!(i&ie.Self)){let s=ZR(t,e,n,i,Kn);if(s!==Kn)return s}let o=iD(t,e,n,i,Kn);if(o!==Kn)return o}return tD(e,n,i,r)}function iD(t,e,n,i,r){let o=KR(n);if(typeof o=="function"){if(!Hw(e,t,i))return i&ie.Host?eD(r,n,i):tD(e,n,i,r);try{let s;if(s=o(i),s==null&&!(i&ie.Optional))Yg(n);else return s}finally{qw()}}else if(typeof o=="number"){let s=null,a=Jw(t,e),l=ds,c=i&ie.Host?e[Xn][kn]:null;for((a===-1||i&ie.SkipSelf)&&(l=a===-1?um(t,e):e[a+8],l===ds||!PC(i,!1)?a=-1:(s=e[Z],a=Nu(l),e=Ru(l,e)));a!==-1;){let u=e[Z];if(AC(o,a,u.data)){let d=YR(a,e,n,s,i,c);if(d!==Kn)return d}l=e[a+8],l!==ds&&PC(i,e[Z].data[a+8]===c)&&AC(o,a,e)?(s=u,a=Nu(l),e=Ru(l,e)):a=-1}}return r}function YR(t,e,n,i,r,o){let s=e[Z],a=s.data[t+8],l=i==null?ed(a)&&ug:i!=s&&(a.type&3)!==0,c=r&ie.Host&&o===a,u=Du(a,s,n,l,c);return u!==null?ro(e,s,u,a):Kn}function Du(t,e,n,i,r){let o=t.providerIndexes,s=e.data,a=o&1048575,l=t.directiveStart,c=t.directiveEnd,u=o>>20,d=i?a:a+u,h=r?a+u:c;for(let f=d;f<h;f++){let p=s[f];if(f<l&&n===p||f>=l&&p.type===n)return f}if(r){let f=s[l];if(f&&sr(f)&&f.type===n)return l}return null}function ro(t,e,n,i){let r=t[n],o=e.data;if(UR(r)){let s=r;s.resolving&&vN(yN(o[n]));let a=Ou(s.canSeeViewProviders);s.resolving=!0;let l,c=s.injectImpl?$t(s.injectImpl):null,u=Hw(t,i,ie.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&jR(n,o[n],e)}finally{c!==null&&$t(c),Ou(a),s.resolving=!1,qw()}}return r}function KR(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Na)?t[Na]:void 0;return typeof e=="number"?e>=0?e&Zw:QR:e}function AC(t,e,n){let i=1<<t;return!!(n[e+(t>>Xw)]&i)}function PC(t,e){return!(t&ie.Self)&&!(t&ie.Host&&e)}var Xr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,i){return nD(this._tNode,this._lView,e,Qu(i),n)}};function QR(){return new Xr(Wt(),fe())}function Mi(t){return Wa(()=>{let e=t.prototype.constructor,n=e[Iu]||hg(e),i=Object.prototype,r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==i;){let o=r[Iu]||hg(r);if(o&&o!==n)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function hg(t){return nw(t)?()=>{let e=hg(Nt(t));return e&&e()}:Jr(t)}function ZR(t,e,n,i,r){let o=t,s=e;for(;o!==null&&s!==null&&s[$]&2048&&!(s[$]&512);){let a=iD(o,s,n,i|ie.Self,Kn);if(a!==Kn)return a;let l=o.parent;if(!l){let c=s[Sw];if(c){let u=c.get(n,Kn,i);if(u!==Kn)return u}l=rD(s),s=s[Cs]}o=l}return r}function rD(t){let e=t[Z],n=e.type;return n===2?e.declTNode:n===1?t[kn]:null}function NC(t,e=null,n=null,i){let r=oD(t,e,n,i);return r.resolveInjectorInitializers(),r}function oD(t,e=null,n=null,i,r=new Set){let o=[n||fn,KN(t)];return i=i||(typeof t=="object"?void 0:Rt(t)),new La(o,e||Jg(),i||null,r)}var Fn=(()=>{let e=class e{static create(i,r){if(Array.isArray(i))return NC({name:""},r,i,"");{let o=i.name??"";return NC({name:o},i.parent,i.providers,o)}}};e.THROW_IF_NOT_FOUND=ka,e.NULL=new Tu,e.\u0275prov=O({token:e,providedIn:"any",factory:()=>I(dw)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var XR="ngOriginalError";function zp(t){return t[XR]}var ei=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&zp(e);for(;n&&zp(n);)n=zp(n);return n||null}},sD=new R("",{providedIn:"root",factory:()=>A(ei).handleError.bind(void 0)}),dm=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JR,e.__NG_ENV_ID__=i=>i;let t=e;return t})(),fg=class extends dm{constructor(e){super(),this._lView=e}onDestroy(e){return Fw(this._lView,e),()=>CR(this._lView,e)}};function JR(){return new fg(fe())}function eO(){return ws(Wt(),fe())}function ws(t,e){return new mn(gn(t,e))}var mn=(()=>{let e=class e{constructor(i){this.nativeElement=i}};e.__NG_ELEMENT_ID__=eO;let t=e;return t})();function tO(t){return t instanceof mn?t.nativeElement:t}var pg=class extends Ke{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Iw()&&(this.destroyRef=A(dm,{optional:!0})??void 0)}emit(e){let n=me(null);try{super.next(e)}finally{me(n)}}subscribe(e,n,i){let r=e,o=n||(()=>null),s=i;if(e&&typeof e=="object"){let l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=Wp(o),r&&(r=Wp(r)),s&&(s=Wp(s)));let a=super.subscribe({next:r,error:o,complete:s});return e instanceof Ye&&e.add(a),a}};function Wp(t){return e=>{setTimeout(t,void 0,e)}}var Ve=pg;function nO(){return this._results[Symbol.iterator]()}var gg=class t{get changes(){return this._changes??=new Ve}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=nO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let i=TN(e);(this._changesDetected=!MN(this._results,i,n))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function aD(t){return(t.flags&128)===128}var lD=new Map,iO=0;function rO(){return iO++}function oO(t){lD.set(t[Ju],t)}function sO(t){lD.delete(t[Ju])}var RC="__ngContext__";function ar(t,e){Zr(e)?(t[RC]=e[Ju],oO(e)):t[RC]=e}function cD(t){return dD(t[ja])}function uD(t){return dD(t[Nn])}function dD(t){for(;t!==null&&!Ii(t);)t=t[Nn];return t}var mg;function hD(t){mg=t}function aO(){if(mg!==void 0)return mg;if(typeof document<"u")return document;throw new L(210,!1)}var sd=new R("",{providedIn:"root",factory:()=>lO}),lO="ng",hm=new R(""),Et=new R("",{providedIn:"platform",factory:()=>"unknown"});var fm=new R("",{providedIn:"root",factory:()=>aO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var cO="h",uO="b";var dO=()=>null;function pm(t,e,n=!1){return dO(t,e,n)}var fD=!1,hO=new R("",{providedIn:"root",factory:()=>fD});var yg=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aN})`}};function gm(t){return t instanceof yg?t.changingThisBreaksApplicationSecurity:t}var fO=/^>|^->|<!--|-->|--!>|<!-$/g,pO=/(<|>)/g,gO="\u200B$1\u200B";function mO(t){return t.replace(fO,e=>e.replace(pO,gO))}function pD(t){return t instanceof Function?t():t}function yO(t){return(t??A(Fn)).get(Et)==="browser"}var Di=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Di||{}),vO;function mm(t,e){return vO(t,e)}function ls(t,e,n,i,r){if(i!=null){let o,s=!1;Ii(i)?o=i:Zr(i)&&(s=!0,i=i[xi]);let a=Jn(i);t===0&&n!==null?r==null?_D(e,n,a):Fu(e,n,a,r||null,!0):t===1&&n!==null?Fu(e,n,a,r||null,!0):t===2?FO(e,a,s):t===3&&e.destroyNode(a),o!=null&&VO(e,t,o,n,r)}}function _O(t,e){return t.createText(e)}function bO(t,e,n){t.setValue(e,n)}function CO(t,e){return t.createComment(mO(e))}function gD(t,e,n){return t.createElement(e,n)}function wO(t,e){mD(t,e),e[xi]=null,e[kn]=null}function DO(t,e,n,i,r,o){i[xi]=r,i[kn]=e,ld(t,i,n,1,r,o)}function mD(t,e){e[Zn].changeDetectionScheduler?.notify(1),ld(t,e,e[et],2,null,null)}function EO(t){let e=t[ja];if(!e)return Gp(t[Z],t);for(;e;){let n=null;if(Zr(e))n=e[ja];else{let i=e[Jt];i&&(n=i)}if(!n){for(;e&&!e[Nn]&&e!==t;)Zr(e)&&Gp(e[Z],e),e=e[vt];e===null&&(e=t),Zr(e)&&Gp(e[Z],e),n=e&&e[Nn]}e=n}}function xO(t,e,n,i){let r=Jt+i,o=n.length;i>0&&(n[r-1][Nn]=e),i<o-Jt?(e[Nn]=n[r],uw(n,Jt+i,e)):(n.push(e),e[Nn]=null),e[vt]=n;let s=e[qa];s!==null&&n!==s&&IO(s,e);let a=e[wi];a!==null&&a.insertView(t),lg(e),e[$]|=128}function IO(t,e){let n=t[ms],r=e[vt][vt][Xn];e[Xn]!==r&&(t[$]|=em.HasTransplantedViews),n===null?t[ms]=[e]:n.push(e)}function yD(t,e){let n=t[ms],i=n.indexOf(e);n.splice(i,1)}function vg(t,e){if(t.length<=Jt)return;let n=Jt+e,i=t[n];if(i){let r=i[qa];r!==null&&r!==t&&yD(r,i),e>0&&(t[n-1][Nn]=i[Nn]);let o=Mu(t,Jt+e);wO(i[Z],i);let s=o[wi];s!==null&&s.detachView(o[Z]),i[vt]=null,i[Nn]=null,i[$]&=-129}return i}function vD(t,e){if(!(e[$]&256)){let n=e[et];n.destroyNode&&ld(t,e,n,3,null,null),EO(e)}}function Gp(t,e){if(e[$]&256)return;let n=me(null);try{e[$]&=-129,e[$]|=256,e[eo]&&Kb(e[eo]),MO(t,e),SO(t,e),e[Z].type===1&&e[et].destroy();let i=e[qa];if(i!==null&&Ii(e[vt])){i!==e[vt]&&yD(i,e);let r=e[wi];r!==null&&r.detachView(t)}sO(e)}finally{me(n)}}function SO(t,e){let n=t.cleanup,i=e[Va];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else{let s=i[n[o+1]];n[o].call(s)}i!==null&&(e[Va]=null);let r=e[rr];if(r!==null){e[rr]=null;for(let o=0;o<r.length;o++){let s=r[o];s()}}}function MO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let i=0;i<n.length;i+=2){let r=e[n[i]];if(!(r instanceof io)){let o=n[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=r[o[s]],l=o[s+1];Yn(4,a,l);try{l.call(a)}finally{Yn(5,a,l)}}else{Yn(4,r,o);try{o.call(r)}finally{Yn(5,r,o)}}}}}function TO(t,e,n){return AO(t,e.parent,n)}function AO(t,e,n){let i=e;for(;i!==null&&i.type&40;)e=i,i=e.parent;if(i===null)return n[xi];{let{componentOffset:r}=i;if(r>-1){let{encapsulation:o}=t.data[i.directiveStart+r];if(o===Qn.None||o===Qn.Emulated)return null}return gn(i,n)}}function Fu(t,e,n,i,r){t.insertBefore(e,n,i,r)}function _D(t,e,n){t.appendChild(e,n)}function OC(t,e,n,i,r){i!==null?Fu(t,e,n,i,r):_D(t,e,n)}function PO(t,e,n,i){t.removeChild(e,n,i)}function ym(t,e){return t.parentNode(e)}function NO(t,e){return t.nextSibling(e)}function RO(t,e,n){return kO(t,e,n)}function OO(t,e,n){return t.type&40?gn(t,n):null}var kO=OO,kC;function ad(t,e,n,i){let r=TO(t,i,e),o=e[et],s=i.parent||e[kn],a=RO(s,i,e);if(r!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)OC(o,r,n[l],a,!1);else OC(o,r,n,a,!1);kC!==void 0&&kC(o,i,e,n,r)}function Eu(t,e){if(e!==null){let n=e.type;if(n&3)return gn(e,t);if(n&4)return _g(-1,t[e.index]);if(n&8){let i=e.child;if(i!==null)return Eu(t,i);{let r=t[e.index];return Ii(r)?_g(-1,r):Jn(r)}}else{if(n&32)return mm(e,t)()||Jn(t[e.index]);{let i=bD(t,e);if(i!==null){if(Array.isArray(i))return i[0];let r=Ua(t[Xn]);return Eu(r,i)}else return Eu(t,e.next)}}}return null}function bD(t,e){if(e!==null){let i=t[Xn][kn],r=e.projection;return i.projection[r]}return null}function _g(t,e){let n=Jt+t+1;if(n<e.length){let i=e[n],r=i[Z].firstChild;if(r!==null)return Eu(i,r)}return e[to]}function FO(t,e,n){let i=ym(t,e);i&&PO(t,i,e,n)}function vm(t,e,n,i,r,o,s){for(;n!=null;){let a=i[n.index],l=n.type;if(s&&e===0&&(a&&ar(Jn(a),i),n.flags|=2),(n.flags&32)!==32)if(l&8)vm(t,e,n.child,i,r,o,!1),ls(e,t,r,a,o);else if(l&32){let c=mm(n,i),u;for(;u=c();)ls(e,t,r,u,o);ls(e,t,r,a,o)}else l&16?LO(t,e,i,n,r,o):ls(e,t,r,a,o);n=s?n.projectionNext:n.next}}function ld(t,e,n,i,r,o){vm(n,i,t.firstChild,e,r,o,!1)}function LO(t,e,n,i,r,o){let s=n[Xn],l=s[kn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++){let u=l[c];ls(e,t,r,u,o)}else{let c=l,u=s[vt];aD(i)&&(c.flags|=128),vm(t,e,c,u,r,o,!0)}}function VO(t,e,n,i,r){let o=n[to],s=Jn(n);o!==s&&ls(e,t,i,o,r);for(let a=Jt;a<n.length;a++){let l=n[a];ld(l[Z],l,t,e,i,o)}}function jO(t,e,n,i,r){if(e)r?t.addClass(n,i):t.removeClass(n,i);else{let o=i.indexOf("-")===-1?void 0:Di.DashCase;r==null?t.removeStyle(n,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Di.Important),t.setStyle(n,i,r,o))}}function BO(t,e,n){t.setAttribute(e,"style",n)}function CD(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function wD(t,e,n){let{mergedAttrs:i,classes:r,styles:o}=n;i!==null&&ig(t,e,i),r!==null&&CD(t,e,r),o!==null&&BO(t,e,o)}var Ti={};function S(t=1){DD(st(),fe(),co()+t,!1)}function DD(t,e,n,i){if(!i)if((e[$]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Cu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&wu(e,o,0,n)}no(n)}function k(t,e=ie.Default){let n=fe();if(n===null)return I(t,e);let i=Wt();return nD(i,n,Nt(t),e)}function ED(){let t="invalid";throw new Error(t)}function xD(t,e,n,i,r,o){let s=me(null);try{let a=null;r&yt.SignalBased&&(a=e[i][pp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),r&yt.HasDecoratorInputTransform&&(o=t.inputTransforms[i].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,i):Tw(e,a,i,o)}finally{me(s)}}function UO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let i=0;i<n.length;i++){let r=n[i];if(r<0)no(~r);else{let o=r,s=n[++i],a=n[++i];RR(s,o);let l=e[o];a(2,l)}}}finally{no(-1)}}function cd(t,e,n,i,r,o,s,a,l,c,u){let d=e.blueprint.slice();return d[xi]=r,d[$]=i|4|128|8|64,(c!==null||t&&t[$]&2048)&&(d[$]|=2048),kw(d),d[vt]=d[Cs]=t,d[Rn]=n,d[Zn]=s||t&&t[Zn],d[et]=a||t&&t[et],d[gs]=l||t&&t[gs]||null,d[kn]=o,d[Ju]=rO(),d[Au]=u,d[Sw]=c,d[Xn]=e.type==2?t[Xn]:d,d}function Ya(t,e,n,i,r){let o=t.data[e];if(o===null)o=$O(t,e,n,i,r),NR()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=i,o.attrs=r;let s=MR();o.injectorIndex=s===null?-1:s.injectorIndex}return lo(o,!0),o}function $O(t,e,n,i,r){let o=Vw(),s=om(),a=s?o:o&&o.parent,l=t.data[e]=YO(t,a,n,e,i,r);return t.firstChild===null&&(t.firstChild=l),o!==null&&(s?o.child==null&&l.parent!==null&&(o.child=l):o.next===null&&(o.next=l,l.prev=o)),l}function ID(t,e,n,i){if(n===0)return-1;let r=e.length;for(let o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function SD(t,e,n,i,r){let o=co(),s=i&2;try{no(-1),s&&e.length>en&&DD(t,e,en,!1),Yn(s?2:0,r),n(i,r)}finally{no(o),Yn(s?3:1,r)}}function _m(t,e,n){if(tm(e)){let i=me(null);try{let r=e.directiveStart,o=e.directiveEnd;for(let s=r;s<o;s++){let a=t.data[s];if(a.contentQueries){let l=n[s];a.contentQueries(1,l,s)}}}finally{me(i)}}}function bm(t,e,n){Lw()&&(ek(t,e,n,gn(n,e)),(n.flags&64)===64&&PD(t,e,n))}function Cm(t,e,n=gn){let i=e.localNames;if(i!==null){let r=e.index+1;for(let o=0;o<i.length;o+=2){let s=i[o+1],a=s===-1?n(e,t):t[s];t[r++]=a}}}function MD(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=wm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function wm(t,e,n,i,r,o,s,a,l,c,u){let d=en+i,h=d+r,f=HO(d,h),p=typeof c=="function"?c():c;return f[Z]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}function HO(t,e){let n=[];for(let i=0;i<e;i++)n.push(i<t?null:Ti);return n}function zO(t,e,n,i){let o=i.get(hO,fD)||n===Qn.ShadowDom,s=t.selectRootElement(e,o);return WO(s),s}function WO(t){GO(t)}var GO=()=>null;function qO(t,e,n,i){let r=OD(e);r.push(n),t.firstCreatePass&&kD(t).push(i,r.length-1)}function YO(t,e,n,i,r,o){let s=e?e.injectorIndex:-1,a=0;return xR()&&(a|=128),{type:n,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function FC(t,e,n,i,r){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;i??={};let a,l=yt.None;Array.isArray(s)?(a=s[0],l=s[1]):a=s;let c=o;if(r!==null){if(!r.hasOwnProperty(o))continue;c=r[o]}t===0?LC(i,n,c,a,l):LC(i,n,c,a)}return i}function LC(t,e,n,i,r){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,i):o=t[n]=[e,i],r!==void 0&&o.push(r)}function KO(t,e,n){let i=e.directiveStart,r=e.directiveEnd,o=t.data,s=e.attrs,a=[],l=null,c=null;for(let u=i;u<r;u++){let d=o[u],h=n?n.get(d):null,f=h?h.inputs:null,p=h?h.outputs:null;l=FC(0,d.inputs,u,l,f),c=FC(1,d.outputs,u,c,p);let g=l!==null&&s!==null&&!Zg(e)?dk(l,u,s):null;a.push(g)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}function QO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function TD(t,e,n,i,r,o,s,a){let l=gn(e,n),c=e.inputs,u;!a&&c!=null&&(u=c[i])?(Em(t,n,u,i,r),ed(e)&&ZO(n,e.index)):e.type&3?(i=QO(i),r=s!=null?s(r,e.value||"",i):r,o.setProperty(l,i,r)):e.type&12}function ZO(t,e){let n=ur(e,t);n[$]&16||(n[$]|=64)}function Dm(t,e,n,i){if(Lw()){let r=i===null?null:{"":-1},o=nk(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&AD(t,e,n,s,r,a),r&&ik(n,i,r)}n.mergedAttrs=Fa(n.mergedAttrs,n.attrs)}function AD(t,e,n,i,r,o){for(let c=0;c<i.length;c++)dg(ku(n,e),t,i[c].type);ok(n,t.data.length,i.length);for(let c=0;c<i.length;c++){let u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=ID(t,e,i.length,null);for(let c=0;c<i.length;c++){let u=i[c];n.mergedAttrs=Fa(n.mergedAttrs,u.hostAttrs),sk(t,n,e,l,u),rk(l,u,r),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}KO(t,n,o)}function XO(t,e,n,i,r){let o=r.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;JO(s)!=a&&s.push(a),s.push(n,i,o)}}function JO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function ek(t,e,n,i){let r=n.directiveStart,o=n.directiveEnd;ed(n)&&ak(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||ku(n,e),ar(i,e);let s=n.initialInputs;for(let a=r;a<o;a++){let l=t.data[a],c=ro(e,t,a,n);if(ar(c,e),s!==null&&uk(e,a-r,c,l,n,s),sr(l)){let u=ur(n.index,e);u[Rn]=ro(e,t,a,n)}}}function PD(t,e,n){let i=n.directiveStart,r=n.directiveEnd,o=n.index,s=OR();try{no(o);for(let a=i;a<r;a++){let l=t.data[a],c=e[a];cg(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&tk(l,c)}}finally{no(-1),cg(s)}}function tk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function nk(t,e){let n=t.directiveRegistry,i=null,r=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(BN(e,s.selectors,!1))if(i||(i=[]),sr(s))if(s.findHostDirectiveDefs!==null){let a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s);let l=a.length;bg(t,e,l)}else i.unshift(s),bg(t,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return i===null?null:[i,r]}function bg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ik(t,e,n){if(e){let i=t.localNames=[];for(let r=0;r<e.length;r+=2){let o=n[e[r+1]];if(o==null)throw new L(-301,!1);i.push(e[r],o)}}}function rk(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;sr(e)&&(n[""]=t)}}function ok(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function sk(t,e,n,i,r){t.data[i]=r;let o=r.factory||(r.factory=Jr(r.type,!0)),s=new io(o,sr(r),k);t.blueprint[i]=s,n[i]=s,XO(t,e,i,ID(t,n,r.hostVars,Ti),r)}function ak(t,e,n){let i=gn(e,t),r=MD(n),o=t[Zn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ud(t,cd(t,r,null,s,i,e,null,o.createRenderer(i,n),null,null,null));t[e.index]=a}function lk(t,e,n,i,r,o){let s=gn(t,e);ck(e[et],s,o,t.value,n,i,r)}function ck(t,e,n,i,r,o,s){if(o==null)t.removeAttribute(e,r,n);else{let a=s==null?Oa(o):s(o,i||"",r);t.setAttribute(e,r,a,n)}}function uk(t,e,n,i,r,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let l=s[a++],c=s[a++],u=s[a++],d=s[a++];xD(i,n,l,c,u,d)}}function dk(t,e,n){let i=null,r=0;for(;r<n.length;){let o=n[r];if(o===0){r+=4;continue}else if(o===5){r+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){i===null&&(i=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){i.push(o,s[a+1],s[a+2],n[r+1]);break}}r+=2}return i}function ND(t,e,n,i){return[t,!0,0,e,null,i,null,n,null,null]}function RD(t,e){let n=t.contentQueries;if(n!==null){let i=me(null);try{for(let r=0;r<n.length;r+=2){let o=n[r],s=n[r+1];if(s!==-1){let a=t.data[s];sm(o),a.contentQueries(2,e[s],s)}}}finally{me(i)}}}function ud(t,e){return t[ja]?t[SC][Nn]=e:t[ja]=e,t[SC]=e,e}function Cg(t,e,n){sm(0);let i=me(null);try{e(t,n)}finally{me(i)}}function OD(t){return t[Va]||(t[Va]=[])}function kD(t){return t.cleanup||(t.cleanup=[])}function FD(t,e){let n=t[gs],i=n?n.get(ei,null):null;i&&i.handleError(e)}function Em(t,e,n,i,r){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],l=n[o++],c=e[s],u=t.data[s];xD(u,c,i,a,l,r)}}function LD(t,e,n){let i=Rw(e,t);bO(t[et],i,n)}function hk(t,e){let n=ur(e,t),i=n[Z];fk(i,n);let r=n[xi];r!==null&&n[Au]===null&&(n[Au]=pm(r,n[gs])),xm(i,n,n[Rn])}function fk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function xm(t,e,n){am(e);try{let i=t.viewQuery;i!==null&&Cg(1,i,n);let r=t.template;r!==null&&SD(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[wi]?.finishViewCreation(t),t.staticContentQueries&&RD(t,e),t.staticViewQueries&&Cg(2,t.viewQuery,n);let o=t.components;o!==null&&pk(e,o)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),i}finally{e[$]&=-5,lm()}}function pk(t,e){for(let n=0;n<e.length;n++)hk(t,e[n])}function gk(t,e,n,i){let r=me(null);try{let o=e.tView,a=t[$]&4096?4096:16,l=cd(t,o,n,a,null,e,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),c=t[e.index];l[qa]=c;let u=t[wi];return u!==null&&(l[wi]=u.createEmbeddedView(o)),xm(o,l,n),l}finally{me(r)}}function VC(t,e){return!e||e.firstChild===null||aD(t)}function mk(t,e,n,i=!0){let r=e[Z];if(xO(r,e,t,n),i){let s=_g(n,t),a=e[et],l=ym(a,t[to]);l!==null&&DO(r,t[kn],a,e,l,s)}let o=e[Au];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lu(t,e,n,i,r=!1){for(;n!==null;){let o=e[n.index];o!==null&&i.push(Jn(o)),Ii(o)&&yk(o,i);let s=n.type;if(s&8)Lu(t,e,n.child,i);else if(s&32){let a=mm(n,e),l;for(;l=a();)i.push(l)}else if(s&16){let a=bD(e,n);if(Array.isArray(a))i.push(...a);else{let l=Ua(e[Xn]);Lu(l[Z],l,a,i,!0)}}n=r?n.projectionNext:n.next}return i}function yk(t,e){for(let n=Jt;n<t.length;n++){let i=t[n],r=i[Z].firstChild;r!==null&&Lu(i[Z],i,r,e)}t[to]!==t[xi]&&e.push(t[to])}var VD=[];function vk(t){return t[eo]??_k(t)}function _k(t){let e=VD.pop()??Object.create(Ck);return e.lView=t,e}function bk(t){t.lView[eo]!==t&&(t.lView=null,VD.push(t))}var Ck=ce(N({},Gb),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ba(t.lView)},consumerOnSignalRead(){this.lView[eo]=this}}),jD=100;function BD(t,e=!0,n=0){let i=t[Zn],r=i.rendererFactory,o=!1;o||r.begin?.();try{wk(t,n)}catch(s){throw e&&FD(t,s),s}finally{o||(r.end?.(),i.inlineEffectRunner?.flush())}}function wk(t,e){wg(t,e);let n=0;for(;rm(t);){if(n===jD)throw new L(103,!1);n++,wg(t,1)}}function Dk(t,e,n,i){let r=e[$];if((r&256)===256)return;let o=!1;!o&&e[Zn].inlineEffectRunner?.flush(),am(e);let s=null,a=null;!o&&Ek(t)&&(a=vk(e),s=qb(a));try{kw(e),PR(t.bindingStartIndex),n!==null&&SD(t,e,n,2,i);let l=(r&3)===3;if(!o)if(l){let d=t.preOrderCheckHooks;d!==null&&Cu(e,d,null)}else{let d=t.preOrderHooks;d!==null&&wu(e,d,0,null),$p(e,0)}if(xk(e),UD(e,0),t.contentQueries!==null&&RD(t,e),!o)if(l){let d=t.contentCheckHooks;d!==null&&Cu(e,d)}else{let d=t.contentHooks;d!==null&&wu(e,d,1),$p(e,1)}UO(t,e);let c=t.components;c!==null&&HD(e,c,0);let u=t.viewQuery;if(u!==null&&Cg(2,u,i),!o)if(l){let d=t.viewCheckHooks;d!==null&&Cu(e,d)}else{let d=t.viewHooks;d!==null&&wu(e,d,2),$p(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Up]){for(let d of e[Up])d();e[Up]=null}o||(e[$]&=-73)}catch(l){throw Ba(e),l}finally{a!==null&&(Yb(a,s),bk(a)),lm()}}function Ek(t){return t.type!==2}function UD(t,e){for(let n=cD(t);n!==null;n=uD(n))for(let i=Jt;i<n.length;i++){let r=n[i];$D(r,e)}}function xk(t){for(let e=cD(t);e!==null;e=uD(e)){if(!(e[$]&em.HasTransplantedViews))continue;let n=e[ms];for(let i=0;i<n.length;i++){let r=n[i],o=r[vt];_R(r)}}}function Ik(t,e,n){let i=ur(e,t);$D(i,n)}function $D(t,e){im(t)&&wg(t,e)}function wg(t,e){let i=t[Z],r=t[$],o=t[eo],s=!!(e===0&&r&16);if(s||=!!(r&64&&e===0),s||=!!(r&1024),s||=!!(o?.dirty&&gp(o)),o&&(o.dirty=!1),t[$]&=-9217,s)Dk(i,t,i.template,t[Rn]);else if(r&8192){UD(t,1);let a=i.components;a!==null&&HD(t,a,1)}}function HD(t,e,n){for(let i=0;i<e.length;i++)Ik(t,e[i],n)}function Im(t){for(t[Zn].changeDetectionScheduler?.notify();t;){t[$]|=64;let e=Ua(t);if(cR(t)&&!e)return t;t=e}return null}var oo=class{get rootNodes(){let e=this._lView,n=e[Z];return Lu(n,e,n.firstChild,[])}constructor(e,n,i=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rn]}set context(e){this._lView[Rn]=e}get destroyed(){return(this._lView[$]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[vt];if(Ii(e)){let n=e[Pu],i=n?n.indexOf(this):-1;i>-1&&(vg(e,i),Mu(n,i))}this._attachedToViewContainer=!1}vD(this._lView[Z],this._lView)}onDestroy(e){Fw(this._lView,e)}markForCheck(){Im(this._cdRefInjectingView||this._lView)}detach(){this._lView[$]&=-129}reattach(){lg(this._lView),this._lView[$]|=128}detectChanges(){this._lView[$]|=1024,BD(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new L(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,mD(this._lView[Z],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new L(902,!1);this._appRef=e,lg(this._lView)}},so=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Tk;let t=e;return t})(),Sk=so,Mk=class extends Sk{constructor(e,n,i){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,i){let r=gk(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:i});return new oo(r)}};function Tk(){return Sm(Wt(),fe())}function Sm(t,e){return t.type&4?new Mk(e,t,ws(t,e)):null}var bK=new RegExp(`^(\\d+)*(${uO}|${cO})*(.*)`);var Ak=()=>null;function jC(t,e){return Ak(t,e)}var Vu=class{},Dg=class{},ju=class{};function Pk(t){let e=Error(`No component factory found for ${Rt(t)}.`);return e[Nk]=t,e}var Nk="ngComponent";var Eg=class{resolveComponentFactory(e){throw Pk(e)}},dd=(()=>{let e=class e{};e.NULL=new Eg;let t=e;return t})(),$a=class{},dr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>Rk();let t=e;return t})();function Rk(){let t=fe(),e=Wt(),n=ur(e.index,t);return(Zr(n)?n:t)[et]}var Ok=(()=>{let e=class e{};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),qp={};var BC=new Set;function hd(t){BC.has(t)||(BC.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function UC(...t){}function kk(){let t=typeof mt.requestAnimationFrame=="function",e=mt[t?"requestAnimationFrame":"setTimeout"],n=mt[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);let r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var ue=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1),typeof Zone>"u")throw new L(908,!1);Zone.assertZonePatched();let r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&n,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=kk().nativeRequestAnimationFrame,Vk(r)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new L(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new L(909,!1)}run(e,n,i){return this._inner.run(e,n,i)}runTask(e,n,i,r){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,Fk,UC,UC);try{return o.runTask(s,n,i)}finally{o.cancelTask(s)}}runGuarded(e,n,i){return this._inner.runGuarded(e,n,i)}runOutsideAngular(e){return this._outer.run(e)}},Fk={};function Mm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Lk(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(mt,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,xg(t),t.isCheckStableRunning=!0,Mm(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),xg(t))}function Vk(t){let e=()=>{Lk(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,i,r,o,s,a)=>{if(jk(a))return n.invokeTask(r,o,s,a);try{return $C(t),n.invokeTask(r,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),HC(t)}},onInvoke:(n,i,r,o,s,a,l)=>{try{return $C(t),n.invoke(r,o,s,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),HC(t)}},onHasTask:(n,i,r,o)=>{n.hasTask(r,o),i===r&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,xg(t),Mm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,i,r,o)=>(n.handleError(r,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function xg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function $C(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function HC(t){t._nesting--,Mm(t)}var Ig=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,i){return e.apply(n,i)}runGuarded(e,n,i){return e.apply(n,i)}runOutsideAngular(e){return e()}runTask(e,n,i,r){return e.apply(n,i)}};function jk(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function Bk(t="zone.js",e){return t==="noop"?new Ig:t==="zone.js"?new ue(e):t}var cs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(cs||{}),Uk={destroy(){}};function Tm(t,e){!e&&sR(Tm);let n=e?.injector??A(Fn);if(!yO(n))return Uk;hd("NgAfterNextRender");let i=n.get(Am),r=i.handler??=new Mg,o=e?.phase??cs.MixedReadWrite,s=()=>{r.unregister(l),a()},a=n.get(dm).onDestroy(s),l=On(n,()=>new Sg(o,()=>{s(),t()}));return r.register(l),{destroy:s}}var Sg=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=A(ue),this.errorHandler=A(ei,{optional:!0}),A(Vu,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Mg=class{constructor(){this.executingCallbacks=!1,this.buckets={[cs.EarlyRead]:new Set,[cs.Write]:new Set,[cs.MixedReadWrite]:new Set,[cs.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Am=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let i=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let r of i)r()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Bu(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)r=yC(r,a);else if(o==2){let l=a,c=e[++s];i=yC(i,l+": "+c+";")}}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var Uu=class extends dd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=or(e);return new vs(n,this.ngModule)}};function zC(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let i=t[n];i!==void 0&&e.push({propName:Array.isArray(i)?i[0]:i,templateName:n})}return e}function $k(t){let e=t.toLowerCase();return e==="svg"?fR:e==="math"?pR:null}var Tg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,i){i=Qu(i);let r=this.injector.get(e,qp,i);return r!==qp||n===qp?r:this.parentInjector.get(e,n,i)}},vs=class extends ju{get inputs(){let e=this.componentDef,n=e.inputTransforms,i=zC(e.inputs);if(n!==null)for(let r of i)n.hasOwnProperty(r.propName)&&(r.transform=n[r.propName]);return i}get outputs(){return zC(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,i,r){let o=me(null);try{r=r||this.ngModule;let s=r instanceof Ot?r:r?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Tg(e,s):e,l=a.get($a,null);if(l===null)throw new L(407,!1);let c=a.get(Ok,null),u=a.get(Am,null),d=a.get(Vu,null),h={rendererFactory:l,sanitizer:c,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},f=l.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",g=i?zO(f,i,this.componentDef.encapsulation,a):gD(f,p,$k(p)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let y=null;g!==null&&(y=pm(g,a,!0));let v=wm(0,null,null,1,0,null,null,null,null,null,null),C=cd(null,v,null,m,null,null,h,f,a,null,y);am(C);let D,w;try{let x=this.componentDef,P,T=null;x.findHostDirectiveDefs?(P=[],T=new Map,x.findHostDirectiveDefs(x,P,T),P.push(x)):P=[x];let F=Hk(C,g),q=zk(F,g,x,P,C,h,f);w=Ow(v,en),g&&qk(f,x,g,i),n!==void 0&&Yk(w,this.ngContentSelectors,n),D=Gk(q,x,P,T,C,[Kk]),xm(v,C,null)}finally{lm()}return new Ag(this.componentType,D,ws(w,C),C,w)}finally{me(o)}}},Ag=class extends Dg{constructor(e,n,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new oo(r,void 0,!1),this.componentType=e}setInput(e,n){let i=this._tNode.inputs,r;if(i!==null&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Em(o[Z],o,r,e,n),this.previousInputValues.set(e,n);let s=ur(this._tNode.index,o);Im(s)}}get injector(){return new Xr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Hk(t,e){let n=t[Z],i=en;return t[i]=e,Ya(n,i,2,"#host",null)}function zk(t,e,n,i,r,o,s){let a=r[Z];Wk(i,t,e,s);let l=null;e!==null&&(l=pm(e,r[gs]));let c=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=cd(r,MD(n),null,u,r[t.index],t,o,c,null,null,l);return a.firstCreatePass&&bg(a,t,i.length-1),ud(r,d),r[t.index]=d}function Wk(t,e,n,i){for(let r of t)e.mergedAttrs=Fa(e.mergedAttrs,r.hostAttrs);e.mergedAttrs!==null&&(Bu(e,e.mergedAttrs,!0),n!==null&&wD(i,n,e))}function Gk(t,e,n,i,r,o){let s=Wt(),a=r[Z],l=gn(s,r);AD(a,r,s,n,null,i);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,h=ro(r,a,d,s);ar(h,r)}PD(a,r,s),l&&ar(l,r);let c=ro(r,a,s.directiveStart+s.componentOffset,s);if(t[Rn]=r[Rn]=c,o!==null)for(let u of o)u(c,e);return _m(a,s,r),c}function qk(t,e,n,i){if(i)ig(t,n,["ng-version","17.3.2"]);else{let{attrs:r,classes:o}=WN(e.selectors[0]);r&&ig(t,n,r),o&&o.length>0&&CD(t,n,o.join(" "))}}function Yk(t,e,n){let i=t.projection=[];for(let r=0;r<e.length;r++){let o=n[r];i.push(o!=null?Array.from(o):null)}}function Kk(){let t=Wt();od(fe()[Z],t)}var hr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=Qk;let t=e;return t})();function Qk(){let t=Wt();return WD(t,fe())}var Zk=hr,zD=class extends Zk{constructor(e,n,i){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=i}get element(){return ws(this._hostTNode,this._hostLView)}get injector(){return new Xr(this._hostTNode,this._hostLView)}get parentInjector(){let e=um(this._hostTNode,this._hostLView);if(Qw(e)){let n=Ru(e,this._hostLView),i=Nu(e),r=n[Z].data[i+8];return new Xr(r,n)}else return new Xr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=WC(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(e,n,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let s=jC(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,r,VC(this._hostTNode,s)),a}createComponent(e,n,i,r,o){let s=e&&!lR(e),a;if(s)a=n;else{let p=n||{};a=p.index,i=p.injector,r=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let l=s?e:new vs(or(e)),c=i||this.parentInjector;if(!o&&l.ngModule==null){let g=(s?c:this.parentInjector).get(Ot,null);g&&(o=g)}let u=or(l.componentType??{}),d=jC(this._lContainer,u?.id??null),h=d?.firstChild??null,f=l.create(c,r,h,o);return this.insertImpl(f.hostView,a,VC(this._hostTNode,d)),f}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,i){let r=e._lView;if(vR(r)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=r[vt],c=new zD(l,l[kn],l[vt]);c.detach(c.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return mk(s,r,o,i),e.attachToViewContainerRef(),uw(Yp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=WC(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),i=vg(this._lContainer,n);i&&(Mu(Yp(this._lContainer),n),vD(i[Z],i))}detach(e){let n=this._adjustIndex(e,-1),i=vg(this._lContainer,n);return i&&Mu(Yp(this._lContainer),n)!=null?new oo(i):null}_adjustIndex(e,n=0){return e??this.length+n}};function WC(t){return t[Pu]}function Yp(t){return t[Pu]||(t[Pu]=[])}function WD(t,e){let n,i=e[t.index];return Ii(i)?n=i:(n=ND(i,e,null,t),e[t.index]=n,ud(e,n)),Jk(n,e,t,i),new zD(n,t,e)}function Xk(t,e){let n=t[et],i=n.createComment(""),r=gn(e,t),o=ym(n,r);return Fu(n,o,i,NO(n,r),!1),i}var Jk=n1,e1=()=>!1;function t1(t,e,n){return e1(t,e,n)}function n1(t,e,n,i){if(t[to])return;let r;n.type&8?r=Jn(i):r=Xk(e,n),t[to]=r}var Pg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Ng=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let i=e.contentQueries!==null?e.contentQueries[0]:n.length,r=[];for(let o=0;o<i;o++){let s=n.getByIndex(o),a=this.queries[s.indexInDeclarationView];r.push(a.clone())}return new t(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Pm(e,n).matches!==null&&this.queries[n].setDirty()}},Rg=class{constructor(e,n,i=null){this.flags=n,this.read=i,typeof e=="string"?this.predicate=u1(e):this.predicate=e}},Og=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let i=0;i<this.length;i++){let r=n!==null?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,n!==null?n.push(o):n=[o])}return n!==null?new t(n):null}template(e,n){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},kg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,i=e.parent;for(;i!==null&&i.type&8&&i.index!==n;)i=i.parent;return n===(i!==null?i.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){let o=i[r];this.matchTNodeWithReadOption(e,n,i1(n,o)),this.matchTNodeWithReadOption(e,n,Du(n,e,o,!1,!1))}else i===so?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Du(n,e,i,!1,!1))}matchTNodeWithReadOption(e,n,i){if(i!==null){let r=this.metadata.read;if(r!==null)if(r===mn||r===hr||r===so&&n.type&4)this.addMatch(n.index,-2);else{let o=Du(n,e,r,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,i)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function i1(t,e){let n=t.localNames;if(n!==null){for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1]}return null}function r1(t,e){return t.type&11?ws(t,e):t.type&4?Sm(t,e):null}function o1(t,e,n,i){return n===-1?r1(e,t):n===-2?s1(t,e,i):ro(t,t[Z],n,e)}function s1(t,e,n){if(n===mn)return ws(e,t);if(n===so)return Sm(e,t);if(n===hr)return WD(e,t)}function GD(t,e,n,i){let r=e[wi].queries[i];if(r.matches===null){let o=t.data,s=n.matches,a=[];for(let l=0;s!==null&&l<s.length;l+=2){let c=s[l];if(c<0)a.push(null);else{let u=o[c];a.push(o1(e,u,s[l+1],n.metadata.read))}}r.matches=a}return r.matches}function Fg(t,e,n,i){let r=t.queries.getByIndex(n),o=r.matches;if(o!==null){let s=GD(t,e,r,n);for(let a=0;a<o.length;a+=2){let l=o[a];if(l>0)i.push(s[a/2]);else{let c=o[a+1],u=e[-l];for(let d=Jt;d<u.length;d++){let h=u[d];h[qa]===h[vt]&&Fg(h[Z],h,c,i)}if(u[ms]!==null){let d=u[ms];for(let h=0;h<d.length;h++){let f=d[h];Fg(f[Z],f,c,i)}}}}}return i}function a1(t,e){return t[wi].queries[e].queryList}function l1(t,e,n){let i=new gg((n&4)===4);return qO(t,e,i,i.destroy),(e[wi]??=new Ng).queries.push(new Pg(i))-1}function c1(t,e,n){let i=st();return i.firstCreatePass&&(d1(i,new Rg(t,e,n),-1),(e&2)===2&&(i.staticViewQueries=!0)),l1(i,fe(),e)}function u1(t){return t.split(",").map(e=>e.trim())}function d1(t,e,n){t.queries===null&&(t.queries=new Og),t.queries.track(new kg(e,n))}function Pm(t,e){return t.queries.getByIndex(e)}function h1(t,e){let n=t[Z],i=Pm(n,e);return i.crossesNgTemplate?Fg(n,t,e,[]):GD(n,t,i,e)}function f1(t){return typeof t=="function"&&t[pp]!==void 0}function qD(t){return f1(t)&&typeof t.set=="function"}function p1(t){let e=[],n=new Map;function i(r){let o=n.get(r);if(!o){let s=t(r);n.set(r,o=s.then(v1))}return o}return $u.forEach((r,o)=>{let s=[];r.templateUrl&&s.push(i(r.templateUrl).then(c=>{r.template=c}));let a=typeof r.styles=="string"?[r.styles]:r.styles||[];if(r.styles=a,r.styleUrl&&r.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(r.styleUrls?.length){let c=r.styles.length,u=r.styleUrls;r.styleUrls.forEach((d,h)=>{a.push(""),s.push(i(d).then(f=>{a[c+h]=f,u.splice(u.indexOf(d),1),u.length==0&&(r.styleUrls=void 0)}))})}else r.styleUrl&&s.push(i(r.styleUrl).then(c=>{a.push(c),r.styleUrl=void 0}));let l=Promise.all(s).then(()=>_1(o));e.push(l)}),m1(),Promise.all(e).then(()=>{})}var $u=new Map,g1=new Set;function m1(){let t=$u;return $u=new Map,t}function y1(){return $u.size===0}function v1(t){return typeof t=="string"?t:t.text()}function _1(t){g1.delete(t)}function b1(t){return Object.getPrototypeOf(t.prototype).constructor}function Gt(t){let e=b1(t.type),n=!0,i=[t];for(;e;){let r;if(sr(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new L(903,!1);r=e.\u0275dir}if(r){if(n){i.push(r);let s=t;s.inputs=yu(t.inputs),s.inputTransforms=yu(t.inputTransforms),s.declaredInputs=yu(t.declaredInputs),s.outputs=yu(t.outputs);let a=r.hostBindings;a&&x1(t,a);let l=r.viewQuery,c=r.contentQueries;if(l&&D1(t,l),c&&E1(t,c),C1(t,r),cN(t.outputs,r.outputs),sr(r)&&r.data.animation){let u=t.data;u.animation=(u.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Gt&&(n=!1)}}e=Object.getPrototypeOf(e)}w1(i)}function C1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let i=e.inputs[n];if(i!==void 0&&(t.inputs[n]=i,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let r=Array.isArray(i)?i[0]:i;if(!e.inputTransforms.hasOwnProperty(r))continue;t.inputTransforms??={},t.inputTransforms[r]=e.inputTransforms[r]}}}function w1(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){let r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Fa(r.hostAttrs,n=Fa(n,r.hostAttrs))}}function yu(t){return t===hs?{}:t===fn?[]:t}function D1(t,e){let n=t.viewQuery;n?t.viewQuery=(i,r)=>{e(i,r),n(i,r)}:t.viewQuery=e}function E1(t,e){let n=t.contentQueries;n?t.contentQueries=(i,r,o)=>{e(i,r,o),n(i,r,o)}:t.contentQueries=e}function x1(t,e){let n=t.hostBindings;n?t.hostBindings=(i,r)=>{e(i,r),n(i,r)}:t.hostBindings=e}var lr=class{},Ha=class{};var Hu=class extends lr{constructor(e,n,i){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Uu(this);let r=_w(e);this._bootstrapComponents=pD(r.bootstrap),this._r3Injector=oD(e,n,[{provide:lr,useValue:this},{provide:dd,useValue:this.componentFactoryResolver},...i],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},zu=class extends Ha{constructor(e){super(),this.moduleType=e}create(e){return new Hu(this.moduleType,e,[])}};function I1(t,e,n){return new Hu(t,e,n)}var Lg=class extends lr{constructor(e){super(),this.componentFactoryResolver=new Uu(this),this.instance=null;let n=new La([...e.providers,{provide:lr,useValue:this},{provide:dd,useValue:this.componentFactoryResolver}],e.parent||Jg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function fd(t,e,n=null){return new Lg({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var uo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new gt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let i=this.taskId++;return this.pendingTasks.add(i),i}remove(i){this.pendingTasks.delete(i),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YD(t){return M1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function S1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),i;for(;!(i=n.next()).done;)e(i.value)}}function M1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function KD(t,e,n){return t[e]=n}function cr(t,e,n){let i=t[e];return Object.is(i,n)?!1:(t[e]=n,!0)}function QD(t,e,n,i){let r=cr(t,e,n);return cr(t,e+1,i)||r}function T1(t){return(t.flags&32)===32}function A1(t,e,n,i,r,o,s,a,l){let c=e.consts,u=Ya(e,t,4,s||null,ys(c,a));Dm(e,n,u,ys(c,l)),od(e,u);let d=u.tView=wm(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function re(t,e,n,i,r,o,s,a){let l=fe(),c=st(),u=t+en,d=c.firstCreatePass?A1(u,c,l,e,n,i,r,o,s):c.data[u];lo(d,!1);let h=P1(c,l,d,t);id()&&ad(c,l,h,d),ar(h,l);let f=ND(h,l,h,d);return l[u]=f,ud(l,f),t1(f,d,l),td(d)&&bm(c,l,d),s!=null&&Cm(l,d,a),re}var P1=N1;function N1(t,e,n,i){return rd(!0),e[et].createComment("")}function Ds(t,e,n,i){let r=fe(),o=nd();if(cr(r,o,e)){let s=st(),a=cm();lk(a,r,t,e,n,i)}return Ds}function R1(t,e,n,i){return cr(t,nd(),n)?e+Oa(n)+i:Ti}function O1(t,e,n,i,r,o){let s=AR(),a=QD(t,s,n,r);return Uw(2),a?e+Oa(n)+i+Oa(r)+o:Ti}function vu(t,e){return t<<17|e<<2}function ao(t){return t>>17&32767}function k1(t){return(t&2)==2}function F1(t,e){return t&131071|e<<17}function Vg(t){return t|2}function _s(t){return(t&131068)>>2}function Kp(t,e){return t&-131069|e<<2}function L1(t){return(t&1)===1}function jg(t){return t|1}function V1(t,e,n,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ao(s),l=_s(s);t[i]=n;let c=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Ga(d,u)>0)&&(c=!0)}else u=n;if(r)if(l!==0){let h=ao(t[a+1]);t[i+1]=vu(h,a),h!==0&&(t[h+1]=Kp(t[h+1],i)),t[a+1]=F1(t[a+1],i)}else t[i+1]=vu(a,0),a!==0&&(t[a+1]=Kp(t[a+1],i)),a=i;else t[i+1]=vu(l,0),a===0?a=i:t[l+1]=Kp(t[l+1],i),l=i;c&&(t[i+1]=Vg(t[i+1])),GC(t,u,i,!0),GC(t,u,i,!1),j1(e,u,t,i,o),s=vu(a,l),o?e.classBindings=s:e.styleBindings=s}function j1(t,e,n,i,r){let o=r?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ga(o,e)>=0&&(n[i+1]=jg(n[i+1]))}function GC(t,e,n,i){let r=t[n+1],o=e===null,s=i?ao(r):_s(r),a=!1;for(;s!==0&&(a===!1||o);){let l=t[s],c=t[s+1];B1(l,e)&&(a=!0,t[s+1]=i?jg(c):Vg(c)),s=i?ao(c):_s(c)}a&&(t[n+1]=i?Vg(r):jg(r))}function B1(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ga(t,e)>=0:!1}function V(t,e,n){let i=fe(),r=nd();if(cr(i,r,e)){let o=st(),s=cm();TD(o,s,i,t,e,i[et],n,!1)}return V}function qC(t,e,n,i,r){let o=e.inputs,s=r?"class":"style";Em(t,n,o[s],s,i)}function Ln(t,e){return U1(t,e,null,!0),Ln}function U1(t,e,n,i){let r=fe(),o=st(),s=Uw(2);if(o.firstUpdatePass&&H1(o,t,s,i),e!==Ti&&cr(r,s,e)){let a=o.data[co()];Y1(o,a,r,r[et],t,r[s+1]=K1(e,n),i,s)}}function $1(t,e){return e>=t.expandoStartIndex}function H1(t,e,n,i){let r=t.data;if(r[n+1]===null){let o=r[co()],s=$1(t,n);Q1(o,i)&&e===null&&!s&&(e=!1),e=z1(r,o,e,i),V1(r,o,e,n,s,i)}}function z1(t,e,n,i){let r=kR(t),o=i?e.residualClasses:e.residualStyles;if(r===null)(i?e.classBindings:e.styleBindings)===0&&(n=Qp(null,t,e,n,i),n=za(n,e.attrs,i),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==r)if(n=Qp(r,t,e,n,i),o===null){let l=W1(t,e,i);l!==void 0&&Array.isArray(l)&&(l=Qp(null,t,e,l[1],i),l=za(l,e.attrs,i),G1(t,e,i,l))}else o=q1(t,e,i)}return o!==void 0&&(i?e.residualClasses=o:e.residualStyles=o),n}function W1(t,e,n){let i=n?e.classBindings:e.styleBindings;if(_s(i)!==0)return t[ao(i)]}function G1(t,e,n,i){let r=n?e.classBindings:e.styleBindings;t[ao(r)]=i}function q1(t,e,n){let i,r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++){let s=t[o].hostAttrs;i=za(i,s,n)}return za(i,e.attrs,n)}function Qp(t,e,n,i,r){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],i=za(i,o.hostAttrs,r),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),i}function za(t,e,n){let i=n?1:2,r=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?r=s:r===i&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),PN(t,s,n?!0:e[++o]))}return t===void 0?null:t}function Y1(t,e,n,i,r,o,s,a){if(!(e.type&3))return;let l=t.data,c=l[a+1],u=L1(c)?YC(l,e,n,r,_s(c),s):void 0;if(!Wu(u)){Wu(o)||k1(c)&&(o=YC(l,null,n,r,a,s));let d=Rw(co(),n);jO(i,s,d,r,o)}}function YC(t,e,n,i,r,o){let s=e===null,a;for(;r>0;){let l=t[r],c=Array.isArray(l),u=c?l[1]:l,d=u===null,h=n[r+1];h===Ti&&(h=d?fn:void 0);let f=d?jp(h,i):u===i?h:void 0;if(c&&!Wu(f)&&(f=jp(l,i)),Wu(f)&&(a=f,s))return a;let p=t[r+1];r=s?ao(p):_s(p)}if(e!==null){let l=o?e.residualClasses:e.residualStyles;l!=null&&(a=jp(l,i))}return a}function Wu(t){return t!==void 0}function K1(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Rt(gm(t)))),t}function Q1(t,e){return(t.flags&(e?8:16))!==0}function Z1(t,e,n,i,r,o){let s=e.consts,a=ys(s,r),l=Ya(e,t,2,i,a);return Dm(e,n,l,ys(s,o)),l.attrs!==null&&Bu(l,l.attrs,!1),l.mergedAttrs!==null&&Bu(l,l.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,l),l}function b(t,e,n,i){let r=fe(),o=st(),s=en+t,a=r[et],l=o.firstCreatePass?Z1(s,o,r,e,n,i):o.data[s],c=X1(o,r,l,a,e,t);r[s]=c;let u=td(l);return lo(l,!0),wD(a,c,l),!T1(l)&&id()&&ad(o,r,c,l),wR()===0&&ar(c,r),DR(),u&&(bm(o,r,l),_m(o,l,r)),i!==null&&Cm(r,l),b}function _(){let t=Wt();om()?jw():(t=t.parent,lo(t,!1));let e=t;IR(e)&&SR(),ER();let n=st();return n.firstCreatePass&&(od(n,t),tm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$R(e)&&qC(n,e,fe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HR(e)&&qC(n,e,fe(),e.stylesWithoutHost,!1),_}function se(t,e,n,i){return b(t,e,n,i),_(),se}var X1=(t,e,n,i,r,o)=>(rd(!0),gD(i,r,VR()));function J1(t,e,n,i,r){let o=e.consts,s=ys(o,i),a=Ya(e,t,8,"ng-container",s);s!==null&&Bu(a,s,!0);let l=ys(o,r);return Dm(e,n,a,l),e.queries!==null&&e.queries.elementStart(e,a),a}function Ai(t,e,n){let i=fe(),r=st(),o=t+en,s=r.firstCreatePass?J1(o,r,i,e,n):r.data[o];lo(s,!0);let a=eF(r,i,s,t);return i[o]=a,id()&&ad(r,i,a,s),ar(a,i),td(s)&&(bm(r,i,s),_m(r,s,i)),n!=null&&Cm(i,s),Ai}function Pi(){let t=Wt(),e=st();return om()?jw():(t=t.parent,lo(t,!1)),e.firstCreatePass&&(od(e,t),tm(t)&&e.queries.elementEnd(t)),Pi}var eF=(t,e,n,i)=>(rd(!0),CO(e[et],""));function Ni(){return fe()}var Qr=void 0;function tF(t){let e=t,n=Math.floor(Math.abs(t)),i=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&i===0?1:5}var nF=["en",[["a","p"],["AM","PM"],Qr],[["AM","PM"],Qr,Qr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qr,"{1} 'at' {0}",Qr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",tF],Zp={};function yn(t){let e=iF(t),n=KC(e);if(n)return n;let i=e.split("-")[0];if(n=KC(i),n)return n;if(i==="en")return nF;throw new L(701,!1)}function KC(t){return t in Zp||(Zp[t]=mt.ng&&mt.ng.common&&mt.ng.common.locales&&mt.ng.common.locales[t]),Zp[t]}var Qe=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qe||{});function iF(t){return t.toLowerCase().replace(/_/g,"-")}var Gu="en-US";var rF=Gu;function oF(t){typeof t=="string"&&(rF=t.toLowerCase().replace(/_/g,"-"))}function J(t,e,n,i){let r=fe(),o=st(),s=Wt();return ZD(o,r,r[et],s,t,e,i),J}function sF(t,e,n,i){let r=t.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let s=r[o];if(s===n&&r[o+1]===i){let a=e[Va],l=r[o+2];return a.length>l?a[l]:null}typeof s=="string"&&(o+=2)}return null}function ZD(t,e,n,i,r,o,s){let a=td(i),c=t.firstCreatePass&&kD(t),u=e[Rn],d=OD(e),h=!0;if(i.type&3||s){let g=gn(i,e),m=s?s(g):g,y=d.length,v=s?D=>s(Jn(D[i.index])):i.index,C=null;if(!s&&a&&(C=sF(t,e,r,i.index)),C!==null){let D=C.__ngLastListenerFn__||C;D.__ngNextListenerFn__=o,C.__ngLastListenerFn__=o,h=!1}else{o=ZC(i,e,u,o,!1);let D=n.listen(m,r,o);d.push(o,D),c&&c.push(r,v,y,y+1)}}else o=ZC(i,e,u,o,!1);let f=i.outputs,p;if(h&&f!==null&&(p=f[r])){let g=p.length;if(g)for(let m=0;m<g;m+=2){let y=p[m],v=p[m+1],w=e[y][v].subscribe(o),x=d.length;d.push(o,w),c&&c.push(r,i.index,x,-(x+1))}}}function QC(t,e,n,i){let r=me(null);try{return Yn(6,e,n),n(i)!==!1}catch(o){return FD(t,o),!1}finally{Yn(7,e,n),me(r)}}function ZC(t,e,n,i,r){return function o(s){if(s===Function)return i;let a=t.componentOffset>-1?ur(t.index,e):e;Im(a);let l=QC(e,n,i,s),c=o.__ngNextListenerFn__;for(;c;)l=QC(e,n,c,s)&&l,c=c.__ngNextListenerFn__;return r&&l===!1&&s.preventDefault(),l}}function We(t=1){return LR(t)}function XD(t,e,n){c1(t,e,n)}function Nm(t){let e=fe(),n=st(),i=$w();sm(i+1);let r=Pm(n,i);if(t.dirty&&yR(e)===((r.metadata.flags&2)===2)){if(r.matches===null)t.reset([]);else{let o=h1(e,i);t.reset(o,tO),t.notifyOnChanges()}return!0}return!1}function Rm(){return a1(fe(),$w())}function aF(t,e,n,i){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=i}function JD(t){let e=TR();return nm(e,en+t)}function E(t,e=""){let n=fe(),i=st(),r=t+en,o=i.firstCreatePass?Ya(i,r,1,e,null):i.data[r],s=lF(i,n,o,e,t);n[r]=s,id()&&ad(i,n,s,o),lo(o,!1)}var lF=(t,e,n,i,r)=>(rd(!0),_O(e[et],i));function Ri(t){return kt("",t,""),Ri}function kt(t,e,n){let i=fe(),r=R1(i,t,e,n);return r!==Ti&&LD(i,co(),r),kt}function Om(t,e,n,i,r){let o=fe(),s=O1(o,t,e,n,i,r);return s!==Ti&&LD(o,co(),s),Om}function at(t,e,n){qD(e)&&(e=e());let i=fe(),r=nd();if(cr(i,r,e)){let o=st(),s=cm();TD(o,s,i,t,e,i[et],n,!1)}return at}function _t(t,e){let n=qD(t);return n&&t.set(e),n}function lt(t,e){let n=fe(),i=st(),r=Wt();return ZD(i,n,n[et],r,t,e),lt}function cF(t,e,n){let i=st();if(i.firstCreatePass){let r=sr(t);Bg(n,i.data,i.blueprint,r,!0),Bg(e,i.data,i.blueprint,r,!1)}}function Bg(t,e,n,i,r){if(t=Nt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Bg(t[o],e,n,i,r);else{let o=st(),s=fe(),a=Wt(),l=ps(t)?t:Nt(t.provide),c=xw(t),u=a.providerIndexes&1048575,d=a.directiveStart,h=a.providerIndexes>>20;if(ps(t)||!t.multi){let f=new io(c,r,k),p=Jp(l,e,r?u:u+h,d);p===-1?(dg(ku(a,s),o,l),Xp(o,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(f),s.push(f)):(n[p]=f,s[p]=f)}else{let f=Jp(l,e,u+h,d),p=Jp(l,e,u,u+h),g=f>=0&&n[f],m=p>=0&&n[p];if(r&&!m||!r&&!g){dg(ku(a,s),o,l);let y=hF(r?dF:uF,n.length,r,i,c);!r&&m&&(n[p].providerFactory=y),Xp(o,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),n.push(y),s.push(y)}else{let y=eE(n[r?p:f],c,!r&&i);Xp(o,t,f>-1?f:p,y)}!r&&i&&m&&n[p].componentProviders++}}}function Xp(t,e,n,i){let r=ps(e),o=JN(e);if(r||o){let l=(o?Nt(e.useClass):e).prototype.ngOnDestroy;if(l){let c=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){let u=c.indexOf(n);u===-1?c.push(n,[i,l]):c[u+1].push(i,l)}else c.push(n,l)}}}function eE(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Jp(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function uF(t,e,n,i){return Ug(this.multi,[])}function dF(t,e,n,i){let r=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ro(n,n[Z],this.providerFactory.index,i);o=a.slice(0,s),Ug(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],Ug(r,o);return o}function Ug(t,e){for(let n=0;n<t.length;n++){let i=t[n];e.push(i())}return e}function hF(t,e,n,i,r){let o=new io(t,n,k);return o.multi=[],o.index=e,o.componentProviders=0,eE(o,r,i&&!n),o}function ti(t,e=[]){return n=>{n.providersResolver=(i,r)=>cF(i,r?r(t):t,e)}}var fF=(()=>{let e=class e{constructor(i){this._injector=i,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(i){if(!i.standalone)return null;if(!this.cachedInjectors.has(i)){let r=ww(!1,i.type),o=r.length>0?fd([r],this._injector,`Standalone[${i.type.name}]`):null;this.cachedInjectors.set(i,o)}return this.cachedInjectors.get(i)}ngOnDestroy(){try{for(let i of this.cachedInjectors.values())i!==null&&i.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=O({token:e,providedIn:"environment",factory:()=>new e(I(Ot))});let t=e;return t})();function tE(t){hd("NgStandalone"),t.getStandaloneInjector=e=>e.get(fF).getOrCreateStandaloneInjector(t)}function nE(t,e){let n=t[e];return n===Ti?void 0:n}function pF(t,e,n,i,r,o){let s=e+n;return cr(t,s,r)?KD(t,s+1,o?i.call(o,r):i(r)):nE(t,s+1)}function gF(t,e,n,i,r,o,s){let a=e+n;return QD(t,a,r,o)?KD(t,a+2,s?i.call(s,r,o):i(r,o)):nE(t,a+2)}function Ka(t,e){let n=st(),i,r=t+en;n.firstCreatePass?(i=mF(e,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks??=[]).push(r,i.onDestroy)):i=n.data[r];let o=i.factory||(i.factory=Jr(i.type,!0)),s,a=$t(k);try{let l=Ou(!1),c=o();return Ou(l),aF(n,fe(),r,c),c}finally{$t(a)}}function mF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let i=e[n];if(t===i.name)return i}}function km(t,e,n){let i=t+en,r=fe(),o=nm(r,i);return rE(r,i)?pF(r,Bw(),e,o.transform,n,o):o.transform(n)}function iE(t,e,n,i){let r=t+en,o=fe(),s=nm(o,r);return rE(o,r)?gF(o,Bw(),e,s.transform,n,i,s):s.transform(n,i)}function rE(t,e){return t[Z].data[e].pure}var _u=null;function yF(t){_u!==null&&(t.defaultEncapsulation!==_u.defaultEncapsulation||t.preserveWhitespaces!==_u.preserveWhitespaces)||(_u=t)}var Ei=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},oE=new Ei("17.3.2"),pd=(()=>{let e=class e{log(i){console.log(i)}warn(i){console.warn(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Fm=new R(""),Qa=new R(""),gd=(()=>{let e=class e{constructor(i,r,o){this._ngZone=i,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Lm||(vF(o),o.addToWindow(r)),this._watchAngularEvents(),i.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let i=this._callbacks.pop();clearTimeout(i.timeoutId),i.doneCb()}});else{let i=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(i)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(i=>({source:i.source,creationLocation:i.creationLocation,data:i.data})):[]}addCallback(i,r,o){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),i()},r)),this._callbacks.push({doneCb:i,timeoutId:s,updateCb:o})}whenStable(i,r,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(i,r,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(i){this.registry.registerApplication(i,this)}unregisterApplication(i){this.registry.unregisterApplication(i)}findProviders(i,r,o){return[]}};e.\u0275fac=function(r){return new(r||e)(I(ue),I(md),I(Qa))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),md=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(i,r){this._applications.set(i,r)}unregisterApplication(i){this._applications.delete(i)}unregisterAllApplications(){this._applications.clear()}getTestability(i){return this._applications.get(i)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(i,r=!0){return Lm?.findTestabilityInTree(this,i,r)??null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function vF(t){Lm=t}var Lm;function ho(t){return!!t&&typeof t.then=="function"}function sE(t){return!!t&&typeof t.subscribe=="function"}var yd=new R(""),aE=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((i,r)=>{this.resolve=i,this.reject=r}),this.appInits=A(yd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let i=[];for(let o of this.appInits){let s=o();if(ho(s))i.push(s);else if(sE(s)){let a=new Promise((l,c)=>{s.subscribe({complete:l,error:c})});i.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(i).then(()=>{r()}).catch(o=>{this.reject(o)}),i.length===0&&r(),this.initialized=!0}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vd=new R("");function _F(){Qb(()=>{throw new L(600,!1)})}function bF(t){return t.isBoundToModule}function CF(t,e,n){try{let i=n();return ho(i)?i.catch(r=>{throw e.runOutsideAngular(()=>t.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}function lE(t,e){return Array.isArray(e)?e.reduce(lE,t):N(N({},t),e)}var fo=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=A(sD),this.afterRenderEffectManager=A(Am),this.externalTestViews=new Set,this.beforeRender=new Ke,this.afterTick=new Ke,this.componentTypes=[],this.components=[],this.isStable=A(uo).hasPendingTasks.pipe(B(i=>!i)),this._injector=A(Ot)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(i,r){let o=i instanceof ju;if(!this._injector.get(aE).done){let f=!o&&vw(i),p=!1;throw new L(405,p)}let a;o?a=i:a=this._injector.get(dd).resolveComponentFactory(i),this.componentTypes.push(a.componentType);let l=bF(a)?void 0:this._injector.get(lr),c=r||a.selector,u=a.create(Fn.NULL,[],c,l),d=u.location.nativeElement,h=u.injector.get(Fm,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),xu(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(i){if(this._runningTick)throw new L(101,!1);let r=me(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(i)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,me(r)}}detectChangesInAttachedViews(i){let r=0,o=this.afterRenderEffectManager;for(;;){if(r===jD)throw new L(103,!1);if(i){let s=r===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:l}of this._views)wF(a,s,l)}if(r++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$g(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$g(s))))break}}attachView(i){let r=i;this._views.push(r),r.attachToAppRef(this)}detachView(i){let r=i;xu(this._views,r),r.detachFromAppRef()}_loadComponent(i){this.attachView(i.hostView),this.tick(),this.components.push(i);let r=this._injector.get(vd,[]);[...this._bootstrapListeners,...r].forEach(o=>o(i))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(i=>i()),this._views.slice().forEach(i=>i.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(i){return this._destroyListeners.push(i),()=>xu(this._destroyListeners,i)}destroy(){if(this._destroyed)throw new L(406,!1);let i=this._injector;i.destroy&&!i.destroyed&&i.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function xu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function wF(t,e,n){!e&&!$g(t)||DF(t,n,e)}function $g(t){return rm(t)}function DF(t,e,n){let i;n?(i=0,t[$]|=1024):t[$]&64?i=0:i=1,BD(t,e,i)}var Hg=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},_d=(()=>{let e=class e{compileModuleSync(i){return new zu(i)}compileModuleAsync(i){return Promise.resolve(this.compileModuleSync(i))}compileModuleAndAllComponentsSync(i){let r=this.compileModuleSync(i),o=_w(i),s=pD(o.declarations).reduce((a,l)=>{let c=or(l);return c&&a.push(new vs(c)),a},[]);return new Hg(r,s)}compileModuleAndAllComponentsAsync(i){return Promise.resolve(this.compileModuleAndAllComponentsSync(i))}clearCache(){}clearCacheFor(i){}getModuleId(i){}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),EF=new R("");function xF(t,e,n){let i=new zu(n);return Promise.resolve(i)}function XC(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var IF=(()=>{let e=class e{constructor(){this.zone=A(ue),this.applicationRef=A(fo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SF(t){return[{provide:ue,useFactory:t},{provide:fs,multi:!0,useFactory:()=>{let e=A(IF,{optional:!0});return()=>e.initialize()}},{provide:fs,multi:!0,useFactory:()=>{let e=A(AF);return()=>{e.initialize()}}},{provide:sD,useFactory:MF}]}function MF(){let t=A(ue),e=A(ei);return n=>t.runOutsideAngular(()=>e.handleError(n))}function TF(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var AF=(()=>{let e=class e{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=A(ue),this.pendingTasks=A(uo)}initialize(){if(this.initialized)return;this.initialized=!0;let i=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(i=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ue.assertNotInAngularZone(),queueMicrotask(()=>{i!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(i),i=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ue.assertInAngularZone(),i??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PF(){return typeof $localize<"u"&&$localize.locale||Gu}var bd=new R("",{providedIn:"root",factory:()=>A(bd,ie.Optional|ie.SkipSelf)||PF()});var cE=new R(""),uE=(()=>{let e=class e{constructor(i){this._injector=i,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(i,r){let o=Bk(r?.ngZone,TF({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return o.run(()=>{let s=I1(i.moduleType,this.injector,SF(()=>o)),a=s.injector.get(ei,null);return o.runOutsideAngular(()=>{let l=o.onError.subscribe({next:c=>{a.handleError(c)}});s.onDestroy(()=>{xu(this._modules,s),l.unsubscribe()})}),CF(a,o,()=>{let l=s.injector.get(aE);return l.runInitializers(),l.donePromise.then(()=>{let c=s.injector.get(bd,Gu);return oF(c||Gu),this._moduleDoBootstrap(s),s})})})}bootstrapModule(i,r=[]){let o=lE({},r);return xF(this.injector,o,i).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(i){let r=i.injector.get(fo);if(i._bootstrapComponents.length>0)i._bootstrapComponents.forEach(o=>r.bootstrap(o));else if(i.instance.ngDoBootstrap)i.instance.ngDoBootstrap(r);else throw new L(-403,!1);this._modules.push(i)}onDestroy(i){this._destroyListeners.push(i)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new L(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());let i=this._injector.get(cE,null);i&&(i.forEach(r=>r()),i.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(r){return new(r||e)(I(Fn))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ra=null,dE=new R("");function NF(t){if(Ra&&!Ra.get(dE,!1))throw new L(400,!1);_F(),Ra=t;let e=t.get(uE);return kF(t),e}function Vm(t,e,n=[]){let i=`Platform: ${e}`,r=new R(i);return(o=[])=>{let s=hE();if(!s||s.injector.get(dE,!1)){let a=[...n,...o,{provide:r,useValue:!0}];t?t(a):NF(RF(a,i))}return OF(r)}}function RF(t=[],e){return Fn.create({name:e,providers:[{provide:Xu,useValue:"platform"},{provide:cE,useValue:new Set([()=>Ra=null])},...t]})}function OF(t){let e=hE();if(!e)throw new L(401,!1);return e}function hE(){return Ra?.get(uE)??null}function kF(t){t.get(hm,null)?.forEach(n=>n())}function jm(){return!1}var po=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=FF;let t=e;return t})();function FF(t){return LF(Wt(),fe(),(t&16)===16)}function LF(t,e,n){if(ed(t)&&!n){let i=ur(t.index,e);return new oo(i,i)}else if(t.type&47){let i=e[Xn];return new oo(i,e)}return null}var zg=class{constructor(){}supports(e){return YD(e)}create(e){return new Wg(e)}},VF=(t,e)=>e,Wg=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||VF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,i=this._removalsHead,r=0,o=null;for(;n||i;){let s=!i||n&&n.currentIndex<JC(i,r,o)?n:i,a=JC(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(n=n._next,s.previousIndex==null)r++;else{o||(o=[]);let c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){let f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}let d=s.previousIndex;o[d]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!YD(e))throw new L(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,i=!1,r,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),i=!0):(i&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else r=0,S1(e,a=>{s=this._trackByFn(r,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,r),i=!0):(i&&(n=this._verifyReinsertion(n,a,s,r)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,r++}),this.length=r;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,i,r){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,r)):(e=this._linkedRecords===null?null:this._linkedRecords.get(i,r),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,r)):e=this._addAfter(new Gg(n,i),o,r)),e}_verifyReinsertion(e,n,i,r){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(i,null);return o!==null?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,i){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let r=e._prevRemoved,o=e._nextRemoved;return r===null?this._removalsHead=o:r._nextRemoved=o,o===null?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,n,i),this._addToMoves(e,i),e}_moveAfter(e,n,i){return this._unlink(e),this._insertAfter(e,n,i),this._addToMoves(e,i),e}_addAfter(e,n,i){return this._insertAfter(e,n,i),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,i){let r=n===null?this._itHead:n._next;return e._next=r,e._prev=n,r===null?this._itTail=e:r._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new qu),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,i=e._next;return n===null?this._itHead=i:n._next=i,i===null?this._itTail=n:i._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qg=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let i;for(i=this._head;i!==null;i=i._nextDup)if((n===null||n<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){let n=e._prevDup,i=e._nextDup;return n===null?this._head=i:n._nextDup=i,i===null?this._tail=n:i._prevDup=n,this._head===null}},qu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,i=this.map.get(n);i||(i=new qg,this.map.set(n,i)),i.add(e)}get(e,n){let i=e,r=this.map.get(i);return r?r.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function JC(t,e,n){let i=t.previousIndex;if(i===null)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}function ew(){return new Bm([new zg])}var Bm=(()=>{let e=class e{constructor(i){this.factories=i}static create(i,r){if(r!=null){let o=r.factories.slice();i=i.concat(o)}return new e(i)}static extend(i){return{provide:e,useFactory:r=>e.create(i,r||ew()),deps:[[e,new Kg,new bs]]}}find(i){let r=this.factories.find(o=>o.supports(i));if(r!=null)return r;throw new L(901,!1)}};e.\u0275prov=O({token:e,providedIn:"root",factory:ew});let t=e;return t})();var fE=Vm(null,"core",[]),pE=(()=>{let e=class e{constructor(i){}};e.\u0275fac=function(r){return new(r||e)(I(fo))},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})();function Za(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function gE(t){let e=or(t);if(!e)return null;let n=new vs(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var CE=null;function ni(){return CE}function wE(t){CE??=t}var Td=class{};var xt=new R(""),Ym=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>A(UF),providedIn:"platform"});let t=e;return t})(),DE=new R(""),UF=(()=>{let e=class e extends Ym{constructor(){super(),this._doc=A(xt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ni().getBaseHref(this._doc)}onPopState(i){let r=ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",i,!1),()=>r.removeEventListener("popstate",i)}onHashChange(i){let r=ni().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",i,!1),()=>r.removeEventListener("hashchange",i)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(i){this._location.pathname=i}pushState(i,r,o){this._history.pushState(i,r,o)}replaceState(i,r,o){this._history.replaceState(i,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(i=0){this._history.go(i)}getState(){return this._history.state}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Km(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function mE(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,i=n-(t[n-1]==="/"?1:0);return t.slice(0,i)+t.slice(n)}function ki(t){return t&&t[0]!=="?"?"?"+t:t}var go=(()=>{let e=class e{historyGo(i){throw new Error("")}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>A(Qm),providedIn:"root"});let t=e;return t})(),EE=new R(""),Qm=(()=>{let e=class e extends go{constructor(i,r){super(),this._platformLocation=i,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??A(xt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}prepareExternalUrl(i){return Km(this._baseHref,i)}path(i=!1){let r=this._platformLocation.pathname+ki(this._platformLocation.search),o=this._platformLocation.hash;return o&&i?`${r}${o}`:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+ki(s));this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+ki(s));this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(I(Ym),I(EE,8))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xE=(()=>{let e=class e extends go{constructor(i,r){super(),this._platformLocation=i,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(i){this._removeListenerFns.push(this._platformLocation.onPopState(i),this._platformLocation.onHashChange(i))}getBaseHref(){return this._baseHref}path(i=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(i){let r=Km(this._baseHref,i);return r.length>0?"#"+r:r}pushState(i,r,o,s){let a=this.prepareExternalUrl(o+ki(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(i,r,a)}replaceState(i,r,o,s){let a=this.prepareExternalUrl(o+ki(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(i,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(i=0){this._platformLocation.historyGo?.(i)}};e.\u0275fac=function(r){return new(r||e)(I(Ym),I(EE,8))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),xs=(()=>{let e=class e{constructor(i){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=i;let r=this._locationStrategy.getBaseHref();this._basePath=zF(mE(yE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(i=!1){return this.normalize(this._locationStrategy.path(i))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(i,r=""){return this.path()==this.normalize(i+ki(r))}normalize(i){return e.stripTrailingSlash(HF(this._basePath,yE(i)))}prepareExternalUrl(i){return i&&i[0]!=="/"&&(i="/"+i),this._locationStrategy.prepareExternalUrl(i)}go(i,r="",o=null){this._locationStrategy.pushState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ki(r)),o)}replaceState(i,r="",o=null){this._locationStrategy.replaceState(o,"",i,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(i+ki(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(i=0){this._locationStrategy.historyGo?.(i)}onUrlChange(i){return this._urlChangeListeners.push(i),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(i);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(i="",r){this._urlChangeListeners.forEach(o=>o(i,r))}subscribe(i,r,o){return this._subject.subscribe({next:i,error:r,complete:o})}};e.normalizeQueryParams=ki,e.joinWithSlash=Km,e.stripTrailingSlash=mE,e.\u0275fac=function(r){return new(r||e)(I(go))},e.\u0275prov=O({token:e,factory:()=>$F(),providedIn:"root"});let t=e;return t})();function $F(){return new xs(I(go))}function HF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function yE(t){return t.replace(/\/index.html$/,"")}function zF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Ft=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Ft||{}),xe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(xe||{}),tn=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(tn||{}),fr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function WF(t){return yn(t)[Qe.LocaleId]}function GF(t,e,n){let i=yn(t),r=[i[Qe.DayPeriodsFormat],i[Qe.DayPeriodsStandalone]],o=vn(r,e);return vn(o,n)}function qF(t,e,n){let i=yn(t),r=[i[Qe.DaysFormat],i[Qe.DaysStandalone]],o=vn(r,e);return vn(o,n)}function YF(t,e,n){let i=yn(t),r=[i[Qe.MonthsFormat],i[Qe.MonthsStandalone]],o=vn(r,e);return vn(o,n)}function KF(t,e){let i=yn(t)[Qe.Eras];return vn(i,e)}function Cd(t,e){let n=yn(t);return vn(n[Qe.DateFormat],e)}function wd(t,e){let n=yn(t);return vn(n[Qe.TimeFormat],e)}function Dd(t,e){let i=yn(t)[Qe.DateTimeFormat];return vn(i,e)}function Pd(t,e){let n=yn(t),i=n[Qe.NumberSymbols][e];if(typeof i>"u"){if(e===fr.CurrencyDecimal)return n[Qe.NumberSymbols][fr.Decimal];if(e===fr.CurrencyGroup)return n[Qe.NumberSymbols][fr.Group]}return i}function IE(t){if(!t[Qe.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Qe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function QF(t){let e=yn(t);return IE(e),(e[Qe.ExtraData][2]||[]).map(i=>typeof i=="string"?Um(i):[Um(i[0]),Um(i[1])])}function ZF(t,e,n){let i=yn(t);IE(i);let r=[i[Qe.ExtraData][0],i[Qe.ExtraData][1]],o=vn(r,e)||[];return vn(o,n)||[]}function vn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Um(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var XF=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Ed={},JF=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Fi=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(Fi||{}),ve=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(ve||{}),ye=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(ye||{});function eL(t,e,n,i){let r=cL(t);e=Oi(n,e)||e;let s=[],a;for(;e;)if(a=JF.exec(e),a){s=s.concat(a.slice(1));let u=s.pop();if(!u)break;e=u}else{s.push(e);break}let l=r.getTimezoneOffset();i&&(l=ME(i,l),r=lL(r,i,!0));let c="";return s.forEach(u=>{let d=sL(u);c+=d?d(r,n,l):u==="''"?"'":u.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function Ad(t,e,n){let i=new Date(0);return i.setFullYear(t,e,n),i.setHours(0,0,0),i}function Oi(t,e){let n=WF(t);if(Ed[n]??={},Ed[n][e])return Ed[n][e];let i="";switch(e){case"shortDate":i=Cd(t,tn.Short);break;case"mediumDate":i=Cd(t,tn.Medium);break;case"longDate":i=Cd(t,tn.Long);break;case"fullDate":i=Cd(t,tn.Full);break;case"shortTime":i=wd(t,tn.Short);break;case"mediumTime":i=wd(t,tn.Medium);break;case"longTime":i=wd(t,tn.Long);break;case"fullTime":i=wd(t,tn.Full);break;case"short":let r=Oi(t,"shortTime"),o=Oi(t,"shortDate");i=xd(Dd(t,tn.Short),[r,o]);break;case"medium":let s=Oi(t,"mediumTime"),a=Oi(t,"mediumDate");i=xd(Dd(t,tn.Medium),[s,a]);break;case"long":let l=Oi(t,"longTime"),c=Oi(t,"longDate");i=xd(Dd(t,tn.Long),[l,c]);break;case"full":let u=Oi(t,"fullTime"),d=Oi(t,"fullDate");i=xd(Dd(t,tn.Full),[u,d]);break}return i&&(Ed[n][e]=i),i}function xd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,i){return e!=null&&i in e?e[i]:n})),t}function Vn(t,e,n="-",i,r){let o="";(t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return i&&(s=s.slice(s.length-e)),o+s}function tL(t,e){return Vn(t,3).substring(0,e)}function tt(t,e,n=0,i=!1,r=!1){return function(o,s){let a=nL(t,o);if((n>0||a>-n)&&(a+=n),t===ve.Hours)a===0&&n===-12&&(a=12);else if(t===ve.FractionalSeconds)return tL(a,e);let l=Pd(s,fr.MinusSign);return Vn(a,e,l,i,r)}}function nL(t,e){switch(t){case ve.FullYear:return e.getFullYear();case ve.Month:return e.getMonth();case ve.Date:return e.getDate();case ve.Hours:return e.getHours();case ve.Minutes:return e.getMinutes();case ve.Seconds:return e.getSeconds();case ve.FractionalSeconds:return e.getMilliseconds();case ve.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Te(t,e,n=Ft.Format,i=!1){return function(r,o){return iL(r,o,t,e,n,i)}}function iL(t,e,n,i,r,o){switch(n){case ye.Months:return YF(e,r,i)[t.getMonth()];case ye.Days:return qF(e,r,i)[t.getDay()];case ye.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let c=QF(e),u=ZF(e,r,i),d=c.findIndex(h=>{if(Array.isArray(h)){let[f,p]=h,g=s>=f.hours&&a>=f.minutes,m=s<p.hours||s===p.hours&&a<p.minutes;if(f.hours<p.hours){if(g&&m)return!0}else if(g||m)return!0}else if(h.hours===s&&h.minutes===a)return!0;return!1});if(d!==-1)return u[d]}return GF(e,r,i)[s<12?0:1];case ye.Eras:return KF(e,i)[t.getFullYear()<=0?0:1];default:let l=n;throw new Error(`unexpected translation type ${l}`)}}function Id(t){return function(e,n,i){let r=-1*i,o=Pd(n,fr.MinusSign),s=r>0?Math.floor(r/60):Math.ceil(r/60);switch(t){case Fi.Short:return(r>=0?"+":"")+Vn(s,2,o)+Vn(Math.abs(r%60),2,o);case Fi.ShortGMT:return"GMT"+(r>=0?"+":"")+Vn(s,1,o);case Fi.Long:return"GMT"+(r>=0?"+":"")+Vn(s,2,o)+":"+Vn(Math.abs(r%60),2,o);case Fi.Extended:return i===0?"Z":(r>=0?"+":"")+Vn(s,2,o)+":"+Vn(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var rL=0,Md=4;function oL(t){let e=Ad(t,rL,1).getDay();return Ad(t,0,1+(e<=Md?Md:Md+7)-e)}function SE(t){let e=t.getDay(),n=e===0?-3:Md-e;return Ad(t.getFullYear(),t.getMonth(),t.getDate()+n)}function $m(t,e=!1){return function(n,i){let r;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();r=1+Math.floor((s+o)/7)}else{let o=SE(n),s=oL(o.getFullYear()),a=o.getTime()-s.getTime();r=1+Math.round(a/6048e5)}return Vn(r,t,Pd(i,fr.MinusSign))}}function Sd(t,e=!1){return function(n,i){let o=SE(n).getFullYear();return Vn(o,t,Pd(i,fr.MinusSign),e)}}var Hm={};function sL(t){if(Hm[t])return Hm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Te(ye.Eras,xe.Abbreviated);break;case"GGGG":e=Te(ye.Eras,xe.Wide);break;case"GGGGG":e=Te(ye.Eras,xe.Narrow);break;case"y":e=tt(ve.FullYear,1,0,!1,!0);break;case"yy":e=tt(ve.FullYear,2,0,!0,!0);break;case"yyy":e=tt(ve.FullYear,3,0,!1,!0);break;case"yyyy":e=tt(ve.FullYear,4,0,!1,!0);break;case"Y":e=Sd(1);break;case"YY":e=Sd(2,!0);break;case"YYY":e=Sd(3);break;case"YYYY":e=Sd(4);break;case"M":case"L":e=tt(ve.Month,1,1);break;case"MM":case"LL":e=tt(ve.Month,2,1);break;case"MMM":e=Te(ye.Months,xe.Abbreviated);break;case"MMMM":e=Te(ye.Months,xe.Wide);break;case"MMMMM":e=Te(ye.Months,xe.Narrow);break;case"LLL":e=Te(ye.Months,xe.Abbreviated,Ft.Standalone);break;case"LLLL":e=Te(ye.Months,xe.Wide,Ft.Standalone);break;case"LLLLL":e=Te(ye.Months,xe.Narrow,Ft.Standalone);break;case"w":e=$m(1);break;case"ww":e=$m(2);break;case"W":e=$m(1,!0);break;case"d":e=tt(ve.Date,1);break;case"dd":e=tt(ve.Date,2);break;case"c":case"cc":e=tt(ve.Day,1);break;case"ccc":e=Te(ye.Days,xe.Abbreviated,Ft.Standalone);break;case"cccc":e=Te(ye.Days,xe.Wide,Ft.Standalone);break;case"ccccc":e=Te(ye.Days,xe.Narrow,Ft.Standalone);break;case"cccccc":e=Te(ye.Days,xe.Short,Ft.Standalone);break;case"E":case"EE":case"EEE":e=Te(ye.Days,xe.Abbreviated);break;case"EEEE":e=Te(ye.Days,xe.Wide);break;case"EEEEE":e=Te(ye.Days,xe.Narrow);break;case"EEEEEE":e=Te(ye.Days,xe.Short);break;case"a":case"aa":case"aaa":e=Te(ye.DayPeriods,xe.Abbreviated);break;case"aaaa":e=Te(ye.DayPeriods,xe.Wide);break;case"aaaaa":e=Te(ye.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":e=Te(ye.DayPeriods,xe.Abbreviated,Ft.Standalone,!0);break;case"bbbb":e=Te(ye.DayPeriods,xe.Wide,Ft.Standalone,!0);break;case"bbbbb":e=Te(ye.DayPeriods,xe.Narrow,Ft.Standalone,!0);break;case"B":case"BB":case"BBB":e=Te(ye.DayPeriods,xe.Abbreviated,Ft.Format,!0);break;case"BBBB":e=Te(ye.DayPeriods,xe.Wide,Ft.Format,!0);break;case"BBBBB":e=Te(ye.DayPeriods,xe.Narrow,Ft.Format,!0);break;case"h":e=tt(ve.Hours,1,-12);break;case"hh":e=tt(ve.Hours,2,-12);break;case"H":e=tt(ve.Hours,1);break;case"HH":e=tt(ve.Hours,2);break;case"m":e=tt(ve.Minutes,1);break;case"mm":e=tt(ve.Minutes,2);break;case"s":e=tt(ve.Seconds,1);break;case"ss":e=tt(ve.Seconds,2);break;case"S":e=tt(ve.FractionalSeconds,1);break;case"SS":e=tt(ve.FractionalSeconds,2);break;case"SSS":e=tt(ve.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Id(Fi.Short);break;case"ZZZZZ":e=Id(Fi.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Id(Fi.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Id(Fi.Long);break;default:return null}return Hm[t]=e,e}function ME(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function aL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function lL(t,e,n){let i=n?-1:1,r=t.getTimezoneOffset(),o=ME(e,r);return aL(t,i*(o-r))}function cL(t){if(vE(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[r,o=1,s=1]=t.split("-").map(a=>+a);return Ad(r,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let i;if(i=t.match(XF))return uL(i)}let e=new Date(t);if(!vE(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function uL(t){let e=new Date(0),n=0,i=0,r=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),i=Number(t[9]+t[11])),r.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-i,l=Number(t[6]||0),c=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,l,c),e}function vE(t){return t instanceof Date&&!isNaN(t.valueOf())}function Nd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let i=n.indexOf("="),[r,o]=i==-1?[n,""]:[n.slice(0,i),n.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}var zm=class{constructor(e,n,i,r){this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Is=(()=>{let e=class e{set ngForOf(i){this._ngForOf=i,this._ngForOfDirty=!0}set ngForTrackBy(i){this._trackByFn=i}get ngForTrackBy(){return this._trackByFn}constructor(i,r,o){this._viewContainer=i,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(i){i&&(this._template=i)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let i=this._ngForOf;if(!this._differ&&i)if(0)try{}catch{}else this._differ=this._differs.find(i).create(this.ngForTrackBy)}if(this._differ){let i=this._differ.diff(this._ngForOf);i&&this._applyChanges(i)}}_applyChanges(i){let r=this._viewContainer;i.forEachOperation((o,s,a)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new zm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)r.remove(s===null?void 0:s);else if(s!==null){let l=r.get(s);r.move(l,a),_E(l,o)}});for(let o=0,s=r.length;o<s;o++){let l=r.get(o).context;l.index=o,l.count=s,l.ngForOf=this._ngForOf}i.forEachIdentityChange(o=>{let s=r.get(o.currentIndex);_E(s,o)})}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(k(hr),k(so),k(Bm))},e.\u0275dir=Ue({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function _E(t,e){t.context.$implicit=e.item}var qt=(()=>{let e=class e{constructor(i,r){this._viewContainer=i,this._context=new Wm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(i){this._context.$implicit=this._context.ngIf=i,this._updateView()}set ngIfThen(i){bE("ngIfThen",i),this._thenTemplateRef=i,this._thenViewRef=null,this._updateView()}set ngIfElse(i){bE("ngIfElse",i),this._elseTemplateRef=i,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(i,r){return!0}};e.\u0275fac=function(r){return new(r||e)(k(hr),k(so))},e.\u0275dir=Ue({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Wm=class{constructor(){this.$implicit=null,this.ngIf=null}};function bE(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Rt(e)}'.`)}function dL(t,e){return new L(2100,!1)}var hL="mediumDate",fL=new R(""),pL=new R(""),Rd=(()=>{let e=class e{constructor(i,r,o){this.locale=i,this.defaultTimezone=r,this.defaultOptions=o}transform(i,r,o,s){if(i==null||i===""||i!==i)return null;try{let a=r??this.defaultOptions?.dateFormat??hL,l=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return eL(i,a,s||this.locale,l)}catch(a){throw dL(e,a.message)}}};e.\u0275fac=function(r){return new(r||e)(k(bd,16),k(fL,24),k(pL,24))},e.\u0275pipe=gw({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var TE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})(),Zm="browser",gL="server";function mL(t){return t===Zm}function Xa(t){return t===gL}var AE=(()=>{let e=class e{};e.\u0275prov=O({token:e,providedIn:"root",factory:()=>mL(A(Et))?new Gm(A(xt),window):new qm});let t=e;return t})(),Gm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=yL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),i=n.left+this.window.pageXOffset,r=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}};function yL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let i=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}var qm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Es=class{};var el=class{},kd=class{},mo=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let i=n.indexOf(":");if(i>0){let r=n.slice(0,i),o=r.toLowerCase(),s=n.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,i)=>{this.setHeaderEntries(i,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,i])=>{this.setHeaderEntries(n,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(e.name,n);let r=(e.op==="a"?this.headers.get(n):void 0)||[];r.push(...i),this.headers.set(n,r);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let i=(Array.isArray(n)?n:[n]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var Jm=class{encodeKey(e){return PE(e)}encodeValue(e){return PE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function bL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[s,a]=o==-1?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=n.get(s)||[];l.push(a),n.set(s,l)}),n}var CL=/%(\d[a-f0-9])/gi,wL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function PE(t){return encodeURIComponent(t).replace(CL,(e,n)=>wL[n]??e)}function Od(t){return`${t}`}var pr=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Jm,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=bL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let i=e.fromObject[n],r=Array.isArray(i)?i.map(Od):[Od(i)];this.map.set(n,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(i=>{let r=e[i];Array.isArray(r)?r.forEach(o=>{n.push({param:i,value:o,op:"a"})}):n.push({param:i,value:r,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(i=>n+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Od(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let i=this.map.get(e.param)||[],r=i.indexOf(Od(e.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ey=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function DL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function NE(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function RE(t){return typeof Blob<"u"&&t instanceof Blob}function OE(t){return typeof FormData<"u"&&t instanceof FormData}function EL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var Ja=class t{constructor(e,n,i,r){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let o;if(DL(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new mo,this.context??=new ey,!this.params)this.params=new pr,this.urlWithParams=n;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||NE(this.body)||RE(this.body)||OE(this.body)||EL(this.body)?this.body:this.body instanceof pr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||OE(this.body)?null:RE(this.body)?this.body.type||null:NE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof pr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,d=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((h,f)=>h.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((h,f)=>h.set(f,e.setParams[f]),u)),new t(n,i,s,{params:u,headers:c,context:d,reportProgress:l,responseType:r,withCredentials:a,transferCache:o})}},Ss=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Ss||{}),tl=class{constructor(e,n=Vd.Ok,i="OK"){this.headers=e.headers||new mo,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ty=class t extends tl{constructor(e={}){super(e),this.type=Ss.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Fd=class t extends tl{constructor(e={}){super(e),this.type=Ss.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ld=class extends tl{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Vd=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(Vd||{});function Xm(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var xL=(()=>{let e=class e{constructor(i){this.handler=i}request(i,r,o={}){let s;if(i instanceof Ja)s=i;else{let c;o.headers instanceof mo?c=o.headers:c=new mo(o.headers);let u;o.params&&(o.params instanceof pr?u=o.params:u=new pr({fromObject:o.params})),s=new Ja(i,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let a=j(s).pipe(bi(c=>this.handler.handle(c)));if(i instanceof Ja||o.observe==="events")return a;let l=a.pipe(Dt(c=>c instanceof Fd));switch(o.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(B(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(B(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(B(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(i,r={}){return this.request("DELETE",i,r)}get(i,r={}){return this.request("GET",i,r)}head(i,r={}){return this.request("HEAD",i,r)}jsonp(i,r){return this.request("JSONP",i,{params:new pr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,r={}){return this.request("OPTIONS",i,r)}patch(i,r,o={}){return this.request("PATCH",i,Xm(o,r))}post(i,r,o={}){return this.request("POST",i,Xm(o,r))}put(i,r,o={}){return this.request("PUT",i,Xm(o,r))}};e.\u0275fac=function(r){return new(r||e)(I(el))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function VE(t,e){return e(t)}function IL(t,e){return(n,i)=>e.intercept(n,{handle:r=>t(r,i)})}function SL(t,e,n){return(i,r)=>On(n,()=>e(i,o=>t(o,r)))}var ML=new R(""),ny=new R(""),TL=new R(""),AL=new R("");function PL(){let t=null;return(e,n)=>{t===null&&(t=(A(ML,{optional:!0})??[]).reduceRight(IL,VE));let i=A(uo),r=i.add();return t(e,n).pipe(nr(()=>i.remove(r)))}}var kE=(()=>{let e=class e extends el{constructor(i,r){super(),this.backend=i,this.injector=r,this.chain=null,this.pendingTasks=A(uo);let o=A(AL,{optional:!0});this.backend=o??i}handle(i){if(this.chain===null){let o=Array.from(new Set([...this.injector.get(ny),...this.injector.get(TL,[])]));this.chain=o.reduceRight((s,a)=>SL(s,a,this.injector),VE)}let r=this.pendingTasks.add();return this.chain(i,o=>this.backend.handle(o)).pipe(nr(()=>this.pendingTasks.remove(r)))}};e.\u0275fac=function(r){return new(r||e)(I(kd),I(Ot))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();var NL=/^\)\]\}',?\n/;function RL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var FE=(()=>{let e=class e{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new L(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?he(r.\u0275loadImpl()):j(null)).pipe(Me(()=>new ee(s=>{let a=r.build();if(a.open(i.method,i.urlWithParams),i.withCredentials&&(a.withCredentials=!0),i.headers.forEach((m,y)=>a.setRequestHeader(m,y.join(","))),i.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let m=i.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(i.responseType){let m=i.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=i.serializeBody(),c=null,u=()=>{if(c!==null)return c;let m=a.statusText||"OK",y=new mo(a.getAllResponseHeaders()),v=RL(a)||i.url;return c=new ty({headers:y,status:a.status,statusText:m,url:v}),c},d=()=>{let{headers:m,status:y,statusText:v,url:C}=u(),D=null;y!==Vd.NoContent&&(D=typeof a.response>"u"?a.responseText:a.response),y===0&&(y=D?Vd.Ok:0);let w=y>=200&&y<300;if(i.responseType==="json"&&typeof D=="string"){let x=D;D=D.replace(NL,"");try{D=D!==""?JSON.parse(D):null}catch(P){D=x,w&&(w=!1,D={error:P,text:D})}}w?(s.next(new Fd({body:D,headers:m,status:y,statusText:v,url:C||void 0})),s.complete()):s.error(new Ld({error:D,headers:m,status:y,statusText:v,url:C||void 0}))},h=m=>{let{url:y}=u(),v=new Ld({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:y||void 0});s.error(v)},f=!1,p=m=>{f||(s.next(u()),f=!0);let y={type:Ss.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),i.responseType==="text"&&a.responseText&&(y.partialText=a.responseText),s.next(y)},g=m=>{let y={type:Ss.UploadProgress,loaded:m.loaded};m.lengthComputable&&(y.total=m.total),s.next(y)};return a.addEventListener("load",d),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),i.reportProgress&&(a.addEventListener("progress",p),l!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(l),s.next({type:Ss.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",d),a.removeEventListener("timeout",h),i.reportProgress&&(a.removeEventListener("progress",p),l!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}};e.\u0275fac=function(r){return new(r||e)(I(Es))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),jE=new R(""),OL="XSRF-TOKEN",kL=new R("",{providedIn:"root",factory:()=>OL}),FL="X-XSRF-TOKEN",LL=new R("",{providedIn:"root",factory:()=>FL}),jd=class{},VL=(()=>{let e=class e{constructor(i,r,o){this.doc=i,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=Nd(i,this.cookieName),this.lastCookieString=i),this.lastToken}};e.\u0275fac=function(r){return new(r||e)(I(xt),I(Et),I(kL))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function jL(t,e){let n=t.url.toLowerCase();if(!A(jE)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let i=A(jd).getToken(),r=A(LL);return i!=null&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,i)})),e(t)}var BE=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}(BE||{});function BL(t,e){return{\u0275kind:t,\u0275providers:e}}function UL(...t){let e=[xL,FE,kE,{provide:el,useExisting:kE},{provide:kd,useExisting:FE},{provide:ny,useValue:jL,multi:!0},{provide:jE,useValue:!0},{provide:jd,useClass:VL}];for(let n of t)e.push(...n.\u0275providers);return Zu(e)}var LE=new R("");function $L(){return BL(BE.LegacyInterceptors,[{provide:LE,useFactory:PL},{provide:ny,useExisting:LE,multi:!0}])}var UE=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({providers:[UL($L())]});let t=e;return t})();var oy=class extends Td{constructor(){super(...arguments),this.supportsDOMEvents=!0}},sy=class t extends oy{static makeCurrent(){wE(new t)}onAndCancel(e,n,i){return e.addEventListener(n,i),()=>{e.removeEventListener(n,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=HL();return n==null?null:zL(n)}resetBaseElement(){nl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Nd(document.cookie,e)}},nl=null;function HL(){return nl=nl||document.querySelector("base"),nl?nl.getAttribute("href"):null}function zL(t){return new URL(t,document.baseURI).pathname}var ay=class{addToWindow(e){mt.getAngularTestability=(i,r=!0)=>{let o=e.findTestabilityInTree(i,r);if(o==null)throw new L(5103,!1);return o},mt.getAllAngularTestabilities=()=>e.getAllTestabilities(),mt.getAllAngularRootElements=()=>e.getAllRootElements();let n=i=>{let r=mt.getAllAngularTestabilities(),o=r.length,s=function(){o--,o==0&&i()};r.forEach(a=>{a.whenStable(s)})};mt.frameworkStabilizers||(mt.frameworkStabilizers=[]),mt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,i){if(n==null)return null;let r=e.getTestability(n);return r??(i?ni().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},WL=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),ly=new R(""),WE=(()=>{let e=class e{constructor(i,r){this._zone=r,this._eventNameToPlugin=new Map,i.forEach(o=>{o.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,r,o){return this._findPluginFor(r).addEventListener(i,r,o)}getZone(){return this._zone}_findPluginFor(i){let r=this._eventNameToPlugin.get(i);if(r)return r;if(r=this._plugins.find(s=>s.supports(i)),!r)throw new L(5101,!1);return this._eventNameToPlugin.set(i,r),r}};e.\u0275fac=function(r){return new(r||e)(I(ly),I(ue))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),Bd=class{constructor(e){this._doc=e}},iy="ng-app-id",GE=(()=>{let e=class e{constructor(i,r,o,s={}){this.doc=i,this.appId=r,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Xa(s),this.resetHostNodes()}addStyles(i){for(let r of i)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(i){for(let r of i)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(r=>r.remove()),i.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let r of this.getAllStyles())this.addStyleToHost(i,r)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let r of this.hostNodes)this.addStyleToHost(r,i)}onStyleRemoved(i){let r=this.styleRef;r.get(i)?.elements?.forEach(o=>o.remove()),r.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${iy}="${this.appId}"]`);if(i?.length){let r=new Map;return i.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(i,r){let o=this.styleRef;if(o.has(i)){let s=o.get(i);return s.usage+=r,s.usage}return o.set(i,{usage:r,elements:[]}),r}getStyleElement(i,r){let o=this.styleNodesInDOM,s=o?.get(r);if(s?.parentNode===i)return o.delete(r),s.removeAttribute(iy),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(iy,this.appId),i.appendChild(a),a}}addStyleToHost(i,r){let o=this.getStyleElement(i,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(o):s.set(r,{elements:[o],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}};e.\u0275fac=function(r){return new(r||e)(I(xt),I(sd),I(fm,8),I(Et))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),ry={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},uy=/%COMP%/g,qE="%COMP%",GL=`_nghost-${qE}`,qL=`_ngcontent-${qE}`,YL=!0,KL=new R("",{providedIn:"root",factory:()=>YL});function QL(t){return qL.replace(uy,t)}function ZL(t){return GL.replace(uy,t)}function YE(t,e){return e.map(n=>n.replace(uy,t))}var $E=(()=>{let e=class e{constructor(i,r,o,s,a,l,c,u=null){this.eventManager=i,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Xa(l),this.defaultRenderer=new il(i,a,c,this.platformIsServer)}createRenderer(i,r){if(!i||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Qn.ShadowDom&&(r=ce(N({},r),{encapsulation:Qn.Emulated}));let o=this.getOrCreateRenderer(i,r);return o instanceof Ud?o.applyToHost(i):o instanceof rl&&o.applyStyles(),o}getOrCreateRenderer(i,r){let o=this.rendererByCompId,s=o.get(r.id);if(!s){let a=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Qn.Emulated:s=new Ud(c,u,r,this.appId,d,a,l,h);break;case Qn.ShadowDom:return new cy(c,u,i,r,a,l,this.nonce,h);default:s=new rl(c,u,r,d,a,l,h);break}o.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(r){return new(r||e)(I(WE),I(GE),I(sd),I(KL),I(xt),I(Et),I(ue),I(fm))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),il=class{constructor(e,n,i,r){this.eventManager=e,this.doc=n,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ry[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(HE(e)?e.content:e).appendChild(n)}insertBefore(e,n,i){e&&(HE(e)?e.content:e).insertBefore(n,i)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let i=typeof e=="string"?this.doc.querySelector(e):e;if(!i)throw new L(-5104,!1);return n||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,i,r){if(r){n=r+":"+n;let o=ry[r];o?e.setAttributeNS(o,n,i):e.setAttribute(n,i)}else e.setAttribute(n,i)}removeAttribute(e,n,i){if(i){let r=ry[i];r?e.removeAttributeNS(r,n):e.removeAttribute(`${i}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,i,r){r&(Di.DashCase|Di.Important)?e.style.setProperty(n,i,r&Di.Important?"important":""):e.style[n]=i}removeStyle(e,n,i){i&Di.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,i){e!=null&&(e[n]=i)}setValue(e,n){e.nodeValue=n}listen(e,n,i){if(typeof e=="string"&&(e=ni().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(i))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function HE(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var cy=class extends il{constructor(e,n,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=n,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=YE(r.id,r.styles);for(let u of c){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,i){return super.insertBefore(this.nodeOrShadowRoot(e),n,i)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},rl=class extends il{constructor(e,n,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=r,this.styles=l?YE(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ud=class extends rl{constructor(e,n,i,r,o,s,a,l){let c=r+"-"+i.id;super(e,n,i,o,s,a,l,c),this.contentAttr=QL(c),this.hostAttr=ZL(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let i=super.createElement(e,n);return super.setAttribute(i,this.contentAttr,""),i}},XL=(()=>{let e=class e extends Bd{constructor(i){super(i)}supports(i){return!0}addEventListener(i,r,o){return i.addEventListener(r,o,!1),()=>this.removeEventListener(i,r,o)}removeEventListener(i,r,o){return i.removeEventListener(r,o)}};e.\u0275fac=function(r){return new(r||e)(I(xt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})(),zE=["alt","control","meta","shift"],JL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},tV=(()=>{let e=class e extends Bd{constructor(i){super(i)}supports(i){return e.parseEventName(i)!=null}addEventListener(i,r,o){let s=e.parseEventName(r),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ni().onAndCancel(i,s.domEventName,a))}static parseEventName(i){let r=i.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),zE.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),a+=u+".")}),a+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=o,c.fullKey=a,c}static matchEventFullKeyCode(i,r){let o=JL[i.key]||i.key,s="";return r.indexOf("code.")>-1&&(o=i.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),zE.forEach(a=>{if(a!==o){let l=eV[a];l(i)&&(s+=a+".")}}),s+=o,s===r)}static eventCallback(i,r,o){return s=>{e.matchEventFullKeyCode(s,i)&&o.runGuarded(()=>r(s))}}static _normalizeKey(i){return i==="esc"?"escape":i}};e.\u0275fac=function(r){return new(r||e)(I(xt))},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function nV(){sy.makeCurrent()}function iV(){return new ei}function rV(){return hD(document),document}var oV=[{provide:Et,useValue:Zm},{provide:hm,useValue:nV,multi:!0},{provide:xt,useFactory:rV,deps:[]}],KE=Vm(fE,"browser",oV),sV=new R(""),aV=[{provide:Qa,useClass:ay,deps:[]},{provide:Fm,useClass:gd,deps:[ue,md,Qa]},{provide:gd,useClass:gd,deps:[ue,md,Qa]}],lV=[{provide:Xu,useValue:"root"},{provide:ei,useFactory:iV,deps:[]},{provide:ly,useClass:XL,multi:!0,deps:[xt,ue,Et]},{provide:ly,useClass:tV,multi:!0,deps:[xt]},$E,GE,WE,{provide:$a,useExisting:$E},{provide:Es,useClass:WL,deps:[]},[]],QE=(()=>{let e=class e{constructor(i){}static withServerTransition(i){return{ngModule:e,providers:[{provide:sd,useValue:i.appId}]}}};e.\u0275fac=function(r){return new(r||e)(I(sV,12))},e.\u0275mod=Be({type:e}),e.\u0275inj=je({providers:[...lV,...aV],imports:[TE,pE]});let t=e;return t})();var ZE=(()=>{let e=class e{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}};e.\u0275fac=function(r){return new(r||e)(I(xt))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Q="primary",_l=Symbol("RouteTitle"),gy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ns(t){return new gy(t)}function cV(t,e,n){let i=n.path.split("/");if(i.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||i.length<t.length))return null;let r={};for(let o=0;o<i.length;o++){let s=i[o],a=t[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,i.length),posParams:r}}function uV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ii(t[n],e[n]))return!1;return!0}function ii(t,e){let n=t?my(t):void 0,i=e?my(e):void 0;if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!ax(t[r],e[r]))return!1;return!0}function my(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ax(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),i=[...e].sort();return n.every((r,o)=>i[o]===r)}else return t===e}function lx(t){return t.length>0?t[t.length-1]:null}function vr(t){return Tp(t)?t:ho(t)?he(Promise.resolve(t)):j(t)}var dV={exact:ux,subset:dx},cx={exact:hV,subset:fV,ignored:()=>!0};function JE(t,e,n){return dV[n.paths](t.root,e.root,n.matrixParams)&&cx[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function hV(t,e){return ii(t,e)}function ux(t,e,n){if(!vo(t.segments,e.segments)||!zd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let i in e.children)if(!t.children[i]||!ux(t.children[i],e.children[i],n))return!1;return!0}function fV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ax(t[n],e[n]))}function dx(t,e,n){return hx(t,e,e.segments,n)}function hx(t,e,n,i){if(t.segments.length>n.length){let r=t.segments.slice(0,n.length);return!(!vo(r,n)||e.hasChildren()||!zd(r,n,i))}else if(t.segments.length===n.length){if(!vo(t.segments,n)||!zd(t.segments,n,i))return!1;for(let r in e.children)if(!t.children[r]||!dx(t.children[r],e.children[r],i))return!1;return!0}else{let r=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!vo(t.segments,r)||!zd(t.segments,r,i)||!t.children[Q]?!1:hx(t.children[Q],e,o,i)}}function zd(t,e,n){return e.every((i,r)=>cx[n](t[r].parameters,i.parameters))}var gr=class{constructor(e=new _e([],{}),n={},i=null){this.root=e,this.queryParams=n,this.fragment=i}get queryParamMap(){return this._queryParamMap??=Ns(this.queryParams),this._queryParamMap}toString(){return mV.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wd(this)}},yo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ns(this.parameters),this._parameterMap}toString(){return px(this)}};function pV(t,e){return vo(t,e)&&t.every((n,i)=>ii(n.parameters,e[i].parameters))}function vo(t,e){return t.length!==e.length?!1:t.every((n,i)=>n.path===e[i].path)}function gV(t,e){let n=[];return Object.entries(t.children).forEach(([i,r])=>{i===Q&&(n=n.concat(e(r,i)))}),Object.entries(t.children).forEach(([i,r])=>{i!==Q&&(n=n.concat(e(r,i)))}),n}var bl=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>new dl,providedIn:"root"});let t=e;return t})(),dl=class{parse(e){let n=new vy(e);return new gr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ol(e.root,!0)}`,i=_V(e.queryParams),r=typeof e.fragment=="string"?`#${yV(e.fragment)}`:"";return`${n}${i}${r}`}},mV=new dl;function Wd(t){return t.segments.map(e=>px(e)).join("/")}function ol(t,e){if(!t.hasChildren())return Wd(t);if(e){let n=t.children[Q]?ol(t.children[Q],!1):"",i=[];return Object.entries(t.children).forEach(([r,o])=>{r!==Q&&i.push(`${r}:${ol(o,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}else{let n=gV(t,(i,r)=>r===Q?[ol(t.children[Q],!1)]:[`${r}:${ol(i,!1)}`]);return Object.keys(t.children).length===1&&t.children[Q]!=null?`${Wd(t)}/${n[0]}`:`${Wd(t)}/(${n.join("//")})`}}function fx(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $d(t){return fx(t).replace(/%3B/gi,";")}function yV(t){return encodeURI(t)}function yy(t){return fx(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gd(t){return decodeURIComponent(t)}function ex(t){return Gd(t.replace(/\+/g,"%20"))}function px(t){return`${yy(t.path)}${vV(t.parameters)}`}function vV(t){return Object.entries(t).map(([e,n])=>`;${yy(e)}=${yy(n)}`).join("")}function _V(t){let e=Object.entries(t).map(([n,i])=>Array.isArray(i)?i.map(r=>`${$d(n)}=${$d(r)}`).join("&"):`${$d(n)}=${$d(i)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var bV=/^[^\/()?;#]+/;function dy(t){let e=t.match(bV);return e?e[0]:""}var CV=/^[^\/()?;=#]+/;function wV(t){let e=t.match(CV);return e?e[0]:""}var DV=/^[^=?&#]+/;function EV(t){let e=t.match(DV);return e?e[0]:""}var xV=/^[^&#]+/;function IV(t){let e=t.match(xV);return e?e[0]:""}var vy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(i[Q]=new _e(e,n)),i}parseSegment(){let e=dy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new L(4009,!1);return this.capture(e),new yo(Gd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=wV(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let r=dy(this.remaining);r&&(i=r,this.capture(i))}e[Gd(n)]=Gd(i)}parseQueryParam(e){let n=EV(this.remaining);if(!n)return;this.capture(n);let i="";if(this.consumeOptional("=")){let s=IV(this.remaining);s&&(i=s,this.capture(i))}let r=ex(n),o=ex(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=dy(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new L(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Q);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[Q]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new L(4011,!1)}};function gx(t){return t.segments.length>0?new _e([],{[Q]:t}):t}function mx(t){let e={};for(let[i,r]of Object.entries(t.children)){let o=mx(r);if(i===Q&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}let n=new _e(t.segments,e);return SV(n)}function SV(t){if(t.numberOfChildren===1&&t.children[Q]){let e=t.children[Q];return new _e(t.segments.concat(e.segments),e.children)}return t}function Rs(t){return t instanceof gr}function MV(t,e,n=null,i=null){let r=yx(t);return vx(r,e,n,i)}function yx(t){let e;function n(o){let s={};for(let l of o.children){let c=n(l);s[l.outlet]=c}let a=new _e(o.url,s);return o===t&&(e=a),a}let i=n(t.root),r=gx(i);return e??r}function vx(t,e,n,i){let r=t;for(;r.parent;)r=r.parent;if(e.length===0)return hy(r,r,r,n,i);let o=TV(e);if(o.toRoot())return hy(r,r,new _e([],{}),n,i);let s=AV(o,r,t),a=s.processChildren?ll(s.segmentGroup,s.index,o.commands):bx(s.segmentGroup,s.index,o.commands);return hy(r,s.segmentGroup,a,n,i)}function qd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function hl(t){return typeof t=="object"&&t!=null&&t.outlets}function hy(t,e,n,i,r){let o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let s;t===e?s=n:s=_x(t,e,n);let a=gx(mx(s));return new gr(a,o,r)}function _x(t,e,n){let i={};return Object.entries(t.children).forEach(([r,o])=>{o===e?i[r]=n:i[r]=_x(o,e,n)}),new _e(t.segments,i)}var Yd=class{constructor(e,n,i){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=i,e&&i.length>0&&qd(i[0]))throw new L(4003,!1);let r=i.find(hl);if(r&&r!==lx(i))throw new L(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function TV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yd(!0,0,t);let e=0,n=!1,i=t.reduce((r,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]=typeof c=="string"?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:s===0?(o.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&r.push(a))}),r):[...r,o]},[]);return new Yd(n,e,i)}var As=class{constructor(e,n,i){this.segmentGroup=e,this.processChildren=n,this.index=i}};function AV(t,e,n){if(t.isAbsolute)return new As(e,!0,0);if(!n)return new As(e,!1,NaN);if(n.parent===null)return new As(n,!0,0);let i=qd(t.commands[0])?0:1,r=n.segments.length-1+i;return PV(n,r,t.numberOfDoubleDots)}function PV(t,e,n){let i=t,r=e,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new L(4005,!1);r=i.segments.length}return new As(i,!1,r-o)}function NV(t){return hl(t[0])?t[0].outlets:{[Q]:t}}function bx(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return ll(t,e,n);let i=RV(t,e,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,i.pathIndex),{});return o.children[Q]=new _e(t.segments.slice(i.pathIndex),t.children),ll(o,0,r)}else return i.match&&r.length===0?new _e(t.segments,{}):i.match&&!t.hasChildren()?_y(t,e,n):i.match?ll(t,0,r):_y(t,e,n)}function ll(t,e,n){if(n.length===0)return new _e(t.segments,{});{let i=NV(n),r={};if(Object.keys(i).some(o=>o!==Q)&&t.children[Q]&&t.numberOfChildren===1&&t.children[Q].segments.length===0){let o=ll(t.children[Q],e,n);return new _e(t.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[o]=bx(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{i[o]===void 0&&(r[o]=s)}),new _e(t.segments,r)}}function RV(t,e,n){let i=0,r=e,o={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(i>=n.length)return o;let s=t.segments[r],a=n[i];if(hl(a))break;let l=`${a}`,c=i<n.length-1?n[i+1]:null;if(r>0&&l===void 0)break;if(l&&c&&typeof c=="object"&&c.outlets===void 0){if(!nx(l,c,s))return o;i+=2}else{if(!nx(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function _y(t,e,n){let i=t.segments.slice(0,e),r=0;for(;r<n.length;){let o=n[r];if(hl(o)){let l=OV(o.outlets);return new _e(i,l)}if(r===0&&qd(n[0])){let l=t.segments[e];i.push(new yo(l.path,tx(n[0]))),r++;continue}let s=hl(o)?o.outlets[Q]:`${o}`,a=r<n.length-1?n[r+1]:null;s&&a&&qd(a)?(i.push(new yo(s,tx(a))),r+=2):(i.push(new yo(s,{})),r++)}return new _e(i,{})}function OV(t){let e={};return Object.entries(t).forEach(([n,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(e[n]=_y(new _e([],{}),0,i))}),e}function tx(t){let e={};return Object.entries(t).forEach(([n,i])=>e[n]=`${i}`),e}function nx(t,e,n){return t==n.path&&ii(e,n.parameters)}var cl="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),_n=class{constructor(e,n){this.id=e,this.url=n}},Os=class extends _n{constructor(e,n,i="imperative",r=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Vi=class extends _n{constructor(e,n,i){super(e,n),this.urlAfterRedirects=i,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(rn||{}),Kd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Kd||{}),mr=class extends _n{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},yr=class extends _n{constructor(e,n,i,r){super(e,n),this.reason=i,this.code=r,this.type=ct.NavigationSkipped}},fl=class extends _n{constructor(e,n,i,r){super(e,n),this.error=i,this.target=r,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Qd=class extends _n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},by=class extends _n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cy=class extends _n{constructor(e,n,i,r,o){super(e,n),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wy=class extends _n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dy=class extends _n{constructor(e,n,i,r){super(e,n),this.urlAfterRedirects=i,this.state=r,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ey=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xy=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Iy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sy=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},My=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ty=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zd=class{constructor(e,n,i){this.routerEvent=e,this.position=n,this.anchor=i,this.type=ct.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},pl=class{},gl=class{constructor(e){this.url=e}};var Ay=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Cl,this.attachRef=null}},Cl=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(i,r){let o=this.getOrCreateContext(i);o.outlet=r,this.contexts.set(i,o)}onChildOutletDestroyed(i){let r=this.getContext(i);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let r=this.getContext(i);return r||(r=new Ay,this.contexts.set(i,r)),r}getContext(i){return this.contexts.get(i)||null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Py(e,this._root);return n?n.children.map(i=>i.value):[]}firstChild(e){let n=Py(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ny(e,this._root);return n.length<2?[]:n[n.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return Ny(e,this._root).map(n=>n.value)}};function Py(t,e){if(t===e.value)return e;for(let n of e.children){let i=Py(t,n);if(i)return i}return null}function Ny(t,e){if(t===e.value)return[e];for(let n of e.children){let i=Ny(t,n);if(i.length)return i.unshift(e),i}return[]}var nn=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ts(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jd=class extends Xd{constructor(e,n){super(e),this.snapshot=n,$y(this,e)}toString(){return this.snapshot.toString()}};function Cx(t){let e=kV(t),n=new gt([new yo("",{})]),i=new gt({}),r=new gt({}),o=new gt({}),s=new gt(""),a=new ks(n,i,o,s,r,Q,t,e.root);return a.snapshot=e.root,new Jd(new nn(a,[]),e)}function kV(t){let e={},n={},i={},r="",o=new ml([],e,i,r,n,Q,t,null,{});return new eh("",new nn(o,[]))}var ks=class{constructor(e,n,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(B(c=>c[_l]))??j(void 0),this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(B(e=>Ns(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(B(e=>Ns(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uy(t,e,n="emptyOnly"){let i,{routeConfig:r}=t;return e!==null&&(n==="always"||r?.path===""||!e.component&&!e.routeConfig?.loadComponent)?i={params:N(N({},e.params),t.params),data:N(N({},e.data),t.data),resolve:N(N(N(N({},t.data),e.data),r?.data),t._resolvedData)}:i={params:N({},t.params),data:N({},t.data),resolve:N(N({},t.data),t._resolvedData??{})},r&&Dx(r)&&(i.resolve[_l]=r.title),i}var ml=class{get title(){return this.data?.[_l]}constructor(e,n,i,r,o,s,a,l,c){this.url=e,this.params=n,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ns(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ns(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(i=>i.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},eh=class extends Xd{constructor(e,n){super(n),this.url=e,$y(this,n)}toString(){return wx(this._root)}};function $y(t,e){e.value._routerState=t,e.children.forEach(n=>$y(t,n))}function wx(t){let e=t.children.length>0?` { ${t.children.map(wx).join(", ")} } `:"";return`${t.value}${e}`}function fy(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ii(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ii(e.params,n.params)||t.paramsSubject.next(n.params),uV(e.url,n.url)||t.urlSubject.next(n.url),ii(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Ry(t,e){let n=ii(t.params,e.params)&&pV(t.url,e.url),i=!t.parent!=!e.parent;return n&&!i&&(!t.parent||Ry(t.parent,e.parent))}function Dx(t){return typeof t.title=="string"||t.title===null}var Hy=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Q,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=A(Cl),this.location=A(hr),this.changeDetector=A(po),this.environmentInjector=A(Ot),this.inputBinder=A(oh,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:r,previousValue:o}=i.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new L(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new L(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new L(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,r){this.activated=i,this._activatedRoute=r,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,r){if(this.isActivated)throw new L(4013,!1);this._activatedRoute=i;let o=this.location,a=i.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Oy(i,l,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Si]});let t=e;return t})(),Oy=class{constructor(e,n,i){this.route=e,this.childContexts=n,this.parent=i,this.__ngOutletInjector=!0}get(e,n){return e===ks?this.route:e===Cl?this.childContexts:this.parent.get(e,n)}},oh=new R(""),ix=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(i){this.unsubscribeFromRouteData(i),this.subscribeToRouteData(i)}unsubscribeFromRouteData(i){this.outletDataSubscriptions.get(i)?.unsubscribe(),this.outletDataSubscriptions.delete(i)}subscribeToRouteData(i){let{activatedRoute:r}=i,o=Aa([r.queryParams,r.params,r.data]).pipe(Me(([s,a,l],c)=>(l=N(N(N({},s),a),l),c===0?j(l):Promise.resolve(l)))).subscribe(s=>{if(!i.isActivated||!i.activatedComponentRef||i.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(i);return}let a=gE(r.component);if(!a){this.unsubscribeFromRouteData(i);return}for(let{templateName:l}of a.inputs)i.activatedComponentRef.setInput(l,s[l])});this.outletDataSubscriptions.set(i,o)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function FV(t,e,n){let i=yl(t,e._root,n?n._root:void 0);return new Jd(i,e)}function yl(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let i=n.value;i._futureSnapshot=e.value;let r=LV(t,e,n);return new nn(i,r)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>yl(t,a)),s}}let i=VV(e.value),r=e.children.map(o=>yl(t,o));return new nn(i,r)}}function LV(t,e,n){return e.children.map(i=>{for(let r of n.children)if(t.shouldReuseRoute(i.value,r.value.snapshot))return yl(t,i,r);return yl(t,i)})}function VV(t){return new ks(new gt(t.url),new gt(t.params),new gt(t.queryParams),new gt(t.fragment),new gt(t.data),t.outlet,t.component,t)}var Ex="ngNavigationCancelingError";function xx(t,e){let{redirectTo:n,navigationBehaviorOptions:i}=Rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=Ix(!1,rn.Redirect);return r.url=n,r.navigationBehaviorOptions=i,r}function Ix(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ex]=!0,n.cancellationCode=e,n}function jV(t){return Sx(t)&&Rs(t.url)}function Sx(t){return!!t&&t[Ex]}var BV=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fe({type:e,selectors:[["ng-component"]],standalone:!0,features:[tE],decls:1,vars:0,template:function(r,o){r&1&&se(0,"router-outlet")},dependencies:[Hy],encapsulation:2});let t=e;return t})();function UV(t,e){return t.providers&&!t._injector&&(t._injector=fd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function zy(t){let e=t.children&&t.children.map(zy),n=e?ce(N({},t),{children:e}):N({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Q&&(n.component=BV),n}function ri(t){return t.outlet||Q}function $V(t,e){let n=t.filter(i=>ri(i)===e);return n.push(...t.filter(i=>ri(i)!==e)),n}function wl(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var HV=(t,e,n,i)=>B(r=>(new ky(e,r.targetRouterState,r.currentRouterState,n,i).activate(t),r)),ky=class{constructor(e,n,i,r,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,i,e),fy(this.futureState.root),this.activateChildRoutes(n,i,e)}deactivateChildRoutes(e,n,i){let r=Ts(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(r===o)if(r.component){let s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,i);else o&&this.deactivateRouteAndItsChildren(n,i)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ts(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);if(i&&i.outlet){let s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let i=n.getContext(e.value.outlet),r=i&&e.value.component?i.children:n,o=Ts(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,n,i){let r=Ts(n);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Ty(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Sy(e.value.snapshot))}activateRoutes(e,n,i){let r=e.value,o=n?n.value:null;if(fy(r),r===o)if(r.component){let s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,i);else if(r.component){let s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),fy(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=wl(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}},th=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ps=class{constructor(e,n){this.component=e,this.route=n}};function zV(t,e,n){let i=t._root,r=e?e._root:null;return sl(i,r,n,[i.value])}function WV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ls(t,e){let n=Symbol(),i=e.get(t,n);return i===n?typeof t=="function"&&!iw(t)?t:e.get(t):i}function sl(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ts(e);return t.children.forEach(s=>{GV(s,o[s.value.outlet],n,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ul(a,n.getContext(s),r)),r}function GV(t,e,n,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let l=qV(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new th(i)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?sl(t,e,a?a.children:null,i,r):sl(t,e,n,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ps(a.outlet.component,s))}else s&&ul(e,a,r),r.canActivateChecks.push(new th(i)),o.component?sl(t,null,a?a.children:null,i,r):sl(t,null,n,i,r);return r}function qV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!vo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!vo(t.url,e.url)||!ii(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ry(t,e)||!ii(t.queryParams,e.queryParams);case"paramsChange":default:return!Ry(t,e)}}function ul(t,e,n){let i=Ts(t),r=t.value;Object.entries(i).forEach(([o,s])=>{r.component?e?ul(s,e.children.getContext(o),n):ul(s,null,n):ul(s,e,n)}),r.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ps(e.outlet.component,r)):n.canDeactivateChecks.push(new Ps(null,r)):n.canDeactivateChecks.push(new Ps(null,r))}function Dl(t){return typeof t=="function"}function YV(t){return typeof t=="boolean"}function KV(t){return t&&Dl(t.canLoad)}function QV(t){return t&&Dl(t.canActivate)}function ZV(t){return t&&Dl(t.canActivateChild)}function XV(t){return t&&Dl(t.canDeactivate)}function JV(t){return t&&Dl(t.canMatch)}function Mx(t){return t instanceof _i||t?.name==="EmptyError"}var Hd=Symbol("INITIAL_VALUE");function Fs(){return Me(t=>Aa(t.map(e=>e.pipe(Ci(1),Fp(Hd)))).pipe(B(e=>{for(let n of e)if(n!==!0){if(n===Hd)return Hd;if(n===!1||n instanceof gr)return n}return!0}),Dt(e=>e!==Hd),Ci(1)))}function e2(t,e){return Xe(n=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?j(ce(N({},n),{guardsResult:!0})):t2(s,i,r,t).pipe(Xe(a=>a&&YV(a)?n2(i,o,t,e):j(a)),B(a=>ce(N({},n),{guardsResult:a})))})}function t2(t,e,n,i){return he(t).pipe(Xe(r=>a2(r.component,r.route,n,e,i)),hn(r=>r!==!0,!0))}function n2(t,e,n,i){return he(e).pipe(bi(r=>ns(r2(r.route.parent,i),i2(r.route,i),s2(t,r.path,n),o2(t,r.route,n))),hn(r=>r!==!0,!0))}function i2(t,e){return t!==null&&e&&e(new My(t)),j(!0)}function r2(t,e){return t!==null&&e&&e(new Iy(t)),j(!0)}function o2(t,e,n){let i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||i.length===0)return j(!0);let r=i.map(o=>hu(()=>{let s=wl(e)??n,a=Ls(o,s),l=QV(a)?a.canActivate(e,t):On(s,()=>a(e,t));return vr(l).pipe(hn())}));return j(r).pipe(Fs())}function s2(t,e,n){let i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>WV(s)).filter(s=>s!==null).map(s=>hu(()=>{let a=s.guards.map(l=>{let c=wl(s.node)??n,u=Ls(l,c),d=ZV(u)?u.canActivateChild(i,t):On(c,()=>u(i,t));return vr(d).pipe(hn())});return j(a).pipe(Fs())}));return j(o).pipe(Fs())}function a2(t,e,n,i,r){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return j(!0);let s=o.map(a=>{let l=wl(e)??r,c=Ls(a,l),u=XV(c)?c.canDeactivate(t,e,n,i):On(l,()=>c(t,e,n,i));return vr(u).pipe(hn())});return j(s).pipe(Fs())}function l2(t,e,n,i){let r=e.canLoad;if(r===void 0||r.length===0)return j(!0);let o=r.map(s=>{let a=Ls(s,t),l=KV(a)?a.canLoad(e,n):On(t,()=>a(e,n));return vr(l)});return j(o).pipe(Fs(),Tx(i))}function Tx(t){return Dp(Je(e=>{if(Rs(e))throw xx(t,e)}),B(e=>e===!0))}function c2(t,e,n,i){let r=e.canMatch;if(!r||r.length===0)return j(!0);let o=r.map(s=>{let a=Ls(s,t),l=JV(a)?a.canMatch(e,n):On(t,()=>a(e,n));return vr(l)});return j(o).pipe(Fs(),Tx(i))}var vl=class{constructor(e){this.segmentGroup=e||null}},nh=class extends Error{constructor(e){super(),this.urlTree=e}};function Ms(t){return ts(new vl(t))}function u2(t){return ts(new L(4e3,!1))}function d2(t){return ts(Ix(!1,rn.GuardRejected))}var Fy=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let i=[],r=n.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return j(i);if(r.numberOfChildren>1||!r.children[Q])return u2(e.redirectTo);r=r.children[Q]}}applyRedirectCommands(e,n,i){let r=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,i);if(n.startsWith("/"))throw new nh(r);return r}applyRedirectCreateUrlTree(e,n,i,r){let o=this.createSegmentGroup(e,n.root,i,r);return new gr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let i={};return Object.entries(e).forEach(([r,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);i[r]=n[a]}else i[r]=o}),i}createSegmentGroup(e,n,i,r){let o=this.createSegments(e,n.segments,i,r),s={};return Object.entries(n.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new _e(o,s)}createSegments(e,n,i,r){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,n,i){let r=i[n.path.substring(1)];if(!r)throw new L(4001,!1);return r}findOrReturn(e,n){let i=0;for(let r of n){if(r.path===e.path)return n.splice(i),r;i++}return e}},Ly={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function h2(t,e,n,i,r){let o=Wy(t,e,n);return o.matched?(i=UV(e,i),c2(i,e,n,r).pipe(B(s=>s===!0?o:N({},Ly)))):j(o)}function Wy(t,e,n){if(e.path==="**")return f2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?N({},Ly):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let r=(e.matcher||cV)(n,t,e);if(!r)return N({},Ly);let o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});let s=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:n.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function f2(t){return{matched:!0,parameters:t.length>0?lx(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function rx(t,e,n,i){return n.length>0&&m2(t,n,i)?{segmentGroup:new _e(e,g2(i,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&y2(t,n,i)?{segmentGroup:new _e(t.segments,p2(t,n,i,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function p2(t,e,n,i){let r={};for(let o of n)if(sh(t,e,o)&&!i[ri(o)]){let s=new _e([],{});r[ri(o)]=s}return N(N({},i),r)}function g2(t,e){let n={};n[Q]=e;for(let i of t)if(i.path===""&&ri(i)!==Q){let r=new _e([],{});n[ri(i)]=r}return n}function m2(t,e,n){return n.some(i=>sh(t,e,i)&&ri(i)!==Q)}function y2(t,e,n){return n.some(i=>sh(t,e,i))}function sh(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function v2(t,e,n,i){return ri(t)!==i&&(i===Q||!sh(e,n,t))?!1:Wy(e,t,n).matched}function _2(t,e,n){return e.length===0&&!t.children[n]}var Vy=class{};function b2(t,e,n,i,r,o,s="emptyOnly"){return new jy(t,e,n,i,r,s,o).recognize()}var C2=31,jy=class{constructor(e,n,i,r,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Fy(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new L(4002,`'${e.segmentGroup}'`)}recognize(){let e=rx(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(B(n=>{let i=new ml([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,{},Q,this.rootComponentType,null,{}),r=new nn(i,n),o=new eh("",r),s=MV(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Q).pipe(er(i=>{if(i instanceof nh)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof vl?this.noMatchError(i):i}))}inheritParamsAndData(e,n){let i=e.value,r=Uy(i,n,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o,i))}processSegmentGroup(e,n,i,r){return i.segments.length===0&&i.hasChildren()?this.processChildren(e,n,i):this.processSegment(e,n,i,i.segments,r,!0).pipe(B(o=>o instanceof nn?[o]:[]))}processChildren(e,n,i){let r=[];for(let o of Object.keys(i.children))o==="primary"?r.unshift(o):r.push(o);return he(r).pipe(bi(o=>{let s=i.children[o],a=$V(n,o);return this.processSegmentGroup(e,a,s,o)}),os((o,s)=>(o.push(...s),o)),tr(null),Rp(),Xe(o=>{if(o===null)return Ms(i);let s=Ax(o);return w2(s),j(s)}))}processSegment(e,n,i,r,o,s){return he(n).pipe(bi(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,i,r,o,s).pipe(er(l=>{if(l instanceof vl)return j(null);throw l}))),hn(a=>!!a),er(a=>{if(Mx(a))return _2(i,r,o)?j(new Vy):Ms(i);throw a}))}processSegmentAgainstRoute(e,n,i,r,o,s,a){return v2(i,r,o,s)?i.redirectTo===void 0?this.matchSegmentAgainstRoute(e,r,i,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,n,i,o,s):Ms(r):Ms(r)}expandSegmentAgainstRouteUsingRedirect(e,n,i,r,o,s){let{matched:a,consumedSegments:l,positionalParamSegments:c,remainingSegments:u}=Wy(n,r,o);if(!a)return Ms(n);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>C2&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,c);return this.applyRedirects.lineralizeSegments(r,d).pipe(Xe(h=>this.processSegment(e,i,n,h.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,i,r,o){let s=h2(n,i,r,e,this.urlSerializer);return i.path==="**"&&(n.children={}),s.pipe(Me(a=>a.matched?(e=i._injector??e,this.getChildConfig(e,i,r).pipe(Me(({routes:l})=>{let c=i._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:h}=a,f=new ml(u,h,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,E2(i),ri(i),i.component??i._loadedComponent??null,i,x2(i)),{segmentGroup:p,slicedSegments:g}=rx(n,u,d,l);if(g.length===0&&p.hasChildren())return this.processChildren(c,l,p).pipe(B(y=>y===null?null:new nn(f,y)));if(l.length===0&&g.length===0)return j(new nn(f,[]));let m=ri(i)===o;return this.processSegment(c,l,p,g,m?Q:o,!0).pipe(B(y=>new nn(f,y instanceof nn?[y]:[])))}))):Ms(n)))}getChildConfig(e,n,i){return n.children?j({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?j({routes:n._loadedRoutes,injector:n._loadedInjector}):l2(e,n,i,this.urlSerializer).pipe(Xe(r=>r?this.configLoader.loadChildren(e,n).pipe(Je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):d2(n))):j({routes:[],injector:e})}};function w2(t){t.sort((e,n)=>e.value.outlet===Q?-1:n.value.outlet===Q?1:e.value.outlet.localeCompare(n.value.outlet))}function D2(t){let e=t.value.routeConfig;return e&&e.path===""}function Ax(t){let e=[],n=new Set;for(let i of t){if(!D2(i)){e.push(i);continue}let r=e.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),n.add(r)):e.push(i)}for(let i of n){let r=Ax(i.children);e.push(new nn(i.value,r))}return e.filter(i=>!n.has(i))}function E2(t){return t.data||{}}function x2(t){return t.resolve||{}}function I2(t,e,n,i,r,o){return Xe(s=>b2(t,e,n,i,s.extractedUrl,r,o).pipe(B(({state:a,tree:l})=>ce(N({},s),{targetSnapshot:a,urlAfterRedirects:l}))))}function S2(t,e){return Xe(n=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=n;if(!r.length)return j(n);let o=new Set(r.map(l=>l.route)),s=new Set;for(let l of o)if(!s.has(l))for(let c of Px(l))s.add(c);let a=0;return he(s).pipe(bi(l=>o.has(l)?M2(l,i,t,e):(l.data=Uy(l,l.parent,t).resolve,j(void 0))),Je(()=>a++),rs(1),Xe(l=>a===s.size?j(n):Pt))})}function Px(t){let e=t.children.map(n=>Px(n)).flat();return[t,...e]}function M2(t,e,n,i){let r=t.routeConfig,o=t._resolve;return r?.title!==void 0&&!Dx(r)&&(o[_l]=r.title),T2(o,t,e,i).pipe(B(s=>(t._resolvedData=s,t.data=Uy(t,t.parent,n).resolve,null)))}function T2(t,e,n,i){let r=my(t);if(r.length===0)return j({});let o={};return he(r).pipe(Xe(s=>A2(t[s],e,n,i).pipe(hn(),Je(a=>{o[s]=a}))),rs(1),Pp(o),er(s=>Mx(s)?Pt:ts(s)))}function A2(t,e,n,i){let r=wl(e)??i,o=Ls(t,r),s=o.resolve?o.resolve(e,n):On(r,()=>o(e,n));return vr(s)}function py(t){return Me(e=>{let n=t(e);return n?he(n).pipe(B(()=>e)):j(e)})}var Nx=(()=>{let e=class e{buildTitle(i){let r,o=i.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(s=>s.outlet===Q);return r}getResolvedTitleForRoute(i){return i.data[_l]}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>A(P2),providedIn:"root"});let t=e;return t})(),P2=(()=>{let e=class e extends Nx{constructor(i){super(),this.title=i}updateTitle(i){let r=this.buildTitle(i);r!==void 0&&this.title.setTitle(r)}};e.\u0275fac=function(r){return new(r||e)(I(ZE))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),El=new R("",{providedIn:"root",factory:()=>({})}),ih=new R(""),Gy=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=A(_d)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return j(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=vr(i.loadComponent()).pipe(B(Rx),Je(s=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=s}),nr(()=>{this.componentLoaders.delete(i)})),o=new Qo(r,()=>new Ke).pipe(Ko());return this.componentLoaders.set(i,o),o}loadChildren(i,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return j({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=N2(r,this.compiler,i,this.onLoadEndListener).pipe(nr(()=>{this.childrenLoaders.delete(r)})),a=new Qo(s,()=>new Ke).pipe(Ko());return this.childrenLoaders.set(r,a),a}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function N2(t,e,n,i){return vr(t.loadChildren()).pipe(B(Rx),Xe(r=>r instanceof Ha||Array.isArray(r)?j(r):he(e.compileModuleAsync(r))),B(r=>{i&&i(t);let o,s,a=!1;return Array.isArray(r)?(s=r,a=!0):(o=r.create(n).injector,s=o.get(ih,[],{optional:!0,self:!0}).flat()),{routes:s.map(zy),injector:o}}))}function R2(t){return t&&typeof t=="object"&&"default"in t}function Rx(t){return R2(t)?t.default:t}var qy=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>A(O2),providedIn:"root"});let t=e;return t})(),O2=(()=>{let e=class e{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,r){return i}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ox=new R(""),kx=new R("");function k2(t,e,n){let i=t.get(kx),r=t.get(xt);return t.get(ue).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(c=>{o=c}),a=r.startViewTransition(()=>(o(),F2(t))),{onViewTransitionCreated:l}=i;return l&&On(t,()=>l({transition:a,from:e,to:n})),s})}function F2(t){return new Promise(e=>{Tm(e,{injector:t})})}var Yy=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ke,this.transitionAbortSubject=new Ke,this.configLoader=A(Gy),this.environmentInjector=A(Ot),this.urlSerializer=A(bl),this.rootContexts=A(Cl),this.location=A(xs),this.inputBindingEnabled=A(oh,{optional:!0})!==null,this.titleStrategy=A(Nx),this.options=A(El,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=A(qy),this.createViewTransition=A(Ox,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null;let i=o=>this.events.next(new Ey(o)),r=o=>this.events.next(new xy(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let r=++this.navigationId;this.transitions?.next(ce(N(N({},this.transitions.value),i),{id:r}))}setupNavigations(i,r,o){return this.transitions=new gt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:cl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(s=>s.id!==0),B(s=>ce(N({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Me(s=>{let a=!1,l=!1;return j(s).pipe(Me(c=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",rn.SupersededByNewNavigation),Pt;this.currentTransition=s,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?ce(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=c.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new yr(c.id,this.urlSerializer.serialize(c.rawUrl),h,Kd.IgnoredSameUrlNavigation)),c.resolve(null),Pt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return j(c).pipe(Me(h=>{let f=this.transitions?.getValue();return this.events.next(new Os(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Pt:Promise.resolve(h)}),I2(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),Je(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ce(N({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let f=new Qd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:h,extractedUrl:f,source:p,restoredState:g,extras:m}=c,y=new Os(h,this.urlSerializer.serialize(f),p,g);this.events.next(y);let v=Cx(this.rootComponentType).snapshot;return this.currentTransition=s=ce(N({},c),{targetSnapshot:v,urlAfterRedirects:f,extras:ce(N({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=f,j(s)}else{let h="";return this.events.next(new yr(c.id,this.urlSerializer.serialize(c.extractedUrl),h,Kd.IgnoredByUrlHandlingStrategy)),c.resolve(null),Pt}}),Je(c=>{let u=new by(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),B(c=>(this.currentTransition=s=ce(N({},c),{guards:zV(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),s)),e2(this.environmentInjector,c=>this.events.next(c)),Je(c=>{if(s.guardsResult=c.guardsResult,Rs(c.guardsResult))throw xx(this.urlSerializer,c.guardsResult);let u=new Cy(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),Dt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",rn.GuardRejected),!1)),py(c=>{if(c.guards.canActivateChecks.length)return j(c).pipe(Je(u=>{let d=new wy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Me(u=>{let d=!1;return j(u).pipe(S2(this.paramsInheritanceStrategy,this.environmentInjector),Je({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",rn.NoDataFromResolver)}}))}),Je(u=>{let d=new Dy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),py(c=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(Je(f=>{d.component=f}),B(()=>{})));for(let f of d.children)h.push(...u(f));return h};return Aa(u(c.targetSnapshot.root)).pipe(tr(null),Ci(1))}),py(()=>this.afterPreactivation()),Me(()=>{let{currentSnapshot:c,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return d?he(d).pipe(B(()=>s)):j(s)}),B(c=>{let u=FV(i.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s=ce(N({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),Je(()=>{this.events.next(new pl)}),HV(this.rootContexts,i.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Ci(1),Je({next:c=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Vi(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{a=!0}}),Lp(this.transitionAbortSubject.pipe(Je(c=>{throw c}))),nr(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",rn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),er(c=>{if(l=!0,Sx(c))this.events.next(new mr(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),jV(c)?this.events.next(new gl(c.url)):s.resolve(!1);else{this.events.next(new fl(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(i.errorHandler(c))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Pt}))}))}cancelNavigationTransition(i,r,o){let s=new mr(i.id,this.urlSerializer.serialize(i.extractedUrl),r,o);this.events.next(s),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function L2(t){return t!==cl}var V2=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>A(j2),providedIn:"root"});let t=e;return t})(),By=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},j2=(()=>{let e=class e extends By{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Fx=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:()=>A(B2),providedIn:"root"});let t=e;return t})(),B2=(()=>{let e=class e extends Fx{constructor(){super(...arguments),this.location=A(xs),this.urlSerializer=A(bl),this.options=A(El,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=A(qy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new gr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Cx(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(r=>{r.type==="popstate"&&i(r.url,r.state)})}handleRouterEvent(i,r){if(i instanceof Os)this.stateMemento=this.createStateMemento();else if(i instanceof yr)this.rawUrlTree=r.initialUrl;else if(i instanceof Qd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(o,r)}}else i instanceof pl?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r))):i instanceof mr&&(i.code===rn.GuardRejected||i.code===rn.NoDataFromResolver)?this.restoreHistory(r):i instanceof fl?this.restoreHistory(r,!0):i instanceof Vi&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,r){let o=this.urlSerializer.serialize(i);if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let s=this.browserPageId,a=N(N({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(o,"",a)}else{let s=N(N({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(i,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===i.finalUrl&&s===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,r){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:r}:{navigationId:i}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),al=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(al||{});function Lx(t,e){t.events.pipe(Dt(n=>n instanceof Vi||n instanceof mr||n instanceof fl||n instanceof yr),B(n=>n instanceof Vi||n instanceof yr?al.COMPLETE:(n instanceof mr?n.code===rn.Redirect||n.code===rn.SupersededByNewNavigation:!1)?al.REDIRECTING:al.FAILED),Dt(n=>n!==al.REDIRECTING),Ci(1)).subscribe(()=>{e()})}function U2(t){throw t}var $2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},ji=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=A(pd),this.stateManager=A(Fx),this.options=A(El,{optional:!0})||{},this.pendingTasks=A(uo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=A(Yy),this.urlSerializer=A(bl),this.location=A(xs),this.urlHandlingStrategy=A(qy),this._events=new Ke,this.errorHandler=this.options.errorHandler||U2,this.navigated=!1,this.routeReuseStrategy=A(V2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=A(ih,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!A(oh,{optional:!0}),this.eventsSubscription=new Ye,this.isNgZoneEnabled=A(ue)instanceof ue&&ue.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof mr&&r.code!==rn.Redirect&&r.code!==rn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Vi)this.navigated=!0;else if(r instanceof gl){let a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),l={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||L2(o.source)};this.scheduleNavigation(a,cl,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}W2(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),cl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",r)},0)})}navigateToSyncWithBrowser(i,r,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let c=N({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let l=this.parseUrl(i);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(zy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,r={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:a,d=null;switch(l){case"merge":d=N(N({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let f=o?o.snapshot:this.routerState.snapshot.root;h=yx(f)}catch{(typeof i[0]!="string"||!i[0].startsWith("/"))&&(i=[]),h=this.currentUrlTree.root}return vx(h,i,d,u??null)}navigateByUrl(i,r={skipLocationChange:!1}){let o=Rs(i)?i:this.parseUrl(i),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,cl,null,r)}navigate(i,r={skipLocationChange:!1}){return z2(i),this.navigateByUrl(this.createUrlTree(i,r),r)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,r){let o;if(r===!0?o=N({},$2):r===!1?o=N({},H2):o=r,Rs(i))return JE(this.currentUrlTree,i,o);let s=this.parseUrl(i);return JE(this.currentUrlTree,s,o)}removeEmptyProps(i){return Object.entries(i).reduce((r,[o,s])=>(s!=null&&(r[o]=s),r),{})}scheduleNavigation(i,r,o,s,a){if(this.disposed)return Promise.resolve(!1);let l,c,u;a?(l=a.resolve,c=a.reject,u=a.promise):u=new Promise((h,f)=>{l=h,c=f});let d=this.pendingTasks.add();return Lx(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:s,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function z2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new L(4008,!1)}function W2(t){return!(t instanceof pl)&&!(t instanceof gl)}var rh=class{};var G2=(()=>{let e=class e{constructor(i,r,o,s,a){this.router=i,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(i=>i instanceof Vi),bi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(i,r){let o=[];for(let s of r){s.providers&&!s._injector&&(s._injector=fd(s.providers,i,`Route: ${s.path}`));let a=s._injector??i,l=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(l,s.children??s._loadedRoutes))}return he(o).pipe(Ji())}preloadConfig(i,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(i,r):o=j(null);let s=o.pipe(Xe(a=>a===null?j(void 0):(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,this.processRoutes(a.injector??i,a.routes))));if(r.loadComponent&&!r._loadedComponent){let a=this.loader.loadComponent(r);return he([s,a]).pipe(Ji())}else return s})}};e.\u0275fac=function(r){return new(r||e)(I(ji),I(_d),I(Ot),I(rh),I(Gy))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Vx=new R(""),q2=(()=>{let e=class e{constructor(i,r,o,s,a={}){this.urlSerializer=i,this.transitions=r,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Os?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=i.navigationTrigger,this.restoredId=i.restoredState?i.restoredState.navigationId:0):i instanceof Vi?(this.lastId=i.id,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.urlAfterRedirects).fragment)):i instanceof yr&&i.code===Kd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(i,this.urlSerializer.parse(i.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(i=>{i instanceof Zd&&(i.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(i.position):i.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(i.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(i,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zd(i,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(r){ED()},e.\u0275prov=O({token:e,factory:e.\u0275fac});let t=e;return t})();function Y2(t){return t.routerState.root}function xl(t,e){return{\u0275kind:t,\u0275providers:e}}function K2(){let t=A(Fn);return e=>{let n=t.get(fo);if(e!==n.components[0])return;let i=t.get(ji),r=t.get(jx);t.get(Ky)===1&&i.initialNavigation(),t.get(Bx,null,ie.Optional)?.setUpPreloading(),t.get(Vx,null,ie.Optional)?.init(),i.resetRootComponentType(n.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var jx=new R("",{factory:()=>new Ke}),Ky=new R("",{providedIn:"root",factory:()=>1});function Q2(){return xl(2,[{provide:Ky,useValue:0},{provide:yd,multi:!0,deps:[Fn],useFactory:e=>{let n=e.get(DE,Promise.resolve());return()=>n.then(()=>new Promise(i=>{let r=e.get(ji),o=e.get(jx);Lx(r,()=>{i(!0)}),e.get(Yy).afterPreactivation=()=>(i(!0),o.closed?j(void 0):o),r.initialNavigation()}))}}])}function Z2(){return xl(3,[{provide:yd,multi:!0,useFactory:()=>{let e=A(ji);return()=>{e.setUpLocationChangeListener()}}},{provide:Ky,useValue:2}])}var Bx=new R("");function X2(t){return xl(0,[{provide:Bx,useExisting:G2},{provide:rh,useExisting:t}])}function J2(){return xl(8,[ix,{provide:oh,useExisting:ix}])}function ej(t){let e=[{provide:Ox,useValue:k2},{provide:kx,useValue:N({skipNextTransition:!!t?.skipInitialTransition},t)}];return xl(9,e)}var ox=new R("ROUTER_FORROOT_GUARD"),tj=[xs,{provide:bl,useClass:dl},ji,Cl,{provide:ks,useFactory:Y2,deps:[ji]},Gy,[]],Qy=(()=>{let e=class e{constructor(i){}static forRoot(i,r){return{ngModule:e,providers:[tj,[],{provide:ih,multi:!0,useValue:i},{provide:ox,useFactory:oj,deps:[[ji,new bs,new Kg]]},{provide:El,useValue:r||{}},r?.useHash?ij():rj(),nj(),r?.preloadingStrategy?X2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?sj(r):[],r?.bindToComponentInputs?J2().\u0275providers:[],r?.enableViewTransitions?ej().\u0275providers:[],aj()]}}static forChild(i){return{ngModule:e,providers:[{provide:ih,multi:!0,useValue:i}]}}};e.\u0275fac=function(r){return new(r||e)(I(ox,8))},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})();function nj(){return{provide:Vx,useFactory:()=>{let t=A(AE),e=A(ue),n=A(El),i=A(Yy),r=A(bl);return n.scrollOffset&&t.setOffset(n.scrollOffset),new q2(r,i,t,e,n)}}}function ij(){return{provide:go,useClass:xE}}function rj(){return{provide:go,useClass:Qm}}function oj(t){return"guarded"}function sj(t){return[t.initialNavigation==="disabled"?Z2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Q2().\u0275providers:[]]}var sx=new R("");function aj(){return[{provide:sx,useFactory:K2},{provide:vd,multi:!0,useExisting:sx}]}var Zx=(()=>{let e=class e{constructor(i,r){this._renderer=i,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(i,r){this._renderer.setProperty(this._elementRef.nativeElement,i,r)}registerOnTouched(i){this.onTouched=i}registerOnChange(i){this.onChange=i}setDisabledState(i){this.setProperty("disabled",i)}};e.\u0275fac=function(r){return new(r||e)(k(dr),k(mn))},e.\u0275dir=Ue({type:e});let t=e;return t})(),gh=(()=>{let e=class e extends Zx{};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,features:[Gt]});let t=e;return t})(),Us=new R("");var lj={provide:Us,useExisting:pn(()=>ut),multi:!0};function cj(){let t=ni()?ni().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var uj=new R(""),ut=(()=>{let e=class e extends Zx{constructor(i,r,o){super(i,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cj())}writeValue(i){let r=i??"";this.setProperty("value",r)}_handleInput(i){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(i)}_compositionStart(){this._composing=!0}_compositionEnd(i){this._composing=!1,this._compositionMode&&this.onChange(i)}};e.\u0275fac=function(r){return new(r||e)(k(dr),k(mn),k(uj,8))},e.\u0275dir=Ue({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&J("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[ti([lj]),Gt]});let t=e;return t})();function _r(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function Xx(t){return t!=null&&typeof t.length=="number"}var Al=new R(""),mh=new R(""),dj=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ce=class{static min(e){return hj(e)}static max(e){return fj(e)}static required(e){return Jx(e)}static requiredTrue(e){return pj(e)}static email(e){return gj(e)}static minLength(e){return mj(e)}static maxLength(e){return yj(e)}static pattern(e){return vj(e)}static nullValidator(e){return lh(e)}static compose(e){return oI(e)}static composeAsync(e){return sI(e)}};function hj(t){return e=>{if(_r(e.value)||_r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function fj(t){return e=>{if(_r(e.value)||_r(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function Jx(t){return _r(t.value)?{required:!0}:null}function pj(t){return t.value===!0?null:{required:!0}}function gj(t){return _r(t.value)||dj.test(t.value)?null:{email:!0}}function mj(t){return e=>_r(e.value)||!Xx(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function yj(t){return e=>Xx(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function vj(t){if(!t)return lh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),i=>{if(_r(i.value))return null;let r=i.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}function lh(t){return null}function eI(t){return t!=null}function tI(t){return ho(t)?he(t):t}function nI(t){let e={};return t.forEach(n=>{e=n!=null?N(N({},e),n):e}),Object.keys(e).length===0?null:e}function iI(t,e){return e.map(n=>n(t))}function _j(t){return!t.validate}function rI(t){return t.map(e=>_j(e)?e:n=>e.validate(n))}function oI(t){if(!t)return null;let e=t.filter(eI);return e.length==0?null:function(n){return nI(iI(n,e))}}function ev(t){return t!=null?oI(rI(t)):null}function sI(t){if(!t)return null;let e=t.filter(eI);return e.length==0?null:function(n){let i=iI(n,e).map(tI);return Ap(i).pipe(B(nI))}}function tv(t){return t!=null?sI(rI(t)):null}function $x(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function aI(t){return t._rawValidators}function lI(t){return t._rawAsyncValidators}function Zy(t){return t?Array.isArray(t)?t:[t]:[]}function ch(t,e){return Array.isArray(t)?t.includes(e):t===e}function Hx(t,e){let n=Zy(e);return Zy(t).forEach(r=>{ch(n,r)||n.push(r)}),n}function zx(t,e){return Zy(e).filter(n=>!ch(t,n))}var uh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ev(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Bi=class extends uh{get formDirective(){return null}get path(){return null}},_o=class extends uh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},dh=class{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}},bj={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},oZ=ce(N({},bj),{"[class.ng-submitted]":"isSubmitted"}),It=(()=>{let e=class e extends dh{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(k(_o,2))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Ln("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Gt]});let t=e;return t})(),bn=(()=>{let e=class e extends dh{constructor(i){super(i)}};e.\u0275fac=function(r){return new(r||e)(k(Bi,10))},e.\u0275dir=Ue({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Ln("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Gt]});let t=e;return t})();var Il="VALID",ah="INVALID",Vs="PENDING",Sl="DISABLED";function nv(t){return(yh(t)?t.validators:t)||null}function Cj(t){return Array.isArray(t)?ev(t):t||null}function iv(t,e){return(yh(e)?e.asyncValidators:t)||null}function wj(t){return Array.isArray(t)?tv(t):t||null}function yh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function cI(t,e,n){let i=t.controls;if(!(e?Object.keys(i):i).length)throw new L(1e3,"");if(!i[n])throw new L(1001,"")}function uI(t,e,n){t._forEachChild((i,r)=>{if(n[r]===void 0)throw new L(1002,"")})}var js=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Il}get invalid(){return this.status===ah}get pending(){return this.status==Vs}get disabled(){return this.status===Sl}get enabled(){return this.status!==Sl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Hx(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Hx(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(zx(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(zx(e,this._rawAsyncValidators))}hasValidator(e){return ch(this._rawValidators,e)}hasAsyncValidator(e){return ch(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vs,e.emitEvent!==!1&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Sl,this.errors=null,this._forEachChild(i=>{i.disable(ce(N({},e),{onlySelf:!0}))}),this._updateValue(),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Il,this._forEachChild(i=>{i.enable(ce(N({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(N({},e),{skipPristineCheck:n})),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Il||this.status===Vs)&&this._runAsyncValidator(e.emitEvent)),e.emitEvent!==!1&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Sl:Il}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator=!0;let n=tI(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((i,r)=>i&&i._find(r),this)}getError(e,n){let i=n?this.get(n):this;return i&&i.errors?i.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Sl:this.errors?ah:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(ah)?ah:Il}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=Cj(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=wj(this._rawAsyncValidators)}},Bs=class extends js{constructor(e,n,i){super(nv(n),iv(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,i={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){uI(this,!0,e),Object.keys(e).forEach(i=>{cI(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(i=>{let r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,i)=>(e[i]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,i)=>i._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let i=this.controls[n];i&&e(i,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,i]of Object.entries(this.controls))if(this.contains(n)&&e(i))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,i,r)=>((i.enabled||this.disabled)&&(n[r]=i.value),n))}_reduceChildren(e,n){let i=e;return this._forEachChild((r,o)=>{i=n(i,r,o)}),i}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Xy=class extends Bs{};var Pl=new R("CallSetDisabledState",{providedIn:"root",factory:()=>vh}),vh="always";function dI(t,e){return[...e.path,t]}function hh(t,e,n=vh){rv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),Ej(t,e),Ij(t,e),xj(t,e),Dj(t,e)}function Wx(t,e,n=!0){let i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),ph(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function fh(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function Dj(t,e){if(e.valueAccessor.setDisabledState){let n=i=>{e.valueAccessor.setDisabledState(i)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function rv(t,e){let n=aI(t);e.validator!==null?t.setValidators($x(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let i=lI(t);e.asyncValidator!==null?t.setAsyncValidators($x(i,e.asyncValidator)):typeof i=="function"&&t.setAsyncValidators([i]);let r=()=>t.updateValueAndValidity();fh(e._rawValidators,r),fh(e._rawAsyncValidators,r)}function ph(t,e){let n=!1;if(t!==null){if(e.validator!==null){let r=aI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.validator);o.length!==r.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let r=lI(t);if(Array.isArray(r)&&r.length>0){let o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(n=!0,t.setAsyncValidators(o))}}}let i=()=>{};return fh(e._rawValidators,i),fh(e._rawAsyncValidators,i),n}function Ej(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&hI(t,e)})}function xj(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&hI(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function hI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ij(t,e){let n=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function fI(t,e){t==null,rv(t,e)}function Sj(t,e){return ph(t,e)}function pI(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function Mj(t){return Object.getPrototypeOf(t.constructor)===gh}function gI(t,e){t._syncPendingControls(),e.forEach(n=>{let i=n.control;i.updateOn==="submit"&&i._pendingChange&&(n.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function mI(t,e){if(!e)return null;Array.isArray(e);let n,i,r;return e.forEach(o=>{o.constructor===ut?n=o:Mj(o)?i=o:r=o}),r||i||n||null}function Tj(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Aj={provide:Bi,useExisting:pn(()=>ov)},Ml=Promise.resolve(),ov=(()=>{let e=class e extends Bi{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._directives=new Set,this.ngSubmit=new Ve,this.form=new Bs({},ev(i),tv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(i){Ml.then(()=>{let r=this._findContainer(i.path);i.control=r.registerControl(i.name,i.control),hh(i.control,i,this.callSetDisabledState),i.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(i)})}getControl(i){return this.form.get(i.path)}removeControl(i){Ml.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name),this._directives.delete(i)})}addFormGroup(i){Ml.then(()=>{let r=this._findContainer(i.path),o=new Bs({});fI(o,i),r.registerControl(i.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(i){Ml.then(()=>{let r=this._findContainer(i.path);r&&r.removeControl(i.name)})}getFormGroup(i){return this.form.get(i.path)}updateModel(i,r){Ml.then(()=>{this.form.get(i.path).setValue(r)})}setValue(i){this.control.setValue(i)}onSubmit(i){return this.submitted=!0,gI(this.form,this._directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(i){return i.pop(),i.length?this.form.get(i):this.form}};e.\u0275fac=function(r){return new(r||e)(k(Al,10),k(mh,10),k(Pl,8))},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&J("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[yt.None,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ti([Aj]),Gt]});let t=e;return t})();function Gx(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qx(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Tl=class extends js{constructor(e=null,n,i){super(nv(n),iv(i,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qx(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Gx(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Gx(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qx(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var Pj=t=>t instanceof Tl;var Nj={provide:_o,useExisting:pn(()=>bo)},Yx=Promise.resolve(),bo=(()=>{let e=class e extends _o{constructor(i,r,o,s,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this.control=new Tl,this._registered=!1,this.name="",this.update=new Ve,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=mI(this,s)}ngOnChanges(i){if(this._checkForErrors(),!this._registered||"name"in i){if(this._registered&&(this._checkName(),this.formDirective)){let r=i.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in i&&this._updateDisabled(i),pI(i,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){hh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(i){Yx.then(()=>{this.control.setValue(i,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(i){let r=i.isDisabled.currentValue,o=r!==0&&Za(r);Yx.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(i){return this._parent?dI(i,this._parent):[i]}};e.\u0275fac=function(r){return new(r||e)(k(Bi,9),k(Al,10),k(mh,10),k(Us,10),k(po,8),k(Pl,8))},e.\u0275dir=Ue({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[yt.None,"disabled","isDisabled"],model:[yt.None,"ngModel","model"],options:[yt.None,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[ti([Nj]),Gt,Si]});let t=e;return t})(),Cn=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})(),Rj={provide:Us,useExisting:pn(()=>Nl),multi:!0},Nl=(()=>{let e=class e extends gh{writeValue(i){let r=i??"";this.setProperty("value",r)}registerOnChange(i){this.onChange=r=>{i(r==""?null:parseFloat(r))}}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,o){r&1&&J("input",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},features:[ti([Rj]),Gt]});let t=e;return t})();var yI=new R("");var Oj={provide:Bi,useExisting:pn(()=>jn)},jn=(()=>{let e=class e extends Bi{constructor(i,r,o){super(),this.callSetDisabledState=o,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ve,this._setValidators(i),this._setAsyncValidators(r)}ngOnChanges(i){this._checkFormPresent(),i.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ph(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(i){let r=this.form.get(i.path);return hh(r,i,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(i),r}getControl(i){return this.form.get(i.path)}removeControl(i){Wx(i.control||null,i,!1),Tj(this.directives,i)}addFormGroup(i){this._setUpFormContainer(i)}removeFormGroup(i){this._cleanUpFormContainer(i)}getFormGroup(i){return this.form.get(i.path)}addFormArray(i){this._setUpFormContainer(i)}removeFormArray(i){this._cleanUpFormContainer(i)}getFormArray(i){return this.form.get(i.path)}updateModel(i,r){this.form.get(i.path).setValue(r)}onSubmit(i){return this.submitted=!0,gI(this.form,this.directives),this.ngSubmit.emit(i),i?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(i=void 0){this.form.reset(i),this.submitted=!1}_updateDomValue(){this.directives.forEach(i=>{let r=i.control,o=this.form.get(i.path);r!==o&&(Wx(r||null,i),Pj(o)&&(hh(o,i,this.callSetDisabledState),i.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(i){let r=this.form.get(i.path);fI(r,i),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(i){if(this.form){let r=this.form.get(i.path);r&&Sj(r,i)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){rv(this.form,this),this._oldForm&&ph(this._oldForm,this)}_checkFormPresent(){this.form}};e.\u0275fac=function(r){return new(r||e)(k(Al,10),k(mh,10),k(Pl,8))},e.\u0275dir=Ue({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&J("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{form:[yt.None,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[ti([Oj]),Gt,Si]});let t=e;return t})();var kj={provide:_o,useExisting:pn(()=>Bn)},Bn=(()=>{let e=class e extends _o{set isDisabled(i){}constructor(i,r,o,s,a){super(),this._ngModelWarningConfig=a,this._added=!1,this.name=null,this.update=new Ve,this._ngModelWarningSent=!1,this._parent=i,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=mI(this,s)}ngOnChanges(i){this._added||this._setUpControl(),pI(i,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(i){this.viewModel=i,this.update.emit(i)}get path(){return dI(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}};e._ngModelWarningSentOnce=!1,e.\u0275fac=function(r){return new(r||e)(k(Bi,13),k(Al,10),k(mh,10),k(Us,10),k(yI,8))},e.\u0275dir=Ue({type:e,selectors:[["","formControlName",""]],inputs:{name:[yt.None,"formControlName","name"],isDisabled:[yt.None,"disabled","isDisabled"],model:[yt.None,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[ti([kj]),Gt,Si]});let t=e;return t})(),Fj={provide:Us,useExisting:pn(()=>br),multi:!0};function vI(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function Lj(t){return t.split(":")[0]}var br=(()=>{let e=class e extends gh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r=this._getOptionId(i),o=vI(r,i);this.setProperty("value",o)}registerOnChange(i){this.onChange=r=>{this.value=this._getOptionValue(r),i(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),i))return r;return null}_getOptionValue(i){let r=Lj(i);return this._optionMap.has(r)?this._optionMap.get(r):i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&J("change",function(a){return o.onChange(a.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ti([Fj]),Gt]});let t=e;return t})(),Cr=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(i){this._select!=null&&(this._select._optionMap.set(this.id,i),this._setElementValue(vI(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._setElementValue(i),this._select&&this._select.writeValue(this._select.value)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(k(mn),k(dr),k(br,9))},e.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})(),Vj={provide:Us,useExisting:pn(()=>_h),multi:!0};function Kx(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function jj(t){return t.split(":")[0]}var _h=(()=>{let e=class e extends gh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(i){this._compareWith=i}writeValue(i){this.value=i;let r;if(Array.isArray(i)){let o=i.map(s=>this._getOptionId(s));r=(s,a)=>{s._setSelected(o.indexOf(a.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(i){this.onChange=r=>{let o=[],s=r.selectedOptions;if(s!==void 0){let a=s;for(let l=0;l<a.length;l++){let c=a[l],u=this._getOptionValue(c.value);o.push(u)}}else{let a=r.options;for(let l=0;l<a.length;l++){let c=a[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,i(o)}}_registerOption(i){let r=(this._idCounter++).toString();return this._optionMap.set(r,i),r}_getOptionId(i){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,i))return r;return null}_getOptionValue(i){let r=jj(i);return this._optionMap.has(r)?this._optionMap.get(r)._value:i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&J("change",function(a){return o.onChange(a.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[ti([Vj]),Gt]});let t=e;return t})(),wr=(()=>{let e=class e{constructor(i,r,o){this._element=i,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(i){this._select!=null&&(this._value=i,this._setElementValue(Kx(this.id,i)),this._select.writeValue(this._select.value))}set value(i){this._select?(this._value=i,this._setElementValue(Kx(this.id,i)),this._select.writeValue(this._select.value)):this._setElementValue(i)}_setElementValue(i){this._renderer.setProperty(this._element.nativeElement,"value",i)}_setSelected(i){this._renderer.setProperty(this._element.nativeElement,"selected",i)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}};e.\u0275fac=function(r){return new(r||e)(k(mn),k(dr),k(_h,9))},e.\u0275dir=Ue({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}});let t=e;return t})();var Bj=(()=>{let e=class e{constructor(){this._validator=lh}ngOnChanges(i){if(this.inputName in i){let r=this.normalizeInput(i[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):lh,this._onChange&&this._onChange()}}validate(i){return this._validator(i)}registerOnValidatorChange(i){this._onChange=i}enabled(i){return i!=null}};e.\u0275fac=function(r){return new(r||e)},e.\u0275dir=Ue({type:e,features:[Si]});let t=e;return t})();var Uj={provide:Al,useExisting:pn(()=>Rl),multi:!0};var Rl=(()=>{let e=class e extends Bj{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Za,this.createValidator=i=>Jx}enabled(i){return i}};e.\u0275fac=(()=>{let i;return function(o){return(i||(i=Mi(e)))(o||e)}})(),e.\u0275dir=Ue({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,o){r&2&&Ds("required",o._enabled?"":null)},inputs:{required:"required"},features:[ti([Uj]),Gt]});let t=e;return t})();var _I=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({});let t=e;return t})(),Jy=class extends js{constructor(e,n,i){super(nv(n),iv(i,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,i={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,n={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),n&&(this.controls.splice(r,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){uI(this,!1,e),e.forEach((i,r)=>{cI(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,i)=>i._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,i)=>{e(n,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function Qx(t){return!!t&&(t.asyncValidators!==void 0||t.validators!==void 0||t.updateOn!==void 0)}var oi=(()=>{let e=class e{constructor(){this.useNonNullable=!1}get nonNullable(){let i=new e;return i.useNonNullable=!0,i}group(i,r=null){let o=this._reduceControls(i),s={};return Qx(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Bs(o,s)}record(i,r=null){let o=this._reduceControls(i);return new Xy(o,r)}control(i,r,o){let s={};return this.useNonNullable?(Qx(r)?s=r:(s.validators=r,s.asyncValidators=o),new Tl(i,ce(N({},s),{nonNullable:!0}))):new Tl(i,r,o)}array(i,r,o){let s=i.map(a=>this._createControl(a));return new Jy(s,r,o)}_reduceControls(i){let r={};return Object.keys(i).forEach(o=>{r[o]=this._createControl(i[o])}),r}_createControl(i){if(i instanceof Tl)return i;if(i instanceof js)return i;if(Array.isArray(i)){let r=i[0],o=i.length>1?i[1]:null,s=i.length>2?i[2]:null;return this.control(r,o,s)}else return this.control(i)}};e.\u0275fac=function(r){return new(r||e)},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var bI=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:Pl,useValue:i.callSetDisabledState??vh}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({imports:[_I]});let t=e;return t})(),CI=(()=>{let e=class e{static withConfig(i){return{ngModule:e,providers:[{provide:yI,useValue:i.warnOnNgModelWithFormControl??"always"},{provide:Pl,useValue:i.callSetDisabledState??vh}]}}};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({imports:[_I]});let t=e;return t})();var $j="firebase",Hj="10.10.0";Xi($j,Hj,"app");var wo=new Ei("ANGULARFIRE2_VERSION");var zj=(t,e)=>{let n=e?[e]:zb(),i=[];return n.forEach(r=>{r.container.getProvider(t).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i},Co=class{constructor(){return zj(Wj)}},Wj="app-check";function sv(){}var bh=class{zone;delegate;constructor(e,n=Sp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,i){let r=this.zone,o=function(s){r.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,i)}},av=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sv,{},sv,sv)),n.pipe(Je({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ch=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bh(Zone.current)),this.insideAngular=n.run(()=>new bh(Zone.current,Ta)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||t)(I(ue))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Gj(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Ui(t){return qj(Gj())(t)}function qj(t){return function(n){return n=n.lift(new av(t.ngZone)),n.pipe(An(t.outsideAngular),dn(t.insideAngular))}}var Qj=new Map,Zj={activated:!1,tokenObservers:[]},Xj={initialized:!1,enabled:!1};function Un(t){return Qj.get(t)||Object.assign({},Zj)}function SI(){return Xj}var Jj="https://content-firebaseappcheck.googleapis.com/v1";var eB="exchangeDebugToken",DI={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},EZ=24*60*60*1e3;var cv=class{constructor(e,n,i,r,o){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return cn(this,null,function*(){this.stop();try{this.pending=new ot,this.pending.promise.catch(n=>{}),yield tB(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new ot,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function tB(t){return new Promise(e=>{setTimeout(e,t)})}var nB={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Er=new Fb("appCheck","AppCheck",nB);function MI(t){if(!Un(t).activated)throw Er.create("use-before-activation",{appName:t.name})}function TI(i,r){return cn(this,arguments,function*({url:t,body:e},n){let o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){let f=yield s.getHeartbeatsHeader();f&&(o["X-Firebase-Client"]=f)}let a={method:"POST",body:JSON.stringify(e),headers:o},l;try{l=yield fetch(t,a)}catch(f){throw Er.create("fetch-network-error",{originalErrorMessage:f?.message})}if(l.status!==200)throw Er.create("fetch-status-error",{httpStatus:l.status});let c;try{c=yield l.json()}catch(f){throw Er.create("fetch-parse-error",{originalErrorMessage:f?.message})}let u=c.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Er.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${c.ttl}`});let d=Number(u[1])*1e3,h=Date.now();return{token:c.token,expireTimeMillis:h+d,issuedAtTimeMillis:h}})}function AI(t,e){let{projectId:n,appId:i,apiKey:r}=t.options;return{url:`${Jj}/projects/${n}/apps/${i}:${eB}?key=${r}`,body:{debug_token:e}}}var iB="firebase-app-check-database",rB=1,uv="firebase-app-check-store";var wh=null;function oB(){return wh||(wh=new Promise((t,e)=>{try{let n=indexedDB.open(iB,rB);n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{var r;e(Er.create("storage-open",{originalErrorMessage:(r=i.target.error)===null||r===void 0?void 0:r.message}))},n.onupgradeneeded=i=>{let r=i.target.result;switch(i.oldVersion){case 0:r.createObjectStore(uv,{keyPath:"compositeKey"})}}}catch(n){e(Er.create("storage-open",{originalErrorMessage:n?.message}))}}),wh)}function sB(t,e){return aB(lB(t),e)}function aB(t,e){return cn(this,null,function*(){let i=(yield oB()).transaction(uv,"readwrite"),o=i.objectStore(uv).put({compositeKey:t,value:e});return new Promise((s,a)=>{o.onsuccess=l=>{s()},i.onerror=l=>{var c;a(Er.create("storage-set",{originalErrorMessage:(c=l.target.error)===null||c===void 0?void 0:c.message}))}})})}function lB(t){return`${t.options.appId}-${t.name}`}var dv=new zo("@firebase/app-check");function lv(t,e){return kb()?sB(t,e).catch(n=>{dv.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function PI(){return SI().enabled}function NI(){return cn(this,null,function*(){let t=SI();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var cB={error:"UNKNOWN_ERROR"};function uB(t){return jc.encodeString(JSON.stringify(t),!1)}function hv(t,e=!1){return cn(this,null,function*(){let n=t.app;MI(n);let i=Un(n),r=i.token,o;if(r&&!Ol(r)&&(i.token=void 0,r=void 0),!r){let l=yield i.cachedTokenPromise;l&&(Ol(l)?r=l:yield lv(n,void 0))}if(!e&&r&&Ol(r))return{token:r.token};let s=!1;if(PI()){i.exchangeTokenPromise||(i.exchangeTokenPromise=TI(AI(n,yield NI()),t.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),s=!0);let l=yield i.exchangeTokenPromise;return yield lv(n,l),i.token=l,{token:l.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),s=!0),r=yield Un(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?dv.warn(l.message):dv.error(l),o=l}let a;return r?o?Ol(r)?a={token:r.token,internalError:o}:a=xI(o):(a={token:r.token},i.token=r,yield lv(n,r)):a=xI(o),s&&pB(n,a),a})}function dB(t){return cn(this,null,function*(){let e=t.app;MI(e);let{provider:n}=Un(e);if(PI()){let i=yield NI(),{token:r}=yield TI(AI(e,i),t.heartbeatServiceProvider);return{token:r}}else{let{token:i}=yield n.getToken();return{token:i}}})}function hB(t,e,n,i){let{app:r}=t,o=Un(r),s={next:n,error:i,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Ol(o.token)){let a=o.token;Promise.resolve().then(()=>{n({token:a.token}),EI(t)}).catch(()=>{})}o.cachedTokenPromise.then(()=>EI(t))}function RI(t,e){let n=Un(t),i=n.tokenObservers.filter(r=>r.next!==e);i.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=i}function EI(t){let{app:e}=t,n=Un(e),i=n.tokenRefresher;i||(i=fB(t),n.tokenRefresher=i),!i.isRunning()&&n.isTokenAutoRefreshEnabled&&i.start()}function fB(t){let{app:e}=t;return new cv(()=>cn(this,null,function*(){let n=Un(e),i;if(n.token?i=yield hv(t,!0):i=yield hv(t),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{let n=Un(e);if(n.token){let i=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,r=n.token.expireTimeMillis-5*60*1e3;return i=Math.min(i,r),Math.max(0,i-Date.now())}else return 0},DI.RETRIAL_MIN_WAIT,DI.RETRIAL_MAX_WAIT)}function pB(t,e){let n=Un(t).tokenObservers;for(let i of n)try{i.type==="EXTERNAL"&&e.error!=null?i.error(e.error):i.next(e)}catch{}}function Ol(t){return t.expireTimeMillis-Date.now()>0}function xI(t){return{token:uB(cB),error:t}}var fv=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Un(this.app);for(let n of e)RI(this.app,n.next);return Promise.resolve()}};function gB(t,e){return new fv(t,e)}function mB(t){return{getToken:e=>hv(t,e),getLimitedUseToken:()=>dB(t),addTokenListener:e=>hB(t,"INTERNAL",e),removeTokenListener:e=>RI(t.app,e)}}var yB="@firebase/app-check",vB="0.8.3";var _B="app-check",II="app-check-internal";function bB(){Ia(new yi(_B,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return gB(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(II).initialize()})),Ia(new yi(II,t=>{let e=t.getProvider("app-check").getImmediate();return mB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Xi(yB,vB)}bB();var CB=["localhost","0.0.0.0","127.0.0.1"],FZ=typeof window<"u"&&CB.includes(window.location.hostname);var wB="firebase",DB="10.10.0";At.registerVersion(wB,DB,"app-compat");var EB=["ngOnDestroy"],FI=(t,e,n,i={})=>new Proxy(t,{get:(r,o)=>n.runOutsideAngular(()=>{if(t[o])return i?.spy?.get&&i.spy.get(o,t[o]),t[o];if(EB.indexOf(o)>-1)return()=>{};let s=e.toPromise().then(a=>{let l=a?.[o];return typeof l=="function"?l.bind(a):l?.then?l.then(c=>n.run(()=>c)):n.run(()=>l)});return new Proxy(()=>{},{get:(a,l)=>s[l],apply:(a,l,c)=>s.then(u=>{let d=u?.(...c);return i?.spy?.apply&&i.spy.apply(o,c,d),d})})})});var Dh=class{constructor(e){return e}},$s=new R("angularfire2.app.options"),Hs=new R("angularfire2.app.name");function kl(t,e,n){let i=typeof n=="string"&&n||"[DEFAULT]",r=typeof n=="object"&&n||{};r.name=r.name||i;let s=At.apps.filter(a=>a&&a.name===r.name)[0]||e.runOutsideAngular(()=>At.initializeApp(t,r));try{if(JSON.stringify(t)!==JSON.stringify(s.options)){let a=!!module.hot;xB("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Dh(s)}var xB=(t,...e)=>{jm()&&typeof console<"u"&&console[t](...e)},IB={provide:Dh,useFactory:kl,deps:[$s,ue,[new bs,Hs]]},LI=(()=>{class t{static initializeApp(n,i){return{ngModule:t,providers:[{provide:$s,useValue:n},{provide:Hs,useValue:i}]}}constructor(n){At.registerVersion("angularfire",wo.full,"core"),At.registerVersion("angularfire",wo.full,"app-compat"),At.registerVersion("angular",oE.full,n.toString())}static \u0275fac=function(i){return new(i||t)(I(Et))};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[IB]})}return t})();function Eh(t,e,n,i,r){let[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===t)||[];if(o)return SB(r,s)||(kI("error",`${e} was already initialized on the ${n} Firebase App with different settings.${MB?" You may need to reload as Firebase is not HMR aware.":""}`),kI("warn",{is:r,was:s})),o;{let a=i();return globalThis.\u0275AngularfireInstanceCache.push([t,a,r]),a}}function SB(t,e){try{return t.toString()===e.toString()}catch{return t===e}}var MB=typeof module<"u"&&!!module.hot,kI=(t,...e)=>{jm()&&typeof console<"u"&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var pv=new R("angularfire2.auth.use-emulator"),gv=new R("angularfire2.auth.settings"),mv=new R("angularfire2.auth.tenant-id"),yv=new R("angularfire2.auth.langugage-code"),vv=new R("angularfire2.auth.use-device-language"),_v=new R("angularfire.auth.persistence"),bv=(t,e,n,i,r,o,s,a)=>Eh(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{let l=e.runOutsideAngular(()=>t.auth());if(n&&l.useEmulator(...n),i&&(l.tenantId=i),l.languageCode=r,o&&l.useDeviceLanguage(),s)for(let[c,u]of Object.entries(s))l.settings[c]=u;return a&&l.setPersistence(a),l},[n,i,r,o,s,a]),Fl=(()=>{class t{authState;idToken;user;idTokenResult;credential;constructor(n,i,r,o,s,a,l,c,u,d,h,f){let p=new Ke,g=j(void 0).pipe(dn(s.outsideAngular),Me(()=>o.runOutsideAngular(()=>import("./chunk-LD7UUDHR.js"))),B(()=>kl(n,o,i)),B(m=>bv(m,o,a,c,u,d,l,h)),pu({bufferSize:1,refCount:!1}));if(Xa(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=j(null);else{g.pipe(hn()).subscribe();let m=g.pipe(Me(C=>C.getRedirectResult().then(D=>D,()=>null)),Ui,pu({bufferSize:1,refCount:!1})),y=g.pipe(Me(C=>new ee(D=>({unsubscribe:o.runOutsideAngular(()=>C.onAuthStateChanged(w=>D.next(w),w=>D.error(w),()=>D.complete()))})))),v=g.pipe(Me(C=>new ee(D=>({unsubscribe:o.runOutsideAngular(()=>C.onIdTokenChanged(w=>D.next(w),w=>D.error(w),()=>D.complete()))}))));this.authState=m.pipe(gu(y),An(s.outsideAngular),dn(s.insideAngular)),this.user=m.pipe(gu(v),An(s.outsideAngular),dn(s.insideAngular)),this.idToken=this.user.pipe(Me(C=>C?he(C.getIdToken()):j(null))),this.idTokenResult=this.user.pipe(Me(C=>C?he(C.getIdTokenResult()):j(null))),this.credential=is(m,p,this.authState.pipe(Dt(C=>!C))).pipe(B(C=>C?.user?C:null),An(s.outsideAngular),dn(s.insideAngular))}return FI(this,g,o,{spy:{apply:(m,y,v)=>{(m.startsWith("signIn")||m.startsWith("createUser"))&&v.then(C=>p.next(C))}}})}static \u0275fac=function(i){return new(i||t)(I($s),I(Hs,8),I(Et),I(ue),I(Ch),I(pv,8),I(gv,8),I(mv,8),I(yv,8),I(vv,8),I(_v,8),I(Co,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),VI=(()=>{class t{constructor(){At.registerVersion("angularfire",wo.full,"auth-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[Fl]})}return t})();var BI="@firebase/database",UI="1.0.4";var N_="";function R_(t){N_=t}var Mv=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ze(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Bc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Tv=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return un(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var vS=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Mv(e)}}catch{}return new Tv},Eo=vS("localStorage"),Av=vS("sessionStorage");var qs=new zo("@firebase/database"),_S=function(){let t=1;return function(){return t++}}(),bS=function(t){let e=Ub(t),n=new Bb;n.update(e);let i=n.digest();return jc.encodeByteArray(i)},sc=function(...t){let e="";for(let n=0;n<t.length;n++){let i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=sc.apply(null,i):typeof i=="object"?e+=Ze(i):e+=i,e+=" "}return e},xo=null,$I=!0,CS=function(t,e){M(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(qs.logLevel=$b.VERBOSE,xo=qs.log.bind(qs),e&&Av.set("logging_enabled",!0)):typeof t=="function"?xo=t:(xo=null,Av.remove("logging_enabled"))},dt=function(...t){if($I===!0&&($I=!1,xo===null&&Av.get("logging_enabled")===!0&&CS(!0)),xo){let e=sc.apply(null,t);xo(e)}},ac=function(t){return function(...e){dt(t,...e)}},Pv=function(...t){let e="FIREBASE INTERNAL ERROR: "+sc(...t);qs.error(e)},li=function(...t){let e=`FIREBASE FATAL ERROR: ${sc(...t)}`;throw qs.error(e),new Error(e)},St=function(...t){let e="FIREBASE WARNING: "+sc(...t);qs.warn(e)},TB=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Xh=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},AB=function(t){if(Gn()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mr="[MIN_NAME]",$i="[MAX_NAME]",So=function(t,e){if(t===e)return 0;if(t===Mr||e===$i)return-1;if(e===Mr||t===$i)return 1;{let n=HI(t),i=HI(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},PB=function(t,e){return t===e?0:t<e?-1:1},Ll=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ze(e))},O_=function(t){if(typeof t!="object"||t===null)return Ze(t);let e=[];for(let i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ze(e[i]),n+=":",n+=O_(t[e[i]]);return n+="}",n},wS=function(t,e){let n=t.length;if(n<=e)return[t];let i=[];for(let r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i};function ht(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var DS=function(t){M(!Xh(t),"Invalid JSON number");let e=11,n=52,i=(1<<e-1)-1,r,o,s,a,l;t===0?(o=0,s=0,r=1/t===-1/0?1:0):(r=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=a+i,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-i-n))));let c=[];for(l=n;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=e;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();let u=c.join(""),d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),d=d+h}return d.toLowerCase()},NB=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},RB=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function OB(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}var kB=new RegExp("^-?(0*)\\d{1,10}$"),FB=-2147483648,LB=2147483647,HI=function(t){if(kB.test(t)){let e=Number(t);if(e>=FB&&e<=LB)return e}return null},na=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw St("Exception was thrown by user callback.",n),e},Math.floor(0))}},VB=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ul=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Nv=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Rv=class{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(dt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}},$l=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Ih="5",ES="v",xS="s",IS="r",SS="f",MS=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,TS="ls",AS="p",Ov="ac",PS="websocket",NS="long_polling";var Sh=class{constructor(e,n,i,r,o=!1,s="",a=!1,l=!1){this.secure=n,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eo.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Eo.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function jB(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function RS(t,e,n){M(typeof e=="string","typeof type must == string"),M(typeof n=="object","typeof params must == object");let i;if(e===PS)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===NS)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);jB(t)&&(n.ns=t.namespace);let r=[];return ht(n,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}var kv=class{constructor(){this.counters_={}}incrementCounter(e,n=1){un(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Nb(this.counters_)}};var Cv={},wv={};function k_(t){let e=t.toString();return Cv[e]||(Cv[e]=new kv),Cv[e]}function BB(t,e){let n=t.toString();return wv[n]||(wv[n]=e()),wv[n]}var Fv=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&na(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var zI="start",UB="close",$B="pLPCommand",HB="pRTLPCB",OS="id",kS="pw",FS="ser",zB="cb",WB="seg",GB="ts",qB="d",YB="dframe",LS=1870,VS=30,KB=LS-VS,QB=25e3,ZB=3e4,Gl=class t{constructor(e,n,i,r,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ac(e),this.stats_=k_(n),this.urlFn=l=>(this.appCheckToken&&(l[Ov]=this.appCheckToken),RS(n,NS,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Fv(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(ZB)),AB(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lv((...o)=>{let[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===zI)this.id=a,this.password=l;else if(s===UB)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let i={};i[zI]="t",i[FS]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[zB]=this.scriptTagHolder.uniqueCallbackIdentifier),i[ES]=Ih,this.transportSessionId&&(i[xS]=this.transportSessionId),this.lastSessionId&&(i[TS]=this.lastSessionId),this.applicationId&&(i[AS]=this.applicationId),this.appCheckToken&&(i[Ov]=this.appCheckToken),typeof location<"u"&&location.hostname&&MS.test(location.hostname)&&(i[IS]=SS);let r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Gn()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!NB()&&!RB()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=Ze(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let i=Pb(n),r=wS(i,KB);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Gn())return;this.myDisconnFrame=document.createElement("iframe");let i={};i[YB]="t",i[OS]=e,i[kS]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=Ze(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Lv=class t{constructor(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Gn())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=_S(),window[$B+this.uniqueCallbackIdentifier]=e,window[HB+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){dt("frame writing exception"),a.stack&&dt(a.stack),dt(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||dt("No IE domain setting required")}catch{let i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[OS]=this.myID,e[kS]=this.myPW,e[FS]=this.currentSerial;let n=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+VS+i.length<=LS;){let s=this.pendingSegs.shift();i=i+"&"+WB+r+"="+s.seg+"&"+GB+r+"="+s.ts+"&"+qB+r+"="+s.d,r++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},r=setTimeout(i,Math.floor(QB)),o=()=>{clearTimeout(r),i()};this.addTag(e,o)}addTag(e,n){Gn()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){let r=i.readyState;(!r||r==="loaded"||r==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{dt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}};var XB=16384,JB=45e3,Mh=null;typeof MozWebSocket<"u"?Mh=MozWebSocket:typeof WebSocket<"u"&&(Mh=WebSocket);var Ws=(()=>{class t{constructor(n,i,r,o,s,a,l){this.connId=n,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ac(this.connId),this.stats_=k_(i),this.connURL=t.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(n,i,r,o,s){let a={};return a[ES]=Ih,!Gn()&&typeof location<"u"&&location.hostname&&MS.test(location.hostname)&&(a[IS]=SS),i&&(a[xS]=i),r&&(a[TS]=r),o&&(a[Ov]=o),s&&(a[AS]=s),RS(n,PS,a)}open(n,i){this.onDisconnect=i,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eo.set("previous_websocket_failure",!0);try{let r;if(Gn()){let o=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Ih}/${N_}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(r.proxy={origin:a})}this.mySock=new Mh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let i=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(i);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&Mh!==null&&!t.forceDisallow_}static previouslyFailed(){return Eo.isInMemoryStorage||Eo.get("previous_websocket_failure")===!0}markConnectionHealthy(){Eo.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let i=this.frames.join("");this.frames=null;let r=Bc(i);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(M(this.frames===null,"We already have a frame buffer"),n.length<=6){let i=Number(n);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let i=n.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{let r=this.extractFrameCount_(i);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();let i=Ze(n);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);let r=wS(i,XB);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JB))}sendString_(n){try{this.mySock.send(n)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),jS=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Gl,Ws]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let i=Ws&&Ws.isAvailable(),r=i&&!Ws.previouslyFailed();if(n.webSocketOnly&&(i||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ws];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),eU=6e4,tU=5e3,nU=10*1024,iU=100*1024,Dv="t",WI="d",rU="s",GI="r",oU="e",qI="o",YI="a",KI="n",QI="p",sU="h",Vv=class{constructor(e,n,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ac("c:"+this.id+":"),this.transportManager_=new jS(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));let r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Ul(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iU?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>nU?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dv in e){let n=e[Dv];n===YI?this.upgradeIfSecondaryHealthy_():n===GI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===qI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Ll("t",e),i=Ll("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:QI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:YI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:KI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Ll("t",e),i=Ll("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Ll(Dv,e);if(WI in e){let i=e[WI];if(n===sU){let r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if(n===KI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===rU?this.onConnectionShutdown_(i):n===GI?this.onReset_(i):n===oU?Pv("Server Error: "+i):n===qI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Pv("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ih!==i&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Ul(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(eU))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ul(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(tU))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:QI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eo.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Th=class{put(e,n,i,r){}merge(e,n,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}};var Ah=class{constructor(e){this.allowedEvents_=e,this.listeners_={},M(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});let r=this.getInitialEvent(e);r&&n.apply(i,r)}off(e,n,i){this.validateEventType_(e);let r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===n&&(!i||i===r[o].context)){r.splice(o,1);return}}validateEventType_(e){M(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Ph=class t extends Ah{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!up()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return M(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var ZI=32,XI=768,ge=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function pe(){return new ge("")}function te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Tr(t){return t.pieces_.length-t.pieceNum_}function Ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ge(t.pieces_,e)}function F_(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function aU(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ql(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function BS(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ge(e,0)}function Le(t,e){let n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof ge)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{let i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ge(n,0)}function ne(t){return t.pieceNum_>=t.pieces_.length}function Lt(t,e){let n=te(t),i=te(e);if(n===null)return e;if(n===i)return Lt(Ie(t),Ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lU(t,e){let n=ql(t,0),i=ql(e,0);for(let r=0;r<n.length&&r<i.length;r++){let o=So(n[r],i[r]);if(o!==0)return o}return n.length===i.length?0:n.length<i.length?-1:1}function L_(t,e){if(Tr(t)!==Tr(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function wn(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(Tr(t)>Tr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}var jv=class{constructor(e,n){this.errorPrefix_=n,this.parts_=ql(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=xa(this.parts_[i]);US(this)}};function cU(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xa(e),US(t)}function uU(t){let e=t.parts_.pop();t.byteLength_-=xa(e),t.parts_.length>0&&(t.byteLength_-=1)}function US(t){if(t.byteLength_>XI)throw new Error(t.errorPrefix_+"has a key path longer than "+XI+" bytes ("+t.byteLength_+").");if(t.parts_.length>ZI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+ZI+") or object contains a cycle "+Do(t))}function Do(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Bv=class t extends Ah{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new t}getInitialEvent(e){return M(e==="visible","Unknown event type: "+e),[this.visible_]}};var Vl=1e3,dU=60*5*1e3,JI=30*1e3,hU=1.3,fU=3e4,pU="server_kill",eS=3,V_=(()=>{class t extends Th{constructor(n,i,r,o,s,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=ac("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vl,this.maxReconnectDelay_=dU,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Gn())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Bv.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Ph.getInstance().on("online",this.onOnline_,this)}sendRequest(n,i,r){let o=++this.requestNumber_,s={r:o,a:n,b:i};this.log_(Ze(s)),M(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(n){this.initConnection_();let i=new ot,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let l=a.d;a.s==="ok"?i.resolve(l):i.reject(l)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),i.promise}listen(n,i,r,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),M(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let l={onComplete:o,hashFn:i,query:n,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(n){let i=this.outstandingGets_[n];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(n){let i=n.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);let s={p:r},a="q";n.tag&&(s.q=i._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,l=>{let c=l.d,u=l.s;t.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===n&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,o),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,i){if(n&&typeof n=="object"&&un(n,"w")){let r=Zi(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Vb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=JI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,i=Lb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let i=n.s,r=n.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(n,i){let r=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),M(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,n._queryObject,i)}sendUnlisten_(n,i,r,o){this.log_("Unlisten on "+n+" for "+i);let s={p:n},a="n";o&&(s.q=r,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:i,onComplete:r})}onDisconnectMerge(n,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,i,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:i,onComplete:r})}onDisconnectCancel(n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(n,i,r,o){let s={p:i,d:r};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,i,r,o){this.putInternal("p",n,i,r,o)}merge(n,i,r,o){this.putInternal("m",n,i,r,o)}putInternal(n,i,r,o,s){this.initConnection_();let a={p:i,d:r};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+i)}sendPut_(n){let i=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let i={c:n};this.log_("reportStats",i),this.sendRequest("s",i,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ze(n));let i=n.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,i){this.log_("handleServerMessage",n,i),n==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):n==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):n==="c"?this.onListenRevoked_(i.p,i.q):n==="ac"?this.onAuthRevoked_(i.s,i.d):n==="apc"?this.onAppCheckRevoked_(i.s,i.d):n==="sd"?this.onSecurityDebugPacket_(i):Pv("Unrecognized action received from server: "+Ze(n)+`
Are you using the latest client?`)}onReady_(n,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){M(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>fU&&(this.reconnectDelay_=Vl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,i=Math.max(0,this.reconnectDelay_-n);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*hU)}this.onConnectStatus_(!1)}establishConnection_(){return cn(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,l=null,c=function(){l?l.close():(a=!0,r())},u=function(h){M(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,f]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?dt("getToken() completed but was canceled"):(dt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,l=new Vv(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,i,r,p=>{St(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(pU)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&St(h),c())}}})}interrupt(n){dt("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){dt("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Uc(this.interruptReasons_)&&(this.reconnectDelay_=Vl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let i=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let i=this.outstandingPuts_[n];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,i){let r;i?r=i.map(s=>O_(s)).join("$"):r="default";let o=this.removeListen_(n,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,i){let r=new ge(n).toString(),o;if(this.listens.has(r)){let s=this.listens.get(r);o=s.get(i),s.delete(i),s.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(n,i){dt("Auth token revoked: "+n+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=eS&&(this.reconnectDelay_=JI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,i){dt("App check token revoked: "+n+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=eS&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let i of n.values())this.sendListen_(i);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},i="js";Gn()&&(this.repoInfo_.nodeAdmin?i="admin_node":i="node"),n["sdk."+i+"."+N_.replace(/\./g,"-")]=1,up()?n["framework.cordova"]=1:Ob()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Ph.getInstance().currentlyOnline();return Uc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),oe=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var Ys=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let i=new oe(Mr,e),r=new oe(Mr,n);return this.compare(i,r)!==0}minPost(){return oe.MIN}};var xh,Nh=class extends Ys{static get __EMPTY_NODE(){return xh}static set __EMPTY_NODE(e){xh=e}compare(e,n){return So(e.name,n.name)}isDefinedOn(e){throw Ho("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return oe.MIN}maxPost(){return new oe($i,xh)}makePost(e,n){return M(typeof e=="string","KeyIndex indexValue must always be a string."),new oe(e,xh)}toString(){return".key"}},ai=new Nh;var Gs=class{constructor(e,n,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?i(e.key,n):1,r&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},$n=(()=>{class t{constructor(n,i,r,o,s){this.key=n,this.value=i,this.color=r??t.RED,this.left=o??Dn.EMPTY_NODE,this.right=s??Dn.EMPTY_NODE}copy(n,i,r,o,s){return new t(n??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,i,r){let o=this,s=r(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,i,r),null):s===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dn.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,i){let r,o;if(r=this,i(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),i(n,r.key)===0){if(r.right.isEmpty())return Dn.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,i)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Uv=class{copy(e,n,i,r,o){return this}insert(e,n,i){return new $n(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Dn=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,$n.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,$n.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,r=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(r=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Gs(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Gs(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Gs(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Gs(this.root_,null,this.comparator_,!0,e)}};Dn.EMPTY_NODE=new Uv;function gU(t,e){return So(t.name,e.name)}function j_(t,e){return So(t,e)}var $v;function mU(t){$v=t}var $S=function(t){return typeof t=="number"?"number:"+DS(t):"string:"+t},HS=function(t){if(t.isLeafNode()){let e=t.val();M(typeof e=="string"||typeof e=="number"||typeof e=="object"&&un(e,".sv"),"Priority must be a string or number.")}else M(t===$v||t.isEmpty(),"priority of unexpected type.");M(t===$v||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var tS,Ks=(()=>{class t{constructor(n,i=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=i,this.lazyHash_=null,M(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),HS(this.priorityNode_)}static set __childrenNodeConstructor(n){tS=n}static get __childrenNodeConstructor(){return tS}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return ne(n)?this:te(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,i){return null}updateImmediateChild(n,i){return n===".priority"?this.updatePriority(i):i.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,i).updatePriority(this.priorityNode_)}updateChild(n,i){let r=te(n);return r===null?i:i.isEmpty()&&r!==".priority"?this:(M(r!==".priority"||Tr(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ie(n),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,i){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+$S(this.priorityNode_.val())+":");let i=typeof this.value_;n+=i+":",i==="number"?n+=DS(this.value_):n+=this.value_,this.lazyHash_=bS(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(M(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let i=typeof n.value_,r=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(i),s=t.VALUE_TYPE_ORDER.indexOf(r);return M(o>=0,"Unknown leaf type: "+i),M(s>=0,"Unknown leaf type: "+r),o===s?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let i=n;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),zS,WS;function yU(t){zS=t}function vU(t){WS=t}var Hv=class extends Ys{compare(e,n){let i=e.node.getPriority(),r=n.node.getPriority(),o=i.compareTo(r);return o===0?So(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return oe.MIN}maxPost(){return new oe($i,new Ks("[PRIORITY-POST]",WS))}makePost(e,n){let i=zS(e);return new oe(n,new Ks("[PRIORITY-POST]",i))}toString(){return".priority"}},Ae=new Hv;var _U=Math.log(2),zv=class{constructor(e){let n=o=>parseInt(Math.log(o)/_U,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let r=i(this.count);this.bits_=e+1&r}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Rh=function(t,e,n,i){t.sort(e);let r=function(l,c){let u=c-l,d,h;if(u===0)return null;if(u===1)return d=t[l],h=n?n(d):d,new $n(h,d.node,$n.BLACK,null,null);{let f=parseInt(u/2,10)+l,p=r(l,f),g=r(f+1,c);return d=t[f],h=n?n(d):d,new $n(h,d.node,$n.BLACK,p,g)}},o=function(l){let c=null,u=null,d=t.length,h=function(p,g){let m=d-p,y=d;d-=p;let v=r(m+1,y),C=t[m],D=n?n(C):C;f(new $n(D,C.node,g,null,v))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){let g=l.nextBitIsOne(),m=Math.pow(2,l.count-(p+1));g?h(m,$n.BLACK):(h(m,$n.BLACK),h(m,$n.RED))}return u},s=new zv(t.length),a=o(s);return new Dn(i||e,a)};var Ev,zs={},Qs=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return M(zs&&Ae,"ChildrenNode.ts has not been loaded"),Ev=Ev||new t({".priority":zs},{".priority":Ae}),Ev}get(e){let n=Zi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dn?n:null}hasIndex(e){return un(this.indexSet_,e.toString())}addIndex(e,n){M(e!==ai,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let i=[],r=!1,o=n.getIterator(oe.Wrap),s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();let a;r?a=Rh(i,e.getCompare()):a=zs;let l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;let u=Object.assign({},this.indexes_);return u[l]=a,new t(u,c)}addToIndexes(e,n){let i=Ea(this.indexes_,(r,o)=>{let s=Zi(this.indexSet_,o);if(M(s,"Missing index implementation for "+o),r===zs)if(s.isDefinedOn(e.node)){let a=[],l=n.getIterator(oe.Wrap),c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Rh(a,s.getCompare())}else return zs;else{let a=n.get(e.name),l=r;return a&&(l=l.remove(new oe(e.name,a))),l.insert(e,e.node)}});return new t(i,this.indexSet_)}removeFromIndexes(e,n){let i=Ea(this.indexes_,r=>{if(r===zs)return r;{let o=n.get(e.name);return o?r.remove(new oe(e.name,o)):r}});return new t(i,this.indexSet_)}};var jl,W=(()=>{class t{constructor(n,i,r){this.children_=n,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&HS(this.priorityNode_),this.children_.isEmpty()&&M(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return jl||(jl=new t(new Dn(j_),null,Qs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||jl}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let i=this.children_.get(n);return i===null?jl:i}}getChild(n){let i=te(n);return i===null?this:this.getImmediateChild(i).getChild(Ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,i){if(M(i,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(i);{let r=new oe(n,i),o,s;i.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(n,i),s=this.indexMap_.addToIndexes(r,this.children_));let a=o.isEmpty()?jl:this.priorityNode_;return new t(o,a,s)}}updateChild(n,i){let r=te(n);if(r===null)return i;{M(te(n)!==".priority"||Tr(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(r).updateChild(Ie(n),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let i={},r=0,o=0,s=!0;if(this.forEachChild(Ae,(a,l)=>{i[a]=l.val(n),r++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*r){let a=[];for(let l in i)a[l]=i[l];return a}else return n&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+$S(this.getPriority().val())+":"),this.forEachChild(Ae,(i,r)=>{let o=r.hash();o!==""&&(n+=":"+i+":"+o)}),this.lazyHash_=n===""?"":bS(n)}return this.lazyHash_}getPredecessorChildName(n,i,r){let o=this.resolveIndex_(r);if(o){let s=o.getPredecessorKey(new oe(n,i));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){let i=this.getFirstChildName(n);return i?new oe(i,this.children_.get(i)):null}getLastChildName(n){let i=this.resolveIndex_(n);if(i){let r=i.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){let i=this.getLastChildName(n);return i?new oe(i,this.children_.get(i)):null}forEachChild(n,i){let r=this.resolveIndex_(n);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,oe.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,i){let r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,oe.Wrap),s=o.peek();for(;s!=null&&i.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===lc?-1:0}withIndex(n){if(n===ai||this.indexMap_.hasIndex(n))return this;{let i=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,i)}}isIndexed(n){return n===ai||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let i=n;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){let r=this.getIterator(Ae),o=i.getIterator(Ae),s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ai?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Wv=class extends W{constructor(){super(new Dn(j_),W.EMPTY_NODE,Qs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return W.EMPTY_NODE}isEmpty(){return!1}},lc=new Wv;Object.defineProperties(oe,{MIN:{value:new oe(Mr,W.EMPTY_NODE)},MAX:{value:new oe($i,lc)}});Nh.__EMPTY_NODE=W.EMPTY_NODE;Ks.__childrenNodeConstructor=W;mU(lc);vU(lc);var bU=!0;function $e(t,e=null){if(t===null)return W.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),M(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new Ks(n,$e(e))}if(!(t instanceof Array)&&bU){let n=[],i=!1;if(ht(t,(s,a)=>{if(s.substring(0,1)!=="."){let l=$e(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),n.push(new oe(s,l)))}}),n.length===0)return W.EMPTY_NODE;let o=Rh(n,gU,s=>s.name,j_);if(i){let s=Rh(n,Ae.getCompare());return new W(o,$e(e),new Qs({".priority":s},{".priority":Ae}))}else return new W(o,$e(e),Qs.Default)}else{let n=W.EMPTY_NODE;return ht(t,(i,r)=>{if(un(t,i)&&i.substring(0,1)!=="."){let o=$e(r);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority($e(e))}}yU($e);var Yl=class extends Ys{constructor(e){super(),this.indexPath_=e,M(!ne(e)&&te(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let i=this.extractChild(e.node),r=this.extractChild(n.node),o=i.compareTo(r);return o===0?So(e.name,n.name):o}makePost(e,n){let i=$e(e),r=W.EMPTY_NODE.updateChild(this.indexPath_,i);return new oe(n,r)}maxPost(){let e=W.EMPTY_NODE.updateChild(this.indexPath_,lc);return new oe($i,e)}toString(){return ql(this.indexPath_,0).join("/")}};var Gv=class extends Ys{compare(e,n){let i=e.node.compareTo(n.node);return i===0?So(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return oe.MIN}maxPost(){return oe.MAX}makePost(e,n){let i=$e(e);return new oe(n,i)}toString(){return".value"}},B_=new Gv;function GS(t){return{type:"value",snapshotNode:t}}function Zs(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Kl(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Ql(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function CU(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Zl=class{constructor(e){this.index_=e}updateChild(e,n,i,r,o,s){M(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(s!=null&&(i.isEmpty()?e.hasChild(n)?s.trackChildChange(Kl(n,a)):M(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(Zs(n,i)):s.trackChildChange(Ql(n,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Ae,(r,o)=>{n.hasChild(r)||i.trackChildChange(Kl(r,o))}),n.isLeafNode()||n.forEachChild(Ae,(r,o)=>{if(e.hasChild(r)){let s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(Ql(r,o,s))}else i.trackChildChange(Zs(r,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?W.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Oh=class t{constructor(e){this.indexedFilter_=new Zl(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,r,o,s){return this.matches(new oe(n,i))||(i=W.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,r,o,s)}updateFullNode(e,n,i){n.isLeafNode()&&(n=W.EMPTY_NODE);let r=n.withIndex(this.index_);r=r.updatePriority(W.EMPTY_NODE);let o=this;return n.forEachChild(Ae,(s,a)=>{o.matches(new oe(s,a))||(r=r.updateImmediateChild(s,W.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var qv=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{let i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Oh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,r,o,s){return this.rangedFilter_.matches(new oe(n,i))||(i=W.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,r,o,s):this.fullLimitUpdateChild_(e,n,i,o,s)}updateFullNode(e,n,i){let r;if(n.isLeafNode()||n.isEmpty())r=W.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){r=W.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))r=r.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{r=n.withIndex(this.index_),r=r.updatePriority(W.EMPTY_NODE);let o;this.reverse_?o=r.getReverseIterator(this.index_):o=r.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,W.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,r,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();let a=e;M(a.numChildren()===this.limit_,"");let l=new oe(n,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(n)){let d=a.getImmediateChild(n),h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);let f=h==null?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(Ql(n,i,d)),a.updateImmediateChild(n,i);{o?.trackChildChange(Kl(n,d));let g=a.updateImmediateChild(n,W.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(o?.trackChildChange(Zs(h.name,h.node)),g.updateImmediateChild(h.name,h.node)):g}}else return i.isEmpty()?e:u&&s(c,l)>=0?(o!=null&&(o.trackChildChange(Kl(c.name,c.node)),o.trackChildChange(Zs(n,i))),a.updateImmediateChild(n,i).updateImmediateChild(c.name,W.EMPTY_NODE)):e}};var Xl=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ae}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return M(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return M(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mr}hasEnd(){return this.endSet_}getIndexEndValue(){return M(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return M(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:$i}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return M(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ae}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function wU(t){return t.loadsAllData()?new Zl(t.getIndex()):t.hasLimit()?new qv(t):new Oh(t)}function DU(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="l",n}function EU(t,e){let n=t.copy();return n.limitSet_=!0,n.limit_=e,n.viewFrom_="r",n}function Yv(t,e,n){let i=t.copy();return i.startSet_=!0,e===void 0&&(e=null),i.indexStartValue_=e,n!=null?(i.startNameSet_=!0,i.indexStartName_=n):(i.startNameSet_=!1,i.indexStartName_=""),i}function xU(t,e,n){let i;return t.index_===ai||n?i=Yv(t,e,n):i=Yv(t,e,$i),i.startAfterSet_=!0,i}function Kv(t,e,n){let i=t.copy();return i.endSet_=!0,e===void 0&&(e=null),i.indexEndValue_=e,n!==void 0?(i.endNameSet_=!0,i.indexEndName_=n):(i.endNameSet_=!1,i.indexEndName_=""),i}function IU(t,e,n){let i;return t.index_===ai||n?i=Kv(t,e,n):i=Kv(t,e,Mr),i.endBeforeSet_=!0,i}function Jh(t,e){let n=t.copy();return n.index_=e,n}function nS(t){let e={};if(t.isDefault())return e;let n;if(t.index_===Ae?n="$priority":t.index_===B_?n="$value":t.index_===ai?n="$key":(M(t.index_ instanceof Yl,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ze(n),t.startSet_){let i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ze(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ze(t.indexStartName_))}if(t.endSet_){let i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ze(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ze(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function iS(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Ae&&(e.i=t.index_.toString()),e}var Qv=class t extends Th{constructor(e,n,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ac("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(M(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,r){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,i),a={};this.listens_[s]=a;let l=nS(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(o,d,!1,i),Zi(this.listens_,s)===a){let h;c?c===401?h="permission_denied":h="rest_error:"+c:h="ok",r(h,null)}})}unlisten(e,n){let i=t.getListenId_(e,n);delete this.listens_[i]}get(e){let n=nS(e._queryParams),i=e._path.toString(),r=new ot;return this.restRequest_(i+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(n.auth=r.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+jb(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Bc(a.responseText)}catch{St("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else a.status!==401&&a.status!==404&&St("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}};var Zv=class{constructor(){this.rootNode_=W.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function kh(){return{value:null,children:new Map}}function ia(t,e,n){if(ne(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let i=te(e);t.children.has(i)||t.children.set(i,kh());let r=t.children.get(i);e=Ie(e),ia(r,e,n)}}function Xv(t,e){if(ne(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{let n=t.value;return t.value=null,n.forEachChild(Ae,(i,r)=>{ia(t,new ge(i),r)}),Xv(t,e)}}else if(t.children.size>0){let n=te(e);return e=Ie(e),t.children.has(n)&&Xv(t.children.get(n),e)&&t.children.delete(n),t.children.size===0}else return!0}function Jv(t,e,n){t.value!==null?n(e,t.value):SU(t,(i,r)=>{let o=new ge(e.toString()+"/"+i);Jv(r,o,n)})}function SU(t,e){t.children.forEach((n,i)=>{e(i,n)})}var e_=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ht(this.last_,(i,r)=>{n[i]=n[i]-r}),this.last_=e,n}};var rS=10*1e3,MU=30*1e3,TU=5*60*1e3,t_=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new e_(e);let i=rS+(MU-rS)*Math.random();Ul(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){let e=this.statsListener_.get(),n={},i=!1;ht(e,(r,o)=>{o>0&&un(this.statsToReport_,r)&&(n[r]=o,i=!0)}),i&&this.server_.reportStats(n),Ul(this.reportStats_.bind(this),Math.floor(Math.random()*2*TU))}};var si=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(si||{});function U_(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $_(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function H_(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var n_=class t{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=si.ACK_USER_WRITE,this.source=U_()}operationForChild(e){if(ne(this.path)){if(this.affectedTree.value!=null)return M(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ge(e));return new t(pe(),n,this.revert)}}else return M(te(this.path)===e,"operationForChild called for unrelated child."),new t(Ie(this.path),this.affectedTree,this.revert)}};var Fh=class t{constructor(e,n){this.source=e,this.path=n,this.type=si.LISTEN_COMPLETE}operationForChild(e){return ne(this.path)?new t(this.source,pe()):new t(this.source,Ie(this.path))}};var Xs=class t{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=si.OVERWRITE}operationForChild(e){return ne(this.path)?new t(this.source,pe(),this.snap.getImmediateChild(e)):new t(this.source,Ie(this.path),this.snap)}};var Jl=class t{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=si.MERGE}operationForChild(e){if(ne(this.path)){let n=this.children.subtree(new ge(e));return n.isEmpty()?null:n.value?new Xs(this.source,pe(),n.value):new t(this.source,pe(),n)}else return M(te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,Ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var ci=class{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ne(e))return this.isFullyInitialized()&&!this.filtered_;let n=te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var i_=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function AU(t,e,n,i){let r=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(CU(s.childName,s.snapshotNode))}),Bl(t,r,"child_removed",e,i,n),Bl(t,r,"child_added",e,i,n),Bl(t,r,"child_moved",o,i,n),Bl(t,r,"child_changed",e,i,n),Bl(t,r,"value",e,i,n),r}function Bl(t,e,n,i,r,o){let s=i.filter(a=>a.type===n);s.sort((a,l)=>NU(t,a,l)),s.forEach(a=>{let l=PU(t,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function PU(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function NU(t,e,n){if(e.childName==null||n.childName==null)throw Ho("Should only compare child_ events.");let i=new oe(e.childName,e.snapshotNode),r=new oe(n.childName,n.snapshotNode);return t.index_.compare(i,r)}function ef(t,e){return{eventCache:t,serverCache:e}}function Hl(t,e,n,i){return ef(new ci(e,n,i),t.serverCache)}function qS(t,e,n,i){return ef(t.eventCache,new ci(e,n,i))}function Lh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Io(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var xv,RU=()=>(xv||(xv=new Dn(PB)),xv),Vt=class t{constructor(e,n=RU()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ht(e,(i,r)=>{n=n.set(new ge(i),r)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:pe(),value:this.value};if(ne(e))return null;{let i=te(e),r=this.children.get(i);if(r!==null){let o=r.findRootMostMatchingPathAndValue(Ie(e),n);return o!=null?{path:Le(new ge(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ne(e))return this;{let n=te(e),i=this.children.get(n);return i!==null?i.subtree(Ie(e)):new t(null)}}set(e,n){if(ne(e))return new t(n,this.children);{let i=te(e),o=(this.children.get(i)||new t(null)).set(Ie(e),n),s=this.children.insert(i,o);return new t(this.value,s)}}remove(e){if(ne(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=te(e),i=this.children.get(n);if(i){let r=i.remove(Ie(e)),o;return r.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,r),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(ne(e))return this.value;{let n=te(e),i=this.children.get(n);return i?i.get(Ie(e)):null}}setTree(e,n){if(ne(e))return n;{let i=te(e),o=(this.children.get(i)||new t(null)).setTree(Ie(e),n),s;return o.isEmpty()?s=this.children.remove(i):s=this.children.insert(i,o),new t(this.value,s)}}fold(e){return this.fold_(pe(),e)}fold_(e,n){let i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Le(e,r),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,pe(),n)}findOnPath_(e,n,i){let r=this.value?i(n,this.value):!1;if(r)return r;if(ne(e))return null;{let o=te(e),s=this.children.get(o);return s?s.findOnPath_(Ie(e),Le(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,pe(),n)}foreachOnPath_(e,n,i){if(ne(e))return this;{this.value&&i(n,this.value);let r=te(e),o=this.children.get(r);return o?o.foreachOnPath_(Ie(e),Le(n,r),i):new t(null)}}foreach(e){this.foreach_(pe(),e)}foreach_(e,n){this.children.inorderTraversal((i,r)=>{r.foreach_(Le(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}};var Hn=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Vt(null))}};function zl(t,e,n){if(ne(e))return new Hn(new Vt(n));{let i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){let r=i.path,o=i.value,s=Lt(r,e);return o=o.updateChild(s,n),new Hn(t.writeTree_.set(r,o))}else{let r=new Vt(n),o=t.writeTree_.setTree(e,r);return new Hn(o)}}}function r_(t,e,n){let i=t;return ht(n,(r,o)=>{i=zl(i,Le(e,r),o)}),i}function oS(t,e){if(ne(e))return Hn.empty();{let n=t.writeTree_.setTree(e,new Vt(null));return new Hn(n)}}function o_(t,e){return Mo(t,e)!=null}function Mo(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Lt(n.path,e)):null}function sS(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Ae,(i,r)=>{e.push(new oe(i,r))}):t.writeTree_.children.inorderTraversal((i,r)=>{r.value!=null&&e.push(new oe(i,r.value))}),e}function Ir(t,e){if(ne(e))return t;{let n=Mo(t,e);return n!=null?new Hn(new Vt(n)):new Hn(t.writeTree_.subtree(e))}}function s_(t){return t.writeTree_.isEmpty()}function Js(t,e){return YS(pe(),t.writeTree_,e)}function YS(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{r===".priority"?(M(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=YS(Le(t,r),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(Le(t,".priority"),i)),n}}function tf(t,e){return XS(e,t)}function OU(t,e,n,i,r){M(i>t.lastWriteId,"Stacking an older write on top of newer ones"),r===void 0&&(r=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:r}),r&&(t.visibleWrites=zl(t.visibleWrites,e,n)),t.lastWriteId=i}function kU(t,e,n,i){M(i>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:i,visible:!0}),t.visibleWrites=r_(t.visibleWrites,e,n),t.lastWriteId=i}function FU(t,e){for(let n=0;n<t.allWrites.length;n++){let i=t.allWrites[n];if(i.writeId===e)return i}return null}function LU(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);M(n>=0,"removeWrite called with nonexistent writeId.");let i=t.allWrites[n];t.allWrites.splice(n,1);let r=i.visible,o=!1,s=t.allWrites.length-1;for(;r&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&VU(a,i.path)?r=!1:wn(i.path,a.path)&&(o=!0)),s--}if(r){if(o)return jU(t),!0;if(i.snap)t.visibleWrites=oS(t.visibleWrites,i.path);else{let a=i.children;ht(a,l=>{t.visibleWrites=oS(t.visibleWrites,Le(i.path,l))})}return!0}else return!1}function VU(t,e){if(t.snap)return wn(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&wn(Le(t.path,n),e))return!0;return!1}function jU(t){t.visibleWrites=KS(t.allWrites,BU,pe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function BU(t){return t.visible}function KS(t,e,n){let i=Hn.empty();for(let r=0;r<t.length;++r){let o=t[r];if(e(o)){let s=o.path,a;if(o.snap)wn(n,s)?(a=Lt(n,s),i=zl(i,a,o.snap)):wn(s,n)&&(a=Lt(s,n),i=zl(i,pe(),o.snap.getChild(a)));else if(o.children){if(wn(n,s))a=Lt(n,s),i=r_(i,a,o.children);else if(wn(s,n))if(a=Lt(s,n),ne(a))i=r_(i,pe(),o.children);else{let l=Zi(o.children,te(a));if(l){let c=l.getChild(Ie(a));i=zl(i,pe(),c)}}}else throw Ho("WriteRecord should have .snap or .children")}}return i}function QS(t,e,n,i,r){if(!i&&!r){let o=Mo(t.visibleWrites,e);if(o!=null)return o;{let s=Ir(t.visibleWrites,e);if(s_(s))return n;if(n==null&&!o_(s,pe()))return null;{let a=n||W.EMPTY_NODE;return Js(s,a)}}}else{let o=Ir(t.visibleWrites,e);if(!r&&s_(o))return n;if(!r&&n==null&&!o_(o,pe()))return null;{let s=function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(wn(c.path,e)||wn(e,c.path))},a=KS(t.allWrites,s,e),l=n||W.EMPTY_NODE;return Js(a,l)}}}function UU(t,e,n){let i=W.EMPTY_NODE,r=Mo(t.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(Ae,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(n){let o=Ir(t.visibleWrites,e);return n.forEachChild(Ae,(s,a)=>{let l=Js(Ir(o,new ge(s)),a);i=i.updateImmediateChild(s,l)}),sS(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}else{let o=Ir(t.visibleWrites,e);return sS(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}}function $U(t,e,n,i,r){M(i||r,"Either existingEventSnap or existingServerSnap must exist");let o=Le(e,n);if(o_(t.visibleWrites,o))return null;{let s=Ir(t.visibleWrites,o);return s_(s)?r.getChild(n):Js(s,r.getChild(n))}}function HU(t,e,n,i){let r=Le(e,n),o=Mo(t.visibleWrites,r);if(o!=null)return o;if(i.isCompleteForChild(n)){let s=Ir(t.visibleWrites,r);return Js(s,i.getNode().getImmediateChild(n))}else return null}function zU(t,e){return Mo(t.visibleWrites,e)}function WU(t,e,n,i,r,o,s){let a,l=Ir(t.visibleWrites,e),c=Mo(l,pe());if(c!=null)a=c;else if(n!=null)a=Js(l,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s),f=h.getNext();for(;f&&u.length<r;)d(f,i)!==0&&u.push(f),f=h.getNext();return u}else return[]}function GU(){return{visibleWrites:Hn.empty(),allWrites:[],lastWriteId:-1}}function Vh(t,e,n,i){return QS(t.writeTree,t.treePath,e,n,i)}function z_(t,e){return UU(t.writeTree,t.treePath,e)}function aS(t,e,n,i){return $U(t.writeTree,t.treePath,e,n,i)}function jh(t,e){return zU(t.writeTree,Le(t.treePath,e))}function qU(t,e,n,i,r,o){return WU(t.writeTree,t.treePath,e,n,i,r,o)}function W_(t,e,n){return HU(t.writeTree,t.treePath,e,n)}function ZS(t,e){return XS(Le(t.treePath,e),t.writeTree)}function XS(t,e){return{treePath:t,writeTree:e}}var a_=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,i=e.childName;M(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),M(i!==".priority","Only non-priority child changes can be tracked.");let r=this.changeMap.get(i);if(r){let o=r.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,Ql(i,e.snapshotNode,r.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,Kl(i,r.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,Zs(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,Ql(i,e.snapshotNode,r.oldSnap));else throw Ho("Illegal combination of changes: "+e+" occurred after "+r)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}};var l_=class{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}},JS=new l_,ec=class{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let i=this.optCompleteServerCache_!=null?new ci(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return W_(this.writes_,e,i)}}getChildAfterChild(e,n,i){let r=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Io(this.viewCache_),o=qU(this.writes_,r,n,1,i,e);return o.length===0?null:o[0]}};function YU(t){return{filter:t}}function KU(t,e){M(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),M(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function QU(t,e,n,i,r){let o=new a_,s,a;if(n.type===si.OVERWRITE){let c=n;c.source.fromUser?s=c_(t,e,c.path,c.snap,i,r,o):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ne(c.path),s=Bh(t,e,c.path,c.snap,i,r,a,o))}else if(n.type===si.MERGE){let c=n;c.source.fromUser?s=XU(t,e,c.path,c.children,i,r,o):(M(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=u_(t,e,c.path,c.children,i,r,a,o))}else if(n.type===si.ACK_USER_WRITE){let c=n;c.revert?s=t$(t,e,c.path,i,r,o):s=JU(t,e,c.path,c.affectedTree,i,r,o)}else if(n.type===si.LISTEN_COMPLETE)s=e$(t,e,n.path,i,o);else throw Ho("Unknown operation type: "+n.type);let l=o.getChanges();return ZU(e,s,l),{viewCache:s,changes:l}}function ZU(t,e,n){let i=e.eventCache;if(i.isFullyInitialized()){let r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Lh(t);(n.length>0||!t.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(GS(Lh(e)))}}function eM(t,e,n,i,r,o){let s=e.eventCache;if(jh(i,n)!=null)return e;{let a,l;if(ne(n))if(M(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let c=Io(e),u=c instanceof W?c:W.EMPTY_NODE,d=z_(i,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let c=Vh(i,Io(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{let c=te(n);if(c===".priority"){M(Tr(n)===1,"Can't have a priority with additional path components");let u=s.getNode();l=e.serverCache.getNode();let d=aS(i,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=Ie(n),d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();let h=aS(i,n,s.getNode(),l);h!=null?d=s.getNode().getImmediateChild(c).updateChild(u,h):d=s.getNode().getImmediateChild(c)}else d=W_(i,c,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),c,d,u,r,o):a=s.getNode()}}return Hl(e,a,s.isFullyInitialized()||ne(n),t.filter.filtersNodes())}}function Bh(t,e,n,i,r,o,s,a){let l=e.serverCache,c,u=s?t.filter:t.filter.getIndexedFilter();if(ne(n))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){let f=l.getNode().updateChild(n,i);c=u.updateFullNode(l.getNode(),f,null)}else{let f=te(n);if(!l.isCompleteForPath(n)&&Tr(n)>1)return e;let p=Ie(n),m=l.getNode().getImmediateChild(f).updateChild(p,i);f===".priority"?c=u.updatePriority(l.getNode(),m):c=u.updateChild(l.getNode(),f,m,p,JS,null)}let d=qS(e,c,l.isFullyInitialized()||ne(n),u.filtersNodes()),h=new ec(r,d,o);return eM(t,d,n,r,h,a)}function c_(t,e,n,i,r,o,s){let a=e.eventCache,l,c,u=new ec(r,e,o);if(ne(n))c=t.filter.updateFullNode(e.eventCache.getNode(),i,s),l=Hl(e,c,!0,t.filter.filtersNodes());else{let d=te(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),i),l=Hl(e,c,a.isFullyInitialized(),a.isFiltered());else{let h=Ie(n),f=a.getNode().getImmediateChild(d),p;if(ne(h))p=i;else{let g=u.getCompleteChild(d);g!=null?F_(h)===".priority"&&g.getChild(BS(h)).isEmpty()?p=g:p=g.updateChild(h,i):p=W.EMPTY_NODE}if(f.equals(p))l=e;else{let g=t.filter.updateChild(a.getNode(),d,p,h,u,s);l=Hl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function lS(t,e){return t.eventCache.isCompleteForChild(e)}function XU(t,e,n,i,r,o,s){let a=e;return i.foreach((l,c)=>{let u=Le(n,l);lS(e,te(u))&&(a=c_(t,a,u,c,r,o,s))}),i.foreach((l,c)=>{let u=Le(n,l);lS(e,te(u))||(a=c_(t,a,u,c,r,o,s))}),a}function cS(t,e,n){return n.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function u_(t,e,n,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ne(n)?c=i:c=new Vt(null).setTree(n,i);let u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){let f=e.serverCache.getNode().getImmediateChild(d),p=cS(t,f,h);l=Bh(t,l,new ge(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{let f=!e.serverCache.isCompleteForChild(d)&&h.value===null;if(!u.hasChild(d)&&!f){let p=e.serverCache.getNode().getImmediateChild(d),g=cS(t,p,h);l=Bh(t,l,new ge(d),g,r,o,s,a)}}),l}function JU(t,e,n,i,r,o,s){if(jh(r,n)!=null)return e;let a=e.serverCache.isFiltered(),l=e.serverCache;if(i.value!=null){if(ne(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bh(t,e,n,l.getNode().getChild(n),r,o,a,s);if(ne(n)){let c=new Vt(null);return l.getNode().forEachChild(ai,(u,d)=>{c=c.set(new ge(u),d)}),u_(t,e,n,c,r,o,a,s)}else return e}else{let c=new Vt(null);return i.foreach((u,d)=>{let h=Le(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),u_(t,e,n,c,r,o,a,s)}}function e$(t,e,n,i,r){let o=e.serverCache,s=qS(e,o.getNode(),o.isFullyInitialized()||ne(n),o.isFiltered());return eM(t,s,n,i,JS,r)}function t$(t,e,n,i,r,o){let s;if(jh(i,n)!=null)return e;{let a=new ec(i,e,r),l=e.eventCache.getNode(),c;if(ne(n)||te(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Vh(i,Io(e));else{let d=e.serverCache.getNode();M(d instanceof W,"serverChildren would be complete if leaf node"),u=z_(i,d)}u=u,c=t.filter.updateFullNode(l,u,o)}else{let u=te(n),d=W_(i,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,Ie(n),a,o):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,W.EMPTY_NODE,Ie(n),a,o):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Vh(i,Io(e)),s.isLeafNode()&&(c=t.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||jh(i,pe())!=null,Hl(e,c,s,t.filter.filtersNodes())}}var d_=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let i=this.query_._queryParams,r=new Zl(i.getIndex()),o=wU(i);this.processor_=YU(o);let s=n.serverCache,a=n.eventCache,l=r.updateFullNode(W.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(W.EMPTY_NODE,a.getNode(),null),u=new ci(l,s.isFullyInitialized(),r.filtersNodes()),d=new ci(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ef(d,u),this.eventGenerator_=new i_(this.query_)}get query(){return this.query_}};function n$(t){return t.viewCache_.serverCache.getNode()}function i$(t){return Lh(t.viewCache_)}function r$(t,e){let n=Io(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ne(e)&&!n.getImmediateChild(te(e)).isEmpty())?n.getChild(e):null}function uS(t){return t.eventRegistrations_.length===0}function o$(t,e){t.eventRegistrations_.push(e)}function dS(t,e,n){let i=[];if(n){M(e==null,"A cancel should cancel all event registrations.");let r=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))r.push(s);else if(e.hasAnyCallback()){r=r.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=r}else t.eventRegistrations_=[];return i}function hS(t,e,n,i){e.type===si.MERGE&&e.source.queryId!==null&&(M(Io(t.viewCache_),"We should always have a full cache before handling merges"),M(Lh(t.viewCache_),"Missing event cache, even though we have a server cache"));let r=t.viewCache_,o=QU(t.processor_,r,e,n,i);return KU(t.processor_,o.viewCache),M(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,tM(t,o.changes,o.viewCache.eventCache.getNode(),null)}function s$(t,e){let n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Ae,(o,s)=>{i.push(Zs(o,s))}),n.isFullyInitialized()&&i.push(GS(n.getNode())),tM(t,i,n.getNode(),e)}function tM(t,e,n,i){let r=i?[i]:t.eventRegistrations_;return AU(t.eventGenerator_,e,n,r)}var Uh,$h=class{constructor(){this.views=new Map}};function a$(t){M(!Uh,"__referenceConstructor has already been defined"),Uh=t}function l$(){return M(Uh,"Reference.ts has not been loaded"),Uh}function c$(t){return t.views.size===0}function G_(t,e,n,i){let r=e.source.queryId;if(r!==null){let o=t.views.get(r);return M(o!=null,"SyncTree gave us an op for an invalid query."),hS(o,e,n,i)}else{let o=[];for(let s of t.views.values())o=o.concat(hS(s,e,n,i));return o}}function nM(t,e,n,i,r){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Vh(n,r?i:null),l=!1;a?l=!0:i instanceof W?(a=z_(n,i),l=!1):(a=W.EMPTY_NODE,l=!1);let c=ef(new ci(a,l,!1),new ci(i,r,!1));return new d_(e,c)}return s}function u$(t,e,n,i,r,o){let s=nM(t,e,i,r,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),o$(s,n),s$(s,n)}function d$(t,e,n,i){let r=e._queryIdentifier,o=[],s=[],a=Ar(t);if(r==="default")for(let[l,c]of t.views.entries())s=s.concat(dS(c,n,i)),uS(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{let l=t.views.get(r);l&&(s=s.concat(dS(l,n,i)),uS(l)&&(t.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!Ar(t)&&o.push(new(l$())(e._repo,e._path)),{removed:o,events:s}}function iM(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Sr(t,e){let n=null;for(let i of t.views.values())n=n||r$(i,e);return n}function rM(t,e){if(e._queryParams.loadsAllData())return nf(t);{let i=e._queryIdentifier;return t.views.get(i)}}function oM(t,e){return rM(t,e)!=null}function Ar(t){return nf(t)!=null}function nf(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Hh;function h$(t){M(!Hh,"__referenceConstructor has already been defined"),Hh=t}function f$(){return M(Hh,"Reference.ts has not been loaded"),Hh}var p$=1,zh=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Vt(null),this.pendingWriteTree_=GU(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function q_(t,e,n,i,r){return OU(t.pendingWriteTree_,e,n,i,r),r?ra(t,new Xs(U_(),e,n)):[]}function g$(t,e,n,i){kU(t.pendingWriteTree_,e,n,i);let r=Vt.fromObject(n);return ra(t,new Jl(U_(),e,r))}function xr(t,e,n=!1){let i=FU(t.pendingWriteTree_,e);if(LU(t.pendingWriteTree_,e)){let o=new Vt(null);return i.snap!=null?o=o.set(pe(),!0):ht(i.children,s=>{o=o.set(new ge(s),!0)}),ra(t,new n_(i.path,o,n))}else return[]}function cc(t,e,n){return ra(t,new Xs($_(),e,n))}function m$(t,e,n){let i=Vt.fromObject(n);return ra(t,new Jl($_(),e,i))}function y$(t,e){return ra(t,new Fh($_(),e))}function v$(t,e,n){let i=Y_(t,n);if(i){let r=K_(i),o=r.path,s=r.queryId,a=Lt(o,e),l=new Fh(H_(s),a);return Q_(t,o,l)}else return[]}function Wh(t,e,n,i,r=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||oM(s,e))){let l=d$(s,e,n,i);c$(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let c=l.removed;if(a=l.events,!r){let u=c.findIndex(h=>h._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(h,f)=>Ar(f));if(u&&!d){let h=t.syncPointTree_.subtree(o);if(!h.isEmpty()){let f=C$(h);for(let p=0;p<f.length;++p){let g=f[p],m=g.query,y=cM(t,g);t.listenProvider_.startListening(Wl(m),tc(t,m),y.hashFn,y.onComplete)}}}!d&&c.length>0&&!i&&(u?t.listenProvider_.stopListening(Wl(e),null):c.forEach(h=>{let f=t.queryToTagMap.get(of(h));t.listenProvider_.stopListening(Wl(h),f)}))}w$(t,c)}return a}function sM(t,e,n,i){let r=Y_(t,i);if(r!=null){let o=K_(r),s=o.path,a=o.queryId,l=Lt(s,e),c=new Xs(H_(a),l,n);return Q_(t,s,c)}else return[]}function _$(t,e,n,i){let r=Y_(t,i);if(r){let o=K_(r),s=o.path,a=o.queryId,l=Lt(s,e),c=Vt.fromObject(n),u=new Jl(H_(a),l,c);return Q_(t,s,u)}else return[]}function h_(t,e,n,i=!1){let r=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(r,(h,f)=>{let p=Lt(h,r);o=o||Sr(f,p),s=s||Ar(f)});let a=t.syncPointTree_.get(r);a?(s=s||Ar(a),o=o||Sr(a,pe())):(a=new $h,t.syncPointTree_=t.syncPointTree_.set(r,a));let l;o!=null?l=!0:(l=!1,o=W.EMPTY_NODE,t.syncPointTree_.subtree(r).foreachChild((f,p)=>{let g=Sr(p,pe());g&&(o=o.updateImmediateChild(f,g))}));let c=oM(a,e);if(!c&&!e._queryParams.loadsAllData()){let h=of(e);M(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");let f=D$();t.queryToTagMap.set(h,f),t.tagToQueryMap.set(f,h)}let u=tf(t.pendingWriteTree_,r),d=u$(a,e,n,u,o,l);if(!c&&!s&&!i){let h=rM(a,e);d=d.concat(E$(t,e,h))}return d}function rf(t,e,n){let r=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let l=Lt(s,e),c=Sr(a,l);if(c)return c});return QS(r,e,o,n,!0)}function b$(t,e){let n=e._path,i=null;t.syncPointTree_.foreachOnPath(n,(c,u)=>{let d=Lt(c,n);i=i||Sr(u,d)});let r=t.syncPointTree_.get(n);r?i=i||Sr(r,pe()):(r=new $h,t.syncPointTree_=t.syncPointTree_.set(n,r));let o=i!=null,s=o?new ci(i,!0,!1):null,a=tf(t.pendingWriteTree_,e._path),l=nM(r,e,a,o?s.getNode():W.EMPTY_NODE,o);return i$(l)}function ra(t,e){return aM(e,t.syncPointTree_,null,tf(t.pendingWriteTree_,pe()))}function aM(t,e,n,i){if(ne(t.path))return lM(t,e,n,i);{let r=e.get(pe());n==null&&r!=null&&(n=Sr(r,pe()));let o=[],s=te(t.path),a=t.operationForChild(s),l=e.children.get(s);if(l&&a){let c=n?n.getImmediateChild(s):null,u=ZS(i,s);o=o.concat(aM(a,l,c,u))}return r&&(o=o.concat(G_(r,t,i,n))),o}}function lM(t,e,n,i){let r=e.get(pe());n==null&&r!=null&&(n=Sr(r,pe()));let o=[];return e.children.inorderTraversal((s,a)=>{let l=n?n.getImmediateChild(s):null,c=ZS(i,s),u=t.operationForChild(s);u&&(o=o.concat(lM(u,a,l,c)))}),r&&(o=o.concat(G_(r,t,i,n))),o}function cM(t,e){let n=e.query,i=tc(t,n);return{hashFn:()=>(n$(e)||W.EMPTY_NODE).hash(),onComplete:r=>{if(r==="ok")return i?v$(t,n._path,i):y$(t,n._path);{let o=OB(r,n);return Wh(t,n,null,o)}}}}function tc(t,e){let n=of(e);return t.queryToTagMap.get(n)}function of(t){return t._path.toString()+"$"+t._queryIdentifier}function Y_(t,e){return t.tagToQueryMap.get(e)}function K_(t){let e=t.indexOf("$");return M(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ge(t.substr(0,e))}}function Q_(t,e,n){let i=t.syncPointTree_.get(e);M(i,"Missing sync point for query tag that we're tracking");let r=tf(t.pendingWriteTree_,e);return G_(i,n,r,null)}function C$(t){return t.fold((e,n,i)=>{if(n&&Ar(n))return[nf(n)];{let r=[];return n&&(r=iM(n)),ht(i,(o,s)=>{r=r.concat(s)}),r}})}function Wl(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(f$())(t._repo,t._path):t}function w$(t,e){for(let n=0;n<e.length;++n){let i=e[n];if(!i._queryParams.loadsAllData()){let r=of(i),o=t.queryToTagMap.get(r);t.queryToTagMap.delete(r),t.tagToQueryMap.delete(o)}}}function D$(){return p$++}function E$(t,e,n){let i=e._path,r=tc(t,e),o=cM(t,n),s=t.listenProvider_.startListening(Wl(e),r,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(i);if(r)M(!Ar(a.value),"If we're adding a query, it shouldn't be shadowed");else{let l=a.fold((c,u,d)=>{if(!ne(c)&&u&&Ar(u))return[nf(u).query];{let h=[];return u&&(h=h.concat(iM(u).map(f=>f.query))),ht(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){let u=l[c];t.listenProvider_.stopListening(Wl(u),tc(t,u))}}return s}var f_=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},p_=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Le(this.path_,e);return new t(this.syncTree_,n)}node(){return rf(this.syncTree_,this.path_)}},x$=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},fS=function(t,e,n){if(!t||typeof t!="object")return t;if(M(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return I$(t[".sv"],e,n);if(typeof t[".sv"]=="object")return S$(t[".sv"],e);M(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},I$=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:M(!1,"Unexpected server value: "+t)}},S$=function(t,e,n){t.hasOwnProperty("increment")||M(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let i=t.increment;typeof i!="number"&&M(!1,"Unexpected increment value: "+i);let r=e.node();if(M(r!==null&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;let s=r.getValue();return typeof s!="number"?i:s+i},uM=function(t,e,n,i){return X_(e,new p_(n,t),i)},Z_=function(t,e,n){return X_(t,new f_(e),n)};function X_(t,e,n){let i=t.getPriority().val(),r=fS(i,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=fS(s.getValue(),e,n);return a!==s.getValue()||r!==s.getPriority().val()?new Ks(a,$e(r)):t}else{let s=t;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new Ks(r))),s.forEachChild(Ae,(a,l)=>{let c=X_(l,e.getImmediateChild(a),n);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}var nc=class{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}};function sf(t,e){let n=e instanceof ge?e:new ge(e),i=t,r=te(n);for(;r!==null;){let o=Zi(i.node.children,r)||{children:{},childCount:0};i=new nc(r,i,o),n=Ie(n),r=te(n)}return i}function To(t){return t.node.value}function J_(t,e){t.node.value=e,g_(t)}function dM(t){return t.node.childCount>0}function M$(t){return To(t)===void 0&&!dM(t)}function af(t,e){ht(t.node.children,(n,i)=>{e(new nc(n,t,i))})}function hM(t,e,n,i){n&&!i&&e(t),af(t,r=>{hM(r,e,!0,i)}),n&&i&&e(t)}function T$(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function uc(t){return new ge(t.parent===null?t.name:uc(t.parent)+"/"+t.name)}function g_(t){t.parent!==null&&A$(t.parent,t.name,t)}function A$(t,e,n){let i=M$(n),r=un(t.node.children,e);i&&r?(delete t.node.children[e],t.node.childCount--,g_(t)):!i&&!r&&(t.node.children[e]=n.node,t.node.childCount++,g_(t))}var P$=/[\[\].#$\/\u0000-\u001F\u007F]/,N$=/[\[\].#$\u0000-\u001F\u007F]/,Iv=10*1024*1024,lf=function(t){return typeof t=="string"&&t.length!==0&&!P$.test(t)},fM=function(t){return typeof t=="string"&&t.length!==0&&!N$.test(t)},R$=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fM(t)},ic=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Xh(t)||t&&typeof t=="object"&&un(t,".sv")},ui=function(t,e,n,i){i&&e===void 0||dc(Bt(t,"value"),e,n)},dc=function(t,e,n){let i=n instanceof ge?new jv(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Do(i));if(typeof e=="function")throw new Error(t+"contains a function "+Do(i)+" with contents = "+e.toString());if(Xh(e))throw new Error(t+"contains "+e.toString()+" "+Do(i));if(typeof e=="string"&&e.length>Iv/3&&xa(e)>Iv)throw new Error(t+"contains a string greater than "+Iv+" utf8 bytes "+Do(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let r=!1,o=!1;if(ht(e,(s,a)=>{if(s===".value")r=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!lf(s)))throw new Error(t+" contains an invalid key ("+s+") "+Do(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);cU(i,s),dc(t,a,i),uU(i)}),r&&o)throw new Error(t+' contains ".value" child '+Do(i)+" in addition to actual children.")}},O$=function(t,e){let n,i;for(n=0;n<e.length;n++){i=e[n];let o=ql(i);for(let s=0;s<o.length;s++)if(!(o[s]===".priority"&&s===o.length-1)){if(!lf(o[s]))throw new Error(t+"contains an invalid key ("+o[s]+") in path "+i.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(lU);let r=null;for(n=0;n<e.length;n++){if(i=e[n],r!==null&&wn(r,i))throw new Error(t+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}},pM=function(t,e,n,i){if(i&&e===void 0)return;let r=Bt(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");let o=[];ht(e,(s,a)=>{let l=new ge(s);if(dc(r,a,Le(n,l)),F_(l)===".priority"&&!ic(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),O$(r,o)},e0=function(t,e,n){if(!(n&&e===void 0)){if(Xh(e))throw new Error(Bt(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ic(e))throw new Error(Bt(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hc=function(t,e,n,i){if(!(i&&n===void 0)&&!lf(n))throw new Error(Bt(t,e)+'was an invalid key = "'+n+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},oa=function(t,e,n,i){if(!(i&&n===void 0)&&!fM(n))throw new Error(Bt(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},k$=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),oa(t,e,n,i)},on=function(t,e){if(te(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},gM=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lf(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!R$(n))throw new Error(Bt(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var m_=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function cf(t,e){let n=null;for(let i=0;i<e.length;i++){let r=e[i],o=r.getPath();n!==null&&!L_(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(r)}n&&t.eventLists_.push(n)}function mM(t,e,n){cf(t,n),yM(t,i=>L_(i,e))}function sn(t,e,n){cf(t,n),yM(t,i=>wn(i,e)||wn(e,i))}function yM(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){let r=t.eventLists_[i];if(r){let o=r.path;e(o)?(F$(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function F$(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let i=n.getEventRunner();xo&&dt("event: "+n.toString()),na(i)}}}var vM="repo_interrupt",L$=25,y_=class{constructor(e,n,i,r){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new m_,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=kh(),this.transactionQueueTree_=new nc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function V$(t,e,n){if(t.stats_=k_(t.repoInfo_),t.forceRestClient_||VB())t.server_=new Qv(t.repoInfo_,(i,r,o,s)=>{pS(t,i,r,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>gS(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ze(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new V_(t.repoInfo_,e,(i,r,o,s)=>{pS(t,i,r,o,s)},i=>{gS(t,i)},i=>{j$(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=BB(t.repoInfo_,()=>new t_(t.stats_,t.server_)),t.infoData_=new Zv,t.infoSyncTree_=new zh({startListening:(i,r,o,s)=>{let a=[],l=t.infoData_.getNode(i._path);return l.isEmpty()||(a=cc(t.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),t0(t,"connected",!1),t.serverSyncTree_=new zh({startListening:(i,r,o,s)=>(t.server_.listen(i,o,r,(a,l)=>{let c=s(a,l);sn(t.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{t.server_.unlisten(i,r)}})}function _M(t){let n=t.infoData_.getNode(new ge(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fc(t){return x$({timestamp:_M(t)})}function pS(t,e,n,i,r){t.dataUpdateCount++;let o=new ge(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(r)if(i){let l=Ea(n,c=>$e(c));s=_$(t.serverSyncTree_,o,l,r)}else{let l=$e(n);s=sM(t.serverSyncTree_,o,l,r)}else if(i){let l=Ea(n,c=>$e(c));s=m$(t.serverSyncTree_,o,l)}else{let l=$e(n);s=cc(t.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=ea(t,o)),sn(t.eventQueue_,a,s)}function gS(t,e){t0(t,"connected",e),e===!1&&$$(t)}function j$(t,e){ht(e,(n,i)=>{t0(t,n,i)})}function t0(t,e,n){let i=new ge("/.info/"+e),r=$e(n);t.infoData_.updateSnapshot(i,r);let o=cc(t.infoSyncTree_,i,r);sn(t.eventQueue_,i,o)}function uf(t){return t.nextWriteId_++}function B$(t,e,n){let i=b$(t.serverSyncTree_,e);return i!=null?Promise.resolve(i):t.server_.get(e).then(r=>{let o=$e(r).withIndex(e._queryParams.getIndex());h_(t.serverSyncTree_,e,n,!0);let s;if(e._queryParams.loadsAllData())s=cc(t.serverSyncTree_,e._path,o);else{let a=tc(t.serverSyncTree_,e);s=sM(t.serverSyncTree_,e._path,o,a)}return sn(t.eventQueue_,e._path,s),Wh(t.serverSyncTree_,e,n,null,!0),o},r=>(sa(t,"get for query "+Ze(e)+" failed: "+r),Promise.reject(new Error(r))))}function n0(t,e,n,i,r){sa(t,"set",{path:e.toString(),value:n,priority:i});let o=fc(t),s=$e(n,i),a=rf(t.serverSyncTree_,e),l=Z_(s,a,o),c=uf(t),u=q_(t.serverSyncTree_,e,l,c,!0);cf(t.eventQueue_,u),t.server_.put(e.toString(),s.val(!0),(h,f)=>{let p=h==="ok";p||St("set at "+e+" failed: "+h);let g=xr(t.serverSyncTree_,c,!p);sn(t.eventQueue_,e,g),Pr(t,r,h,f)});let d=r0(t,e);ea(t,d),sn(t.eventQueue_,d,[])}function U$(t,e,n,i){sa(t,"update",{path:e.toString(),value:n});let r=!0,o=fc(t),s={};if(ht(n,(a,l)=>{r=!1,s[a]=uM(Le(e,a),$e(l),t.serverSyncTree_,o)}),r)dt("update() called with empty data.  Don't do anything."),Pr(t,i,"ok",void 0);else{let a=uf(t),l=g$(t.serverSyncTree_,e,s,a);cf(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,u)=>{let d=c==="ok";d||St("update at "+e+" failed: "+c);let h=xr(t.serverSyncTree_,a,!d),f=h.length>0?ea(t,e):e;sn(t.eventQueue_,f,h),Pr(t,i,c,u)}),ht(n,c=>{let u=r0(t,Le(e,c));ea(t,u)}),sn(t.eventQueue_,e,[])}}function $$(t){sa(t,"onDisconnectEvents");let e=fc(t),n=kh();Jv(t.onDisconnect_,pe(),(r,o)=>{let s=uM(r,o,t.serverSyncTree_,e);ia(n,r,s)});let i=[];Jv(n,pe(),(r,o)=>{i=i.concat(cc(t.serverSyncTree_,r,o));let s=r0(t,r);ea(t,s)}),t.onDisconnect_=kh(),sn(t.eventQueue_,pe(),i)}function H$(t,e,n){t.server_.onDisconnectCancel(e.toString(),(i,r)=>{i==="ok"&&Xv(t.onDisconnect_,e),Pr(t,n,i,r)})}function mS(t,e,n,i){let r=$e(n);t.server_.onDisconnectPut(e.toString(),r.val(!0),(o,s)=>{o==="ok"&&ia(t.onDisconnect_,e,r),Pr(t,i,o,s)})}function z$(t,e,n,i,r){let o=$e(n,i);t.server_.onDisconnectPut(e.toString(),o.val(!0),(s,a)=>{s==="ok"&&ia(t.onDisconnect_,e,o),Pr(t,r,s,a)})}function W$(t,e,n,i){if(Uc(n)){dt("onDisconnect().update() called with empty data.  Don't do anything."),Pr(t,i,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),n,(r,o)=>{r==="ok"&&ht(n,(s,a)=>{let l=$e(a);ia(t.onDisconnect_,Le(e,s),l)}),Pr(t,i,r,o)})}function G$(t,e,n){let i;te(e._path)===".info"?i=h_(t.infoSyncTree_,e,n):i=h_(t.serverSyncTree_,e,n),mM(t.eventQueue_,e._path,i)}function v_(t,e,n){let i;te(e._path)===".info"?i=Wh(t.infoSyncTree_,e,n):i=Wh(t.serverSyncTree_,e,n),mM(t.eventQueue_,e._path,i)}function bM(t){t.persistentConnection_&&t.persistentConnection_.interrupt(vM)}function q$(t){t.persistentConnection_&&t.persistentConnection_.resume(vM)}function sa(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),dt(n,...e)}function Pr(t,e,n,i){e&&na(()=>{if(n==="ok")e(null);else{let r=(n||"error").toUpperCase(),o=r;i&&(o+=": "+i);let s=new Error(o);s.code=r,e(s)}})}function Y$(t,e,n,i,r,o){sa(t,"transaction on "+e);let s={path:e,update:n,onComplete:i,status:null,order:_S(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=i0(t,e,void 0);s.currentInputSnapshot=a;let l=s.update(a.val());if(l===void 0)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{dc("transaction failed: Data returned ",l,s.path),s.status=0;let c=sf(t.transactionQueueTree_,e),u=To(c)||[];u.push(s),J_(c,u);let d;typeof l=="object"&&l!==null&&un(l,".priority")?(d=Zi(l,".priority"),M(ic(d),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):d=(rf(t.serverSyncTree_,e)||W.EMPTY_NODE).getPriority().val();let h=fc(t),f=$e(l,d),p=Z_(f,a,h);s.currentOutputSnapshotRaw=f,s.currentOutputSnapshotResolved=p,s.currentWriteId=uf(t);let g=q_(t.serverSyncTree_,e,p,s.currentWriteId,s.applyLocally);sn(t.eventQueue_,e,g),df(t,t.transactionQueueTree_)}}function i0(t,e,n){return rf(t.serverSyncTree_,e,n)||W.EMPTY_NODE}function df(t,e=t.transactionQueueTree_){if(e||hf(t,e),To(e)){let n=wM(t,e);M(n.length>0,"Sending zero length transaction queue"),n.every(r=>r.status===0)&&K$(t,uc(e),n)}else dM(e)&&af(e,n=>{df(t,n)})}function K$(t,e,n){let i=n.map(c=>c.currentWriteId),r=i0(t,e,i),o=r,s=r.hash();for(let c=0;c<n.length;c++){let u=n[c];M(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Lt(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),l=e;t.server_.put(l.toString(),a,c=>{sa(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){let d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(xr(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();hf(t,sf(t.transactionQueueTree_,e)),df(t,t.transactionQueueTree_),sn(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)na(d[h])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{St("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}ea(t,e)}},s)}function ea(t,e){let n=CM(t,e),i=uc(n),r=wM(t,n);return Q$(t,r,i),i}function Q$(t,e,n){if(e.length===0)return;let i=[],r=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let l=e[a],c=Lt(n,l.path),u=!1,d;if(M(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,r=r.concat(xr(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=L$)u=!0,d="maxretry",r=r.concat(xr(t.serverSyncTree_,l.currentWriteId,!0));else{let h=i0(t,l.path,s);l.currentInputSnapshot=h;let f=e[a].update(h.val());if(f!==void 0){dc("transaction failed: Data returned ",f,l.path);let p=$e(f);typeof f=="object"&&f!=null&&un(f,".priority")||(p=p.updatePriority(h.getPriority()));let m=l.currentWriteId,y=fc(t),v=Z_(p,h,y);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=uf(t),s.splice(s.indexOf(m),1),r=r.concat(q_(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),r=r.concat(xr(t.serverSyncTree_,m,!0))}else u=!0,d="nodata",r=r.concat(xr(t.serverSyncTree_,l.currentWriteId,!0))}sn(t.eventQueue_,n,r),r=[],u&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?i.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):i.push(()=>e[a].onComplete(new Error(d),!1,null))))}hf(t,t.transactionQueueTree_);for(let a=0;a<i.length;a++)na(i[a]);df(t,t.transactionQueueTree_)}function CM(t,e){let n,i=t.transactionQueueTree_;for(n=te(e);n!==null&&To(i)===void 0;)i=sf(i,n),e=Ie(e),n=te(e);return i}function wM(t,e){let n=[];return DM(t,e,n),n.sort((i,r)=>i.order-r.order),n}function DM(t,e,n){let i=To(e);if(i)for(let r=0;r<i.length;r++)n.push(i[r]);af(e,r=>{DM(t,r,n)})}function hf(t,e){let n=To(e);if(n){let i=0;for(let r=0;r<n.length;r++)n[r].status!==2&&(n[i]=n[r],i++);n.length=i,J_(e,n.length>0?n:void 0)}af(e,i=>{hf(t,i)})}function r0(t,e){let n=uc(CM(t,e)),i=sf(t.transactionQueueTree_,e);return T$(i,r=>{Sv(t,r)}),Sv(t,i),hM(i,r=>{Sv(t,r)}),n}function Sv(t,e){let n=To(e);if(n){let i=[],r=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(M(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(M(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),r=r.concat(xr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&i.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?J_(e,void 0):n.length=o+1,sn(t.eventQueue_,uc(e),r);for(let s=0;s<i.length;s++)na(i[s])}}function Z$(t){let e="",n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}function X$(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):St(`Invalid query segment '${n}' in query '${t}'`)}return e}var __=function(t,e){let n=J$(t),i=n.namespace;n.domain==="firebase.com"&&li(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&li("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||TB();let r=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Sh(n.host,n.secure,i,r,e,"",i!==n.subdomain),path:new ge(n.pathString)}},J$=function(t){let e="",n="",i="",r="",o="",s=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(r=Z$(t.substring(u,d)));let h=X$(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(s=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;let f=e.slice(0,c);if(f.toLowerCase()==="localhost")n="localhost";else if(f.split(".").length<=2)n=f;else{let p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:n,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}};var yS="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",eH=function(){let t=0,e=[];return function(n){let i=n===t;t=n;let r,o=new Array(8);for(r=7;r>=0;r--)o[r]=yS.charAt(n%64),n=Math.floor(n/64);M(n===0,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&e[r]===63;r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(Math.random()*64);for(r=0;r<12;r++)s+=yS.charAt(e[r]);return M(s.length===20,"nextPushId: Length should be 20."),s}}();var Gh=class{constructor(e,n,i,r){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=r}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ze(this.snapshot.exportVal())}},qh=class{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var rc=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return M(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Yh=class{constructor(e,n){this._repo=e,this._path=n}cancel(){let e=new ot;return H$(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){on("OnDisconnect.remove",this._path);let e=new ot;return mS(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){on("OnDisconnect.set",this._path),ui("OnDisconnect.set",e,this._path,!1);let n=new ot;return mS(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}setWithPriority(e,n){on("OnDisconnect.setWithPriority",this._path),ui("OnDisconnect.setWithPriority",e,this._path,!1),e0("OnDisconnect.setWithPriority",n,!1);let i=new ot;return z$(this._repo,this._path,e,n,i.wrapCallback(()=>{})),i.promise}update(e){on("OnDisconnect.update",this._path),pM("OnDisconnect.update",e,this._path,!1);let n=new ot;return W$(this._repo,this._path,e,n.wrapCallback(()=>{})),n.promise}};var jt=class t{constructor(e,n,i,r){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=r}get key(){return ne(this._path)?null:F_(this._path)}get ref(){return new an(this._repo,this._path)}get _queryIdentifier(){let e=iS(this._queryParams),n=O_(e);return n==="{}"?"default":n}get _queryObject(){return iS(this._queryParams)}isEqual(e){if(e=Tt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,i=L_(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return n&&i&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+aU(this._path)}};function ff(t,e){if(t._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function Rr(t){let e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===ai){let i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Mr)throw new Error(i);if(typeof e!="string")throw new Error(r)}if(t.hasEnd()){if(t.getIndexEndName()!==$i)throw new Error(i);if(typeof n!="string")throw new Error(r)}}else if(t.getIndex()===Ae){if(e!=null&&!ic(e)||n!=null&&!ic(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(M(t.getIndex()instanceof Yl||t.getIndex()===B_,"unknown index type."),e!=null&&typeof e=="object"||n!=null&&typeof n=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function pf(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var an=class t extends jt{constructor(e,n){super(e,n,new Xl,!1)}get parent(){let e=BS(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},ta=class t{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ge(e),i=Nr(this.ref,e);return new t(this._node.getChild(n),i,Ae)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,r)=>e(new t(r,Nr(this.ref,i),Ae)))}hasChild(e){let n=new ge(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function o0(t,e){return t=Tt(t),t._checkNotDeleted("ref"),e!==void 0?Nr(t._root,e):t._root}function s0(t,e){t=Tt(t),t._checkNotDeleted("refFromURL");let n=__(e,t._repo.repoInfo_.nodeAdmin);gM("refFromURL",n);let i=n.repoInfo;return!t._repo.repoInfo_.isCustomHost()&&i.host!==t._repo.repoInfo_.host&&li("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+t._repo.repoInfo_.host+")"),o0(t,n.path.toString())}function Nr(t,e){return t=Tt(t),te(t._path)===null?k$("child","path",e,!1):oa("child","path",e,!1),new an(t._repo,Le(t._path,e))}function EM(t,e){t=Tt(t),on("push",t._path),ui("push",e,t._path,!0);let n=_M(t._repo),i=eH(n),r=Nr(t,i),o=Nr(t,i),s;return e!=null?s=gf(o,e).then(()=>o):s=Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function xM(t){return on("remove",t._path),gf(t,null)}function gf(t,e){t=Tt(t),on("set",t._path),ui("set",e,t._path,!1);let n=new ot;return n0(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function IM(t,e){t=Tt(t),on("setPriority",t._path),e0("setPriority",e,!1);let n=new ot;return n0(t._repo,Le(t._path,".priority"),e,null,n.wrapCallback(()=>{})),n.promise}function SM(t,e,n){if(on("setWithPriority",t._path),ui("setWithPriority",e,t._path,!1),e0("setWithPriority",n,!1),t.key===".length"||t.key===".keys")throw"setWithPriority failed: "+t.key+" is a read-only object.";let i=new ot;return n0(t._repo,t._path,e,n,i.wrapCallback(()=>{})),i.promise}function MM(t,e){pM("update",e,t._path,!1);let n=new ot;return U$(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function TM(t){t=Tt(t);let e=new rc(()=>{}),n=new oc(e);return B$(t._repo,t,n).then(i=>new ta(i,new an(t._repo,t._path),t._queryParams.getIndex()))}var oc=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let i=n._queryParams.getIndex();return new Gh("value",this,new ta(e.snapshotNode,new an(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qh(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Kh=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new qh(this,e,n):null}createEvent(e,n){M(e.childName!=null,"Child events should have a childName.");let i=Nr(new an(n._repo,n._path),e.childName),r=n._queryParams.getIndex();return new Gh(e.type,this,new ta(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function pc(t,e,n,i,r){let o;if(typeof i=="object"&&(o=void 0,r=i),typeof i=="function"&&(o=i),r&&r.onlyOnce){let l=n,c=(u,d)=>{v_(t._repo,t,a),l(u,d)};c.userCallback=n.userCallback,c.context=n.context,n=c}let s=new rc(n,o||void 0),a=e==="value"?new oc(s):new Kh(e,s);return G$(t._repo,t,a),()=>v_(t._repo,t,a)}function mf(t,e,n,i){return pc(t,"value",e,n,i)}function a0(t,e,n,i){return pc(t,"child_added",e,n,i)}function l0(t,e,n,i){return pc(t,"child_changed",e,n,i)}function c0(t,e,n,i){return pc(t,"child_moved",e,n,i)}function u0(t,e,n,i){return pc(t,"child_removed",e,n,i)}function d0(t,e,n){let i=null,r=n?new rc(n):null;e==="value"?i=new oc(r):e&&(i=new Kh(e,r)),v_(t._repo,t,i)}var ln=class{},Qh=class extends ln{constructor(e,n){super(),this._value=e,this._key=n,this.type="endAt"}_apply(e){ui("endAt",this._value,e._path,!0);let n=Kv(e._queryParams,this._value,this._key);if(pf(n),Rr(n),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function AM(t,e){return hc("endAt","key",e,!0),new Qh(t,e)}var b_=class extends ln{constructor(e,n){super(),this._value=e,this._key=n,this.type="endBefore"}_apply(e){ui("endBefore",this._value,e._path,!1);let n=IU(e._queryParams,this._value,this._key);if(pf(n),Rr(n),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function PM(t,e){return hc("endBefore","key",e,!0),new b_(t,e)}var Zh=class extends ln{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAt"}_apply(e){ui("startAt",this._value,e._path,!0);let n=Yv(e._queryParams,this._value,this._key);if(pf(n),Rr(n),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function NM(t=null,e){return hc("startAt","key",e,!0),new Zh(t,e)}var C_=class extends ln{constructor(e,n){super(),this._value=e,this._key=n,this.type="startAfter"}_apply(e){ui("startAfter",this._value,e._path,!1);let n=xU(e._queryParams,this._value,this._key);if(pf(n),Rr(n),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new jt(e._repo,e._path,n,e._orderByCalled)}};function RM(t,e){return hc("startAfter","key",e,!0),new C_(t,e)}var w_=class extends ln{constructor(e){super(),this._limit=e,this.type="limitToFirst"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new jt(e._repo,e._path,DU(e._queryParams,this._limit),e._orderByCalled)}};function OM(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new w_(t)}var D_=class extends ln{constructor(e){super(),this._limit=e,this.type="limitToLast"}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new jt(e._repo,e._path,EU(e._queryParams,this._limit),e._orderByCalled)}};function kM(t){if(typeof t!="number"||Math.floor(t)!==t||t<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new D_(t)}var E_=class extends ln{constructor(e){super(),this._path=e,this.type="orderByChild"}_apply(e){ff(e,"orderByChild");let n=new ge(this._path);if(ne(n))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let i=new Yl(n),r=Jh(e._queryParams,i);return Rr(r),new jt(e._repo,e._path,r,!0)}};function FM(t){if(t==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(t==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(t==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return oa("orderByChild","path",t,!1),new E_(t)}var x_=class extends ln{constructor(){super(...arguments),this.type="orderByKey"}_apply(e){ff(e,"orderByKey");let n=Jh(e._queryParams,ai);return Rr(n),new jt(e._repo,e._path,n,!0)}};function LM(){return new x_}var I_=class extends ln{constructor(){super(...arguments),this.type="orderByPriority"}_apply(e){ff(e,"orderByPriority");let n=Jh(e._queryParams,Ae);return Rr(n),new jt(e._repo,e._path,n,!0)}};function VM(){return new I_}var S_=class extends ln{constructor(){super(...arguments),this.type="orderByValue"}_apply(e){ff(e,"orderByValue");let n=Jh(e._queryParams,B_);return Rr(n),new jt(e._repo,e._path,n,!0)}};function jM(){return new S_}var M_=class extends ln{constructor(e,n){super(),this._value=e,this._key=n,this.type="equalTo"}_apply(e){if(ui("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qh(this._value,this._key)._apply(new Zh(this._value,this._key)._apply(e))}};function BM(t,e){return hc("equalTo","key",e,!0),new M_(t,e)}function En(t,...e){let n=Tt(t);for(let i of e)n=i._apply(n);return n}a$(an);h$(an);var tH="FIREBASE_DATABASE_EMULATOR_HOST",T_={},nH=!1;function iH(t,e,n,i){t.repoInfo_=new Sh(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function h0(t,e,n,i,r){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||li("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),dt("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=__(o,r),a=s.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[tH]),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=__(o,r),a=s.repoInfo):l=!s.repoInfo.secure;let u=r&&l?new $l($l.OWNER):new Rv(t.name,t.options,e);gM("Invalid Firebase Database URL",s),ne(s.path)||li("Database URL must point to the root of a Firebase Database (not including a child path).");let d=oH(a,t,u,new Nv(t.name,n));return new A_(d,t)}function rH(t,e){let n=T_[e];(!n||n[t.key]!==t)&&li(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bM(t),delete n[t.key]}function oH(t,e,n,i){let r=T_[e.name];r||(r={},T_[e.name]=r);let o=r[t.toURLString()];return o&&li("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new y_(t,nH,n,i),r[t.toURLString()]=o,o}var A_=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(V$(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new an(this._repo,pe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(rH(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&li("Cannot call "+e+" on a deleted database.")}};function UM(){jS.IS_TRANSPORT_INITIALIZED&&St("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function $M(){UM(),Gl.forceDisallow()}function HM(){UM(),Ws.forceDisallow(),Gl.forceAllow()}function zM(t,e,n,i={}){t=Tt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&li("Cannot call useEmulator() after instance has already been initialized.");let r=t._repoInternal,o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&li('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new $l($l.OWNER);else if(i.mockUserToken){let s=typeof i.mockUserToken=="string"?i.mockUserToken:Rb(i.mockUserToken,t.app.options.projectId);o=new $l(s)}iH(r,e,n,o)}function WM(t){t=Tt(t),t._checkNotDeleted("goOffline"),bM(t._repo)}function GM(t){t=Tt(t),t._checkNotDeleted("goOnline"),q$(t._repo)}function qM(t,e){CS(t,e)}function sH(t){R_(Hb),Ia(new yi("database",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return h0(i,r,o,n)},"PUBLIC").setMultipleInstances(!0)),Xi(BI,UI,t),Xi(BI,UI,"esm2017")}var aH={".sv":"timestamp"};function YM(){return aH}function KM(t){return{".sv":{increment:t}}}var P_=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function QM(t,e,n){var i;if(t=Tt(t),on("Reference.transaction",t._path),t.key===".length"||t.key===".keys")throw"Reference.transaction failed: "+t.key+" is a read-only object.";let r=(i=n?.applyLocally)!==null&&i!==void 0?i:!0,o=new ot,s=(l,c,u)=>{let d=null;l?o.reject(l):(d=new ta(u,new an(t._repo,t._path),Ae),o.resolve(new P_(c,d)))},a=mf(t,()=>{});return Y$(t._repo,t._path,e,s,a,r),o.promise}V_.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};V_.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};sH();var lH="@firebase/database-compat",cH="1.0.4";var uH=new zo("@firebase/database-compat"),ZM=function(t){let e="FIREBASE WARNING: "+t;uH.warn(e)};var dH=function(t,e,n,i){if(!(i&&n===void 0)&&typeof n!="boolean")throw new Error(Bt(t,e)+"must be a boolean.")},hH=function(t,e,n){if(!(n&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Bt(t,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var f0=class{constructor(e){this._delegate=e}cancel(e){U("OnDisconnect.cancel",0,1,arguments.length),it("OnDisconnect.cancel","onComplete",e,!0);let n=this._delegate.cancel();return e&&n.then(()=>e(null),i=>e(i)),n}remove(e){U("OnDisconnect.remove",0,1,arguments.length),it("OnDisconnect.remove","onComplete",e,!0);let n=this._delegate.remove();return e&&n.then(()=>e(null),i=>e(i)),n}set(e,n){U("OnDisconnect.set",1,2,arguments.length),it("OnDisconnect.set","onComplete",n,!0);let i=this._delegate.set(e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){U("OnDisconnect.setWithPriority",2,3,arguments.length),it("OnDisconnect.setWithPriority","onComplete",i,!0);let r=this._delegate.setWithPriority(e,n);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,n){if(U("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,ZM("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}it("OnDisconnect.update","onComplete",n,!0);let i=this._delegate.update(e);return n&&i.then(()=>n(null),r=>n(r)),i}};var p0=class{constructor(e,n){this.committed=e,this.snapshot=n}toJSON(){return U("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var Ao=class t{constructor(e,n){this._database=e,this._delegate=n}val(){return U("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return U("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return U("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return U("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return U("DataSnapshot.child",0,1,arguments.length),e=String(e),oa("DataSnapshot.child","path",e,!1),new t(this._database,this._delegate.child(e))}hasChild(e){return U("DataSnapshot.hasChild",1,1,arguments.length),oa("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return U("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return U("DataSnapshot.forEach",1,1,arguments.length),it("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(n=>e(new t(this._database,n)))}hasChildren(){return U("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return U("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return U("DataSnapshot.ref",0,0,arguments.length),new Hi(this._database,this._delegate.ref)}get ref(){return this.getRef()}},yf=class t{constructor(e,n){this.database=e,this._delegate=n}on(e,n,i,r){var o;U("Query.on",2,4,arguments.length),it("Query.on","callback",n,!1);let s=t.getCancelAndContextArgs_("Query.on",i,r),a=(c,u)=>{n.call(s.context,new Ao(this.database,c),u)};a.userCallback=n,a.context=s.context;let l=(o=s.cancel)===null||o===void 0?void 0:o.bind(s.context);switch(e){case"value":return mf(this._delegate,a,l),n;case"child_added":return a0(this._delegate,a,l),n;case"child_removed":return u0(this._delegate,a,l),n;case"child_changed":return l0(this._delegate,a,l),n;case"child_moved":return c0(this._delegate,a,l),n;default:throw new Error(Bt("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,n,i){if(U("Query.off",0,3,arguments.length),hH("Query.off",e,!0),it("Query.off","callback",n,!0),dp("Query.off","context",i,!0),n){let r=()=>{};r.userCallback=n,r.context=i,d0(this._delegate,e,r)}else d0(this._delegate,e)}get(){return TM(this._delegate).then(e=>new Ao(this.database,e))}once(e,n,i,r){U("Query.once",1,4,arguments.length),it("Query.once","callback",n,!0);let o=t.getCancelAndContextArgs_("Query.once",i,r),s=new ot,a=(c,u)=>{let d=new Ao(this.database,c);n&&n.call(o.context,d,u),s.resolve(d)};a.userCallback=n,a.context=o.context;let l=c=>{o.cancel&&o.cancel.call(o.context,c),s.reject(c)};switch(e){case"value":mf(this._delegate,a,l,{onlyOnce:!0});break;case"child_added":a0(this._delegate,a,l,{onlyOnce:!0});break;case"child_removed":u0(this._delegate,a,l,{onlyOnce:!0});break;case"child_changed":l0(this._delegate,a,l,{onlyOnce:!0});break;case"child_moved":c0(this._delegate,a,l,{onlyOnce:!0});break;default:throw new Error(Bt("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return s.promise}limitToFirst(e){return U("Query.limitToFirst",1,1,arguments.length),new t(this.database,En(this._delegate,OM(e)))}limitToLast(e){return U("Query.limitToLast",1,1,arguments.length),new t(this.database,En(this._delegate,kM(e)))}orderByChild(e){return U("Query.orderByChild",1,1,arguments.length),new t(this.database,En(this._delegate,FM(e)))}orderByKey(){return U("Query.orderByKey",0,0,arguments.length),new t(this.database,En(this._delegate,LM()))}orderByPriority(){return U("Query.orderByPriority",0,0,arguments.length),new t(this.database,En(this._delegate,VM()))}orderByValue(){return U("Query.orderByValue",0,0,arguments.length),new t(this.database,En(this._delegate,jM()))}startAt(e=null,n){return U("Query.startAt",0,2,arguments.length),new t(this.database,En(this._delegate,NM(e,n)))}startAfter(e=null,n){return U("Query.startAfter",0,2,arguments.length),new t(this.database,En(this._delegate,RM(e,n)))}endAt(e=null,n){return U("Query.endAt",0,2,arguments.length),new t(this.database,En(this._delegate,AM(e,n)))}endBefore(e=null,n){return U("Query.endBefore",0,2,arguments.length),new t(this.database,En(this._delegate,PM(e,n)))}equalTo(e,n){return U("Query.equalTo",1,2,arguments.length),new t(this.database,En(this._delegate,BM(e,n)))}toString(){return U("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return U("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(U("Query.isEqual",1,1,arguments.length),!(e instanceof t)){let n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,n,i){let r={cancel:void 0,context:void 0};if(n&&i)r.cancel=n,it(e,"cancel",r.cancel,!0),r.context=i,dp(e,"context",r.context,!0);else if(n)if(typeof n=="object"&&n!==null)r.context=n;else if(typeof n=="function")r.cancel=n;else throw new Error(Bt(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return r}get ref(){return new Hi(this.database,new an(this._delegate._repo,this._delegate._path))}},Hi=class t extends yf{constructor(e,n){super(e,new jt(n._repo,n._path,new Xl,!1)),this.database=e,this._delegate=n}getKey(){return U("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return U("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new t(this.database,Nr(this._delegate,e))}getParent(){U("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new t(this.database,e):null}getRoot(){return U("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)}set(e,n){U("Reference.set",1,2,arguments.length),it("Reference.set","onComplete",n,!0);let i=gf(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}update(e,n){if(U("Reference.update",1,2,arguments.length),Array.isArray(e)){let r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,ZM("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}on("Reference.update",this._delegate._path),it("Reference.update","onComplete",n,!0);let i=MM(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}setWithPriority(e,n,i){U("Reference.setWithPriority",2,3,arguments.length),it("Reference.setWithPriority","onComplete",i,!0);let r=SM(this._delegate,e,n);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){U("Reference.remove",0,1,arguments.length),it("Reference.remove","onComplete",e,!0);let n=xM(this._delegate);return e&&n.then(()=>e(null),i=>e(i)),n}transaction(e,n,i){U("Reference.transaction",1,3,arguments.length),it("Reference.transaction","transactionUpdate",e,!1),it("Reference.transaction","onComplete",n,!0),dH("Reference.transaction","applyLocally",i,!0);let r=QM(this._delegate,e,{applyLocally:i}).then(o=>new p0(o.committed,new Ao(this.database,o.snapshot)));return n&&r.then(o=>n(null,o.committed,o.snapshot),o=>n(o,!1,null)),r}setPriority(e,n){U("Reference.setPriority",1,2,arguments.length),it("Reference.setPriority","onComplete",n,!0);let i=IM(this._delegate,e);return n&&i.then(()=>n(null),r=>n(r)),i}push(e,n){U("Reference.push",0,2,arguments.length),it("Reference.push","onComplete",n,!0);let i=EM(this._delegate,e),r=i.then(s=>new t(this.database,s));n&&r.then(()=>n(null),s=>n(s));let o=new t(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return on("Reference.onDisconnect",this._delegate._path),new f0(new Yh(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var Po=class{constructor(e,n){this._delegate=e,this.app=n,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:$M,forceLongPolling:HM}}useEmulator(e,n,i={}){zM(this._delegate,e,n,i)}ref(e){if(U("database.ref",0,1,arguments.length),e instanceof Hi){let n=s0(this._delegate,e.toString());return new Hi(this,n)}else{let n=o0(this._delegate,e);return new Hi(this,n)}}refFromURL(e){U("database.refFromURL",1,1,arguments.length);let i=s0(this._delegate,e);return new Hi(this,i)}goOffline(){return U("database.goOffline",0,0,arguments.length),WM(this._delegate)}goOnline(){return U("database.goOnline",0,0,arguments.length),GM(this._delegate)}};Po.ServerValue={TIMESTAMP:YM(),increment:t=>KM(t)};function fH({app:t,url:e,version:n,customAuthImpl:i,customAppCheckImpl:r,namespace:o,nodeAdmin:s=!1}){R_(n);let a=new hp("database-standalone"),l=new $c("auth-internal",a);l.setComponent(new yi("auth-internal",()=>i,"PRIVATE"));let c;return r&&(c=new $c("app-check-internal",a),c.setComponent(new yi("app-check-internal",()=>r,"PRIVATE"))),{instance:new Po(h0(t,l,c,e,s),t),namespace:o}}var pH=Object.freeze({__proto__:null,initStandalone:fH});var gH=Po.ServerValue;function mH(t){t.INTERNAL.registerComponent(new yi("database-compat",(e,{instanceIdentifier:n})=>{let i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:n});return new Po(r,i)},"PUBLIC").setServiceProps({Reference:Hi,Query:yf,Database:Po,DataSnapshot:Ao,enableLogging:qM,INTERNAL:pH,ServerValue:gH}).setMultipleInstances(!0)),t.registerVersion(lH,cH)}mH(At);function gc(t,e,n="on",i=Ta){return new ee(r=>{let o=null;return o=t[n](e,(s,a)=>{i.schedule(()=>{r.next({snapshot:s,prevKey:a})}),n==="once"&&i.schedule(()=>r.complete())},s=>{i.schedule(()=>r.error(s))}),n==="on"?{unsubscribe(){o!=null&&t.off(e,o)}}:{unsubscribe(){}}}).pipe(B(r=>{let{snapshot:o,prevKey:s}=r,a=null;return o.exists()&&(a=o.key),{type:e,payload:o,prevKey:s,key:a}}),Pa())}function yH(t){return typeof t=="string"}function vH(t){return typeof t.exportVal=="function"}function nT(t){return t==null}function iT(t){return typeof t.set=="function"}function XM(t,e){return iT(e)?e:t.ref(e)}function rT(t,e){if(yH(t))return e.stringCase();if(iT(t))return e.firebaseCase();if(vH(t))return e.snapshotCase();throw new Error(`Expects a string, snapshot, or reference. Got: ${typeof t}`)}function oT(t){return(nT(t)||t.length===0)&&(t=["child_added","child_removed","child_changed","child_moved"]),t}function sT(t,e,n){e=oT(e);let i=e.map(r=>gc(t,r,"on",n));return is(...i)}function _H(t,e,n){let i=sT(t,e).pipe(os((r,o)=>[...r,o],[]));return CH(t,i,n)}function bH(t,e){return gc(t,"value","on",e).pipe(B(n=>{let i;return n.payload.forEach(r=>(i=r.key,!1)),{data:n,lastKeyToLoad:i}}))}function CH(t,e,n){return bH(t,n).pipe(Vp(e),B(([r,o])=>{let s=r.lastKeyToLoad,a=o.map(l=>l.key);return{actions:o,lastKeyToLoad:s,loadedKeys:a}}),kp(r=>r.loadedKeys.indexOf(r.lastKeyToLoad)===-1),B(r=>r.actions))}function JM(t,e){return function(i,r){return rT(i,{stringCase:()=>t.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function wH(t){return function(n){return n?rT(n,{stringCase:()=>t.child(n).remove(),firebaseCase:()=>n.remove(),snapshotCase:()=>n.ref.remove()}):t.remove()}}function DH(t,e,n){return gc(t,"value","once",n).pipe(Me(i=>{let r=[j(i)];return e.forEach(o=>r.push(gc(t,o,"on",n))),is(...r).pipe(os(xH,[]))}),Np())}function aT(t,e){let n=t.length;for(let i=0;i<n;i++)if(t[i].payload.key===e)return i;return-1}function EH(t,e){if(nT(e))return 0;{let n=aT(t,e);return n===-1?t.length:n+1}}function xH(t,e){let{payload:n,prevKey:i,key:r}=e,o=aT(t,r),s=EH(t,i);switch(e.type){case"value":if(e.payload?.exists()){let a=null;e.payload.forEach(l=>{let c={payload:l,type:"value",prevKey:a,key:l.key};return a=l.key,t=[...t,c],!1})}return t;case"child_added":if(o>-1)(t[o-1]?.key||null)!==i&&(t=t.filter(l=>l.payload.key!==n.key),t.splice(s,0,e));else{if(i==null)return[e,...t];t=t.slice(),t.splice(s,0,e)}return t;case"child_removed":return t.filter(a=>a.payload.key!==n.key);case"child_changed":return t.map(a=>a.payload.key===r?e:a);case"child_moved":if(o>-1){let a=t.splice(o,1)[0];return t=t.slice(),t.splice(s,0,a),t}return t;default:return t}}function eT(t,e,n){return e=oT(e),DH(t,e,n)}function IH(t,e){let n=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>t.ref);return{query:t,update:JM(i,"update"),set:JM(i,"set"),push:r=>i.push(r),remove:wH(i),snapshotChanges(r){return eT(t,r,n).pipe(Ui)},stateChanges(r){return sT(t,r,n).pipe(Ui)},auditTrail(r){return _H(t,r,n).pipe(Ui)},valueChanges(r,o){return eT(t,r,n).pipe(B(a=>a.map(l=>o&&o.idField?ce(N({},l.payload.val()),{[o.idField]:l.key}):l.payload.val())),Ui)}}}function tT(t,e){return function(){return gc(t,"value","on",e)}}function SH(t,e){return{query:t,snapshotChanges(){return tT(t,e.schedulers.outsideAngular)().pipe(Ui)},update(n){return t.ref.update(n)},set(n){return t.ref.set(n)},remove(){return t.ref.remove()},valueChanges(){return tT(t,e.schedulers.outsideAngular)().pipe(Ui,B(i=>i.payload.exists()?i.payload.val():null))}}}var MH=new R("angularfire2.realtimeDatabaseURL"),TH=new R("angularfire2.database.use-emulator"),mc=(()=>{class t{schedulers;database;constructor(n,i,r,o,s,a,l,c,u,d,h,f,p,g,m){this.schedulers=a;let y=l,v=kl(n,s,i);c&&bv(v,s,u,h,f,p,d,g),this.database=Eh(`${v.name}.database.${r}`,"AngularFireDatabase",v.name,()=>{let C=s.runOutsideAngular(()=>v.database(r||void 0));return y&&C.useEmulator(...y),C},[y])}list(n,i){let r=this.schedulers.ngZone.runOutsideAngular(()=>XM(this.database,n)),o=r;return i&&(o=i(r)),IH(o,this)}object(n){let i=this.schedulers.ngZone.runOutsideAngular(()=>XM(this.database,n));return SH(i,this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}static \u0275fac=function(i){return new(i||t)(I($s),I(Hs,8),I(MH,8),I(Et),I(ue),I(Ch),I(TH,8),I(Fl,8),I(pv,8),I(gv,8),I(mv,8),I(yv,8),I(vv,8),I(_v,8),I(Co,8))};static \u0275prov=O({token:t,factory:t.\u0275fac,providedIn:"any"})}return t})(),lT=(()=>{class t{constructor(){At.registerVersion("angularfire",wo.full,"rtdb-compat")}static \u0275fac=function(i){return new(i||t)};static \u0275mod=Be({type:t});static \u0275inj=je({providers:[mc]})}return t})();var xn=(()=>{let e=class e{constructor(i){this.db=i,this.suinosRef=i.list("/suinos"),this.manejoRef=i.list("/manejoSanitario")}getSuinos(){return this.suinosRef.valueChanges()}addSuino(i){return this.suinosRef.push(i).then(r=>Promise.resolve(r.key))}updateSuino(i){return new Promise((r,o)=>{this.db.list("/suinos",s=>s.orderByChild("brinco").equalTo(i.brinco).limitToFirst(1)).snapshotChanges().subscribe(s=>{if(s.length>0){let a=s[0].payload.key;this.db.object(`/suinos/${a}`).update(i).then(()=>{console.log("Su\xEDno atualizado com sucesso."),r()}).catch(l=>{console.error("Erro ao atualizar su\xEDno:",l),o(l)})}else console.error("Su\xEDno n\xE3o encontrado."),o("Su\xEDno n\xE3o encontrado.")},s=>{console.error("Erro ao buscar su\xEDno:",s),o(s)})})}cadastrarPeso(i,r,o){return this.db.list(`/pesos/${i}`).push({dataPesagem:r,peso:o}).then(s=>Promise.resolve(s.key))}getPeso(i){return this.db.list(`/pesos/${i}`).valueChanges()}atualizarPeso(i,r,o,s){return this.db.object(`/pesos/${i}/${r}`).update({dataPesagem:o,peso:s})}excluirSuino(i){return new Promise((r,o)=>{this.db.list("/suinos",s=>s.orderByChild("brinco").equalTo(i.brinco).limitToFirst(1)).snapshotChanges().subscribe(s=>{let a=s[0].key;a?this.db.object(`/suinos/${a}`).remove().then(()=>{console.log("Su\xEDno exclu\xEDdo com sucesso."),r()}).catch(l=>{console.error("Erro ao excluir su\xEDno:",l),o(l)}):(console.error("Su\xEDno n\xE3o encontrado."),o("Su\xEDno n\xE3o encontrado."))},s=>{console.error("Erro ao buscar su\xEDno:",s),o(s)})})}cadastrarManejo(i){return new Promise((r,o)=>{this.manejoRef.push(i).then(s=>{let a=s.key;a?this.manejoRef.update(a,{id:a}).then(()=>{r(a)}).catch(l=>{o(l)}):o("ID n\xE3o dispon\xEDvel")}).catch(s=>{console.error("Erro ao cadastrar manejo sanit\xE1rio:",s),o(s)})})}};e.\u0275fac=function(r){return new(r||e)(I(mc))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function AH(t,e){t&1&&(b(0,"small"),E(1," O brinco do animal \xE9 obrigat\xF3rio. "),_())}function PH(t,e){t&1&&(b(0,"small"),E(1," O brinco do pai \xE9 obrigat\xF3rio. "),_())}function NH(t,e){t&1&&(b(0,"small"),E(1," O brinco da m\xE3e \xE9 obrigat\xF3rio. "),_())}function RH(t,e){t&1&&(b(0,"small"),E(1," A data de nascimento \xE9 obrigat\xF3ria. "),_())}function OH(t,e){t&1&&(b(0,"small"),E(1," A data de sa\xEDda \xE9 obrigat\xF3ria. "),_())}function kH(t,e){t&1&&(b(0,"small"),E(1," O status \xE9 obrigat\xF3rio. "),_())}function FH(t,e){t&1&&(b(0,"small"),E(1," O sexo \xE9 obrigat\xF3rio. "),_())}var vf=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.suinoForm=this.formBuilder.group({brinco:["",Ce.required],brincoPai:["",Ce.required],brincoMae:["",Ce.required],dataNascimento:["",Ce.required],dataSaida:["",Ce.required],status:["",Ce.required],sexo:["",Ce.required]})}ngOnInit(){}cadastrarSuino(){if(this.suinoForm.valid){let i=this.suinoForm.value;this.suinoService.addSuino(i).then(()=>{console.log("Novo su\xEDno cadastrado:",i),this.suinoForm.reset()}).catch(r=>{console.error("Erro ao cadastrar su\xEDno:",r)})}else this.suinoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(oi),k(xn))},e.\u0275cmp=Fe({type:e,selectors:[["app-suino-cadastro"]],decls:51,vars:9,consts:[[3,"ngSubmit","formGroup"],["for","brinco"],["type","number","id","brinco","formControlName","brinco"],[4,"ngIf"],["for","brincoPai"],["type","number","id","brincoPai","formControlName","brincoPai"],["for","brincoMae"],["type","number","id","brincoMae","formControlName","brincoMae"],["for","dataNascimento"],["type","date","id","dataNascimento","formControlName","dataNascimento"],["for","dataSaida"],["type","date","id","dataSaida","formControlName","dataSaida"],["for","status"],["id","status","formControlName","status"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","formControlName","sexo"],["value","M"],["value","F"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(b(0,"div")(1,"h2"),E(2,"Cadastro de Su\xEDno"),_(),b(3,"form",0),J("ngSubmit",function(){return o.cadastrarSuino()}),b(4,"div")(5,"label",1),E(6,"Brinco do Animal:"),_(),se(7,"input",2),re(8,AH,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Brinco do Pai:"),_(),se(12,"input",5),re(13,PH,2,0,"small",3),_(),b(14,"div")(15,"label",6),E(16,"Brinco da M\xE3e:"),_(),se(17,"input",7),re(18,NH,2,0,"small",3),_(),b(19,"div")(20,"label",8),E(21,"Data de Nascimento:"),_(),se(22,"input",9),re(23,RH,2,0,"small",3),_(),b(24,"div")(25,"label",10),E(26,"Data de Sa\xEDda:"),_(),se(27,"input",11),re(28,OH,2,0,"small",3),_(),b(29,"div")(30,"label",12),E(31,"Status:"),_(),b(32,"select",13)(33,"option",14),E(34,"Ativo"),_(),b(35,"option",15),E(36,"Vendido"),_(),b(37,"option",16),E(38,"Morto"),_()(),re(39,kH,2,0,"small",3),_(),b(40,"div")(41,"label",17),E(42,"Sexo:"),_(),b(43,"select",18)(44,"option",19),E(45,"Macho"),_(),b(46,"option",20),E(47,"F\xEAmea"),_()(),re(48,FH,2,0,"small",3),_(),b(49,"button",21),E(50,"Cadastrar"),_()()()),r&2){let s,a,l,c,u,d,h;S(3),V("formGroup",o.suinoForm),S(5),V("ngIf",((s=o.suinoForm.get("brinco"))==null?null:s.invalid)&&((s=o.suinoForm.get("brinco"))==null?null:s.touched)),S(5),V("ngIf",((a=o.suinoForm.get("brincoPai"))==null?null:a.invalid)&&((a=o.suinoForm.get("brincoPai"))==null?null:a.touched)),S(5),V("ngIf",((l=o.suinoForm.get("brincoMae"))==null?null:l.invalid)&&((l=o.suinoForm.get("brincoMae"))==null?null:l.touched)),S(5),V("ngIf",((c=o.suinoForm.get("dataNascimento"))==null?null:c.invalid)&&((c=o.suinoForm.get("dataNascimento"))==null?null:c.touched)),S(5),V("ngIf",((u=o.suinoForm.get("dataSaida"))==null?null:u.invalid)&&((u=o.suinoForm.get("dataSaida"))==null?null:u.touched)),S(11),V("ngIf",((d=o.suinoForm.get("status"))==null?null:d.invalid)&&((d=o.suinoForm.get("status"))==null?null:d.touched)),S(9),V("ngIf",((h=o.suinoForm.get("sexo"))==null?null:h.invalid)&&((h=o.suinoForm.get("sexo"))==null?null:h.touched)),S(),V("disabled",!o.suinoForm.valid)}},dependencies:[qt,Cn,Cr,wr,ut,Nl,br,It,bn,jn,Bn],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}div[_ngcontent-%COMP%]{margin-bottom:15px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px;font-weight:700}input[type=number][_ngcontent-%COMP%], input[type=date][_ngcontent-%COMP%], select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:5px}button[type=submit][_ngcontent-%COMP%]{width:100%;padding:10px;border:none;border-radius:5px;background-color:#007bff;color:#fff;cursor:pointer;transition:background-color .3s ease}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#0056b3}.small-error[_ngcontent-%COMP%]{color:red;font-size:12px}"]});let t=e;return t})();function _c(t){return t+.5|0}var Or=(t,e,n)=>Math.max(Math.min(t,n),e);function yc(t){return Or(_c(t*2.55),0,255)}function kr(t){return Or(_c(t*255),0,255)}function zi(t){return Or(_c(t/2.55)/100,0,1)}function uT(t){return Or(_c(t*100),0,100)}var In={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},m0=[..."0123456789ABCDEF"],VH=t=>m0[t&15],jH=t=>m0[(t&240)>>4]+m0[t&15],_f=t=>(t&240)>>4===(t&15),BH=t=>_f(t.r)&&_f(t.g)&&_f(t.b)&&_f(t.a);function UH(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&In[t[1]]*17,g:255&In[t[2]]*17,b:255&In[t[3]]*17,a:e===5?In[t[4]]*17:255}:(e===7||e===9)&&(n={r:In[t[1]]<<4|In[t[2]],g:In[t[3]]<<4|In[t[4]],b:In[t[5]]<<4|In[t[6]],a:e===9?In[t[7]]<<4|In[t[8]]:255})),n}var $H=(t,e)=>t<255?e(t):"";function HH(t){var e=BH(t)?VH:jH;return t?"#"+e(t.r)+e(t.g)+e(t.b)+$H(t.a,e):void 0}var zH=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function pT(t,e,n){let i=e*Math.min(n,1-n),r=(o,s=(o+t/30)%12)=>n-i*Math.max(Math.min(s-3,9-s,1),-1);return[r(0),r(8),r(4)]}function WH(t,e,n){let i=(r,o=(r+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function GH(t,e,n){let i=pT(t,1,.5),r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function qH(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function y0(t){let n=t.r/255,i=t.g/255,r=t.b/255,o=Math.max(n,i,r),s=Math.min(n,i,r),a=(o+s)/2,l,c,u;return o!==s&&(u=o-s,c=a>.5?u/(2-o-s):u/(o+s),l=qH(n,i,r,u,o),l=l*60+.5),[l|0,c||0,a]}function v0(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(kr)}function _0(t,e,n){return v0(pT,t,e,n)}function YH(t,e,n){return v0(GH,t,e,n)}function KH(t,e,n){return v0(WH,t,e,n)}function gT(t){return(t%360+360)%360}function QH(t){let e=zH.exec(t),n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?yc(+e[5]):kr(+e[5]));let r=gT(+e[2]),o=+e[3]/100,s=+e[4]/100;return e[1]==="hwb"?i=YH(r,o,s):e[1]==="hsv"?i=KH(r,o,s):i=_0(r,o,s),{r:i[0],g:i[1],b:i[2],a:n}}function ZH(t,e){var n=y0(t);n[0]=gT(n[0]+e),n=_0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function XH(t){if(!t)return;let e=y0(t),n=e[0],i=uT(e[1]),r=uT(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${zi(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}var dT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},hT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function JH(){let t={},e=Object.keys(hT),n=Object.keys(dT),i,r,o,s,a;for(i=0;i<e.length;i++){for(s=a=e[i],r=0;r<n.length;r++)o=n[r],a=a.replace(o,dT[o]);o=parseInt(hT[s],16),t[a]=[o>>16&255,o>>8&255,o&255]}return t}var bf;function ez(t){bf||(bf=JH(),bf.transparent=[0,0,0,0]);let e=bf[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}var tz=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nz(t){let e=tz.exec(t),n=255,i,r,o;if(e){if(e[7]!==i){let s=+e[7];n=e[8]?yc(s):Or(s*255,0,255)}return i=+e[1],r=+e[3],o=+e[5],i=255&(e[2]?yc(i):Or(i,0,255)),r=255&(e[4]?yc(r):Or(r,0,255)),o=255&(e[6]?yc(o):Or(o,0,255)),{r:i,g:r,b:o,a:n}}}function iz(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${zi(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}var g0=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,la=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function rz(t,e,n){let i=la(zi(t.r)),r=la(zi(t.g)),o=la(zi(t.b));return{r:kr(g0(i+n*(la(zi(e.r))-i))),g:kr(g0(r+n*(la(zi(e.g))-r))),b:kr(g0(o+n*(la(zi(e.b))-o))),a:t.a+n*(e.a-t.a)}}function Cf(t,e,n){if(t){let i=y0(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=_0(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function mT(t,e){return t&&Object.assign(e||{},t)}function fT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=kr(t[3]))):(e=mT(t,{r:0,g:0,b:0,a:1}),e.a=kr(e.a)),e}function oz(t){return t.charAt(0)==="r"?nz(t):QH(t)}var vc=class t{constructor(e){if(e instanceof t)return e;let n=typeof e,i;n==="object"?i=fT(e):n==="string"&&(i=UH(e)||ez(e)||oz(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=mT(this._rgb);return e&&(e.a=zi(e.a)),e}set rgb(e){this._rgb=fT(e)}rgbString(){return this._valid?iz(this._rgb):void 0}hexString(){return this._valid?HH(this._rgb):void 0}hslString(){return this._valid?XH(this._rgb):void 0}mix(e,n){if(e){let i=this.rgb,r=e.rgb,o,s=n===o?.5:n,a=2*s-1,l=i.a-r.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;o=1-c,i.r=255&c*i.r+o*r.r+.5,i.g=255&c*i.g+o*r.g+.5,i.b=255&c*i.b+o*r.b+.5,i.a=s*i.a+(1-s)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=rz(this._rgb,e._rgb,n)),this}clone(){return new t(this.rgb)}alpha(e){return this._rgb.a=kr(e),this}clearer(e){let n=this._rgb;return n.a*=1-e,this}greyscale(){let e=this._rgb,n=_c(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){let n=this._rgb;return n.a*=1+e,this}negate(){let e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Cf(this._rgb,2,e),this}darken(e){return Cf(this._rgb,2,-e),this}saturate(e){return Cf(this._rgb,1,e),this}desaturate(e){return Cf(this._rgb,1,-e),this}rotate(e){return ZH(this._rgb,e),this}};function fi(){}var ST=(()=>{let t=0;return()=>t++})();function de(t){return t===null||typeof t>"u"}function Pe(t){if(Array.isArray&&Array.isArray(t))return!0;let e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ae(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function He(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Kt(t,e){return He(t)?t:e}function G(t,e){return typeof t>"u"?e:t}var MT=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,D0=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Se(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function be(t,e,n,i){let r,o,s;if(Pe(t))if(o=t.length,i)for(r=o-1;r>=0;r--)e.call(n,t[r],r);else for(r=0;r<o;r++)e.call(n,t[r],r);else if(ae(t))for(s=Object.keys(t),o=s.length,r=0;r<o;r++)e.call(n,t[s[r]],s[r])}function wc(t,e){let n,i,r,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],o=e[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function xf(t){if(Pe(t))return t.map(xf);if(ae(t)){let e=Object.create(null),n=Object.keys(t),i=n.length,r=0;for(;r<i;++r)e[n[r]]=xf(t[n[r]]);return e}return t}function TT(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function sz(t,e,n,i){if(!TT(t))return;let r=e[t],o=n[t];ae(r)&&ae(o)?ua(r,o,i):e[t]=xf(o)}function ua(t,e,n){let i=Pe(e)?e:[e],r=i.length;if(!ae(t))return t;n=n||{};let o=n.merger||sz,s;for(let a=0;a<r;++a){if(s=i[a],!ae(s))continue;let l=Object.keys(s);for(let c=0,u=l.length;c<u;++c)o(l[c],t,s,n)}return t}function ha(t,e){return ua(t,e,{merger:az})}function az(t,e,n){if(!TT(t))return;let i=e[t],r=n[t];ae(i)&&ae(r)?ha(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=xf(r))}var yT={"":t=>t,x:t=>t.x,y:t=>t.y};function lz(t){let e=t.split("."),n=[],i="";for(let r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function cz(t){let e=lz(t);return n=>{for(let i of e){if(i==="")break;n=n&&n[i]}return n}}function qi(t,e){return(yT[e]||(yT[e]=cz(e)))(t)}function Tf(t){return t.charAt(0).toUpperCase()+t.slice(1)}var fa=t=>typeof t<"u",Wi=t=>typeof t=="function",E0=(t,e)=>{if(t.size!==e.size)return!1;for(let n of t)if(!e.has(n))return!1;return!0};function AT(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}var Ne=Math.PI,Re=2*Ne,uz=Re+Ne,If=Number.POSITIVE_INFINITY,dz=Ne/180,Ge=Ne/2,No=Ne/4,vT=Ne*2/3,Gi=Math.log10,zn=Math.sign;function pa(t,e,n){return Math.abs(t-e)<n}function x0(t){let e=Math.round(t);t=pa(t,e,t/1e3)?e:t;let n=Math.pow(10,Math.floor(Gi(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function PT(t){let e=[],n=Math.sqrt(t),i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,o)=>r-o).pop(),e}function ko(t){return!isNaN(parseFloat(t))&&isFinite(t)}function NT(t,e){let n=Math.round(t);return n-e<=t&&n+e>=t}function I0(t,e,n){let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function Sn(t){return t*(Ne/180)}function Af(t){return t*(180/Ne)}function S0(t){if(!He(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function M0(t,e){let n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Ne&&(o+=Re),{angle:o,distance:r}}function Sf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function hz(t,e){return(t-e+uz)%Re-Ne}function Yt(t){return(t%Re+Re)%Re}function ga(t,e,n,i){let r=Yt(t),o=Yt(e),s=Yt(n),a=Yt(o-r),l=Yt(s-r),c=Yt(r-o),u=Yt(r-s);return r===o||r===s||i&&o===s||a>l&&c<u}function rt(t,e,n){return Math.max(e,Math.min(n,t))}function RT(t){return rt(t,-32768,32767)}function pi(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function Pf(t,e,n){n=n||(s=>t[s]<e);let i=t.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,n(o)?r=o:i=o;return{lo:r,hi:i}}var di=(t,e,n,i)=>Pf(t,n,i?r=>{let o=t[r][e];return o<n||o===n&&t[r+1][e]===n}:r=>t[r][e]<n),OT=(t,e,n)=>Pf(t,n,i=>t[i][e]>=n);function kT(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}var FT=["push","pop","shift","splice","unshift"];function LT(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),FT.forEach(n=>{let i="_onData"+Tf(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){let s=r.apply(this,o);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...o)}),s}})})}function T0(t,e){let n=t._chartjs;if(!n)return;let i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(FT.forEach(o=>{delete t[o]}),delete t._chartjs)}function A0(t){let e=new Set(t);return e.size===t.length?t:Array.from(e)}var P0=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function N0(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,P0.call(window,()=>{i=!1,t.apply(e,n)}))}}function VT(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}var Nf=t=>t==="start"?"left":t==="end"?"right":"center",bt=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,jT=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e;function R0(t,e,n){let i=e.length,r=0,o=i;if(t._sorted){let{iScale:s,_parsed:a}=t,l=s.axis,{min:c,max:u,minDefined:d,maxDefined:h}=s.getUserBounds();d&&(r=rt(Math.min(di(a,l,c).lo,n?i:di(e,l,s.getPixelForValue(c)).lo),0,i-1)),h?o=rt(Math.max(di(a,s.axis,u,!0).hi+1,n?0:di(e,l,s.getPixelForValue(u),!0).hi+1),r,i)-r:o=i-r}return{start:r,count:o}}function O0(t){let{xScale:e,yScale:n,_scaleRanges:i}=t,r={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!i)return t._scaleRanges=r,!0;let o=i.xmin!==e.min||i.xmax!==e.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}var wf=t=>t===0||t===1,_T=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Re/n)),bT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Re/n)+1,ca={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Ge)+1,easeOutSine:t=>Math.sin(t*Ge),easeInOutSine:t=>-.5*(Math.cos(Ne*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>wf(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>wf(t)?t:_T(t,.075,.3),easeOutElastic:t=>wf(t)?t:bT(t,.075,.3),easeInOutElastic(t){return wf(t)?t:t<.5?.5*_T(t*2,.1125,.45):.5+.5*bT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-ca.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?ca.easeInBounce(t*2)*.5:ca.easeOutBounce(t*2-1)*.5+.5};function k0(t){if(t&&typeof t=="object"){let e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function F0(t){return k0(t)?t:new vc(t)}function b0(t){return k0(t)?t:new vc(t).saturate(.5).darken(.1).hexString()}var fz=["x","y","borderWidth","radius","tension"],pz=["color","borderColor","backgroundColor"];function gz(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:pz},numbers:{type:"number",properties:fz}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function mz(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}var CT=new Map;function yz(t,e){e=e||{};let n=t+JSON.stringify(e),i=CT.get(n);return i||(i=new Intl.NumberFormat(t,e),CT.set(n,i)),i}function ma(t,e,n){return yz(e,n).format(t)}var BT={values(t){return Pe(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";let i=this.chart.options.locale,r,o=t;if(n.length>1){let c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(r="scientific"),o=vz(t,n)}let s=Gi(Math.abs(o)),a=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),ma(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";let i=n[e].significand||t/Math.pow(10,Math.floor(Gi(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?BT.numeric.call(this,t,e,n):""}};function vz(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Dc={formatters:BT};function _z(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Dc.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}var Lr=Object.create(null),Rf=Object.create(null);function bc(t,e){if(!e)return t;let n=e.split(".");for(let i=0,r=n.length;i<r;++i){let o=n[i];t=t[o]||(t[o]=Object.create(null))}return t}function C0(t,e,n){return typeof e=="string"?ua(bc(t,e),n):ua(bc(t,""),e)}var w0=class{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>b0(r.backgroundColor),this.hoverBorderColor=(i,r)=>b0(r.borderColor),this.hoverColor=(i,r)=>b0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return C0(this,e,n)}get(e){return bc(this,e)}describe(e,n){return C0(Rf,e,n)}override(e,n){return C0(Lr,e,n)}route(e,n,i,r){let o=bc(this,e),s=bc(this,i),a="_"+n;Object.defineProperties(o,{[a]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){let l=this[a],c=s[r];return ae(l)?Object.assign({},c,l):G(l,c)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}},ze=new w0({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[gz,mz,_z]);function bz(t){return!t||de(t.size)||de(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Cc(t,e,n,i,r){let o=e[r];return o||(o=e[r]=t.measureText(r).width,n.push(r)),o>i&&(i=o),i}function UT(t,e,n,i){i=i||{};let r=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},o=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let s=0,a=n.length,l,c,u,d,h;for(l=0;l<a;l++)if(d=n[l],d!=null&&!Pe(d))s=Cc(t,r,o,s,d);else if(Pe(d))for(c=0,u=d.length;c<u;c++)h=d[c],h!=null&&!Pe(h)&&(s=Cc(t,r,o,s,h));t.restore();let f=o.length/2;if(f>n.length){for(l=0;l<f;l++)delete r[o[l]];o.splice(0,f)}return s}function Vr(t,e,n){let i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function L0(t,e){e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Of(t,e,n,i){V0(t,e,n,i,null)}function V0(t,e,n,i,r){let o,s,a,l,c,u,d,h,f=e.pointStyle,p=e.rotation,g=e.radius,m=(p||0)*dz;if(f&&typeof f=="object"&&(o=f.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore();return}if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:r?t.ellipse(n,i,r/2,g,0,0,Re):t.arc(n,i,g,0,Re),t.closePath();break;case"triangle":u=r?r/2:g,t.moveTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=vT,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),m+=vT,t.lineTo(n+Math.sin(m)*u,i-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=g*.516,l=g-c,s=Math.cos(m+No)*l,d=Math.cos(m+No)*(r?r/2-c:l),a=Math.sin(m+No)*l,h=Math.sin(m+No)*(r?r/2-c:l),t.arc(n-d,i-a,c,m-Ne,m-Ge),t.arc(n+h,i-s,c,m-Ge,m),t.arc(n+d,i+a,c,m,m+Ge),t.arc(n-h,i+s,c,m+Ge,m+Ne),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=r?r/2:l,t.rect(n-u,i-l,2*u,2*l);break}m+=No;case"rectRot":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+h,i-s),t.lineTo(n+d,i+a),t.lineTo(n-h,i+s),t.closePath();break;case"crossRot":m+=No;case"cross":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-s),t.lineTo(n-h,i+s);break;case"star":d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-s),t.lineTo(n-h,i+s),m+=No,d=Math.cos(m)*(r?r/2:g),s=Math.cos(m)*g,a=Math.sin(m)*g,h=Math.sin(m)*(r?r/2:g),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+h,i-s),t.lineTo(n-h,i+s);break;case"line":s=r?r/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-s,i-a),t.lineTo(n+s,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(m)*(r?r/2:g),i+Math.sin(m)*g);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function hi(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Ec(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xc(t){t.restore()}function $T(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){let o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function HT(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Cz(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),de(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function wz(t,e,n,i,r){if(r.strikethrough||r.underline){let o=t.measureText(i),s=e-o.actualBoundingBoxLeft,a=e+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,u=r.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(s,u),t.lineTo(a,u),t.stroke()}}function Dz(t,e){let n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function jr(t,e,n,i,r,o={}){let s=Pe(e)?e:[e],a=o.strokeWidth>0&&o.strokeColor!=="",l,c;for(t.save(),t.font=r.string,Cz(t,o),l=0;l<s.length;++l)c=s[l],o.backdrop&&Dz(t,o.backdrop),a&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),de(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(c,n,i,o.maxWidth)),t.fillText(c,n,i,o.maxWidth),wz(t,n,i,c,o),i+=Number(r.lineHeight);t.restore()}function ya(t,e){let{x:n,y:i,w:r,h:o,radius:s}=e;t.arc(n+s.topLeft,i+s.topLeft,s.topLeft,1.5*Ne,Ne,!0),t.lineTo(n,i+o-s.bottomLeft),t.arc(n+s.bottomLeft,i+o-s.bottomLeft,s.bottomLeft,Ne,Ge,!0),t.lineTo(n+r-s.bottomRight,i+o),t.arc(n+r-s.bottomRight,i+o-s.bottomRight,s.bottomRight,Ge,0,!0),t.lineTo(n+r,i+s.topRight),t.arc(n+r-s.topRight,i+s.topRight,s.topRight,0,-Ge,!0),t.lineTo(n+s.topLeft,i)}var Ez=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Iz(t,e){let n=(""+t).match(Ez);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}var Sz=t=>+t||0;function kf(t,e){let n={},i=ae(e),r=i?Object.keys(e):e,o=ae(t)?i?s=>G(t[s],t[e[s]]):s=>t[s]:()=>t;for(let s of r)n[s]=Sz(o(s));return n}function j0(t){return kf(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Br(t){return kf(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Ct(t){let e=j0(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function nt(t,e){t=t||{},e=e||ze.font;let n=G(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=G(t.style,e.style);i&&!(""+i).match(xz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);let r={family:G(t.family,e.family),lineHeight:Iz(G(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:G(t.weight,e.weight),string:""};return r.string=bz(r),r}function va(t,e,n,i){let r=!0,o,s,a;for(o=0,s=t.length;o<s;++o)if(a=t[o],a!==void 0&&(e!==void 0&&typeof a=="function"&&(a=a(e),r=!1),n!==void 0&&Pe(a)&&(a=a[n%a.length],r=!1),a!==void 0))return i&&!r&&(i.cacheable=!1),a}function zT(t,e,n){let{min:i,max:r}=t,o=D0(e,(r-i)/2),s=(a,l)=>n&&a===0?0:a+l;return{min:s(i,-Math.abs(o)),max:s(r,o)}}function Yi(t,e){return Object.assign(Object.create(t),e)}function Ff(t,e=[""],n,i,r=()=>t[0]){let o=n||t;typeof i>"u"&&(i=qT("_fallback",t));let s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:i,_getTarget:r,override:a=>Ff([a,...t],e,o,i)};return new Proxy(s,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return WT(a,l,()=>kz(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return DT(a).includes(l)},ownKeys(a){return DT(a)},set(a,l,c){let u=a._storage||(a._storage=r());return a[l]=u[l]=c,delete a._keys,!0}})}function Oo(t,e,n,i){let r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:B0(t,i),setContext:o=>Oo(t,o,n,i),override:o=>Oo(t.override(o),e,n,i)};return new Proxy(r,{deleteProperty(o,s){return delete o[s],delete t[s],!0},get(o,s,a){return WT(o,s,()=>Tz(o,s,a))},getOwnPropertyDescriptor(o,s){return o._descriptors.allKeys?Reflect.has(t,s)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,s)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,s){return Reflect.has(t,s)},ownKeys(){return Reflect.ownKeys(t)},set(o,s,a){return t[s]=a,delete o[s],!0}})}function B0(t,e={scriptable:!0,indexable:!0}){let{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Wi(n)?n:()=>n,isIndexable:Wi(i)?i:()=>i}}var Mz=(t,e)=>t?t+Tf(e):e,U0=(t,e)=>ae(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function WT(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e))return t[e];let i=n();return t[e]=i,i}function Tz(t,e,n){let{_proxy:i,_context:r,_subProxy:o,_descriptors:s}=t,a=i[e];return Wi(a)&&s.isScriptable(e)&&(a=Az(e,a,t,n)),Pe(a)&&a.length&&(a=Pz(e,a,t,s.isIndexable)),U0(e,a)&&(a=Oo(a,r,o&&o[e],s)),a}function Az(t,e,n,i){let{_proxy:r,_context:o,_subProxy:s,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(o,s||i);return a.delete(t),U0(t,l)&&(l=$0(r._scopes,r,t,l)),l}function Pz(t,e,n,i){let{_proxy:r,_context:o,_subProxy:s,_descriptors:a}=n;if(typeof o.index<"u"&&i(t))return e[o.index%e.length];if(ae(e[0])){let l=e,c=r._scopes.filter(u=>u!==l);e=[];for(let u of l){let d=$0(c,r,t,u);e.push(Oo(d,o,s&&s[t],a))}}return e}function GT(t,e,n){return Wi(t)?t(e,n):t}var Nz=(t,e)=>t===!0?e:typeof t=="string"?qi(e,t):void 0;function Rz(t,e,n,i,r){for(let o of e){let s=Nz(n,o);if(s){t.add(s);let a=GT(s._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(s===!1&&typeof i<"u"&&n!==i)return null}return!1}function $0(t,e,n,i){let r=e._rootScopes,o=GT(e._fallback,n,i),s=[...t,...r],a=new Set;a.add(i);let l=wT(a,s,n,o||n,i);return l===null||typeof o<"u"&&o!==n&&(l=wT(a,s,o,l,i),l===null)?!1:Ff(Array.from(a),[""],r,o,()=>Oz(e,n,i))}function wT(t,e,n,i,r){for(;n;)n=Rz(t,e,n,i,r);return n}function Oz(t,e,n){let i=t._getTarget();e in i||(i[e]={});let r=i[e];return Pe(r)&&ae(n)?n:r||{}}function kz(t,e,n,i){let r;for(let o of e)if(r=qT(Mz(o,t),n),typeof r<"u")return U0(t,r)?$0(n,i,t,r):r}function qT(t,e){for(let n of e){if(!n)continue;let i=n[t];if(typeof i<"u")return i}}function DT(t){let e=t._keys;return e||(e=t._keys=Fz(t._scopes)),e}function Fz(t){let e=new Set;for(let n of t)for(let i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function H0(t,e,n,i){let{iScale:r}=t,{key:o="r"}=this._parsing,s=new Array(i),a,l,c,u;for(a=0,l=i;a<l;++a)c=a+n,u=e[c],s[a]={r:r.parse(qi(u,o),c)};return s}var Lz=Number.EPSILON||1e-14,da=(t,e)=>e<t.length&&!t[e].skip&&t[e],YT=t=>t==="x"?"y":"x";function Vz(t,e,n,i){let r=t.skip?e:t,o=e,s=n.skip?e:n,a=Sf(o,r),l=Sf(s,o),c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;let d=i*c,h=i*u;return{previous:{x:o.x-d*(s.x-r.x),y:o.y-d*(s.y-r.y)},next:{x:o.x+h*(s.x-r.x),y:o.y+h*(s.y-r.y)}}}function jz(t,e,n){let i=t.length,r,o,s,a,l,c=da(t,0);for(let u=0;u<i-1;++u)if(l=c,c=da(t,u+1),!(!l||!c)){if(pa(e[u],0,Lz)){n[u]=n[u+1]=0;continue}r=n[u]/e[u],o=n[u+1]/e[u],a=Math.pow(r,2)+Math.pow(o,2),!(a<=9)&&(s=3/Math.sqrt(a),n[u]=r*s*e[u],n[u+1]=o*s*e[u])}}function Bz(t,e,n="x"){let i=YT(n),r=t.length,o,s,a,l=da(t,0);for(let c=0;c<r;++c){if(s=a,a=l,l=da(t,c+1),!a)continue;let u=a[n],d=a[i];s&&(o=(u-s[n])/3,a[`cp1${n}`]=u-o,a[`cp1${i}`]=d-o*e[c]),l&&(o=(l[n]-u)/3,a[`cp2${n}`]=u+o,a[`cp2${i}`]=d+o*e[c])}}function Uz(t,e="x"){let n=YT(e),i=t.length,r=Array(i).fill(0),o=Array(i),s,a,l,c=da(t,0);for(s=0;s<i;++s)if(a=l,l=c,c=da(t,s+1),!!l){if(c){let u=c[e]-l[e];r[s]=u!==0?(c[n]-l[n])/u:0}o[s]=a?c?zn(r[s-1])!==zn(r[s])?0:(r[s-1]+r[s])/2:r[s-1]:r[s]}jz(t,r,o),Bz(t,o,e)}function Df(t,e,n){return Math.max(Math.min(t,n),e)}function $z(t,e){let n,i,r,o,s,a=hi(t[0],e);for(n=0,i=t.length;n<i;++n)s=o,o=a,a=n<i-1&&hi(t[n+1],e),o&&(r=t[n],s&&(r.cp1x=Df(r.cp1x,e.left,e.right),r.cp1y=Df(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Df(r.cp2x,e.left,e.right),r.cp2y=Df(r.cp2y,e.top,e.bottom)))}function KT(t,e,n,i,r){let o,s,a,l;if(e.spanGaps&&(t=t.filter(c=>!c.skip)),e.cubicInterpolationMode==="monotone")Uz(t,r);else{let c=i?t[t.length-1]:t[0];for(o=0,s=t.length;o<s;++o)a=t[o],l=Vz(c,a,t[Math.min(o+1,s-(i?0:1))%s],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}e.capBezierPoints&&$z(t,n)}function Lf(){return typeof window<"u"&&typeof document<"u"}function Vf(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function Mf(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}var jf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Hz(t,e){return jf(t).getPropertyValue(e)}var zz=["top","right","bottom","left"];function Ro(t,e,n){let i={};n=n?"-"+n:"";for(let r=0;r<4;r++){let o=zz[r];i[o]=parseFloat(t[e+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var Wz=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function Gz(t,e){let n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:o}=i,s=!1,a,l;if(Wz(r,o,t.target))a=r,l=o;else{let c=e.getBoundingClientRect();a=i.clientX-c.left,l=i.clientY-c.top,s=!0}return{x:a,y:l,box:s}}function Ur(t,e){if("native"in t)return t;let{canvas:n,currentDevicePixelRatio:i}=e,r=jf(n),o=r.boxSizing==="border-box",s=Ro(r,"padding"),a=Ro(r,"border","width"),{x:l,y:c,box:u}=Gz(t,n),d=s.left+(u&&a.left),h=s.top+(u&&a.top),{width:f,height:p}=e;return o&&(f-=s.width+a.width,p-=s.height+a.height),{x:Math.round((l-d)/f*n.width/i),y:Math.round((c-h)/p*n.height/i)}}function qz(t,e,n){let i,r;if(e===void 0||n===void 0){let o=Vf(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{let s=o.getBoundingClientRect(),a=jf(o),l=Ro(a,"border","width"),c=Ro(a,"padding");e=s.width-c.width-l.width,n=s.height-c.height-l.height,i=Mf(a.maxWidth,o,"clientWidth"),r=Mf(a.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:i||If,maxHeight:r||If}}var Ef=t=>Math.round(t*10)/10;function QT(t,e,n,i){let r=jf(t),o=Ro(r,"margin"),s=Mf(r.maxWidth,t,"clientWidth")||If,a=Mf(r.maxHeight,t,"clientHeight")||If,l=qz(t,e,n),{width:c,height:u}=l;if(r.boxSizing==="content-box"){let h=Ro(r,"border","width"),f=Ro(r,"padding");c-=f.width+h.width,u-=f.height+h.height}return c=Math.max(0,c-o.width),u=Math.max(0,i?c/i:u-o.height),c=Ef(Math.min(c,s,l.maxWidth)),u=Ef(Math.min(u,a,l.maxHeight)),c&&!u&&(u=Ef(c/2)),(e!==void 0||n!==void 0)&&i&&l.height&&u>l.height&&(u=l.height,c=Ef(Math.floor(u*i))),{width:c,height:u}}function z0(t,e,n){let i=e||1,r=Math.floor(t.height*i),o=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);let s=t.canvas;return s.style&&(n||!s.style.height&&!s.style.width)&&(s.style.height=`${t.height}px`,s.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||s.height!==r||s.width!==o?(t.currentDevicePixelRatio=i,s.height=r,s.width=o,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}var ZT=function(){let t=!1;try{let e={get passive(){return t=!0,!1}};Lf()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function W0(t,e){let n=Hz(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Fr(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function XT(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function JT(t,e,n,i){let r={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},s=Fr(t,r,n),a=Fr(r,o,n),l=Fr(o,e,n),c=Fr(s,a,n),u=Fr(a,l,n);return Fr(c,u,n)}var Yz=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},Kz=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Fo(t,e,n){return t?Yz(e,n):Kz()}function G0(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function q0(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function eA(t){return t==="angle"?{between:ga,compare:hz,normalize:Yt}:{between:pi,compare:(e,n)=>e-n,normalize:e=>e}}function ET({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function Qz(t,e,n){let{property:i,start:r,end:o}=n,{between:s,normalize:a}=eA(i),l=e.length,{start:c,end:u,loop:d}=t,h,f;if(d){for(c+=l,u+=l,h=0,f=l;h<f&&s(a(e[c%l][i]),r,o);++h)c--,u--;c%=l,u%=l}return u<c&&(u+=l),{start:c,end:u,loop:d,style:t.style}}function Y0(t,e,n){if(!n)return[t];let{property:i,start:r,end:o}=n,s=e.length,{compare:a,between:l,normalize:c}=eA(i),{start:u,end:d,loop:h,style:f}=Qz(t,e,n),p=[],g=!1,m=null,y,v,C,D=()=>l(r,C,y)&&a(r,C)!==0,w=()=>a(o,y)===0||l(o,C,y),x=()=>g||D(),P=()=>!g||w();for(let T=u,F=u;T<=d;++T)v=e[T%s],!v.skip&&(y=c(v[i]),y!==C&&(g=l(y,r,o),m===null&&x()&&(m=a(y,r)===0?T:F),m!==null&&P()&&(p.push(ET({start:m,end:T,loop:h,count:s,style:f})),m=null),F=T,C=y));return m!==null&&p.push(ET({start:m,end:d,loop:h,count:s,style:f})),p}function K0(t,e){let n=[],i=t.segments;for(let r=0;r<i.length;r++){let o=Y0(i[r],t.points,e);o.length&&n.push(...o)}return n}function Zz(t,e,n,i){let r=0,o=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(o+=r);o>r&&t[o%e].skip;)o--;return o%=e,{start:r,end:o}}function Xz(t,e,n,i){let r=t.length,o=[],s=e,a=t[e],l;for(l=e+1;l<=n;++l){let c=t[l%r];c.skip||c.stop?a.skip||(i=!1,o.push({start:e%r,end:(l-1)%r,loop:i}),e=s=c.stop?l:null):(s=l,a.skip&&(e=l)),a=c}return s!==null&&o.push({start:e%r,end:s%r,loop:i}),o}function tA(t,e){let n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];let o=!!t._loop,{start:s,end:a}=Zz(n,r,o,i);if(i===!0)return xT(t,[{start:s,end:a,loop:o}],n,e);let l=a<s?a+r:a,c=!!t._fullLoop&&s===0&&a===r-1;return xT(t,Xz(n,s,l,c),n,e)}function xT(t,e,n,i){return!i||!i.setContext||!n?e:Jz(t,e,n,i)}function Jz(t,e,n,i){let r=t._chart.getContext(),o=IT(t.options),{_datasetIndex:s,options:{spanGaps:a}}=t,l=n.length,c=[],u=o,d=e[0].start,h=d;function f(p,g,m,y){let v=a?-1:1;if(p!==g){for(p+=l;n[p%l].skip;)p-=v;for(;n[g%l].skip;)g+=v;p%l!==g%l&&(c.push({start:p%l,end:g%l,loop:m,style:y}),u=y,d=g%l)}}for(let p of e){d=a?d:p.start;let g=n[d%l],m;for(h=d+1;h<=p.end;h++){let y=n[h%l];m=IT(i.setContext(Yi(r,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:s}))),eW(m,u)&&f(d,h-1,p.loop,u),g=y,u=m}d<h-1&&f(d,h-1,p.loop,u)}return c}function IT(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function eW(t,e){if(!e)return!1;let n=[],i=function(r,o){return k0(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,i)!==JSON.stringify(e,i)}var ob=class{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){let o=n.listeners[r],s=n.duration;o.forEach(a=>a({chart:e,initial:n.initial,numSteps:s,currentStep:Math.min(i-n.start,s)}))}_refresh(){this._request||(this._running=!0,this._request=P0.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;let o=i.items,s=o.length-1,a=!1,l;for(;s>=0;--s)l=o[s],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(o[s]=o[o.length-1],o.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),o.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){let n=this._charts,i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){let n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;let n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){let n=this._charts.get(e);if(!n||!n.items.length)return;let i=n.items,r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}},Ki=new ob,nA="transparent",tW={boolean(t,e,n){return n>.5?e:t},color(t,e,n){let i=F0(t||nA),r=i.valid&&F0(e||nA);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}},sb=class{constructor(e,n,i,r){let o=n[i];r=va([e.to,r,o,e.from]);let s=va([e.from,o,r]);this._active=!0,this._fn=e.fn||tW[e.type||typeof s],this._easing=ca[e.easing]||ca.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);let r=this._target[this._prop],o=i-this._start,s=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(s,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=va([e.to,n,r,e.from]),this._from=va([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){let n=e-this._start,i=this._duration,r=this._prop,o=this._from,s=this._loop,a=this._to,l;if(this._active=o!==a&&(s||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=o;return}l=n/i%2,l=s&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(o,a,l)}wait(){let e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){let n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}},Kf=class{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!ae(e))return;let n=Object.keys(ze.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{let o=e[r];if(!ae(o))return;let s={};for(let a of n)s[a]=o[a];(Pe(o.properties)&&o.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,s)})})}_animateOptions(e,n){let i=n.options,r=iW(e,i);if(!r)return[];let o=this._createAnimations(r,i);return i.$shared&&nW(e.options.$animations,i).then(()=>{e.options=i},()=>{}),o}_createAnimations(e,n){let i=this._properties,r=[],o=e.$animations||(e.$animations={}),s=Object.keys(n),a=Date.now(),l;for(l=s.length-1;l>=0;--l){let c=s[l];if(c.charAt(0)==="$")continue;if(c==="options"){r.push(...this._animateOptions(e,n));continue}let u=n[c],d=o[c],h=i.get(c);if(d)if(h&&d.active()){d.update(h,u,a);continue}else d.cancel();if(!h||!h.duration){e[c]=u;continue}o[c]=d=new sb(h,e,c,u),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}let i=this._createAnimations(e,n);if(i.length)return Ki.add(this._chart,i),!0}};function nW(t,e){let n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){let o=t[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function iW(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function iA(t,e){let n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:i?o:r,end:i?r:o}}function rW(t,e,n){if(n===!1)return!1;let i=iA(t,n),r=iA(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oW(t){let e,n,i,r;return ae(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function iP(t,e){let n=[],i=t._getSortedDatasetMetas(e),r,o;for(r=0,o=i.length;r<o;++r)n.push(i[r].index);return n}function rA(t,e,n,i={}){let r=t.keys,o=i.mode==="single",s,a,l,c;if(e!==null){for(s=0,a=r.length;s<a;++s){if(l=+r[s],l===n){if(i.all)continue;break}c=t.values[l],He(c)&&(o||e===0||zn(e)===zn(c))&&(e+=c)}return e}}function sW(t){let e=Object.keys(t),n=new Array(e.length),i,r,o;for(i=0,r=e.length;i<r;++i)o=e[i],n[i]={x:o,y:t[o]};return n}function oA(t,e){let n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function aW(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function lW(t){let{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function cW(t,e,n){let i=t[e]||(t[e]={});return i[n]||(i[n]={})}function sA(t,e,n,i){for(let r of e.getMatchingVisibleMetas(i).reverse()){let o=t[r.index];if(n&&o>0||!n&&o<0)return r.index}return null}function aA(t,e){let{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:o,vScale:s,index:a}=i,l=o.axis,c=s.axis,u=aW(o,s,i),d=e.length,h;for(let f=0;f<d;++f){let p=e[f],{[l]:g,[c]:m}=p,y=p._stacks||(p._stacks={});h=y[c]=cW(r,u,g),h[a]=m,h._top=sA(h,s,!0,i.type),h._bottom=sA(h,s,!1,i.type);let v=h._visualValues||(h._visualValues={});v[a]=m}}function Q0(t,e){let n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function uW(t,e){return Yi(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function dW(t,e,n){return Yi(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Ic(t,e){let n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(let r of e){let o=r._stacks;if(!o||o[i]===void 0||o[i][n]===void 0)return;delete o[i][n],o[i]._visualValues!==void 0&&o[i]._visualValues[n]!==void 0&&delete o[i]._visualValues[n]}}}var Z0=t=>t==="reset"||t==="none",lA=(t,e)=>e?t:Object.assign({},t),hW=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:iP(n,!0),values:null},Hr=(()=>{class t{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(n,i){this.chart=n,this._ctx=n.ctx,this.index=i,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){let n=this._cachedMeta;this.configure(),this.linkScales(),n._stacked=oA(n.vScale,n),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(n){this.index!==n&&Ic(this._cachedMeta),this.index=n}linkScales(){let n=this.chart,i=this._cachedMeta,r=this.getDataset(),o=(h,f,p,g)=>h==="x"?f:h==="r"?g:p,s=i.xAxisID=G(r.xAxisID,Q0(n,"x")),a=i.yAxisID=G(r.yAxisID,Q0(n,"y")),l=i.rAxisID=G(r.rAxisID,Q0(n,"r")),c=i.indexAxis,u=i.iAxisID=o(c,s,a,l),d=i.vAxisID=o(c,a,s,l);i.xScale=this.getScaleForId(s),i.yScale=this.getScaleForId(a),i.rScale=this.getScaleForId(l),i.iScale=this.getScaleForId(u),i.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(n){return this.chart.scales[n]}_getOtherScale(n){let i=this._cachedMeta;return n===i.iScale?i.vScale:i.iScale}reset(){this._update("reset")}_destroy(){let n=this._cachedMeta;this._data&&T0(this._data,this),n._stacked&&Ic(n)}_dataCheck(){let n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(ae(i))this._data=sW(i);else if(r!==i){if(r){T0(r,this);let o=this._cachedMeta;Ic(o),o._parsed=[]}i&&Object.isExtensible(i)&&LT(i,this),this._syncList=[],this._data=i}}addElements(){let n=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(n.dataset=new this.datasetElementType)}buildOrUpdateElements(n){let i=this._cachedMeta,r=this.getDataset(),o=!1;this._dataCheck();let s=i._stacked;i._stacked=oA(i.vScale,i),i.stack!==r.stack&&(o=!0,Ic(i),i.stack=r.stack),this._resyncElements(n),(o||s!==i._stacked)&&aA(this,i._parsed)}configure(){let n=this.chart.config,i=n.datasetScopeKeys(this._type),r=n.getOptionScopes(this.getDataset(),i,!0);this.options=n.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(n,i){let{_cachedMeta:r,_data:o}=this,{iScale:s,_stacked:a}=r,l=s.axis,c=n===0&&i===o.length?!0:r._sorted,u=n>0&&r._parsed[n-1],d,h,f;if(this._parsing===!1)r._parsed=o,r._sorted=!0,f=o;else{Pe(o[n])?f=this.parseArrayData(r,o,n,i):ae(o[n])?f=this.parseObjectData(r,o,n,i):f=this.parsePrimitiveData(r,o,n,i);let p=()=>h[l]===null||u&&h[l]<u[l];for(d=0;d<i;++d)r._parsed[d+n]=h=f[d],c&&(p()&&(c=!1),u=h);r._sorted=c}a&&aA(this,f)}parsePrimitiveData(n,i,r,o){let{iScale:s,vScale:a}=n,l=s.axis,c=a.axis,u=s.getLabels(),d=s===a,h=new Array(o),f,p,g;for(f=0,p=o;f<p;++f)g=f+r,h[f]={[l]:d||s.parse(u[g],g),[c]:a.parse(i[g],g)};return h}parseArrayData(n,i,r,o){let{xScale:s,yScale:a}=n,l=new Array(o),c,u,d,h;for(c=0,u=o;c<u;++c)d=c+r,h=i[d],l[c]={x:s.parse(h[0],d),y:a.parse(h[1],d)};return l}parseObjectData(n,i,r,o){let{xScale:s,yScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=new Array(o),d,h,f,p;for(d=0,h=o;d<h;++d)f=d+r,p=i[f],u[d]={x:s.parse(qi(p,l),f),y:a.parse(qi(p,c),f)};return u}getParsed(n){return this._cachedMeta._parsed[n]}getDataElement(n){return this._cachedMeta.data[n]}applyStack(n,i,r){let o=this.chart,s=this._cachedMeta,a=i[n.axis],l={keys:iP(o,!0),values:i._stacks[n.axis]._visualValues};return rA(l,a,s.index,{mode:r})}updateRangeFromParsed(n,i,r,o){let s=r[i.axis],a=s===null?NaN:s,l=o&&r._stacks[i.axis];o&&l&&(o.values=l,a=rA(o,s,this._cachedMeta.index)),n.min=Math.min(n.min,a),n.max=Math.max(n.max,a)}getMinMax(n,i){let r=this._cachedMeta,o=r._parsed,s=r._sorted&&n===r.iScale,a=o.length,l=this._getOtherScale(n),c=hW(i,r,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:h}=lW(l),f,p;function g(){p=o[f];let m=p[l.axis];return!He(p[n.axis])||d>m||h<m}for(f=0;f<a&&!(!g()&&(this.updateRangeFromParsed(u,n,p,c),s));++f);if(s){for(f=a-1;f>=0;--f)if(!g()){this.updateRangeFromParsed(u,n,p,c);break}}return u}getAllParsedValues(n){let i=this._cachedMeta._parsed,r=[],o,s,a;for(o=0,s=i.length;o<s;++o)a=i[o][n.axis],He(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(n){let i=this._cachedMeta,r=i.iScale,o=i.vScale,s=this.getParsed(n);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:o?""+o.getLabelForValue(s[o.axis]):""}}_update(n){let i=this._cachedMeta;this.update(n||"default"),i._clip=oW(G(this.options.clip,rW(i.xScale,i.yScale,this.getMaxOverflow())))}update(n){}draw(){let n=this._ctx,i=this.chart,r=this._cachedMeta,o=r.data||[],s=i.chartArea,a=[],l=this._drawStart||0,c=this._drawCount||o.length-l,u=this.options.drawActiveElementsOnTop,d;for(r.dataset&&r.dataset.draw(n,s,l,c),d=l;d<l+c;++d){let h=o[d];h.hidden||(h.active&&u?a.push(h):h.draw(n,s))}for(d=0;d<a.length;++d)a[d].draw(n,s)}getStyle(n,i){let r=i?"active":"default";return n===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(n||0,r)}getContext(n,i,r){let o=this.getDataset(),s;if(n>=0&&n<this._cachedMeta.data.length){let a=this._cachedMeta.data[n];s=a.$context||(a.$context=dW(this.getContext(),n,a)),s.parsed=this.getParsed(n),s.raw=o.data[n],s.index=s.dataIndex=n}else s=this.$context||(this.$context=uW(this.chart.getContext(),this.index)),s.dataset=o,s.index=s.datasetIndex=this.index;return s.active=!!i,s.mode=r,s}resolveDatasetElementOptions(n){return this._resolveElementOptions(this.datasetElementType.id,n)}resolveDataElementOptions(n,i){return this._resolveElementOptions(this.dataElementType.id,i,n)}_resolveElementOptions(n,i="default",r){let o=i==="active",s=this._cachedDataOpts,a=n+"-"+i,l=s[a],c=this.enableOptionSharing&&fa(r);if(l)return lA(l,c);let u=this.chart.config,d=u.datasetElementScopeKeys(this._type,n),h=o?[`${n}Hover`,"hover",n,""]:[n,""],f=u.getOptionScopes(this.getDataset(),d),p=Object.keys(ze.elements[n]),g=()=>this.getContext(r,o,i),m=u.resolveNamedOptions(f,p,g,h);return m.$shared&&(m.$shared=c,s[a]=Object.freeze(lA(m,c))),m}_resolveAnimations(n,i,r){let o=this.chart,s=this._cachedDataOpts,a=`animation-${i}`,l=s[a];if(l)return l;let c;if(o.options.animation!==!1){let d=this.chart.config,h=d.datasetAnimationScopeKeys(this._type,i),f=d.getOptionScopes(this.getDataset(),h);c=d.createResolver(f,this.getContext(n,r,i))}let u=new Kf(o,c&&c.animations);return c&&c._cacheable&&(s[a]=Object.freeze(u)),u}getSharedOptions(n){if(n.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},n))}includeOptions(n,i){return!i||Z0(n)||this.chart._animationsDisabled}_getSharedOptions(n,i){let r=this.resolveDataElementOptions(n,i),o=this._sharedOptions,s=this.getSharedOptions(r),a=this.includeOptions(i,s)||s!==o;return this.updateSharedOptions(s,i,r),{sharedOptions:s,includeOptions:a}}updateElement(n,i,r,o){Z0(o)?Object.assign(n,r):this._resolveAnimations(i,o).update(n,r)}updateSharedOptions(n,i,r){n&&!Z0(i)&&this._resolveAnimations(void 0,i).update(n,r)}_setStyle(n,i,r,o){n.active=o;let s=this.getStyle(i,o);this._resolveAnimations(i,r,o).update(n,{options:!o&&this.getSharedOptions(s)||s})}removeHoverStyle(n,i,r){this._setStyle(n,r,"active",!1)}setHoverStyle(n,i,r){this._setStyle(n,r,"active",!0)}_removeDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!1)}_setDatasetHoverStyle(){let n=this._cachedMeta.dataset;n&&this._setStyle(n,void 0,"active",!0)}_resyncElements(n){let i=this._data,r=this._cachedMeta.data;for(let[l,c,u]of this._syncList)this[l](c,u);this._syncList=[];let o=r.length,s=i.length,a=Math.min(s,o);a&&this.parse(0,a),s>o?this._insertElements(o,s-o,n):s<o&&this._removeElements(s,o-s)}_insertElements(n,i,r=!0){let o=this._cachedMeta,s=o.data,a=n+i,l,c=u=>{for(u.length+=i,l=u.length-1;l>=a;l--)u[l]=u[l-i]};for(c(s),l=n;l<a;++l)s[l]=new this.dataElementType;this._parsing&&c(o._parsed),this.parse(n,i),r&&this.updateElements(s,n,i,"reset")}updateElements(n,i,r,o){}_removeElements(n,i){let r=this._cachedMeta;if(this._parsing){let o=r._parsed.splice(n,i);r._stacked&&Ic(r,o)}r.data.splice(n,i)}_sync(n){if(this._parsing)this._syncList.push(n);else{let[i,r,o]=n;this[i](r,o)}this.chart._dataChanges.push([this.index,...n])}_onDataPush(){let n=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-n,n])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(n,i){i&&this._sync(["_removeElements",n,i]);let r=arguments.length-2;r&&this._sync(["_insertElements",n,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t})();function fW(t,e){if(!t._cache.$bar){let n=t.getMatchingVisibleMetas(e),i=[];for(let r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=A0(i.sort((r,o)=>r-o))}return t._cache.$bar}function pW(t){let e=t.iScale,n=fW(e,t.type),i=e._length,r,o,s,a,l=()=>{s===32767||s===-32768||(fa(a)&&(i=Math.min(i,Math.abs(s-a)||i)),a=s)};for(r=0,o=n.length;r<o;++r)s=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,o=e.ticks.length;r<o;++r)s=e.getPixelForTick(r),l();return i}function gW(t,e,n,i){let r=n.barThickness,o,s;return de(r)?(o=e.min*n.categoryPercentage,s=n.barPercentage):(o=r*i,s=1),{chunk:o/i,ratio:s,start:e.pixels[t]-o/2}}function mW(t,e,n,i){let r=e.pixels,o=r[t],s=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null,l=n.categoryPercentage;s===null&&(s=o-(a===null?e.end-e.start:a-o)),a===null&&(a=o+o-s);let c=o-(o-Math.min(s,a))/2*l;return{chunk:Math.abs(a-s)/2*l/i,ratio:n.barPercentage,start:c}}function yW(t,e,n,i){let r=n.parse(t[0],i),o=n.parse(t[1],i),s=Math.min(r,o),a=Math.max(r,o),l=s,c=a;Math.abs(s)>Math.abs(a)&&(l=a,c=s),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:r,end:o,min:s,max:a}}function rP(t,e,n,i){return Pe(t)?yW(t,e,n,i):e[n.axis]=n.parse(t,i),e}function cA(t,e,n,i){let r=t.iScale,o=t.vScale,s=r.getLabels(),a=r===o,l=[],c,u,d,h;for(c=n,u=n+i;c<u;++c)h=e[c],d={},d[r.axis]=a||r.parse(s[c],c),l.push(rP(h,d,o,c));return l}function X0(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function vW(t,e,n){return t!==0?zn(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function _W(t){let e,n,i,r,o;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:e,top:r,bottom:o}}function bW(t,e,n,i){let r=e.borderSkipped,o={};if(!r){t.borderSkipped=o;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}let{start:s,end:a,reverse:l,top:c,bottom:u}=_W(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=u:(o[uA(u,s,a,l)]=!0,r=c)),o[uA(r,s,a,l)]=!0,t.borderSkipped=o}function uA(t,e,n,i){return i?(t=CW(t,e,n),t=dA(t,n,e)):t=dA(t,e,n),t}function CW(t,e,n){return t===e?n:t===n?e:t}function dA(t,e,n){return t==="start"?e:t==="end"?n:t}function wW(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}var DW=(()=>{class t extends Hr{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(n,i,r,o){return cA(n,i,r,o)}parseArrayData(n,i,r,o){return cA(n,i,r,o)}parseObjectData(n,i,r,o){let{iScale:s,vScale:a}=n,{xAxisKey:l="x",yAxisKey:c="y"}=this._parsing,u=s.axis==="x"?l:c,d=a.axis==="x"?l:c,h=[],f,p,g,m;for(f=r,p=r+o;f<p;++f)m=i[f],g={},g[s.axis]=s.parse(qi(m,u),f),h.push(rP(qi(m,d),g,a,f));return h}updateRangeFromParsed(n,i,r,o){super.updateRangeFromParsed(n,i,r,o);let s=r._custom;s&&i===this._cachedMeta.vScale&&(n.min=Math.min(n.min,s.min),n.max=Math.max(n.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(n){let i=this._cachedMeta,{iScale:r,vScale:o}=i,s=this.getParsed(n),a=s._custom,l=X0(a)?"["+a.start+", "+a.end+"]":""+o.getLabelForValue(s[o.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize();let n=this._cachedMeta;n.stack=this.getDataset().stack}update(n){let i=this._cachedMeta;this.updateElements(i.data,0,i.data.length,n)}updateElements(n,i,r,o){let s=o==="reset",{index:a,_cachedMeta:{vScale:l}}=this,c=l.getBasePixel(),u=l.isHorizontal(),d=this._getRuler(),{sharedOptions:h,includeOptions:f}=this._getSharedOptions(i,o);for(let p=i;p<i+r;p++){let g=this.getParsed(p),m=s||de(g[l.axis])?{base:c,head:c}:this._calculateBarValuePixels(p),y=this._calculateBarIndexPixels(p,d),v=(g._stacks||{})[l.axis],C={horizontal:u,base:m.base,enableBorderRadius:!v||X0(g._custom)||a===v._top||a===v._bottom,x:u?m.head:y.center,y:u?y.center:m.head,height:u?y.size:Math.abs(m.size),width:u?Math.abs(m.size):y.size};f&&(C.options=h||this.resolveDataElementOptions(p,n[p].active?"active":o));let D=C.options||n[p].options;bW(C,D,v,a),wW(C,D,d.ratio),this.updateElement(n[p],p,C,o)}}_getStacks(n,i){let{iScale:r}=this._cachedMeta,o=r.getMatchingVisibleMetas(this._type).filter(c=>c.controller.options.grouped),s=r.options.stacked,a=[],l=c=>{let u=c.controller.getParsed(i),d=u&&u[c.vScale.axis];if(de(d)||isNaN(d))return!0};for(let c of o)if(!(i!==void 0&&l(c))&&((s===!1||a.indexOf(c.stack)===-1||s===void 0&&c.stack===void 0)&&a.push(c.stack),c.index===n))break;return a.length||a.push(void 0),a}_getStackCount(n){return this._getStacks(void 0,n).length}_getStackIndex(n,i,r){let o=this._getStacks(n,r),s=i!==void 0?o.indexOf(i):-1;return s===-1?o.length-1:s}_getRuler(){let n=this.options,i=this._cachedMeta,r=i.iScale,o=[],s,a;for(s=0,a=i.data.length;s<a;++s)o.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));let l=n.barThickness;return{min:l||pW(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:l?1:n.categoryPercentage*n.barPercentage}}_calculateBarValuePixels(n){let{_cachedMeta:{vScale:i,_stacked:r,index:o},options:{base:s,minBarLength:a}}=this,l=s||0,c=this.getParsed(n),u=c._custom,d=X0(u),h=c[i.axis],f=0,p=r?this.applyStack(i,c,r):h,g,m;p!==h&&(f=p-h,p=h),d&&(h=u.barStart,p=u.barEnd-u.barStart,h!==0&&zn(h)!==zn(u.barEnd)&&(f=0),f+=h);let y=!de(s)&&!d?s:f,v=i.getPixelForValue(y);if(this.chart.getDataVisibility(n)?g=i.getPixelForValue(f+p):g=v,m=g-v,Math.abs(m)<a){m=vW(m,i,l)*a,h===l&&(v-=m/2);let C=i.getPixelForDecimal(0),D=i.getPixelForDecimal(1),w=Math.min(C,D),x=Math.max(C,D);v=Math.max(Math.min(v,x),w),g=v+m,r&&!d&&(c._stacks[i.axis]._visualValues[o]=i.getValueForPixel(g)-i.getValueForPixel(v))}if(v===i.getPixelForValue(l)){let C=zn(m)*i.getLineWidthForValue(l)/2;v+=C,m-=C}return{size:m,base:v,head:g,center:g+m/2}}_calculateBarIndexPixels(n,i){let r=i.scale,o=this.options,s=o.skipNull,a=G(o.maxBarThickness,1/0),l,c;if(i.grouped){let u=s?this._getStackCount(n):i.stackCount,d=o.barThickness==="flex"?mW(n,i,o,u):gW(n,i,o,u),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?n:void 0);l=d.start+d.chunk*h+d.chunk/2,c=Math.min(a,d.chunk*d.ratio)}else l=r.getPixelForValue(this.getParsed(n)[r.axis],n),c=Math.min(a,i.min*i.ratio);return{base:l-c/2,head:l+c/2,center:l,size:c}}draw(){let n=this._cachedMeta,i=n.vScale,r=n.data,o=r.length,s=0;for(;s<o;++s)this.getParsed(s)[i.axis]!==null&&r[s].draw(this._ctx)}}return t})(),EW=(()=>{class t extends Hr{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(n,i,r,o){let s=super.parsePrimitiveData(n,i,r,o);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+r).radius;return s}parseArrayData(n,i,r,o){let s=super.parseArrayData(n,i,r,o);for(let a=0;a<s.length;a++){let l=i[r+a];s[a]._custom=G(l[2],this.resolveDataElementOptions(a+r).radius)}return s}parseObjectData(n,i,r,o){let s=super.parseObjectData(n,i,r,o);for(let a=0;a<s.length;a++){let l=i[r+a];s[a]._custom=G(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return s}getMaxOverflow(){let n=this._cachedMeta.data,i=0;for(let r=n.length-1;r>=0;--r)i=Math.max(i,n[r].size(this.resolveDataElementOptions(r))/2);return i>0&&i}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(n),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y),u=a._custom;return{label:r[n]||"",value:"("+l+", "+c+(u?", "+u:"")+")"}}update(n){let i=this._cachedMeta.data;this.updateElements(i,0,i.length,n)}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(i,o),d=a.axis,h=l.axis;for(let f=i;f<i+r;f++){let p=n[f],g=!s&&this.getParsed(f),m={},y=m[d]=s?a.getPixelForDecimal(.5):a.getPixelForValue(g[d]),v=m[h]=s?l.getBasePixel():l.getPixelForValue(g[h]);m.skip=isNaN(y)||isNaN(v),u&&(m.options=c||this.resolveDataElementOptions(f,p.active?"active":o),s&&(m.options.radius=0)),this.updateElement(p,f,m,o)}}resolveDataElementOptions(n,i){let r=this.getParsed(n),o=super.resolveDataElementOptions(n,i);o.$shared&&(o=Object.assign({},o,{$shared:!1}));let s=o.radius;return i!=="active"&&(o.radius=0),o.radius+=G(r&&r._custom,s),o}}return t})();function xW(t,e,n){let i=1,r=1,o=0,s=0;if(e<Re){let a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),d=Math.cos(l),h=Math.sin(l),f=(C,D,w)=>ga(C,a,l,!0)?1:Math.max(D,D*n,w,w*n),p=(C,D,w)=>ga(C,a,l,!0)?-1:Math.min(D,D*n,w,w*n),g=f(0,c,d),m=f(Ge,u,h),y=p(Ne,c,d),v=p(Ne+Ge,u,h);i=(g-y)/2,r=(m-v)/2,o=-(g+y)/2,s=-(m+v)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:s}}var Ib=(()=>{class t extends Hr{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:n=>n!=="spacing",_indexable:n=>n!=="spacing"&&!n.startsWith("borderDash")&&!n.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=n.legend.options;return i.labels.map((s,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}}};constructor(n,i){super(n,i),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(n,i){let r=this.getDataset().data,o=this._cachedMeta;if(this._parsing===!1)o._parsed=r;else{let s=c=>+r[c];if(ae(r[n])){let{key:c="value"}=this._parsing;s=u=>+qi(r[u],c)}let a,l;for(a=n,l=n+i;a<l;++a)o._parsed[a]=s(a)}}_getRotation(){return Sn(this.options.rotation-90)}_getCircumference(){return Sn(this.options.circumference)}_getRotationExtents(){let n=Re,i=-Re;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){let o=this.chart.getDatasetMeta(r).controller,s=o._getRotation(),a=o._getCircumference();n=Math.min(n,s),i=Math.max(i,s+a)}return{rotation:n,circumference:i-n}}update(n){let i=this.chart,{chartArea:r}=i,o=this._cachedMeta,s=o.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),c=Math.min(MT(this.options.cutout,l),1),u=this._getRingWeight(this.index),{circumference:d,rotation:h}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=xW(h,d,c),y=(r.width-a)/f,v=(r.height-a)/p,C=Math.max(Math.min(y,v)/2,0),D=D0(this.options.radius,C),w=Math.max(D*c,0),x=(D-w)/this._getVisibleDatasetWeightTotal();this.offsetX=g*D,this.offsetY=m*D,o.total=this.calculateTotal(),this.outerRadius=D-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(s,0,s.length,n)}_circumference(n,i){let r=this.options,o=this._cachedMeta,s=this._getCircumference();return i&&r.animation.animateRotate||!this.chart.getDataVisibility(n)||o._parsed[n]===null||o.data[n].hidden?0:this.calculateCircumference(o._parsed[n]*s/Re)}updateElements(n,i,r,o){let s=o==="reset",a=this.chart,l=a.chartArea,u=a.options.animation,d=(l.left+l.right)/2,h=(l.top+l.bottom)/2,f=s&&u.animateScale,p=f?0:this.innerRadius,g=f?0:this.outerRadius,{sharedOptions:m,includeOptions:y}=this._getSharedOptions(i,o),v=this._getRotation(),C;for(C=0;C<i;++C)v+=this._circumference(C,s);for(C=i;C<i+r;++C){let D=this._circumference(C,s),w=n[C],x={x:d+this.offsetX,y:h+this.offsetY,startAngle:v,endAngle:v+D,circumference:D,outerRadius:g,innerRadius:p};y&&(x.options=m||this.resolveDataElementOptions(C,w.active?"active":o)),v+=D,this.updateElement(w,C,x,o)}}calculateTotal(){let n=this._cachedMeta,i=n.data,r=0,o;for(o=0;o<i.length;o++){let s=n._parsed[o];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(o)&&!i[o].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(n){let i=this._cachedMeta.total;return i>0&&!isNaN(n)?Re*(Math.abs(n)/i):0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=ma(i._parsed[n],r.options.locale);return{label:o[n]||"",value:s}}getMaxBorderWidth(n){let i=0,r=this.chart,o,s,a,l,c;if(!n){for(o=0,s=r.data.datasets.length;o<s;++o)if(r.isDatasetVisible(o)){a=r.getDatasetMeta(o),n=a.data,l=a.controller;break}}if(!n)return 0;for(o=0,s=n.length;o<s;++o)c=l.resolveDataElementOptions(o),c.borderAlign!=="inner"&&(i=Math.max(i,c.borderWidth||0,c.hoverBorderWidth||0));return i}getMaxOffset(n){let i=0;for(let r=0,o=n.length;r<o;++r){let s=this.resolveDataElementOptions(r);i=Math.max(i,s.offset||0,s.hoverOffset||0)}return i}_getRingWeightOffset(n){let i=0;for(let r=0;r<n;++r)this.chart.isDatasetVisible(r)&&(i+=this._getRingWeight(r));return i}_getRingWeight(n){return Math.max(G(this.chart.data.datasets[n].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t})(),IW=(()=>{class t extends Hr{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(n){let i=this._cachedMeta,{dataset:r,data:o=[],_dataset:s}=i,a=this.chart._animationsDisabled,{start:l,count:c}=R0(i,o,a);this._drawStart=l,this._drawCount=c,O0(i)&&(l=0,c=o.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=o;let u=this.resolveDatasetElementOptions(n);this.options.showLine||(u.borderWidth=0),u.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:u},n),this.updateElements(o,l,c,n)}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(i,o),f=a.axis,p=l.axis,{spanGaps:g,segment:m}=this.options,y=ko(g)?g:Number.POSITIVE_INFINITY,v=this.chart._animationsDisabled||s||o==="none",C=i+r,D=n.length,w=i>0&&this.getParsed(i-1);for(let x=0;x<D;++x){let P=n[x],T=v?P:{};if(x<i||x>=C){T.skip=!0;continue}let F=this.getParsed(x),q=de(F[p]),K=T[f]=a.getPixelForValue(F[f],x),le=T[p]=s||q?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,F,c):F[p],x);T.skip=isNaN(K)||isNaN(le)||q,T.stop=x>0&&Math.abs(F[f]-w[f])>y,m&&(T.parsed=F,T.raw=u.data[x]),h&&(T.options=d||this.resolveDataElementOptions(x,P.active?"active":o)),v||this.updateElement(P,x,T,o),w=F}}getMaxOverflow(){let n=this._cachedMeta,i=n.dataset,r=i.options&&i.options.borderWidth||0,o=n.data||[];if(!o.length)return r;let s=o[0].size(this.resolveDataElementOptions(0)),a=o[o.length-1].size(this.resolveDataElementOptions(o.length-1));return Math.max(r,s,a)/2}draw(){let n=this._cachedMeta;n.dataset.updateControlPoints(this.chart.chartArea,n.iScale.axis),super.draw()}}return t})(),oP=(()=>{class t extends Hr{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(n){let i=n.data;if(i.labels.length&&i.datasets.length){let{labels:{pointStyle:r,color:o}}=n.legend.options;return i.labels.map((s,a)=>{let c=n.getDatasetMeta(0).controller.getStyle(a);return{text:s,fillStyle:c.backgroundColor,strokeStyle:c.borderColor,fontColor:o,lineWidth:c.borderWidth,pointStyle:r,hidden:!n.getDataVisibility(a),index:a}})}return[]}},onClick(n,i,r){r.chart.toggleDataVisibility(i.index),r.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(n,i){super(n,i),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(n){let i=this._cachedMeta,r=this.chart,o=r.data.labels||[],s=ma(i._parsed[n].r,r.options.locale);return{label:o[n]||"",value:s}}parseObjectData(n,i,r,o){return H0.bind(this)(n,i,r,o)}update(n){let i=this._cachedMeta.data;this._updateRadius(),this.updateElements(i,0,i.length,n)}getMinMax(){let n=this._cachedMeta,i={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return n.data.forEach((r,o)=>{let s=this.getParsed(o).r;!isNaN(s)&&this.chart.getDataVisibility(o)&&(s<i.min&&(i.min=s),s>i.max&&(i.max=s))}),i}_updateRadius(){let n=this.chart,i=n.chartArea,r=n.options,o=Math.min(i.right-i.left,i.bottom-i.top),s=Math.max(o/2,0),a=Math.max(r.cutoutPercentage?s/100*r.cutoutPercentage:1,0),l=(s-a)/n.getVisibleDatasetCount();this.outerRadius=s-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(n,i,r,o){let s=o==="reset",a=this.chart,c=a.options.animation,u=this._cachedMeta.rScale,d=u.xCenter,h=u.yCenter,f=u.getIndexAngle(0)-.5*Ne,p=f,g,m=360/this.countVisibleElements();for(g=0;g<i;++g)p+=this._computeAngle(g,o,m);for(g=i;g<i+r;g++){let y=n[g],v=p,C=p+this._computeAngle(g,o,m),D=a.getDataVisibility(g)?u.getDistanceFromCenterForValue(this.getParsed(g).r):0;p=C,s&&(c.animateScale&&(D=0),c.animateRotate&&(v=C=f));let w={x:d,y:h,innerRadius:0,outerRadius:D,startAngle:v,endAngle:C,options:this.resolveDataElementOptions(g,y.active?"active":o)};this.updateElement(y,g,w,o)}}countVisibleElements(){let n=this._cachedMeta,i=0;return n.data.forEach((r,o)=>{!isNaN(this.getParsed(o).r)&&this.chart.getDataVisibility(o)&&i++}),i}_computeAngle(n,i,r){return this.chart.getDataVisibility(n)?Sn(this.resolveDataElementOptions(n,i).angle||r):0}}return t})(),SW=(()=>{class t extends Ib{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}return t})(),MW=(()=>{class t extends Hr{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(n){let i=this._cachedMeta.vScale,r=this.getParsed(n);return{label:i.getLabels()[n],value:""+i.getLabelForValue(r[i.axis])}}parseObjectData(n,i,r,o){return H0.bind(this)(n,i,r,o)}update(n){let i=this._cachedMeta,r=i.dataset,o=i.data||[],s=i.iScale.getLabels();if(r.points=o,n!=="resize"){let a=this.resolveDatasetElementOptions(n);this.options.showLine||(a.borderWidth=0);let l={_loop:!0,_fullLoop:s.length===o.length,options:a};this.updateElement(r,void 0,l,n)}this.updateElements(o,0,o.length,n)}updateElements(n,i,r,o){let s=this._cachedMeta.rScale,a=o==="reset";for(let l=i;l<i+r;l++){let c=n[l],u=this.resolveDataElementOptions(l,c.active?"active":o),d=s.getPointPositionForValue(l,this.getParsed(l).r),h=a?s.xCenter:d.x,f=a?s.yCenter:d.y,p={x:h,y:f,angle:d.angle,skip:isNaN(h)||isNaN(f),options:u};this.updateElement(c,l,p,o)}}}return t})(),TW=(()=>{class t extends Hr{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(n){let i=this._cachedMeta,r=this.chart.data.labels||[],{xScale:o,yScale:s}=i,a=this.getParsed(n),l=o.getLabelForValue(a.x),c=s.getLabelForValue(a.y);return{label:r[n]||"",value:"("+l+", "+c+")"}}update(n){let i=this._cachedMeta,{data:r=[]}=i,o=this.chart._animationsDisabled,{start:s,count:a}=R0(i,r,o);if(this._drawStart=s,this._drawCount=a,O0(i)&&(s=0,a=r.length),this.options.showLine){this.datasetElementType||this.addElements();let{dataset:l,_dataset:c}=i;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!c._decimated,l.points=r;let u=this.resolveDatasetElementOptions(n);u.segment=this.options.segment,this.updateElement(l,void 0,{animated:!o,options:u},n)}else this.datasetElementType&&(delete i.dataset,this.datasetElementType=!1);this.updateElements(r,s,a,n)}addElements(){let{showLine:n}=this.options;!this.datasetElementType&&n&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(n,i,r,o){let s=o==="reset",{iScale:a,vScale:l,_stacked:c,_dataset:u}=this._cachedMeta,d=this.resolveDataElementOptions(i,o),h=this.getSharedOptions(d),f=this.includeOptions(o,h),p=a.axis,g=l.axis,{spanGaps:m,segment:y}=this.options,v=ko(m)?m:Number.POSITIVE_INFINITY,C=this.chart._animationsDisabled||s||o==="none",D=i>0&&this.getParsed(i-1);for(let w=i;w<i+r;++w){let x=n[w],P=this.getParsed(w),T=C?x:{},F=de(P[g]),q=T[p]=a.getPixelForValue(P[p],w),K=T[g]=s||F?l.getBasePixel():l.getPixelForValue(c?this.applyStack(l,P,c):P[g],w);T.skip=isNaN(q)||isNaN(K)||F,T.stop=w>0&&Math.abs(P[p]-D[p])>v,y&&(T.parsed=P,T.raw=u.data[w]),f&&(T.options=h||this.resolveDataElementOptions(w,x.active?"active":o)),C||this.updateElement(x,w,T,o),D=P}this.updateSharedOptions(h,o,d)}getMaxOverflow(){let n=this._cachedMeta,i=n.data||[];if(!this.options.showLine){let l=0;for(let c=i.length-1;c>=0;--c)l=Math.max(l,i[c].size(this.resolveDataElementOptions(c))/2);return l>0&&l}let r=n.dataset,o=r.options&&r.options.borderWidth||0;if(!i.length)return o;let s=i[0].size(this.resolveDataElementOptions(0)),a=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(o,s,a)/2}}return t})(),AW=Object.freeze({__proto__:null,BarController:DW,BubbleController:EW,DoughnutController:Ib,LineController:IW,PieController:SW,PolarAreaController:oP,RadarController:MW,ScatterController:TW});function Lo(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var ab=class t{static override(e){Object.assign(t.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Lo()}parse(){return Lo()}format(){return Lo()}add(){return Lo()}diff(){return Lo()}startOf(){return Lo()}endOf(){return Lo()}},PW={_date:ab};function NW(t,e,n,i){let{controller:r,data:o,_sorted:s}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&s&&o.length){let l=a._reversePixels?OT:di;if(i){if(r._sharedOptions){let c=o[0],u=typeof c.getRange=="function"&&c.getRange(e);if(u){let d=l(o,e,n-u),h=l(o,e,n+u);return{lo:d.lo,hi:h.hi}}}}else return l(o,e,n)}return{lo:0,hi:o.length-1}}function Fc(t,e,n,i,r){let o=t.getSortedVisibleDatasetMetas(),s=n[e];for(let a=0,l=o.length;a<l;++a){let{index:c,data:u}=o[a],{lo:d,hi:h}=NW(o[a],e,s,r);for(let f=d;f<=h;++f){let p=u[f];p.skip||i(p,c,f)}}}function RW(t){let e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){let o=e?Math.abs(i.x-r.x):0,s=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(s,2))}}function J0(t,e,n,i,r){let o=[];return!r&&!t.isPointInArea(e)||Fc(t,n,e,function(a,l,c){!r&&!hi(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&o.push({element:a,datasetIndex:l,index:c})},!0),o}function OW(t,e,n,i){let r=[];function o(s,a,l){let{startAngle:c,endAngle:u}=s.getProps(["startAngle","endAngle"],i),{angle:d}=M0(s,{x:e.x,y:e.y});ga(d,c,u)&&r.push({element:s,datasetIndex:a,index:l})}return Fc(t,n,e,o),r}function kW(t,e,n,i,r,o){let s=[],a=RW(n),l=Number.POSITIVE_INFINITY;function c(u,d,h){let f=u.inRange(e.x,e.y,r);if(i&&!f)return;let p=u.getCenterPoint(r);if(!(!!o||t.isPointInArea(p))&&!f)return;let m=a(e,p);m<l?(s=[{element:u,datasetIndex:d,index:h}],l=m):m===l&&s.push({element:u,datasetIndex:d,index:h})}return Fc(t,n,e,c),s}function eb(t,e,n,i,r,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!i?OW(t,e,n,r):kW(t,e,n,i,r,o)}function hA(t,e,n,i,r){let o=[],s=n==="x"?"inXRange":"inYRange",a=!1;return Fc(t,n,e,(l,c,u)=>{l[s](e[n],r)&&(o.push({element:l,datasetIndex:c,index:u}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:o}var FW={evaluateInteractionItems:Fc,modes:{index(t,e,n,i){let r=Ur(e,t),o=n.axis||"x",s=n.includeInvisible||!1,a=n.intersect?J0(t,r,o,i,s):eb(t,r,o,!1,i,s),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(c=>{let u=a[0].index,d=c.data[u];d&&!d.skip&&l.push({element:d,datasetIndex:c.index,index:u})}),l):[]},dataset(t,e,n,i){let r=Ur(e,t),o=n.axis||"xy",s=n.includeInvisible||!1,a=n.intersect?J0(t,r,o,i,s):eb(t,r,o,!1,i,s);if(a.length>0){let l=a[0].datasetIndex,c=t.getDatasetMeta(l).data;a=[];for(let u=0;u<c.length;++u)a.push({element:c[u],datasetIndex:l,index:u})}return a},point(t,e,n,i){let r=Ur(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return J0(t,r,o,i,s)},nearest(t,e,n,i){let r=Ur(e,t),o=n.axis||"xy",s=n.includeInvisible||!1;return eb(t,r,o,n.intersect,i,s)},x(t,e,n,i){let r=Ur(e,t);return hA(t,r,"x",n.intersect,i)},y(t,e,n,i){let r=Ur(e,t);return hA(t,r,"y",n.intersect,i)}}},sP=["left","top","right","bottom"];function Sc(t,e){return t.filter(n=>n.pos===e)}function fA(t,e){return t.filter(n=>sP.indexOf(n.pos)===-1&&n.box.axis===e)}function Mc(t,e){return t.sort((n,i)=>{let r=e?i:n,o=e?n:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function LW(t){let e=[],n,i,r,o,s,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:o,options:{stack:s,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:s&&o+s,stackWeight:a});return e}function VW(t){let e={};for(let n of t){let{stack:i,pos:r,stackWeight:o}=n;if(!i||!sP.includes(r))continue;let s=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=o}return e}function jW(t,e){let n=VW(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e,o,s,a;for(o=0,s=t.length;o<s;++o){a=t[o];let{fullSize:l}=a.box,c=n[a.stack],u=c&&a.stackWeight/c.weight;a.horizontal?(a.width=u?u*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=u?u*r:l&&e.availableHeight)}return n}function BW(t){let e=LW(t),n=Mc(e.filter(c=>c.box.fullSize),!0),i=Mc(Sc(e,"left"),!0),r=Mc(Sc(e,"right")),o=Mc(Sc(e,"top"),!0),s=Mc(Sc(e,"bottom")),a=fA(e,"x"),l=fA(e,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(s).concat(a),chartArea:Sc(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(s).concat(a)}}function pA(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function aP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function UW(t,e,n,i){let{pos:r,box:o}=n,s=t.maxPadding;if(!ae(r)){n.size&&(t[r]-=n.size);let d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?o.height:o.width),n.size=d.size/d.count,t[r]+=n.size}o.getPadding&&aP(s,o.getPadding());let a=Math.max(0,e.outerWidth-pA(s,t,"left","right")),l=Math.max(0,e.outerHeight-pA(s,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function $W(t){let e=t.maxPadding;function n(i){let r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function HW(t,e){let n=e.maxPadding;function i(r){let o={left:0,top:0,right:0,bottom:0};return r.forEach(s=>{o[s]=Math.max(e[s],n[s])}),o}return i(t?["left","right"]:["top","bottom"])}function Pc(t,e,n,i){let r=[],o,s,a,l,c,u;for(o=0,s=t.length,c=0;o<s;++o){a=t[o],l=a.box,l.update(a.width||e.w,a.height||e.h,HW(a.horizontal,e));let{same:d,other:h}=UW(e,n,a,i);c|=d&&r.length,u=u||h,l.fullSize||r.push(a)}return c&&Pc(r,e,n,i)||u}function Bf(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function gA(t,e,n,i){let r=n.padding,{x:o,y:s}=e;for(let a of t){let l=a.box,c=i[a.stack]||{count:1,placed:0,weight:1},u=a.stackWeight/c.weight||1;if(a.horizontal){let d=e.w*u,h=c.size||l.height;fa(c.start)&&(s=c.start),l.fullSize?Bf(l,r.left,s,n.outerWidth-r.right-r.left,h):Bf(l,e.left+c.placed,s,d,h),c.start=s,c.placed+=d,s=l.bottom}else{let d=e.h*u,h=c.size||l.width;fa(c.start)&&(o=c.start),l.fullSize?Bf(l,o,r.top,h,n.outerHeight-r.bottom-r.top):Bf(l,o,e.top+c.placed,h,d),c.start=o,c.placed+=d,o=l.right}}e.x=o,e.y=s}var Mt={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){let n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;let r=Ct(t.options.layout.padding),o=Math.max(e-r.width,0),s=Math.max(n-r.height,0),a=BW(t.boxes),l=a.vertical,c=a.horizontal;be(t.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});let u=l.reduce((g,m)=>m.box.options&&m.box.options.display===!1?g:g+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:o,availableHeight:s,vBoxMaxWidth:o/2/u,hBoxMaxHeight:s/2}),h=Object.assign({},r);aP(h,Ct(i));let f=Object.assign({maxPadding:h,w:o,h:s,x:r.left,y:r.top},r),p=jW(l.concat(c),d);Pc(a.fullSize,f,d,p),Pc(l,f,d,p),Pc(c,f,d,p)&&Pc(l,f,d,p),$W(f),gA(a.leftAndTop,f,d,p),f.x+=f.w,f.y+=f.h,gA(a.rightAndBottom,f,d,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},be(a.chartArea,g=>{let m=g.box;Object.assign(m,t.chartArea),m.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})})}},Qf=class{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}},lb=class extends Qf{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}},qf="$chartjs",zW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},mA=t=>t===null||t==="";function WW(t,e){let n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[qf]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",mA(r)){let o=W0(t,"width");o!==void 0&&(t.width=o)}if(mA(i))if(t.style.height==="")t.height=t.width/(e||2);else{let o=W0(t,"height");o!==void 0&&(t.height=o)}return t}var lP=ZT?{passive:!0}:!1;function GW(t,e,n){t&&t.addEventListener(e,n,lP)}function qW(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,lP)}function YW(t,e){let n=zW[t.type]||t.type,{x:i,y:r}=Ur(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Zf(t,e){for(let n of t)if(n===e||n.contains(e))return!0}function KW(t,e,n){let i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Zf(a.addedNodes,i),s=s&&!Zf(a.removedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function QW(t,e,n){let i=t.canvas,r=new MutationObserver(o=>{let s=!1;for(let a of o)s=s||Zf(a.removedNodes,i),s=s&&!Zf(a.addedNodes,i);s&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}var Rc=new Map,yA=0;function cP(){let t=window.devicePixelRatio;t!==yA&&(yA=t,Rc.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function ZW(t,e){Rc.size||window.addEventListener("resize",cP),Rc.set(t,e)}function XW(t){Rc.delete(t),Rc.size||window.removeEventListener("resize",cP)}function JW(t,e,n){let i=t.canvas,r=i&&Vf(i);if(!r)return;let o=N0((a,l)=>{let c=r.clientWidth;n(a,l),c<r.clientWidth&&n()},window),s=new ResizeObserver(a=>{let l=a[0],c=l.contentRect.width,u=l.contentRect.height;c===0&&u===0||o(c,u)});return s.observe(r),ZW(t,o),s}function tb(t,e,n){n&&n.disconnect(),e==="resize"&&XW(t)}function e3(t,e,n){let i=t.canvas,r=N0(o=>{t.ctx!==null&&n(YW(o,t))},t);return GW(i,e,r),r}var cb=class extends Qf{acquireContext(e,n){let i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(WW(e,n),i):null}releaseContext(e){let n=e.canvas;if(!n[qf])return!1;let i=n[qf].initial;["height","width"].forEach(o=>{let s=i[o];de(s)?n.removeAttribute(o):n.setAttribute(o,s)});let r=i.style||{};return Object.keys(r).forEach(o=>{n.style[o]=r[o]}),n.width=n.width,delete n[qf],!0}addEventListener(e,n,i){this.removeEventListener(e,n);let r=e.$proxies||(e.$proxies={}),s={attach:KW,detach:QW,resize:JW}[n]||e3;r[n]=s(e,n,i)}removeEventListener(e,n){let i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:tb,detach:tb,resize:tb}[n]||qW)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return QT(e,n,i,r)}isAttached(e){let n=Vf(e);return!!(n&&n.isConnected)}};function t3(t){return!Lf()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?lb:cb}var Wn=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){let{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return ko(this.x)&&ko(this.y)}getProps(e,n){let i=this.$animations;if(!n||!i)return this;let r={};return e.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function n3(t,e){let n=t.options.ticks,i=i3(t),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?o3(e):[],s=o.length,a=o[0],l=o[s-1],c=[];if(s>r)return s3(e,c,o,s/r),c;let u=r3(o,e,r);if(s>0){let d,h,f=s>1?Math.round((l-a)/(s-1)):null;for(Uf(e,c,u,de(f)?0:a-f,a),d=0,h=s-1;d<h;d++)Uf(e,c,u,o[d],o[d+1]);return Uf(e,c,u,l,de(f)?e.length:l+f),c}return Uf(e,c,u),c}function i3(t){let e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function r3(t,e,n){let i=a3(t),r=e.length/n;if(!i)return Math.max(r,1);let o=PT(i);for(let s=0,a=o.length-1;s<a;s++){let l=o[s];if(l>r)return l}return Math.max(r,1)}function o3(t){let e=[],n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function s3(t,e,n,i){let r=0,o=n[0],s;for(i=Math.ceil(i),s=0;s<t.length;s++)s===o&&(e.push(t[s]),r++,o=n[r*i])}function Uf(t,e,n,i,r){let o=G(i,0),s=Math.min(G(r,t.length),t.length),a=0,l,c,u;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),u=o;u<0;)a++,u=Math.round(o+a*n);for(c=Math.max(o,0);c<s;c++)c===u&&(e.push(t[c]),a++,u=Math.round(o+a*n))}function a3(t){let e=t.length,n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}var l3=t=>t==="left"?"right":t==="right"?"left":t,vA=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,_A=(t,e)=>Math.min(e||t,t);function bA(t,e){let n=[],i=t.length/e,r=t.length,o=0;for(;o<r;o+=i)n.push(t[Math.floor(o)]);return n}function c3(t,e,n){let i=t.ticks.length,r=Math.min(e,i-1),o=t._startPixel,s=t._endPixel,a=1e-6,l=t.getPixelForTick(r),c;if(!(n&&(i===1?c=Math.max(l-o,s-l):e===0?c=(t.getPixelForTick(1)-l)/2:c=(l-t.getPixelForTick(r-1))/2,l+=r<e?c:-c,l<o-a||l>s+a)))return l}function u3(t,e){be(t,n=>{let i=n.gc,r=i.length/2,o;if(r>e){for(o=0;o<r;++o)delete n.data[i[o]];i.splice(0,r)}})}function Tc(t){return t.drawTicks?t.tickLength:0}function CA(t,e){if(!t.display)return 0;let n=nt(t.font,e),i=Ct(t.padding);return(Pe(t.text)?t.text.length:1)*n.lineHeight+i.height}function d3(t,e){return Yi(t,{scale:e,type:"scale"})}function h3(t,e,n){return Yi(t,{tick:n,index:e,type:"tick"})}function f3(t,e,n){let i=Nf(t);return(n&&e!=="right"||!n&&e==="right")&&(i=l3(i)),i}function p3(t,e,n,i){let{top:r,left:o,bottom:s,right:a,chart:l}=t,{chartArea:c,scales:u}=l,d=0,h,f,p,g=s-r,m=a-o;if(t.isHorizontal()){if(f=bt(i,o,a),ae(n)){let y=Object.keys(n)[0],v=n[y];p=u[y].getPixelForValue(v)+g-e}else n==="center"?p=(c.bottom+c.top)/2+g-e:p=vA(t,n,e);h=a-o}else{if(ae(n)){let y=Object.keys(n)[0],v=n[y];f=u[y].getPixelForValue(v)-m+e}else n==="center"?f=(c.left+c.right)/2-m+e:f=vA(t,n,e);p=bt(i,s,r),d=n==="left"?-Ge:Ge}return{titleX:f,titleY:p,maxWidth:h,rotation:d}}var jo=class t extends Wn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=Kt(e,Number.POSITIVE_INFINITY),n=Kt(n,Number.NEGATIVE_INFINITY),i=Kt(i,Number.POSITIVE_INFINITY),r=Kt(r,Number.NEGATIVE_INFINITY),{min:Kt(e,i),max:Kt(n,r),minDefined:He(e),maxDefined:He(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),s;if(r&&o)return{min:n,max:i};let a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)s=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,s.min)),o||(i=Math.max(i,s.max));return n=o&&n>i?i:n,i=r&&n>i?n:i,{min:Kt(n,Kt(i,n)),max:Kt(i,Kt(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){let e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Se(this.options.beforeUpdate,[this])}update(e,n,i){let{beginAtZero:r,grace:o,ticks:s}=this.options,a=s.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zT(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();let l=a<this.ticks.length;this._convertTicksToLabels(l?bA(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||s.source==="auto")&&(this.ticks=n3(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Se(this.options.afterUpdate,[this])}beforeSetDimensions(){Se(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Se(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Se(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Se(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){let n=this.options.ticks,i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i],o.label=Se(n.callback,[o.value,i,e],this)}afterTickToLabelConversion(){Se(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Se(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){let e=this.options,n=e.ticks,i=_A(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,o=n.maxRotation,s=r,a,l,c;if(!this._isVisible()||!n.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}let u=this._getLabelSizes(),d=u.widest.width,h=u.highest.height,f=rt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:f/(i-1),d+6>a&&(a=f/(i-(e.offset?.5:1)),l=this.maxHeight-Tc(e.grid)-n.padding-CA(e.title,this.chart.options.font),c=Math.sqrt(d*d+h*h),s=Af(Math.min(Math.asin(rt((u.highest.height+6)/a,-1,1)),Math.asin(rt(l/c,-1,1))-Math.asin(rt(h/c,-1,1)))),s=Math.max(r,Math.min(o,s))),this.labelRotation=s}afterCalculateLabelRotation(){Se(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Se(this.options.beforeFit,[this])}fit(){let e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:o}}=this,s=this._isVisible(),a=this.isHorizontal();if(s){let l=CA(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Tc(o)+l):(e.height=this.maxHeight,e.width=Tc(o)+l),i.display&&this.ticks.length){let{first:c,last:u,widest:d,highest:h}=this._getLabelSizes(),f=i.padding*2,p=Sn(this.labelRotation),g=Math.cos(p),m=Math.sin(p);if(a){let y=i.mirror?0:m*d.width+g*h.height;e.height=Math.min(this.maxHeight,e.height+y+f)}else{let y=i.mirror?0:g*d.width+m*h.height;e.width=Math.min(this.maxWidth,e.width+y+f)}this._calculatePadding(c,u,m,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){let{ticks:{align:o,padding:s},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){let u=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),h=0,f=0;l?c?(h=r*e.width,f=i*n.height):(h=i*e.height,f=r*n.width):o==="start"?f=n.width:o==="end"?h=e.width:o!=="inner"&&(h=e.width/2,f=n.width/2),this.paddingLeft=Math.max((h-u+s)*this.width/(this.width-u),0),this.paddingRight=Math.max((f-d+s)*this.width/(this.width-d),0)}else{let u=n.height/2,d=e.height/2;o==="start"?(u=0,d=e.height):o==="end"&&(u=n.height,d=0),this.paddingTop=u+s,this.paddingBottom=d+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Se(this.options.afterFit,[this])}isHorizontal(){let{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)de(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){let n=this.options.ticks.sampleSize,i=this.ticks;n<i.length&&(i=bA(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){let{ctx:r,_longestTextCache:o}=this,s=[],a=[],l=Math.floor(n/_A(n,i)),c=0,u=0,d,h,f,p,g,m,y,v,C,D,w;for(d=0;d<n;d+=l){if(p=e[d].label,g=this._resolveTickFontOptions(d),r.font=m=g.string,y=o[m]=o[m]||{data:{},gc:[]},v=g.lineHeight,C=D=0,!de(p)&&!Pe(p))C=Cc(r,y.data,y.gc,C,p),D=v;else if(Pe(p))for(h=0,f=p.length;h<f;++h)w=p[h],!de(w)&&!Pe(w)&&(C=Cc(r,y.data,y.gc,C,w),D+=v);s.push(C),a.push(D),c=Math.max(C,c),u=Math.max(D,u)}u3(o,n);let x=s.indexOf(c),P=a.indexOf(u),T=F=>({width:s[F]||0,height:a[F]||0});return{first:T(0),last:T(n-1),widest:T(x),highest:T(P),widths:s,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){let n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);let n=this._startPixel+e*this._length;return RT(this._alignToPixels?Vr(this.chart,n,0):n)}getDecimalForPixel(e){let n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){let{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){let n=this.ticks||[];if(e>=0&&e<n.length){let i=n[e];return i.$context||(i.$context=h3(this.getContext(),e,i))}return this.$context||(this.$context=d3(this.chart.getContext(),this))}_tickSize(){let e=this.options.ticks,n=Sn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),o=this._getLabelSizes(),s=e.autoSkipPadding||0,a=o?o.widest.width+s:0,l=o?o.highest.height+s:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){let e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){let n=this.axis,i=this.chart,r=this.options,{grid:o,position:s,border:a}=r,l=o.offset,c=this.isHorizontal(),d=this.ticks.length+(l?1:0),h=Tc(o),f=[],p=a.setContext(this.getContext()),g=p.display?p.width:0,m=g/2,y=function(ke){return Vr(i,ke,g)},v,C,D,w,x,P,T,F,q,K,le,ft;if(s==="top")v=y(this.bottom),P=this.bottom-h,F=v-m,K=y(e.top)+m,ft=e.bottom;else if(s==="bottom")v=y(this.top),K=e.top,ft=y(e.bottom)-m,P=v+m,F=this.top+h;else if(s==="left")v=y(this.right),x=this.right-h,T=v-m,q=y(e.left)+m,le=e.right;else if(s==="right")v=y(this.left),q=e.left,le=y(e.right)-m,x=v+m,T=this.left+h;else if(n==="x"){if(s==="center")v=y((e.top+e.bottom)/2+.5);else if(ae(s)){let ke=Object.keys(s)[0],qe=s[ke];v=y(this.chart.scales[ke].getPixelForValue(qe))}K=e.top,ft=e.bottom,P=v+m,F=P+h}else if(n==="y"){if(s==="center")v=y((e.left+e.right)/2);else if(ae(s)){let ke=Object.keys(s)[0],qe=s[ke];v=y(this.chart.scales[ke].getPixelForValue(qe))}x=v-m,T=x-h,q=e.left,le=e.right}let Xt=G(r.ticks.maxTicksLimit,d),we=Math.max(1,Math.ceil(d/Xt));for(C=0;C<d;C+=we){let ke=this.getContext(C),qe=o.setContext(ke),Mn=a.setContext(ke),wt=qe.lineWidth,Uo=qe.color,Lc=Mn.dash||[],$o=Mn.dashOffset,wa=qe.tickWidth,zr=qe.tickColor,Da=qe.tickBorderDash||[],Wr=qe.tickBorderDashOffset;D=c3(this,C,l),D!==void 0&&(w=Vr(i,D,wt),c?x=T=q=le=w:P=F=K=ft=w,f.push({tx1:x,ty1:P,tx2:T,ty2:F,x1:q,y1:K,x2:le,y2:ft,width:wt,color:Uo,borderDash:Lc,borderDashOffset:$o,tickWidth:wa,tickColor:zr,tickBorderDash:Da,tickBorderDashOffset:Wr}))}return this._ticksLength=d,this._borderValue=v,f}_computeLabelItems(e){let n=this.axis,i=this.options,{position:r,ticks:o}=i,s=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:u,mirror:d}=o,h=Tc(i.grid),f=h+u,p=d?-u:f,g=-Sn(this.labelRotation),m=[],y,v,C,D,w,x,P,T,F,q,K,le,ft="middle";if(r==="top")x=this.bottom-p,P=this._getXAxisLabelAlignment();else if(r==="bottom")x=this.top+p,P=this._getXAxisLabelAlignment();else if(r==="left"){let we=this._getYAxisLabelAlignment(h);P=we.textAlign,w=we.x}else if(r==="right"){let we=this._getYAxisLabelAlignment(h);P=we.textAlign,w=we.x}else if(n==="x"){if(r==="center")x=(e.top+e.bottom)/2+f;else if(ae(r)){let we=Object.keys(r)[0],ke=r[we];x=this.chart.scales[we].getPixelForValue(ke)+f}P=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")w=(e.left+e.right)/2-f;else if(ae(r)){let we=Object.keys(r)[0],ke=r[we];w=this.chart.scales[we].getPixelForValue(ke)}P=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?ft="top":l==="end"&&(ft="bottom"));let Xt=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){C=a[y],D=C.label;let we=o.setContext(this.getContext(y));T=this.getPixelForTick(y)+o.labelOffset,F=this._resolveTickFontOptions(y),q=F.lineHeight,K=Pe(D)?D.length:1;let ke=K/2,qe=we.color,Mn=we.textStrokeColor,wt=we.textStrokeWidth,Uo=P;s?(w=T,P==="inner"&&(y===v-1?Uo=this.options.reverse?"left":"right":y===0?Uo=this.options.reverse?"right":"left":Uo="center"),r==="top"?c==="near"||g!==0?le=-K*q+q/2:c==="center"?le=-Xt.highest.height/2-ke*q+q:le=-Xt.highest.height+q/2:c==="near"||g!==0?le=q/2:c==="center"?le=Xt.highest.height/2-ke*q:le=Xt.highest.height-K*q,d&&(le*=-1),g!==0&&!we.showLabelBackdrop&&(w+=q/2*Math.sin(g))):(x=T,le=(1-K)*q/2);let Lc;if(we.showLabelBackdrop){let $o=Ct(we.backdropPadding),wa=Xt.heights[y],zr=Xt.widths[y],Da=le-$o.top,Wr=0-$o.left;switch(ft){case"middle":Da-=wa/2;break;case"bottom":Da-=wa;break}switch(P){case"center":Wr-=zr/2;break;case"right":Wr-=zr;break;case"inner":y===v-1?Wr-=zr:y>0&&(Wr-=zr/2);break}Lc={left:Wr,top:Da,width:zr+$o.width,height:wa+$o.height,color:we.backdropColor}}m.push({label:D,font:F,textOffset:le,options:{rotation:g,color:qe,strokeColor:Mn,strokeWidth:wt,textAlign:Uo,textBaseline:ft,translation:[w,x],backdrop:Lc}})}return m}_getXAxisLabelAlignment(){let{position:e,ticks:n}=this.options;if(-Sn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){let{position:n,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,s=this._getLabelSizes(),a=e+o,l=s.widest.width,c,u;return n==="left"?r?(u=this.right+o,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u+=l)):(u=this.right-a,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u=this.left)):n==="right"?r?(u=this.left+o,i==="near"?c="right":i==="center"?(c="center",u-=l/2):(c="left",u-=l)):(u=this.left+a,i==="near"?c="left":i==="center"?(c="center",u+=l/2):(c="right",u=this.right)):c="right",{textAlign:c,x:u}}_computeLabelArea(){if(this.options.ticks.mirror)return;let e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){let{ctx:e,options:{backgroundColor:n},left:i,top:r,width:o,height:s}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,o,s),e.restore())}getLineWidthForValue(e){let n=this.options.grid;if(!this._isVisible()||!n.display)return 0;let r=this.ticks.findIndex(o=>o.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){let n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),o,s,a=(l,c,u)=>{!u.width||!u.color||(i.save(),i.lineWidth=u.width,i.strokeStyle=u.color,i.setLineDash(u.borderDash||[]),i.lineDashOffset=u.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(c.x,c.y),i.stroke(),i.restore())};if(n.display)for(o=0,s=r.length;o<s;++o){let l=r[o];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){let{chart:e,ctx:n,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),s=i.display?o.width:0;if(!s)return;let a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue,c,u,d,h;this.isHorizontal()?(c=Vr(e,this.left,s)-s/2,u=Vr(e,this.right,a)+a/2,d=h=l):(d=Vr(e,this.top,s)-s/2,h=Vr(e,this.bottom,a)+a/2,c=u=l),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(c,d),n.lineTo(u,h),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;let i=this.ctx,r=this._computeLabelArea();r&&Ec(i,r);let o=this.getLabelItems(e);for(let s of o){let a=s.options,l=s.font,c=s.label,u=s.textOffset;jr(i,c,0,u,l,a)}r&&xc(i)}drawTitle(){let{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;let o=nt(i.font),s=Ct(i.padding),a=i.align,l=o.lineHeight/2;n==="bottom"||n==="center"||ae(n)?(l+=s.bottom,Pe(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=s.top;let{titleX:c,titleY:u,maxWidth:d,rotation:h}=p3(this,l,n,a);jr(e,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:h,textAlign:f3(a,n,r),textBaseline:"middle",translation:[c,u]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){let e=this.options,n=e.ticks&&e.ticks.z||0,i=G(e.grid&&e.grid.z,-1),r=G(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==t.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){let n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[],o,s;for(o=0,s=n.length;o<s;++o){let a=n[o];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){let n=this.options.ticks.setContext(this.getContext(e));return nt(n.font)}_maxDigits(){let e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}},ba=class{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){let n=Object.getPrototypeOf(e),i;y3(n)&&(i=this.register(n));let r=this.items,o=e.id,s=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in r||(r[o]=e,g3(e,s,i),this.override&&ze.override(e.id,e.overrides)),s}get(e){return this.items[e]}unregister(e){let n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in ze[r]&&(delete ze[r][i],this.override&&delete Lr[i])}};function g3(t,e,n){let i=ua(Object.create(null),[n?ze.get(n):{},ze.get(e),t.defaults]);ze.set(e,i),t.defaultRoutes&&m3(e,t.defaultRoutes),t.descriptors&&ze.describe(e,t.descriptors)}function m3(t,e){Object.keys(e).forEach(n=>{let i=n.split("."),r=i.pop(),o=[t].concat(i).join("."),s=e[n].split("."),a=s.pop(),l=s.join(".");ze.route(o,r,l,a)})}function y3(t){return"id"in t&&"defaults"in t}var ub=class{constructor(){this.controllers=new ba(Hr,"datasets",!0),this.elements=new ba(Wn,"elements"),this.plugins=new ba(Object,"plugins"),this.scales=new ba(jo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{let o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(e,o,r):be(r,s=>{let a=i||this._getRegistryForType(s);this._exec(e,a,s)})})}_exec(e,n,i){let r=Tf(e);Se(i["before"+r],[],i),n[e](i),Se(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){let i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){let r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}},mi=new ub,db=class{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));let o=r?this._descriptors(e).filter(r):this._descriptors(e),s=this._notify(o,e,n,i);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),s}_notify(e,n,i,r){r=r||{};for(let o of e){let s=o.plugin,a=s[i],l=[n,r,o.options];if(Se(a,l,s)===!1&&r.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;let n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){let i=e&&e.config,r=G(i.options&&i.options.plugins,{}),o=v3(i);return r===!1&&!n?[]:b3(e,o,r,n)}_notifyStateChanges(e){let n=this._oldCache||[],i=this._cache,r=(o,s)=>o.filter(a=>!s.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}};function v3(t){let e={},n=[],i=Object.keys(mi.plugins.items);for(let o=0;o<i.length;o++)n.push(mi.getPlugin(i[o]));let r=t.plugins||[];for(let o=0;o<r.length;o++){let s=r[o];n.indexOf(s)===-1&&(n.push(s),e[s.id]=!0)}return{plugins:n,localIds:e}}function _3(t,e){return!e&&t===!1?null:t===!0?{}:t}function b3(t,{plugins:e,localIds:n},i,r){let o=[],s=t.getContext();for(let a of e){let l=a.id,c=_3(i[l],r);c!==null&&o.push({plugin:a,options:C3(t.config,{plugin:a,local:n[l]},c,s)})}return o}function C3(t,{plugin:e,local:n},i,r){let o=t.pluginScopeKeys(e),s=t.getOptionScopes(i,o);return n&&e.defaults&&s.push(e.defaults),t.createResolver(s,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hb(t,e){let n=ze.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function w3(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function D3(t,e){return t===e?"_index_":"_value_"}function wA(t){if(t==="x"||t==="y"||t==="r")return t}function E3(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function fb(t,...e){if(wA(t))return t;for(let n of e){let i=n.axis||E3(n.position)||t.length>1&&wA(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function DA(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function x3(t,e){if(e.data&&e.data.datasets){let n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return DA(t,"x",n[0])||DA(t,"y",n[0])}return{}}function I3(t,e){let n=Lr[t.type]||{scales:{}},i=e.scales||{},r=hb(t.type,e),o=Object.create(null);return Object.keys(i).forEach(s=>{let a=i[s];if(!ae(a))return console.error(`Invalid scale configuration for scale: ${s}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${s}`);let l=fb(s,a,x3(s,t),ze.scales[a.type]),c=D3(l,r),u=n.scales||{};o[s]=ha(Object.create(null),[{axis:l},a,u[l],u[c]])}),t.data.datasets.forEach(s=>{let a=s.type||t.type,l=s.indexAxis||hb(a,e),u=(Lr[a]||{}).scales||{};Object.keys(u).forEach(d=>{let h=w3(d,l),f=s[h+"AxisID"]||h;o[f]=o[f]||Object.create(null),ha(o[f],[{axis:h},i[f],u[d]])})}),Object.keys(o).forEach(s=>{let a=o[s];ha(a,[ze.scales[a.type],ze.scale])}),o}function uP(t){let e=t.options||(t.options={});e.plugins=G(e.plugins,{}),e.scales=I3(t,e)}function dP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function S3(t){return t=t||{},t.data=dP(t.data),uP(t),t}var EA=new Map,hP=new Set;function $f(t,e){let n=EA.get(t);return n||(n=e(),EA.set(t,n),hP.add(n)),n}var Ac=(t,e,n)=>{let i=qi(e,n);i!==void 0&&t.add(i)},pb=class{constructor(e){this._config=S3(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=dP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){let e=this._config;this.clearCache(),uP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return $f(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return $f(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return $f(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){let n=e.id,i=this.type;return $f(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){let i=this._scopeCache,r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){let{options:r,type:o}=this,s=this._cachedScopes(e,i),a=s.get(n);if(a)return a;let l=new Set;n.forEach(u=>{e&&(l.add(e),u.forEach(d=>Ac(l,e,d))),u.forEach(d=>Ac(l,r,d)),u.forEach(d=>Ac(l,Lr[o]||{},d)),u.forEach(d=>Ac(l,ze,d)),u.forEach(d=>Ac(l,Rf,d))});let c=Array.from(l);return c.length===0&&c.push(Object.create(null)),hP.has(n)&&s.set(n,c),c}chartOptionScopes(){let{options:e,type:n}=this;return[e,Lr[n]||{},ze.datasets[n]||{},{type:n},ze,Rf]}resolveNamedOptions(e,n,i,r=[""]){let o={$shared:!0},{resolver:s,subPrefixes:a}=xA(this._resolverCache,e,r),l=s;if(T3(s,n)){o.$shared=!1,i=Wi(i)?i():i;let c=this.createResolver(e,i,a);l=Oo(s,i,c)}for(let c of n)o[c]=l[c];return o}createResolver(e,n,i=[""],r){let{resolver:o}=xA(this._resolverCache,e,i);return ae(n)?Oo(o,n,void 0,r):o}};function xA(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));let r=n.join(),o=i.get(r);return o||(o={resolver:Ff(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,o)),o}var M3=t=>ae(t)&&Object.getOwnPropertyNames(t).some(e=>Wi(t[e]));function T3(t,e){let{isScriptable:n,isIndexable:i}=B0(t);for(let r of e){let o=n(r),s=i(r),a=(s||o)&&t[r];if(o&&(Wi(a)||M3(a))||s&&Pe(a))return!0}return!1}var A3="4.4.2",P3=["top","bottom","left","right","chartArea"];function IA(t,e){return t==="top"||t==="bottom"||P3.indexOf(t)===-1&&e==="x"}function SA(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function MA(t){let e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Se(n&&n.onComplete,[t],e)}function N3(t){let e=t.chart,n=e.options.animation;Se(n&&n.onProgress,[t],e)}function fP(t){return Lf()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}var Yf={},TA=t=>{let e=fP(t);return Object.values(Yf).filter(n=>n.canvas===e).pop()};function R3(t,e,n){let i=Object.keys(t);for(let r of i){let o=+r;if(o>=e){let s=t[r];delete t[r],(n>0||o>e)&&(t[o+n]=s)}}}function O3(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Hf(t,e,n){return t.options.clip?t[n]:e[n]}function k3(t,e){let{xScale:n,yScale:i}=t;return n&&i?{left:Hf(n,e,"left"),right:Hf(n,e,"right"),top:Hf(i,e,"top"),bottom:Hf(i,e,"bottom")}:e}var Bo=(()=>{class t{static defaults=ze;static instances=Yf;static overrides=Lr;static registry=mi;static version=A3;static getChart=TA;static register(...n){mi.add(...n),AA()}static unregister(...n){mi.remove(...n),AA()}constructor(n,i){let r=this.config=new pb(i),o=fP(n),s=TA(o);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");let a=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||t3(o)),this.platform.updateConfig(r);let l=this.platform.acquireContext(o,a.aspectRatio),c=l&&l.canvas,u=c&&c.height,d=c&&c.width;if(this.id=ST(),this.ctx=l,this.canvas=c,this.width=d,this.height=u,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new db,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=VT(h=>this.update(h),a.resizeDelay||0),this._dataChanges=[],Yf[this.id]=this,!l||!c){console.error("Failed to create chart: can't acquire context from the given item");return}Ki.listen(this,"complete",MA),Ki.listen(this,"progress",N3),this._initialize(),this.attached&&this.update()}get aspectRatio(){let{options:{aspectRatio:n,maintainAspectRatio:i},width:r,height:o,_aspectRatio:s}=this;return de(n)?i&&s?s:o?r/o:null:n}get data(){return this.config.data}set data(n){this.config.data=n}get options(){return this._options}set options(n){this.config.options=n}get registry(){return mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():z0(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return L0(this.canvas,this.ctx),this}stop(){return Ki.stop(this),this}resize(n,i){Ki.running(this)?this._resizeBeforeDraw={width:n,height:i}:this._resize(n,i)}_resize(n,i){let r=this.options,o=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(o,n,i,s),l=r.devicePixelRatio||this.platform.getDevicePixelRatio(),c=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,z0(this,l,!0)&&(this.notifyPlugins("resize",{size:a}),Se(r.onResize,[this,a],this),this.attached&&this._doResize(c)&&this.render())}ensureScalesHaveIDs(){let i=this.options.scales||{};be(i,(r,o)=>{r.id=o})}buildOrUpdateScales(){let n=this.options,i=n.scales,r=this.scales,o=Object.keys(r).reduce((a,l)=>(a[l]=!1,a),{}),s=[];i&&(s=s.concat(Object.keys(i).map(a=>{let l=i[a],c=fb(a,l),u=c==="r",d=c==="x";return{options:l,dposition:u?"chartArea":d?"bottom":"left",dtype:u?"radialLinear":d?"category":"linear"}}))),be(s,a=>{let l=a.options,c=l.id,u=fb(c,l),d=G(l.type,a.dtype);(l.position===void 0||IA(l.position,u)!==IA(a.dposition))&&(l.position=a.dposition),o[c]=!0;let h=null;if(c in r&&r[c].type===d)h=r[c];else{let f=mi.getScale(d);h=new f({id:c,type:d,ctx:this.ctx,chart:this}),r[h.id]=h}h.init(l,n)}),be(o,(a,l)=>{a||delete r[l]}),be(r,a=>{Mt.configure(this,a,a.options),Mt.addBox(this,a)})}_updateMetasets(){let n=this._metasets,i=this.data.datasets.length,r=n.length;if(n.sort((o,s)=>o.index-s.index),r>i){for(let o=i;o<r;++o)this._destroyDatasetMeta(o);n.splice(i,r-i)}this._sortedMetasets=n.slice(0).sort(SA("order","index"))}_removeUnreferencedMetasets(){let{_metasets:n,data:{datasets:i}}=this;n.length>i.length&&delete this._stacks,n.forEach((r,o)=>{i.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(o)})}buildOrUpdateControllers(){let n=[],i=this.data.datasets,r,o;for(this._removeUnreferencedMetasets(),r=0,o=i.length;r<o;r++){let s=i[r],a=this.getDatasetMeta(r),l=s.type||this.config.type;if(a.type&&a.type!==l&&(this._destroyDatasetMeta(r),a=this.getDatasetMeta(r)),a.type=l,a.indexAxis=s.indexAxis||hb(l,this.options),a.order=s.order||0,a.index=r,a.label=""+s.label,a.visible=this.isDatasetVisible(r),a.controller)a.controller.updateIndex(r),a.controller.linkScales();else{let c=mi.getController(l),{datasetElementType:u,dataElementType:d}=ze.datasets[l];Object.assign(c,{dataElementType:mi.getElement(d),datasetElementType:u&&mi.getElement(u)}),a.controller=new c(this,r),n.push(a.controller)}}return this._updateMetasets(),n}_resetElements(){be(this.data.datasets,(n,i)=>{this.getDatasetMeta(i).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(n){let i=this.config;i.update();let r=this._options=i.createResolver(i.chartOptionScopes(),this.getContext()),o=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:n,cancelable:!0})===!1)return;let s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let u=0,d=this.data.datasets.length;u<d;u++){let{controller:h}=this.getDatasetMeta(u),f=!o&&s.indexOf(h)===-1;h.buildOrUpdateElements(f),a=Math.max(+h.getMaxOverflow(),a)}a=this._minPadding=r.layout.autoPadding?a:0,this._updateLayout(a),o||be(s,u=>{u.reset()}),this._updateDatasets(n),this.notifyPlugins("afterUpdate",{mode:n}),this._layers.sort(SA("z","_idx"));let{_active:l,_lastEvent:c}=this;c?this._eventHandler(c,!0):l.length&&this._updateHoverStyles(l,l,!0),this.render()}_updateScales(){be(this.scales,n=>{Mt.removeBox(this,n)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){let n=this.options,i=new Set(Object.keys(this._listeners)),r=new Set(n.events);(!E0(i,r)||!!this._responsiveListeners!==n.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){let{_hiddenIndices:n}=this,i=this._getUniformDataChanges()||[];for(let{method:r,start:o,count:s}of i){let a=r==="_removeElements"?-s:s;R3(n,o,a)}}_getUniformDataChanges(){let n=this._dataChanges;if(!n||!n.length)return;this._dataChanges=[];let i=this.data.datasets.length,r=s=>new Set(n.filter(a=>a[0]===s).map((a,l)=>l+","+a.splice(1).join(","))),o=r(0);for(let s=1;s<i;s++)if(!E0(o,r(s)))return;return Array.from(o).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(n){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Mt.update(this,this.width,this.height,n);let i=this.chartArea,r=i.width<=0||i.height<=0;this._layers=[],be(this.boxes,o=>{r&&o.position==="chartArea"||(o.configure&&o.configure(),this._layers.push(...o._layers()))},this),this._layers.forEach((o,s)=>{o._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(n){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:n,cancelable:!0})!==!1){for(let i=0,r=this.data.datasets.length;i<r;++i)this.getDatasetMeta(i).controller.configure();for(let i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,Wi(n)?n({datasetIndex:i}):n);this.notifyPlugins("afterDatasetsUpdate",{mode:n})}}_updateDataset(n,i){let r=this.getDatasetMeta(n),o={meta:r,index:n,mode:i,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",o)!==!1&&(r.controller._update(i),o.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",o))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ki.has(this)?this.attached&&!Ki.running(this)&&Ki.start(this):(this.draw(),MA({chart:this})))}draw(){let n;if(this._resizeBeforeDraw){let{width:r,height:o}=this._resizeBeforeDraw;this._resize(r,o),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;let i=this._layers;for(n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(n){let i=this._sortedMetasets,r=[],o,s;for(o=0,s=i.length;o<s;++o){let a=i[o];(!n||a.visible)&&r.push(a)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;let n=this.getSortedVisibleDatasetMetas();for(let i=n.length-1;i>=0;--i)this._drawDataset(n[i]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(n){let i=this.ctx,r=n._clip,o=!r.disabled,s=k3(n,this.chartArea),a={meta:n,index:n.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",a)!==!1&&(o&&Ec(i,{left:r.left===!1?0:s.left-r.left,right:r.right===!1?this.width:s.right+r.right,top:r.top===!1?0:s.top-r.top,bottom:r.bottom===!1?this.height:s.bottom+r.bottom}),n.controller.draw(),o&&xc(i),a.cancelable=!1,this.notifyPlugins("afterDatasetDraw",a))}isPointInArea(n){return hi(n,this.chartArea,this._minPadding)}getElementsAtEventForMode(n,i,r,o){let s=FW.modes[i];return typeof s=="function"?s(this,n,r,o):[]}getDatasetMeta(n){let i=this.data.datasets[n],r=this._metasets,o=r.filter(s=>s&&s._dataset===i).pop();return o||(o={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:i&&i.order||0,index:n,_dataset:i,_parsed:[],_sorted:!1},r.push(o)),o}getContext(){return this.$context||(this.$context=Yi(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(n){let i=this.data.datasets[n];if(!i)return!1;let r=this.getDatasetMeta(n);return typeof r.hidden=="boolean"?!r.hidden:!i.hidden}setDatasetVisibility(n,i){let r=this.getDatasetMeta(n);r.hidden=!i}toggleDataVisibility(n){this._hiddenIndices[n]=!this._hiddenIndices[n]}getDataVisibility(n){return!this._hiddenIndices[n]}_updateVisibility(n,i,r){let o=r?"show":"hide",s=this.getDatasetMeta(n),a=s.controller._resolveAnimations(void 0,o);fa(i)?(s.data[i].hidden=!r,this.update()):(this.setDatasetVisibility(n,r),a.update(s,{visible:r}),this.update(l=>l.datasetIndex===n?o:void 0))}hide(n,i){this._updateVisibility(n,i,!1)}show(n,i){this._updateVisibility(n,i,!0)}_destroyDatasetMeta(n){let i=this._metasets[n];i&&i.controller&&i.controller._destroy(),delete this._metasets[n]}_stop(){let n,i;for(this.stop(),Ki.remove(this),n=0,i=this.data.datasets.length;n<i;++n)this._destroyDatasetMeta(n)}destroy(){this.notifyPlugins("beforeDestroy");let{canvas:n,ctx:i}=this;this._stop(),this.config.clearCache(),n&&(this.unbindEvents(),L0(n,i),this.platform.releaseContext(i),this.canvas=null,this.ctx=null),delete Yf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...n){return this.canvas.toDataURL(...n)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){let n=this._listeners,i=this.platform,r=(s,a)=>{i.addEventListener(this,s,a),n[s]=a},o=(s,a,l)=>{s.offsetX=a,s.offsetY=l,this._eventHandler(s)};be(this.options.events,s=>r(s,o))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});let n=this._responsiveListeners,i=this.platform,r=(c,u)=>{i.addEventListener(this,c,u),n[c]=u},o=(c,u)=>{n[c]&&(i.removeEventListener(this,c,u),delete n[c])},s=(c,u)=>{this.canvas&&this.resize(c,u)},a,l=()=>{o("attach",l),this.attached=!0,this.resize(),r("resize",s),r("detach",a)};a=()=>{this.attached=!1,o("resize",s),this._stop(),this._resize(0,0),r("attach",l)},i.isAttached(this.canvas)?l():a()}unbindEvents(){be(this._listeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._listeners={},be(this._responsiveListeners,(n,i)=>{this.platform.removeEventListener(this,i,n)}),this._responsiveListeners=void 0}updateHoverStyle(n,i,r){let o=r?"set":"remove",s,a,l,c;for(i==="dataset"&&(s=this.getDatasetMeta(n[0].datasetIndex),s.controller["_"+o+"DatasetHoverStyle"]()),l=0,c=n.length;l<c;++l){a=n[l];let u=a&&this.getDatasetMeta(a.datasetIndex).controller;u&&u[o+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(n){let i=this._active||[],r=n.map(({datasetIndex:s,index:a})=>{let l=this.getDatasetMeta(s);if(!l)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:l.data[a],index:a}});!wc(r,i)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,i))}notifyPlugins(n,i,r){return this._plugins.notify(this,n,i,r)}isPluginEnabled(n){return this._plugins._cache.filter(i=>i.plugin.id===n).length===1}_updateHoverStyles(n,i,r){let o=this.options.hover,s=(c,u)=>c.filter(d=>!u.some(h=>d.datasetIndex===h.datasetIndex&&d.index===h.index)),a=s(i,n),l=r?n:s(n,i);a.length&&this.updateHoverStyle(a,o.mode,!1),l.length&&o.mode&&this.updateHoverStyle(l,o.mode,!0)}_eventHandler(n,i){let r={event:n,replay:i,cancelable:!0,inChartArea:this.isPointInArea(n)},o=a=>(a.options.events||this.options.events).includes(n.native.type);if(this.notifyPlugins("beforeEvent",r,o)===!1)return;let s=this._handleEvent(n,i,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,o),(s||r.changed)&&this.render(),this}_handleEvent(n,i,r){let{_active:o=[],options:s}=this,a=i,l=this._getActiveElements(n,o,r,a),c=AT(n),u=O3(n,this._lastEvent,r,c);r&&(this._lastEvent=null,Se(s.onHover,[n,l,this],this),c&&Se(s.onClick,[n,l,this],this));let d=!wc(l,o);return(d||i)&&(this._active=l,this._updateHoverStyles(l,o,i)),this._lastEvent=u,d}_getActiveElements(n,i,r,o){if(n.type==="mouseout")return[];if(!r)return i;let s=this.options.hover;return this.getElementsAtEventForMode(n,s.mode,s,o)}}return t})();function AA(){return be(Bo.instances,t=>t._plugins.invalidate())}function F3(t,e,n){let{startAngle:i,pixelMargin:r,x:o,y:s,outerRadius:a,innerRadius:l}=e,c=r/a;t.beginPath(),t.arc(o,s,a,i-c,n+c),l>r?(c=r/l,t.arc(o,s,l,n+c,i-c,!0)):t.arc(o,s,r,n+Ge,i-Ge),t.closePath(),t.clip()}function L3(t){return kf(t,["outerStart","outerEnd","innerStart","innerEnd"])}function V3(t,e,n,i){let r=L3(t.options.borderRadius),o=(n-e)/2,s=Math.min(o,i*e/2),a=l=>{let c=(n-Math.min(o,l))*i/2;return rt(l,0,Math.min(o,c))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:rt(r.innerStart,0,s),innerEnd:rt(r.innerEnd,0,s)}}function _a(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function Xf(t,e,n,i,r,o){let{x:s,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,d=Math.max(e.outerRadius+i+n-c,0),h=u>0?u+i+n+c:0,f=0,p=r-l;if(i){let we=u>0?u-i:0,ke=d>0?d-i:0,qe=(we+ke)/2,Mn=qe!==0?p*qe/(qe+i):p;f=(p-Mn)/2}let g=Math.max(.001,p*d-n/Ne)/d,m=(p-g)/2,y=l+m+f,v=r-m-f,{outerStart:C,outerEnd:D,innerStart:w,innerEnd:x}=V3(e,h,d,v-y),P=d-C,T=d-D,F=y+C/P,q=v-D/T,K=h+w,le=h+x,ft=y+w/K,Xt=v-x/le;if(t.beginPath(),o){let we=(F+q)/2;if(t.arc(s,a,d,F,we),t.arc(s,a,d,we,q),D>0){let wt=_a(T,q,s,a);t.arc(wt.x,wt.y,D,q,v+Ge)}let ke=_a(le,v,s,a);if(t.lineTo(ke.x,ke.y),x>0){let wt=_a(le,Xt,s,a);t.arc(wt.x,wt.y,x,v+Ge,Xt+Math.PI)}let qe=(v-x/h+(y+w/h))/2;if(t.arc(s,a,h,v-x/h,qe,!0),t.arc(s,a,h,qe,y+w/h,!0),w>0){let wt=_a(K,ft,s,a);t.arc(wt.x,wt.y,w,ft+Math.PI,y-Ge)}let Mn=_a(P,y,s,a);if(t.lineTo(Mn.x,Mn.y),C>0){let wt=_a(P,F,s,a);t.arc(wt.x,wt.y,C,y-Ge,F)}}else{t.moveTo(s,a);let we=Math.cos(F)*d+s,ke=Math.sin(F)*d+a;t.lineTo(we,ke);let qe=Math.cos(q)*d+s,Mn=Math.sin(q)*d+a;t.lineTo(qe,Mn)}t.closePath()}function j3(t,e,n,i,r){let{fullCircles:o,startAngle:s,circumference:a}=e,l=e.endAngle;if(o){Xf(t,e,n,i,l,r);for(let c=0;c<o;++c)t.fill();isNaN(a)||(l=s+(a%Re||Re))}return Xf(t,e,n,i,l,r),t.fill(),l}function B3(t,e,n,i,r){let{fullCircles:o,startAngle:s,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:d,borderDashOffset:h}=l,f=l.borderAlign==="inner";if(!c)return;t.setLineDash(d||[]),t.lineDashOffset=h,f?(t.lineWidth=c*2,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(o){Xf(t,e,n,i,p,r);for(let g=0;g<o;++g)t.stroke();isNaN(a)||(p=s+(a%Re||Re))}f&&F3(t,e,p),o||(Xf(t,e,n,i,p,r),t.stroke())}var gb=class extends Wn{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,n,i){let r=this.getProps(["x","y"],i),{angle:o,distance:s}=M0(r,{x:e,y:n}),{startAngle:a,endAngle:l,innerRadius:c,outerRadius:u,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),h=(this.options.spacing+this.options.borderWidth)/2,p=G(d,l-a)>=Re||ga(o,a,l),g=pi(s,c+h,u+h);return p&&g}getCenterPoint(e){let{x:n,y:i,startAngle:r,endAngle:o,innerRadius:s,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:l,spacing:c}=this.options,u=(r+o)/2,d=(s+a+c+l)/2;return{x:n+Math.cos(u)*d,y:i+Math.sin(u)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){let{options:n,circumference:i}=this,r=(n.offset||0)/4,o=(n.spacing||0)/2,s=n.circular;if(this.pixelMargin=n.borderAlign==="inner"?.33:0,this.fullCircles=i>Re?Math.floor(i/Re):0,i===0||this.innerRadius<0||this.outerRadius<0)return;e.save();let a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*r,Math.sin(a)*r);let l=1-Math.sin(Math.min(Ne,i||0)),c=r*l;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,j3(e,this,c,o,s),B3(e,this,c,o,s),e.restore()}};function pP(t,e,n=e){t.lineCap=G(n.borderCapStyle,e.borderCapStyle),t.setLineDash(G(n.borderDash,e.borderDash)),t.lineDashOffset=G(n.borderDashOffset,e.borderDashOffset),t.lineJoin=G(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=G(n.borderWidth,e.borderWidth),t.strokeStyle=G(n.borderColor,e.borderColor)}function U3(t,e,n){t.lineTo(n.x,n.y)}function $3(t){return t.stepped?$T:t.tension||t.cubicInterpolationMode==="monotone"?HT:U3}function gP(t,e,n={}){let i=t.length,{start:r=0,end:o=i-1}=n,{start:s,end:a}=e,l=Math.max(r,s),c=Math.min(o,a),u=r<s&&o<s||r>a&&o>a;return{count:i,start:l,loop:e.loop,ilen:c<l&&!u?i+c-l:c-l}}function H3(t,e,n,i){let{points:r,options:o}=e,{count:s,start:a,loop:l,ilen:c}=gP(r,n,i),u=$3(o),{move:d=!0,reverse:h}=i||{},f,p,g;for(f=0;f<=c;++f)p=r[(a+(h?c-f:f))%s],!p.skip&&(d?(t.moveTo(p.x,p.y),d=!1):u(t,g,p,h,o.stepped),g=p);return l&&(p=r[(a+(h?c:0))%s],u(t,g,p,h,o.stepped)),!!l}function z3(t,e,n,i){let r=e.points,{count:o,start:s,ilen:a}=gP(r,n,i),{move:l=!0,reverse:c}=i||{},u=0,d=0,h,f,p,g,m,y,v=D=>(s+(c?a-D:D))%o,C=()=>{g!==m&&(t.lineTo(u,m),t.lineTo(u,g),t.lineTo(u,y))};for(l&&(f=r[v(0)],t.moveTo(f.x,f.y)),h=0;h<=a;++h){if(f=r[v(h)],f.skip)continue;let D=f.x,w=f.y,x=D|0;x===p?(w<g?g=w:w>m&&(m=w),u=(d*u+D)/++d):(C(),t.lineTo(D,w),p=x,d=0,g=m=w),y=w}C()}function mb(t){let e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?z3:H3}function W3(t){return t.stepped?XT:t.tension||t.cubicInterpolationMode==="monotone"?JT:Fr}function G3(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),pP(t,e.options),t.stroke(r)}function q3(t,e,n,i){let{segments:r,options:o}=e,s=mb(e);for(let a of r)pP(t,o,a.style),t.beginPath(),s(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}var Y3=typeof Path2D=="function";function K3(t,e,n,i){Y3&&!e.options.segment?G3(t,e,n,i):q3(t,e,n,i)}var tp=(()=>{class t extends Wn{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:n=>n!=="borderDash"&&n!=="fill"};constructor(n){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,n&&Object.assign(this,n)}updateControlPoints(n,i){let r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){let o=r.spanGaps?this._loop:this._fullLoop;KT(this._points,r,n,o,i),this._pointsUpdated=!0}}set points(n){this._points=n,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=tA(this,this.options.segment))}first(){let n=this.segments,i=this.points;return n.length&&i[n[0].start]}last(){let n=this.segments,i=this.points,r=n.length;return r&&i[n[r-1].end]}interpolate(n,i){let r=this.options,o=n[i],s=this.points,a=K0(this,{property:i,start:o,end:o});if(!a.length)return;let l=[],c=W3(r),u,d;for(u=0,d=a.length;u<d;++u){let{start:h,end:f}=a[u],p=s[h],g=s[f];if(p===g){l.push(p);continue}let m=Math.abs((o-p[i])/(g[i]-p[i])),y=c(p,g,m,r.stepped);y[i]=n[i],l.push(y)}return l.length===1?l[0]:l}pathSegment(n,i,r){return mb(this)(n,this,i,r)}path(n,i,r){let o=this.segments,s=mb(this),a=this._loop;i=i||0,r=r||this.points.length-i;for(let l of o)a&=s(n,this,l,{start:i,end:i+r-1});return!!a}draw(n,i,r,o){let s=this.options||{};(this.points||[]).length&&s.borderWidth&&(n.save(),K3(n,this,r,o),n.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t})();function PA(t,e,n,i){let r=t.options,{[n]:o}=t.getProps([n],i);return Math.abs(e-o)<r.radius+r.hitRadius}var Q3=(()=>{class t extends Wn{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(n){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){let o=this.options,{x:s,y:a}=this.getProps(["x","y"],r);return Math.pow(n-s,2)+Math.pow(i-a,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,i){return PA(this,n,"x",i)}inYRange(n,i){return PA(this,n,"y",i)}getCenterPoint(n){let{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);let r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){let r=this.options;this.skip||r.radius<.1||!hi(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,Of(n,r,this.x,this.y))}getRange(){let n=this.options||{};return n.radius+n.hitRadius}}return t})();function mP(t,e){let{x:n,y:i,base:r,width:o,height:s}=t.getProps(["x","y","base","width","height"],e),a,l,c,u,d;return t.horizontal?(d=s/2,a=Math.min(n,r),l=Math.max(n,r),c=i-d,u=i+d):(d=o/2,a=n-d,l=n+d,c=Math.min(i,r),u=Math.max(i,r)),{left:a,top:c,right:l,bottom:u}}function $r(t,e,n,i){return t?0:rt(e,n,i)}function Z3(t,e,n){let i=t.options.borderWidth,r=t.borderSkipped,o=j0(i);return{t:$r(r.top,o.top,0,n),r:$r(r.right,o.right,0,e),b:$r(r.bottom,o.bottom,0,n),l:$r(r.left,o.left,0,e)}}function X3(t,e,n){let{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,o=Br(r),s=Math.min(e,n),a=t.borderSkipped,l=i||ae(r);return{topLeft:$r(!l||a.top||a.left,o.topLeft,0,s),topRight:$r(!l||a.top||a.right,o.topRight,0,s),bottomLeft:$r(!l||a.bottom||a.left,o.bottomLeft,0,s),bottomRight:$r(!l||a.bottom||a.right,o.bottomRight,0,s)}}function J3(t){let e=mP(t),n=e.right-e.left,i=e.bottom-e.top,r=Z3(t,n/2,i/2),o=X3(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:o},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function nb(t,e,n,i){let r=e===null,o=n===null,a=t&&!(r&&o)&&mP(t,i);return a&&(r||pi(e,a.left,a.right))&&(o||pi(n,a.top,a.bottom))}function e4(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function t4(t,e){t.rect(e.x,e.y,e.w,e.h)}function ib(t,e,n={}){let i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-i,s=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+o,h:t.h+s,radius:t.radius}}var yb=class extends Wn{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){let{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:o,outer:s}=J3(this),a=e4(s.radius)?ya:t4;e.save(),(s.w!==o.w||s.h!==o.h)&&(e.beginPath(),a(e,ib(s,n,o)),e.clip(),a(e,ib(o,-n,s)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,ib(o,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return nb(this,e,n,i)}inXRange(e,n){return nb(this,e,null,n)}inYRange(e,n){return nb(this,null,e,n)}getCenterPoint(e){let{x:n,y:i,base:r,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}},n4=Object.freeze({__proto__:null,ArcElement:gb,BarElement:yb,LineElement:tp,PointElement:Q3}),vb=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],NA=vb.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function yP(t){return vb[t%vb.length]}function vP(t){return NA[t%NA.length]}function i4(t,e){return t.borderColor=yP(e),t.backgroundColor=vP(e),++e}function r4(t,e){return t.backgroundColor=t.data.map(()=>yP(e++)),e}function o4(t,e){return t.backgroundColor=t.data.map(()=>vP(e++)),e}function s4(t){let e=0;return(n,i)=>{let r=t.getDatasetMeta(i).controller;r instanceof Ib?e=r4(n,e):r instanceof oP?e=o4(n,e):r&&(e=i4(n,e))}}function RA(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function a4(t){return t&&(t.borderColor||t.backgroundColor)}var l4={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;let{data:{datasets:i},options:r}=t.config,{elements:o}=r;if(!n.forceOverride&&(RA(i)||a4(r)||o&&RA(o)))return;let s=s4(t);i.forEach(s)}};function c4(t,e,n,i,r){let o=r.samples||i;if(o>=n)return t.slice(e,e+n);let s=[],a=(n-2)/(o-2),l=0,c=e+n-1,u=e,d,h,f,p,g;for(s[l++]=t[u],d=0;d<o-2;d++){let m=0,y=0,v,C=Math.floor((d+1)*a)+1+e,D=Math.min(Math.floor((d+2)*a)+1,n)+e,w=D-C;for(v=C;v<D;v++)m+=t[v].x,y+=t[v].y;m/=w,y/=w;let x=Math.floor(d*a)+1+e,P=Math.min(Math.floor((d+1)*a)+1,n)+e,{x:T,y:F}=t[u];for(f=p=-1,v=x;v<P;v++)p=.5*Math.abs((T-m)*(t[v].y-F)-(T-t[v].x)*(y-F)),p>f&&(f=p,h=t[v],g=v);s[l++]=h,u=g}return s[l++]=t[c],s}function u4(t,e,n,i){let r=0,o=0,s,a,l,c,u,d,h,f,p,g,m=[],y=e+n-1,v=t[e].x,D=t[y].x-v;for(s=e;s<e+n;++s){a=t[s],l=(a.x-v)/D*i,c=a.y;let w=l|0;if(w===u)c<p?(p=c,d=s):c>g&&(g=c,h=s),r=(o*r+a.x)/++o;else{let x=s-1;if(!de(d)&&!de(h)){let P=Math.min(d,h),T=Math.max(d,h);P!==f&&P!==x&&m.push(ce(N({},t[P]),{x:r})),T!==f&&T!==x&&m.push(ce(N({},t[T]),{x:r}))}s>0&&x!==f&&m.push(t[x]),m.push(a),u=w,o=0,p=g=c,d=h=f=s}}return m}function _P(t){if(t._decimated){let e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function OA(t){t.data.datasets.forEach(e=>{_P(e)})}function d4(t,e){let n=e.length,i=0,r,{iScale:o}=t,{min:s,max:a,minDefined:l,maxDefined:c}=o.getUserBounds();return l&&(i=rt(di(e,o.axis,s).lo,0,n-1)),c?r=rt(di(e,o.axis,a).hi+1,i,n)-i:r=n-i,{start:i,count:r}}var h4={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled){OA(t);return}let i=t.width;t.data.datasets.forEach((r,o)=>{let{_data:s,indexAxis:a}=r,l=t.getDatasetMeta(o),c=s||r.data;if(va([a,t.options.indexAxis])==="y"||!l.controller.supportsDecimation)return;let u=t.scales[l.xAxisID];if(u.type!=="linear"&&u.type!=="time"||t.options.parsing)return;let{start:d,count:h}=d4(l,c),f=n.threshold||4*i;if(h<=f){_P(r);return}de(s)&&(r._data=c,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(g){this._data=g}}));let p;switch(n.algorithm){case"lttb":p=c4(c,d,h,i,n);break;case"min-max":p=u4(c,d,h,i);break;default:throw new Error(`Unsupported decimation algorithm '${n.algorithm}'`)}r._decimated=p})},destroy(t){OA(t)}};function f4(t,e,n){let i=t.segments,r=t.points,o=e.points,s=[];for(let a of i){let{start:l,end:c}=a;c=Sb(l,c,r);let u=_b(n,r[l],r[c],a.loop);if(!e.segments){s.push({source:a,target:u,start:r[l],end:r[c]});continue}let d=K0(e,u);for(let h of d){let f=_b(n,o[h.start],o[h.end],h.loop),p=Y0(a,r,f);for(let g of p)s.push({source:g,target:h,start:{[n]:kA(u,f,"start",Math.max)},end:{[n]:kA(u,f,"end",Math.min)}})}}return s}function _b(t,e,n,i){if(i)return;let r=e[t],o=n[t];return t==="angle"&&(r=Yt(r),o=Yt(o)),{property:t,start:r,end:o}}function p4(t,e){let{x:n=null,y:i=null}=t||{},r=e.points,o=[];return e.segments.forEach(({start:s,end:a})=>{a=Sb(s,a,r);let l=r[s],c=r[a];i!==null?(o.push({x:l.x,y:i}),o.push({x:c.x,y:i})):n!==null&&(o.push({x:n,y:l.y}),o.push({x:n,y:c.y}))}),o}function Sb(t,e,n){for(;e>t;e--){let i=n[e];if(!isNaN(i.x)&&!isNaN(i.y))break}return e}function kA(t,e,n,i){return t&&e?i(t[n],e[n]):t?t[n]:e?e[n]:0}function bP(t,e){let n=[],i=!1;return Pe(t)?(i=!0,n=t):n=p4(t,e),n.length?new tp({points:n,options:{tension:0},_loop:i,_fullLoop:i}):null}function FA(t){return t&&t.fill!==!1}function g4(t,e,n){let r=t[e].fill,o=[e],s;if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!He(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;o.push(r),r=s.fill}return!1}function m4(t,e,n){let i=b4(t);if(ae(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return He(r)&&Math.floor(r)===r?y4(i[0],e,r,n):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function y4(t,e,n,i){return(t==="-"||t==="+")&&(n=e+n),n===e||n<0||n>=i?!1:n}function v4(t,e){let n=null;return t==="start"?n=e.bottom:t==="end"?n=e.top:ae(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}function _4(t,e,n){let i;return t==="start"?i=n:t==="end"?i=e.options.reverse?e.min:e.max:ae(t)?i=t.value:i=e.getBaseValue(),i}function b4(t){let e=t.options,n=e.fill,i=G(n&&n.target,n);return i===void 0&&(i=!!e.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function C4(t){let{scale:e,index:n,line:i}=t,r=[],o=i.segments,s=i.points,a=w4(e,n);a.push(bP({x:null,y:e.bottom},i));for(let l=0;l<o.length;l++){let c=o[l];for(let u=c.start;u<=c.end;u++)D4(r,s[u],a)}return new tp({points:r,options:{}})}function w4(t,e){let n=[],i=t.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){let o=i[r];if(o.index===e)break;o.hidden||n.unshift(o.dataset)}return n}function D4(t,e,n){let i=[];for(let r=0;r<n.length;r++){let o=n[r],{first:s,last:a,point:l}=E4(o,e,"x");if(!(!l||s&&a)){if(s)i.unshift(l);else if(t.push(l),!a)break}}t.push(...i)}function E4(t,e,n){let i=t.interpolate(e,n);if(!i)return{};let r=i[n],o=t.segments,s=t.points,a=!1,l=!1;for(let c=0;c<o.length;c++){let u=o[c],d=s[u.start][n],h=s[u.end][n];if(pi(r,d,h)){a=r===d,l=r===h;break}}return{first:a,last:l,point:i}}var Jf=class{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,n,i){let{x:r,y:o,radius:s}=this;return n=n||{start:0,end:Re},e.arc(r,o,s,n.end,n.start,!0),!i.bounds}interpolate(e){let{x:n,y:i,radius:r}=this,o=e.angle;return{x:n+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}};function x4(t){let{chart:e,fill:n,line:i}=t;if(He(n))return I4(e,n);if(n==="stack")return C4(t);if(n==="shape")return!0;let r=S4(t);return r instanceof Jf?r:bP(r,i)}function I4(t,e){let n=t.getDatasetMeta(e);return n&&t.isDatasetVisible(e)?n.dataset:null}function S4(t){return(t.scale||{}).getPointPositionForValue?T4(t):M4(t)}function M4(t){let{scale:e={},fill:n}=t,i=v4(n,e);if(He(i)){let r=e.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function T4(t){let{scale:e,fill:n}=t,i=e.options,r=e.getLabels().length,o=i.reverse?e.max:e.min,s=_4(n,e,o),a=[];if(i.grid.circular){let l=e.getPointPositionForValue(0,o);return new Jf({x:l.x,y:l.y,radius:e.getDistanceFromCenterForValue(s)})}for(let l=0;l<r;++l)a.push(e.getPointPositionForValue(l,s));return a}function rb(t,e,n){let i=x4(e),{line:r,scale:o,axis:s}=e,a=r.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:d=c}=l||{};i&&r.points.length&&(Ec(t,n),A4(t,{line:r,target:i,above:u,below:d,area:n,scale:o,axis:s}),xc(t))}function A4(t,e){let{line:n,target:i,above:r,below:o,area:s,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),l==="x"&&o!==r&&(LA(t,i,s.top),VA(t,{line:n,target:i,color:r,scale:a,property:l}),t.restore(),t.save(),LA(t,i,s.bottom)),VA(t,{line:n,target:i,color:o,scale:a,property:l}),t.restore()}function LA(t,e,n){let{segments:i,points:r}=e,o=!0,s=!1;t.beginPath();for(let a of i){let{start:l,end:c}=a,u=r[l],d=r[Sb(l,c,r)];o?(t.moveTo(u.x,u.y),o=!1):(t.lineTo(u.x,n),t.lineTo(u.x,u.y)),s=!!e.pathSegment(t,a,{move:s}),s?t.closePath():t.lineTo(d.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function VA(t,e){let{line:n,target:i,property:r,color:o,scale:s}=e,a=f4(n,i,r);for(let{source:l,target:c,start:u,end:d}of a){let{style:{backgroundColor:h=o}={}}=l,f=i!==!0;t.save(),t.fillStyle=h,P4(t,s,f&&_b(r,u,d)),t.beginPath();let p=!!n.pathSegment(t,l),g;if(f){p?t.closePath():jA(t,i,d,r);let m=!!i.pathSegment(t,c,{move:p,reverse:!0});g=p&&m,g||jA(t,i,u,r)}t.closePath(),t.fill(g?"evenodd":"nonzero"),t.restore()}}function P4(t,e,n){let{top:i,bottom:r}=e.chart.chartArea,{property:o,start:s,end:a}=n||{};o==="x"&&(t.beginPath(),t.rect(s,i,a-s,r-i),t.clip())}function jA(t,e,n,i){let r=e.interpolate(n,i);r&&t.lineTo(r.x,r.y)}var N4={id:"filler",afterDatasetsUpdate(t,e,n){let i=(t.data.datasets||[]).length,r=[],o,s,a,l;for(s=0;s<i;++s)o=t.getDatasetMeta(s),a=o.dataset,l=null,a&&a.options&&a instanceof tp&&(l={visible:t.isDatasetVisible(s),index:s,fill:m4(a,s,i),chart:t,axis:o.controller.options.indexAxis,scale:o.vScale,line:a}),o.$filler=l,r.push(l);for(s=0;s<i;++s)l=r[s],!(!l||l.fill===!1)&&(l.fill=g4(r,s,n.propagate))},beforeDraw(t,e,n){let i=n.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),o=t.chartArea;for(let s=r.length-1;s>=0;--s){let a=r[s].$filler;a&&(a.line.updateControlPoints(o,a.axis),i&&a.fill&&rb(t.ctx,a,o))}},beforeDatasetsDraw(t,e,n){if(n.drawTime!=="beforeDatasetsDraw")return;let i=t.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){let o=i[r].$filler;FA(o)&&rb(t.ctx,o,t.chartArea)}},beforeDatasetDraw(t,e,n){let i=e.meta.$filler;!FA(i)||n.drawTime!=="beforeDatasetDraw"||rb(t.ctx,i,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},BA=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},R4=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index,ep=class extends Wn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){let e=this.options.labels||{},n=Se(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){let{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}let i=e.labels,r=nt(i.font),o=r.size,s=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=BA(i,o),c,u;n.font=r.string,this.isHorizontal()?(c=this.maxWidth,u=this._fitRows(s,o,a,l)+10):(u=this.maxHeight,c=this._fitCols(s,r,a,l)+10),this.width=Math.min(c,e.maxWidth||this.maxWidth),this.height=Math.min(u,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){let{ctx:o,maxWidth:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],u=r+a,d=e;o.textAlign="left",o.textBaseline="middle";let h=-1,f=-u;return this.legendItems.forEach((p,g)=>{let m=i+n/2+o.measureText(p.text).width;(g===0||c[c.length-1]+m+2*a>s)&&(d+=u,c[c.length-(g>0?0:1)]=0,f+=u,h++),l[g]={left:0,top:f,row:h,width:m,height:r},c[c.length-1]+=m+a}),d}_fitCols(e,n,i,r){let{ctx:o,maxHeight:s,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],u=s-e,d=a,h=0,f=0,p=0,g=0;return this.legendItems.forEach((m,y)=>{let{itemWidth:v,itemHeight:C}=O4(i,n,o,m,r);y>0&&f+C+2*a>u&&(d+=h+a,c.push({width:h,height:f}),p+=h+a,g++,h=f=0),l[y]={left:p,top:f,col:g,width:v,height:C},h=Math.max(h,v),f+=C+a}),d+=h,c.push({width:h,height:f}),d}adjustHitBoxes(){if(!this.options.display)return;let e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:o}}=this,s=Fo(o,this.left,this.width);if(this.isHorizontal()){let a=0,l=bt(i,this.left+r,this.right-this.lineWidths[a]);for(let c of n)a!==c.row&&(a=c.row,l=bt(i,this.left+r,this.right-this.lineWidths[a])),c.top+=this.top+e+r,c.left=s.leftForLtr(s.x(l),c.width),l+=c.width+r}else{let a=0,l=bt(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(let c of n)c.col!==a&&(a=c.col,l=bt(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+r,c.left=s.leftForLtr(s.x(c.left),c.width),l+=c.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){let e=this.ctx;Ec(e,this),this._draw(),xc(e)}}_draw(){let{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:o,labels:s}=e,a=ze.color,l=Fo(e.rtl,this.left,this.width),c=nt(s.font),{padding:u}=s,d=c.size,h=d/2,f;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=c.string;let{boxWidth:p,boxHeight:g,itemHeight:m}=BA(s,d),y=function(x,P,T){if(isNaN(p)||p<=0||isNaN(g)||g<0)return;r.save();let F=G(T.lineWidth,1);if(r.fillStyle=G(T.fillStyle,a),r.lineCap=G(T.lineCap,"butt"),r.lineDashOffset=G(T.lineDashOffset,0),r.lineJoin=G(T.lineJoin,"miter"),r.lineWidth=F,r.strokeStyle=G(T.strokeStyle,a),r.setLineDash(G(T.lineDash,[])),s.usePointStyle){let q={radius:g*Math.SQRT2/2,pointStyle:T.pointStyle,rotation:T.rotation,borderWidth:F},K=l.xPlus(x,p/2),le=P+h;V0(r,q,K,le,s.pointStyleWidth&&p)}else{let q=P+Math.max((d-g)/2,0),K=l.leftForLtr(x,p),le=Br(T.borderRadius);r.beginPath(),Object.values(le).some(ft=>ft!==0)?ya(r,{x:K,y:q,w:p,h:g,radius:le}):r.rect(K,q,p,g),r.fill(),F!==0&&r.stroke()}r.restore()},v=function(x,P,T){jr(r,T.text,x,P+m/2,c,{strikethrough:T.hidden,textAlign:l.textAlign(T.textAlign)})},C=this.isHorizontal(),D=this._computeTitleHeight();C?f={x:bt(o,this.left+u,this.right-i[0]),y:this.top+u+D,line:0}:f={x:this.left+u,y:bt(o,this.top+D+u,this.bottom-n[0].height),line:0},G0(this.ctx,e.textDirection);let w=m+u;this.legendItems.forEach((x,P)=>{r.strokeStyle=x.fontColor,r.fillStyle=x.fontColor;let T=r.measureText(x.text).width,F=l.textAlign(x.textAlign||(x.textAlign=s.textAlign)),q=p+h+T,K=f.x,le=f.y;l.setWidth(this.width),C?P>0&&K+q+u>this.right&&(le=f.y+=w,f.line++,K=f.x=bt(o,this.left+u,this.right-i[f.line])):P>0&&le+w>this.bottom&&(K=f.x=K+n[f.line].width+u,f.line++,le=f.y=bt(o,this.top+D+u,this.bottom-n[f.line].height));let ft=l.x(K);if(y(ft,le,x),K=jT(F,K+p+h,C?K+q:this.right,e.rtl),v(l.x(K),le,x),C)f.x+=q+u;else if(typeof x.text!="string"){let Xt=c.lineHeight;f.y+=CP(x,Xt)+u}else f.y+=w}),q0(this.ctx,e.textDirection)}drawTitle(){let e=this.options,n=e.title,i=nt(n.font),r=Ct(n.padding);if(!n.display)return;let o=Fo(e.rtl,this.left,this.width),s=this.ctx,a=n.position,l=i.size/2,c=r.top+l,u,d=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),u=this.top+c,d=bt(e.align,d,this.right-h);else{let p=this.columnSizes.reduce((g,m)=>Math.max(g,m.height),0);u=c+bt(e.align,this.top,this.bottom-p-e.labels.padding-this._computeTitleHeight())}let f=bt(a,d,d+h);s.textAlign=o.textAlign(Nf(a)),s.textBaseline="middle",s.strokeStyle=n.color,s.fillStyle=n.color,s.font=i.string,jr(s,n.text,f,u,i)}_computeTitleHeight(){let e=this.options.title,n=nt(e.font),i=Ct(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,o;if(pi(e,this.left,this.right)&&pi(n,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],pi(e,r.left,r.left+r.width)&&pi(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){let n=this.options;if(!L4(e.type,n))return;let i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){let r=this._hoveredItem,o=R4(r,i);r&&!o&&Se(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!o&&Se(n.onHover,[e,i,this],this)}else i&&Se(n.onClick,[e,i,this],this)}};function O4(t,e,n,i,r){let o=k4(i,t,e,n),s=F4(r,i,e.lineHeight);return{itemWidth:o,itemHeight:s}}function k4(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((o,s)=>o.length>s.length?o:s)),e+n.size/2+i.measureText(r).width}function F4(t,e,n){let i=t;return typeof e.text!="string"&&(i=CP(e,n)),i}function CP(t,e){let n=t.text?t.text.length:0;return e*n}function L4(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var V4={id:"legend",_element:ep,start(t,e,n){let i=t.legend=new ep({ctx:t.ctx,options:n,chart:t});Mt.configure(t,i,n),Mt.addBox(t,i)},stop(t){Mt.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){let i=t.legend;Mt.configure(t,i,n),i.options=n},afterUpdate(t){let e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){let i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){let e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:o,useBorderRadius:s,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{let c=l.controller.getStyle(n?0:void 0),u=Ct(c.borderWidth);return{text:e[l.index].label,fillStyle:c.backgroundColor,fontColor:o,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(u.width+u.height)/4,strokeStyle:c.borderColor,pointStyle:i||c.pointStyle,rotation:c.rotation,textAlign:r||c.textAlign,borderRadius:s&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}},Oc=class extends Wn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){let i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;let r=Pe(i.text)?i.text.length:1;this._padding=Ct(i.padding);let o=r*nt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){let e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){let{top:n,left:i,bottom:r,right:o,options:s}=this,a=s.align,l=0,c,u,d;return this.isHorizontal()?(u=bt(a,i,o),d=n+e,c=o-i):(s.position==="left"?(u=i+e,d=bt(a,r,n),l=Ne*-.5):(u=o-e,d=bt(a,n,r),l=Ne*.5),c=r-n),{titleX:u,titleY:d,maxWidth:c,rotation:l}}draw(){let e=this.ctx,n=this.options;if(!n.display)return;let i=nt(n.font),o=i.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(o);jr(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:c,textAlign:Nf(n.align),textBaseline:"middle",translation:[s,a]})}};function j4(t,e){let n=new Oc({ctx:t.ctx,options:e,chart:t});Mt.configure(t,n,e),Mt.addBox(t,n),t.titleBlock=n}var B4={id:"title",_element:Oc,start(t,e,n){j4(t,n)},stop(t){let e=t.titleBlock;Mt.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){let i=t.titleBlock;Mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},zf=new WeakMap,U4={id:"subtitle",start(t,e,n){let i=new Oc({ctx:t.ctx,options:n,chart:t});Mt.configure(t,i,n),Mt.addBox(t,i),zf.set(t,i)},stop(t){Mt.removeBox(t,zf.get(t)),zf.delete(t)},beforeUpdate(t,e,n){let i=zf.get(t);Mt.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},Nc={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,o=0;for(e=0,n=t.length;e<n;++e){let a=t[e].element;if(a&&a.hasValue()){let l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,o,s,a;for(o=0,s=t.length;o<s;++o){let l=t[o].element;if(l&&l.hasValue()){let c=l.getCenterPoint(),u=Sf(e,c);u<r&&(r=u,a=l)}}if(a){let l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function gi(t,e){return e&&(Pe(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Qi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function $4(t,e){let{element:n,datasetIndex:i,index:r}=e,o=t.getDatasetMeta(i).controller,{label:s,value:a}=o.getLabelAndValue(r);return{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function UA(t,e){let n=t.chart.ctx,{body:i,footer:r,title:o}=t,{boxWidth:s,boxHeight:a}=e,l=nt(e.bodyFont),c=nt(e.titleFont),u=nt(e.footerFont),d=o.length,h=r.length,f=i.length,p=Ct(e.padding),g=p.height,m=0,y=i.reduce((D,w)=>D+w.before.length+w.lines.length+w.after.length,0);if(y+=t.beforeBody.length+t.afterBody.length,d&&(g+=d*c.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),y){let D=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=f*D+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}h&&(g+=e.footerMarginTop+h*u.lineHeight+(h-1)*e.footerSpacing);let v=0,C=function(D){m=Math.max(m,n.measureText(D).width+v)};return n.save(),n.font=c.string,be(t.title,C),n.font=l.string,be(t.beforeBody.concat(t.afterBody),C),v=e.displayColors?s+2+e.boxPadding:0,be(i,D=>{be(D.before,C),be(D.lines,C),be(D.after,C)}),v=0,n.font=u.string,be(t.footer,C),n.restore(),m+=p.width,{width:m,height:g}}function H4(t,e){let{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function z4(t,e,n,i){let{x:r,width:o}=i,s=n.caretSize+n.caretPadding;if(t==="left"&&r+o+s>e.width||t==="right"&&r-o-s<0)return!0}function W4(t,e,n,i){let{x:r,width:o}=n,{width:s,chartArea:{left:a,right:l}}=t,c="center";return i==="center"?c=r<=(a+l)/2?"left":"right":r<=o/2?c="left":r>=s-o/2&&(c="right"),z4(c,t,e,n)&&(c="center"),c}function $A(t,e,n){let i=n.yAlign||e.yAlign||H4(t,n);return{xAlign:n.xAlign||e.xAlign||W4(t,e,n,i),yAlign:i}}function G4(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function q4(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function HA(t,e,n,i){let{caretSize:r,caretPadding:o,cornerRadius:s}=t,{xAlign:a,yAlign:l}=n,c=r+o,{topLeft:u,topRight:d,bottomLeft:h,bottomRight:f}=Br(s),p=G4(e,a),g=q4(e,l,c);return l==="center"?a==="left"?p+=c:a==="right"&&(p-=c):a==="left"?p-=Math.max(u,h)+r:a==="right"&&(p+=Math.max(d,f)+r),{x:rt(p,0,i.width-e.width),y:rt(g,0,i.height-e.height)}}function Wf(t,e,n){let i=Ct(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function zA(t){return gi([],Qi(t))}function Y4(t,e,n){return Yi(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function WA(t,e){let n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}var wP={beforeTitle:fi,title(t){if(t.length>0){let e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:fi,beforeBody:fi,beforeLabel:fi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");let n=t.formattedValue;return de(n)||(e+=n),e},labelColor(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){let n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:fi,afterBody:fi,beforeFooter:fi,footer:fi,afterFooter:fi};function Qt(t,e,n,i){let r=t[e].call(n,i);return typeof r>"u"?wP[e].call(n,i):r}var GA=(()=>{class t extends Wn{static positioners=Nc;constructor(n){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=n.chart,this.options=n.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(n){this.options=n,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){let n=this._cachedAnimations;if(n)return n;let i=this.chart,r=this.options.setContext(this.getContext()),o=r.enabled&&i.options.animation&&r.animations,s=new Kf(this.chart,o);return o._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=Y4(this.chart.getContext(),this,this._tooltipItems))}getTitle(n,i){let{callbacks:r}=i,o=Qt(r,"beforeTitle",this,n),s=Qt(r,"title",this,n),a=Qt(r,"afterTitle",this,n),l=[];return l=gi(l,Qi(o)),l=gi(l,Qi(s)),l=gi(l,Qi(a)),l}getBeforeBody(n,i){return zA(Qt(i.callbacks,"beforeBody",this,n))}getBody(n,i){let{callbacks:r}=i,o=[];return be(n,s=>{let a={before:[],lines:[],after:[]},l=WA(r,s);gi(a.before,Qi(Qt(l,"beforeLabel",this,s))),gi(a.lines,Qt(l,"label",this,s)),gi(a.after,Qi(Qt(l,"afterLabel",this,s))),o.push(a)}),o}getAfterBody(n,i){return zA(Qt(i.callbacks,"afterBody",this,n))}getFooter(n,i){let{callbacks:r}=i,o=Qt(r,"beforeFooter",this,n),s=Qt(r,"footer",this,n),a=Qt(r,"afterFooter",this,n),l=[];return l=gi(l,Qi(o)),l=gi(l,Qi(s)),l=gi(l,Qi(a)),l}_createItems(n){let i=this._active,r=this.chart.data,o=[],s=[],a=[],l=[],c,u;for(c=0,u=i.length;c<u;++c)l.push($4(this.chart,i[c]));return n.filter&&(l=l.filter((d,h,f)=>n.filter(d,h,f,r))),n.itemSort&&(l=l.sort((d,h)=>n.itemSort(d,h,r))),be(l,d=>{let h=WA(n.callbacks,d);o.push(Qt(h,"labelColor",this,d)),s.push(Qt(h,"labelPointStyle",this,d)),a.push(Qt(h,"labelTextColor",this,d))}),this.labelColors=o,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(n,i){let r=this.options.setContext(this.getContext()),o=this._active,s,a=[];if(!o.length)this.opacity!==0&&(s={opacity:0});else{let l=Nc[r.position].call(this,o,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);let c=this._size=UA(this,r),u=Object.assign({},l,c),d=$A(this.chart,r,u),h=HA(r,u,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:h.x,y:h.y,width:c.width,height:c.height,caretX:l.x,caretY:l.y}}this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),n&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:i})}drawCaret(n,i,r,o){let s=this.getCaretPosition(n,r,o);i.lineTo(s.x1,s.y1),i.lineTo(s.x2,s.y2),i.lineTo(s.x3,s.y3)}getCaretPosition(n,i,r){let{xAlign:o,yAlign:s}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:c,topRight:u,bottomLeft:d,bottomRight:h}=Br(l),{x:f,y:p}=n,{width:g,height:m}=i,y,v,C,D,w,x;return s==="center"?(w=p+m/2,o==="left"?(y=f,v=y-a,D=w+a,x=w-a):(y=f+g,v=y+a,D=w-a,x=w+a),C=y):(o==="left"?v=f+Math.max(c,d)+a:o==="right"?v=f+g-Math.max(u,h)-a:v=this.caretX,s==="top"?(D=p,w=D-a,y=v-a,C=v+a):(D=p+m,w=D+a,y=v+a,C=v-a),x=D),{x1:y,x2:v,x3:C,y1:D,y2:w,y3:x}}drawTitle(n,i,r){let o=this.title,s=o.length,a,l,c;if(s){let u=Fo(r.rtl,this.x,this.width);for(n.x=Wf(this,r.titleAlign,r),i.textAlign=u.textAlign(r.titleAlign),i.textBaseline="middle",a=nt(r.titleFont),l=r.titleSpacing,i.fillStyle=r.titleColor,i.font=a.string,c=0;c<s;++c)i.fillText(o[c],u.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+l,c+1===s&&(n.y+=r.titleMarginBottom-l)}}_drawColorBox(n,i,r,o,s){let a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:c,boxWidth:u}=s,d=nt(s.bodyFont),h=Wf(this,"left",s),f=o.x(h),p=c<d.lineHeight?(d.lineHeight-c)/2:0,g=i.y+p;if(s.usePointStyle){let m={radius:Math.min(u,c)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},y=o.leftForLtr(f,u)+u/2,v=g+c/2;n.strokeStyle=s.multiKeyBackground,n.fillStyle=s.multiKeyBackground,Of(n,m,y,v),n.strokeStyle=a.borderColor,n.fillStyle=a.backgroundColor,Of(n,m,y,v)}else{n.lineWidth=ae(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,n.strokeStyle=a.borderColor,n.setLineDash(a.borderDash||[]),n.lineDashOffset=a.borderDashOffset||0;let m=o.leftForLtr(f,u),y=o.leftForLtr(o.xPlus(f,1),u-2),v=Br(a.borderRadius);Object.values(v).some(C=>C!==0)?(n.beginPath(),n.fillStyle=s.multiKeyBackground,ya(n,{x:m,y:g,w:u,h:c,radius:v}),n.fill(),n.stroke(),n.fillStyle=a.backgroundColor,n.beginPath(),ya(n,{x:y,y:g+1,w:u-2,h:c-2,radius:v}),n.fill()):(n.fillStyle=s.multiKeyBackground,n.fillRect(m,g,u,c),n.strokeRect(m,g,u,c),n.fillStyle=a.backgroundColor,n.fillRect(y,g+1,u-2,c-2))}n.fillStyle=this.labelTextColors[r]}drawBody(n,i,r){let{body:o}=this,{bodySpacing:s,bodyAlign:a,displayColors:l,boxHeight:c,boxWidth:u,boxPadding:d}=r,h=nt(r.bodyFont),f=h.lineHeight,p=0,g=Fo(r.rtl,this.x,this.width),m=function(F){i.fillText(F,g.x(n.x+p),n.y+f/2),n.y+=f+s},y=g.textAlign(a),v,C,D,w,x,P,T;for(i.textAlign=a,i.textBaseline="middle",i.font=h.string,n.x=Wf(this,y,r),i.fillStyle=r.bodyColor,be(this.beforeBody,m),p=l&&y!=="right"?a==="center"?u/2+d:u+2+d:0,w=0,P=o.length;w<P;++w){for(v=o[w],C=this.labelTextColors[w],i.fillStyle=C,be(v.before,m),D=v.lines,l&&D.length&&(this._drawColorBox(i,n,w,g,r),f=Math.max(h.lineHeight,c)),x=0,T=D.length;x<T;++x)m(D[x]),f=h.lineHeight;be(v.after,m)}p=0,f=h.lineHeight,be(this.afterBody,m),n.y-=s}drawFooter(n,i,r){let o=this.footer,s=o.length,a,l;if(s){let c=Fo(r.rtl,this.x,this.width);for(n.x=Wf(this,r.footerAlign,r),n.y+=r.footerMarginTop,i.textAlign=c.textAlign(r.footerAlign),i.textBaseline="middle",a=nt(r.footerFont),i.fillStyle=r.footerColor,i.font=a.string,l=0;l<s;++l)i.fillText(o[l],c.x(n.x),n.y+a.lineHeight/2),n.y+=a.lineHeight+r.footerSpacing}}drawBackground(n,i,r,o){let{xAlign:s,yAlign:a}=this,{x:l,y:c}=n,{width:u,height:d}=r,{topLeft:h,topRight:f,bottomLeft:p,bottomRight:g}=Br(o.cornerRadius);i.fillStyle=o.backgroundColor,i.strokeStyle=o.borderColor,i.lineWidth=o.borderWidth,i.beginPath(),i.moveTo(l+h,c),a==="top"&&this.drawCaret(n,i,r,o),i.lineTo(l+u-f,c),i.quadraticCurveTo(l+u,c,l+u,c+f),a==="center"&&s==="right"&&this.drawCaret(n,i,r,o),i.lineTo(l+u,c+d-g),i.quadraticCurveTo(l+u,c+d,l+u-g,c+d),a==="bottom"&&this.drawCaret(n,i,r,o),i.lineTo(l+p,c+d),i.quadraticCurveTo(l,c+d,l,c+d-p),a==="center"&&s==="left"&&this.drawCaret(n,i,r,o),i.lineTo(l,c+h),i.quadraticCurveTo(l,c,l+h,c),i.closePath(),i.fill(),o.borderWidth>0&&i.stroke()}_updateAnimationTarget(n){let i=this.chart,r=this.$animations,o=r&&r.x,s=r&&r.y;if(o||s){let a=Nc[n.position].call(this,this._active,this._eventPosition);if(!a)return;let l=this._size=UA(this,n),c=Object.assign({},a,this._size),u=$A(i,n,c),d=HA(n,c,u,i);(o._to!==d.x||s._to!==d.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(n){let i=this.options.setContext(this.getContext()),r=this.opacity;if(!r)return;this._updateAnimationTarget(i);let o={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;let a=Ct(i.padding),l=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;i.enabled&&l&&(n.save(),n.globalAlpha=r,this.drawBackground(s,n,o,i),G0(n,i.textDirection),s.y+=a.top,this.drawTitle(s,n,i),this.drawBody(s,n,i),this.drawFooter(s,n,i),q0(n,i.textDirection),n.restore())}getActiveElements(){return this._active||[]}setActiveElements(n,i){let r=this._active,o=n.map(({datasetIndex:l,index:c})=>{let u=this.chart.getDatasetMeta(l);if(!u)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:u.data[c],index:c}}),s=!wc(r,o),a=this._positionChanged(o,i);(s||a)&&(this._active=o,this._eventPosition=i,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(n,i,r=!0){if(i&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;let o=this.options,s=this._active||[],a=this._getActiveElements(n,s,i,r),l=this._positionChanged(a,n),c=i||!wc(a,s)||l;return c&&(this._active=a,(o.enabled||o.external)&&(this._eventPosition={x:n.x,y:n.y},this.update(!0,i))),c}_getActiveElements(n,i,r,o){let s=this.options;if(n.type==="mouseout")return[];if(!o)return i.filter(l=>this.chart.data.datasets[l.datasetIndex]&&this.chart.getDatasetMeta(l.datasetIndex).controller.getParsed(l.index)!==void 0);let a=this.chart.getElementsAtEventForMode(n,s.mode,s,r);return s.reverse&&a.reverse(),a}_positionChanged(n,i){let{caretX:r,caretY:o,options:s}=this,a=Nc[s.position].call(this,n,i);return a!==!1&&(r!==a.x||o!==a.y)}}return t})(),K4={id:"tooltip",_element:GA,positioners:Nc,afterInit(t,e,n){n&&(t.tooltip=new GA({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){let e=t.tooltip;if(e&&e._willRender()){let n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",ce(N({},n),{cancelable:!0}))===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){let n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:wP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Q4=Object.freeze({__proto__:null,Colors:l4,Decimation:h4,Filler:N4,Legend:V4,SubTitle:U4,Title:B4,Tooltip:K4}),Z4=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function X4(t,e,n,i){let r=t.indexOf(e);if(r===-1)return Z4(t,e,n,i);let o=t.lastIndexOf(e);return r!==o?n:r}var J4=(t,e)=>t===null?null:rt(Math.round(t),0,e);function qA(t){let e=this.getLabels();return t>=0&&t<e.length?e[t]:t}var e5=(()=>{class t extends jo{static id="category";static defaults={ticks:{callback:qA}};constructor(n){super(n),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(n){let i=this._addedLabels;if(i.length){let r=this.getLabels();for(let{index:o,label:s}of i)r[o]===s&&r.splice(o,1);this._addedLabels=[]}super.init(n)}parse(n,i){if(de(n))return null;let r=this.getLabels();return i=isFinite(i)&&r[i]===n?i:X4(r,n,G(i,n),this._addedLabels),J4(i,r.length-1)}determineDataLimits(){let{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this.getMinMax(!0);this.options.bounds==="ticks"&&(n||(r=0),i||(o=this.getLabels().length-1)),this.min=r,this.max=o}buildTicks(){let n=this.min,i=this.max,r=this.options.offset,o=[],s=this.getLabels();s=n===0&&i===s.length-1?s:s.slice(n,i+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let a=n;a<=i;a++)o.push({value:a});return o}getLabelForValue(n){return qA.call(this,n)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(n){return typeof n!="number"&&(n=this.parse(n)),n===null?NaN:this.getPixelForDecimal((n-this._startValue)/this._valueRange)}getPixelForTick(n){let i=this.ticks;return n<0||n>i.length-1?null:this.getPixelForValue(i[n].value)}getValueForPixel(n){return Math.round(this._startValue+this.getDecimalForPixel(n)*this._valueRange)}getBasePixel(){return this.bottom}}return t})();function t5(t,e){let n=[],{bounds:r,step:o,min:s,max:a,precision:l,count:c,maxTicks:u,maxDigits:d,includeBounds:h}=t,f=o||1,p=u-1,{min:g,max:m}=e,y=!de(s),v=!de(a),C=!de(c),D=(m-g)/(d+1),w=x0((m-g)/p/f)*f,x,P,T,F;if(w<1e-14&&!y&&!v)return[{value:g},{value:m}];F=Math.ceil(m/w)-Math.floor(g/w),F>p&&(w=x0(F*w/p/f)*f),de(l)||(x=Math.pow(10,l),w=Math.ceil(w*x)/x),r==="ticks"?(P=Math.floor(g/w)*w,T=Math.ceil(m/w)*w):(P=g,T=m),y&&v&&o&&NT((a-s)/o,w/1e3)?(F=Math.round(Math.min((a-s)/w,u)),w=(a-s)/F,P=s,T=a):C?(P=y?s:P,T=v?a:T,F=c-1,w=(T-P)/F):(F=(T-P)/w,pa(F,Math.round(F),w/1e3)?F=Math.round(F):F=Math.ceil(F));let q=Math.max(S0(w),S0(P));x=Math.pow(10,de(l)?q:l),P=Math.round(P*x)/x,T=Math.round(T*x)/x;let K=0;for(y&&(h&&P!==s?(n.push({value:s}),P<s&&K++,pa(Math.round((P+K*w)*x)/x,s,YA(s,D,t))&&K++):P<s&&K++);K<F;++K){let le=Math.round((P+K*w)*x)/x;if(v&&le>a)break;n.push({value:le})}return v&&h&&T!==a?n.length&&pa(n[n.length-1].value,a,YA(a,D,t))?n[n.length-1].value=a:n.push({value:a}):(!v||T===a)&&n.push({value:T}),n}function YA(t,e,{horizontal:n,minRotation:i}){let r=Sn(i),o=(n?Math.sin(r):Math.cos(r))||.001,s=.75*e*(""+t).length;return Math.min(e/o,s)}var Ca=class extends jo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return de(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){let{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds(),{min:r,max:o}=this,s=l=>r=n?r:l,a=l=>o=i?o:l;if(e){let l=zn(r),c=zn(o);l<0&&c<0?a(0):l>0&&c>0&&s(0)}if(r===o){let l=o===0?1:Math.abs(o*.05);a(o+l),e||s(r-l)}this.min=r,this.max=o}getTickLimit(){let e=this.options.ticks,{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){let e=this.options,n=e.ticks,i=this.getTickLimit();i=Math.max(2,i);let r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,s=t5(r,o);return e.bounds==="ticks"&&I0(s,this,"value"),e.reverse?(s.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),s}configure(){let e=this.ticks,n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){let r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return ma(e,this.chart.options.locale,this.options.ticks.format)}},bb=class extends Ca{static id="linear";static defaults={ticks:{callback:Dc.formatters.numeric}};determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=He(e)?e:0,this.max=He(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){let e=this.isHorizontal(),n=e?this.width:this.height,i=Sn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}},kc=t=>Math.floor(Gi(t)),Vo=(t,e)=>Math.pow(10,kc(t)+e);function KA(t){return t/Math.pow(10,kc(t))===1}function QA(t,e,n){let i=Math.pow(10,n),r=Math.floor(t/i);return Math.ceil(e/i)-r}function n5(t,e){let n=e-t,i=kc(n);for(;QA(t,e,i)>10;)i++;for(;QA(t,e,i)<10;)i--;return Math.min(i,kc(t))}function i5(t,{min:e,max:n}){e=Kt(t.min,e);let i=[],r=kc(e),o=n5(e,n),s=o<0?Math.pow(10,Math.abs(o)):1,a=Math.pow(10,o),l=r>o?Math.pow(10,r):0,c=Math.round((e-l)*s)/s,u=Math.floor((e-l)/a/10)*a*10,d=Math.floor((c-u)/Math.pow(10,o)),h=Kt(t.min,Math.round((l+u+d*Math.pow(10,o))*s)/s);for(;h<n;)i.push({value:h,major:KA(h),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,s=o>=0?1:s),h=Math.round((l+u+d*Math.pow(10,o))*s)/s;let f=Kt(t.max,h);return i.push({value:f,major:KA(f),significand:d}),i}var Cb=class extends jo{static id="logarithmic";static defaults={ticks:{callback:Dc.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,n){let i=Ca.prototype.parse.apply(this,[e,n]);if(i===0){this._zero=!0;return}return He(i)&&i>0?i:null}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!0);this.min=He(e)?Math.max(0,e):null,this.max=He(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!He(this._userMin)&&(this.min=e===Vo(this.min,0)?Vo(this.min,-1):Vo(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){let{minDefined:e,maxDefined:n}=this.getUserBounds(),i=this.min,r=this.max,o=a=>i=e?i:a,s=a=>r=n?r:a;i===r&&(i<=0?(o(1),s(10)):(o(Vo(i,-1)),s(Vo(r,1)))),i<=0&&o(Vo(r,-1)),r<=0&&s(Vo(i,1)),this.min=i,this.max=r}buildTicks(){let e=this.options,n={min:this._userMin,max:this._userMax},i=i5(n,this);return e.bounds==="ticks"&&I0(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(e){return e===void 0?"0":ma(e,this.chart.options.locale,this.options.ticks.format)}configure(){let e=this.min;super.configure(),this._startValue=Gi(e),this._valueRange=Gi(this.max)-Gi(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Gi(e)-this._startValue)/this._valueRange)}getValueForPixel(e){let n=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+n*this._valueRange)}};function wb(t){let e=t.ticks;if(e.display&&t.display){let n=Ct(e.backdropPadding);return G(e.font&&e.font.size,ze.font.size)+n.height}return 0}function r5(t,e,n){return n=Pe(n)?n:[n],{w:UT(t,e.string,n),h:n.length*e.lineHeight}}function ZA(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function o5(t){let e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],o=t._pointLabels.length,s=t.options.pointLabels,a=s.centerPointLabels?Ne/o:0;for(let l=0;l<o;l++){let c=s.setContext(t.getPointLabelContext(l));r[l]=c.padding;let u=t.getPointPosition(l,t.drawingArea+r[l],a),d=nt(c.font),h=r5(t.ctx,d,t._pointLabels[l]);i[l]=h;let f=Yt(t.getIndexAngle(l)+a),p=Math.round(Af(f)),g=ZA(p,u.x,h.w,0,180),m=ZA(p,u.y,h.h,90,270);s5(n,e,f,g,m)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=c5(t,i,r)}function s5(t,e,n,i,r){let o=Math.abs(Math.sin(n)),s=Math.abs(Math.cos(n)),a=0,l=0;i.start<e.l?(a=(e.l-i.start)/o,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/o,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/s,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/s,t.b=Math.max(t.b,e.b+l))}function a5(t,e,n){let i=t.drawingArea,{extra:r,additionalAngle:o,padding:s,size:a}=n,l=t.getPointPosition(e,i+r+s,o),c=Math.round(Af(Yt(l.angle+Ge))),u=h5(l.y,a.h,c),d=u5(c),h=d5(l.x,a.w,d);return{visible:!0,x:l.x,y:u,textAlign:d,left:h,top:u,right:h+a.w,bottom:u+a.h}}function l5(t,e){if(!e)return!0;let{left:n,top:i,right:r,bottom:o}=t;return!(hi({x:n,y:i},e)||hi({x:n,y:o},e)||hi({x:r,y:i},e)||hi({x:r,y:o},e))}function c5(t,e,n){let i=[],r=t._pointLabels.length,o=t.options,{centerPointLabels:s,display:a}=o.pointLabels,l={extra:wb(o)/2,additionalAngle:s?Ne/r:0},c;for(let u=0;u<r;u++){l.padding=n[u],l.size=e[u];let d=a5(t,u,l);i.push(d),a==="auto"&&(d.visible=l5(d,c),d.visible&&(c=d))}return i}function u5(t){return t===0||t===180?"center":t<180?"left":"right"}function d5(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function h5(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function f5(t,e,n){let{left:i,top:r,right:o,bottom:s}=n,{backdropColor:a}=e;if(!de(a)){let l=Br(e.borderRadius),c=Ct(e.backdropPadding);t.fillStyle=a;let u=i-c.left,d=r-c.top,h=o-i+c.width,f=s-r+c.height;Object.values(l).some(p=>p!==0)?(t.beginPath(),ya(t,{x:u,y:d,w:h,h:f,radius:l}),t.fill()):t.fillRect(u,d,h,f)}}function p5(t,e){let{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){let o=t._pointLabelItems[r];if(!o.visible)continue;let s=i.setContext(t.getPointLabelContext(r));f5(n,s,o);let a=nt(s.font),{x:l,y:c,textAlign:u}=o;jr(n,t._pointLabels[r],l,c+a.lineHeight/2,a,{color:s.color,textAlign:u,textBaseline:"middle"})}}function DP(t,e,n,i){let{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,Re);else{let o=t.getPointPosition(0,e);r.moveTo(o.x,o.y);for(let s=1;s<i;s++)o=t.getPointPosition(s,e),r.lineTo(o.x,o.y)}}function g5(t,e,n,i,r){let o=t.ctx,s=e.circular,{color:a,lineWidth:l}=e;!s&&!i||!a||!l||n<0||(o.save(),o.strokeStyle=a,o.lineWidth=l,o.setLineDash(r.dash),o.lineDashOffset=r.dashOffset,o.beginPath(),DP(t,n,s,i),o.closePath(),o.stroke(),o.restore())}function m5(t,e,n){return Yi(t,{label:n,index:e,type:"pointLabel"})}var Db=class extends Ca{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Dc.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){let e=this._padding=Ct(wb(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){let{min:e,max:n}=this.getMinMax(!1);this.min=He(e)&&!isNaN(e)?e:0,this.max=He(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/wb(this.options))}generateTickLabels(e){Ca.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{let r=Se(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){let e=this.options;e.display&&e.pointLabels.display?o5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){let n=Re/(this._pointLabels.length||1),i=this.options.startAngle||0;return Yt(e*n+Sn(i))}getDistanceFromCenterForValue(e){if(de(e))return NaN;let n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(de(e))return NaN;let n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){let n=this._pointLabels||[];if(e>=0&&e<n.length){let i=n[e];return m5(this.getContext(),e,i)}}getPointPosition(e,n,i=0){let r=this.getIndexAngle(e)-Ge+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){let{left:n,top:i,right:r,bottom:o}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:o}}drawBackground(){let{backgroundColor:e,grid:{circular:n}}=this.options;if(e){let i=this.ctx;i.save(),i.beginPath(),DP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){let e=this.ctx,n=this.options,{angleLines:i,grid:r,border:o}=n,s=this._pointLabels.length,a,l,c;if(n.pointLabels.display&&p5(this,s),r.display&&this.ticks.forEach((u,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(u.value);let h=this.getContext(d),f=r.setContext(h),p=o.setContext(h);g5(this,f,l,s,p)}}),i.display){for(e.save(),a=s-1;a>=0;a--){let u=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:h}=u;!h||!d||(e.lineWidth=h,e.strokeStyle=d,e.setLineDash(u.borderDash),e.lineDashOffset=u.borderDashOffset,l=this.getDistanceFromCenterForValue(n.ticks.reverse?this.min:this.max),c=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(c.x,c.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){let e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;let r=this.getIndexAngle(0),o,s;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;let c=i.setContext(this.getContext(l)),u=nt(c.font);if(o=this.getDistanceFromCenterForValue(this.ticks[l].value),c.showLabelBackdrop){e.font=u.string,s=e.measureText(a.label).width,e.fillStyle=c.backdropColor;let d=Ct(c.backdropPadding);e.fillRect(-s/2-d.left,-o-u.size/2-d.top,s+d.width,u.size+d.height)}jr(e,a.label,0,-o,u,{color:c.color,strokeColor:c.textStrokeColor,strokeWidth:c.textStrokeWidth})}),e.restore()}drawTitle(){}},np={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Zt=Object.keys(np);function XA(t,e){return t-e}function JA(t,e){if(de(e))return null;let n=t._adapter,{parser:i,round:r,isoWeekday:o}=t._parseOpts,s=e;return typeof i=="function"&&(s=i(s)),He(s)||(s=typeof i=="string"?n.parse(s,i):n.parse(s)),s===null?null:(r&&(s=r==="week"&&(ko(o)||o===!0)?n.startOf(s,"isoWeek",o):n.startOf(s,r)),+s)}function eP(t,e,n,i){let r=Zt.length;for(let o=Zt.indexOf(t);o<r-1;++o){let s=np[Zt[o]],a=s.steps?s.steps:Number.MAX_SAFE_INTEGER;if(s.common&&Math.ceil((n-e)/(a*s.size))<=i)return Zt[o]}return Zt[r-1]}function y5(t,e,n,i,r){for(let o=Zt.length-1;o>=Zt.indexOf(n);o--){let s=Zt[o];if(np[s].common&&t._adapter.diff(r,i,s)>=e-1)return s}return Zt[n?Zt.indexOf(n):0]}function v5(t){for(let e=Zt.indexOf(t)+1,n=Zt.length;e<n;++e)if(np[Zt[e]].common)return Zt[e]}function tP(t,e,n){if(!n)t[e]=!0;else if(n.length){let{lo:i,hi:r}=Pf(n,e),o=n[i]>=e?n[i]:n[r];t[o]=!0}}function _5(t,e,n,i){let r=t._adapter,o=+r.startOf(e[0].value,i),s=e[e.length-1].value,a,l;for(a=o;a<=s;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function nP(t,e,n){let i=[],r={},o=e.length,s,a;for(s=0;s<o;++s)a=e[s],r[a]=s,i.push({value:a,major:!1});return o===0||!n?i:_5(t,i,r,n)}var Eb=(()=>{class t extends jo{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(n){super(n),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(n,i={}){let r=n.time||(n.time={}),o=this._adapter=new PW._date(n.adapters.date);o.init(i),ha(r.displayFormats,o.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(n),this._normalized=i.normalized}parse(n,i){return n===void 0?null:JA(this,n)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){let n=this.options,i=this._adapter,r=n.time.unit||"day",{min:o,max:s,minDefined:a,maxDefined:l}=this.getUserBounds();function c(u){!a&&!isNaN(u.min)&&(o=Math.min(o,u.min)),!l&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!a||!l)&&(c(this._getLabelBounds()),(n.bounds!=="ticks"||n.ticks.source!=="labels")&&c(this.getMinMax(!1))),o=He(o)&&!isNaN(o)?o:+i.startOf(Date.now(),r),s=He(s)&&!isNaN(s)?s:+i.endOf(Date.now(),r)+1,this.min=Math.min(o,s-1),this.max=Math.max(o+1,s)}_getLabelBounds(){let n=this.getLabelTimestamps(),i=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return n.length&&(i=n[0],r=n[n.length-1]),{min:i,max:r}}buildTicks(){let n=this.options,i=n.time,r=n.ticks,o=r.source==="labels"?this.getLabelTimestamps():this._generate();n.bounds==="ticks"&&o.length&&(this.min=this._userMin||o[0],this.max=this._userMax||o[o.length-1]);let s=this.min,a=this.max,l=kT(o,s,a);return this._unit=i.unit||(r.autoSkip?eP(i.minUnit,this.min,this.max,this._getLabelCapacity(s)):y5(this,l.length,i.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:v5(this._unit),this.initOffsets(o),n.reverse&&l.reverse(),nP(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(n=>+n.value))}initOffsets(n=[]){let i=0,r=0,o,s;this.options.offset&&n.length&&(o=this.getDecimalForValue(n[0]),n.length===1?i=1-o:i=(this.getDecimalForValue(n[1])-o)/2,s=this.getDecimalForValue(n[n.length-1]),n.length===1?r=s:r=(s-this.getDecimalForValue(n[n.length-2]))/2);let a=n.length<3?.5:.25;i=rt(i,0,a),r=rt(r,0,a),this._offsets={start:i,end:r,factor:1/(i+1+r)}}_generate(){let n=this._adapter,i=this.min,r=this.max,o=this.options,s=o.time,a=s.unit||eP(s.minUnit,i,r,this._getLabelCapacity(i)),l=G(o.ticks.stepSize,1),c=a==="week"?s.isoWeekday:!1,u=ko(c)||c===!0,d={},h=i,f,p;if(u&&(h=+n.startOf(h,"isoWeek",c)),h=+n.startOf(h,u?"day":a),n.diff(r,i,a)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+a);let g=o.ticks.source==="data"&&this.getDataTimestamps();for(f=h,p=0;f<r;f=+n.add(f,l,a),p++)tP(d,f,g);return(f===r||o.bounds==="ticks"||p===1)&&tP(d,f,g),Object.keys(d).sort(XA).map(m=>+m)}getLabelForValue(n){let i=this._adapter,r=this.options.time;return r.tooltipFormat?i.format(n,r.tooltipFormat):i.format(n,r.displayFormats.datetime)}format(n,i){let o=this.options.time.displayFormats,s=this._unit,a=i||o[s];return this._adapter.format(n,a)}_tickFormatFunction(n,i,r,o){let s=this.options,a=s.ticks.callback;if(a)return Se(a,[n,i,r],this);let l=s.time.displayFormats,c=this._unit,u=this._majorUnit,d=c&&l[c],h=u&&l[u],f=r[i],p=u&&h&&f&&f.major;return this._adapter.format(n,o||(p?h:d))}generateTickLabels(n){let i,r,o;for(i=0,r=n.length;i<r;++i)o=n[i],o.label=this._tickFormatFunction(o.value,i,n)}getDecimalForValue(n){return n===null?NaN:(n-this.min)/(this.max-this.min)}getPixelForValue(n){let i=this._offsets,r=this.getDecimalForValue(n);return this.getPixelForDecimal((i.start+r)*i.factor)}getValueForPixel(n){let i=this._offsets,r=this.getDecimalForPixel(n)/i.factor-i.end;return this.min+r*(this.max-this.min)}_getLabelSize(n){let i=this.options.ticks,r=this.ctx.measureText(n).width,o=Sn(this.isHorizontal()?i.maxRotation:i.minRotation),s=Math.cos(o),a=Math.sin(o),l=this._resolveTickFontOptions(0).size;return{w:r*s+l*a,h:r*a+l*s}}_getLabelCapacity(n){let i=this.options.time,r=i.displayFormats,o=r[i.unit]||r.millisecond,s=this._tickFormatFunction(n,0,nP(this,[n],this._majorUnit),o),a=this._getLabelSize(s),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let n=this._cache.data||[],i,r;if(n.length)return n;let o=this.getMatchingVisibleMetas();if(this._normalized&&o.length)return this._cache.data=o[0].controller.getAllParsedValues(this);for(i=0,r=o.length;i<r;++i)n=n.concat(o[i].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){let n=this._cache.labels||[],i,r;if(n.length)return n;let o=this.getLabels();for(i=0,r=o.length;i<r;++i)n.push(JA(this,o[i]));return this._cache.labels=this._normalized?n:this.normalize(n)}normalize(n){return A0(n.sort(XA))}}return t})();function Gf(t,e,n){let i=0,r=t.length-1,o,s,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=di(t,"pos",e)),{pos:o,time:a}=t[i],{pos:s,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=di(t,"time",e)),{time:o,pos:a}=t[i],{time:s,pos:l}=t[r]);let c=s-o;return c?a+(l-a)*(e-o)/c:a}var xb=class extends Eb{static id="timeseries";static defaults=Eb.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){let e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Gf(n,this.min),this._tableRange=Gf(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){let{min:n,max:i}=this,r=[],o=[],s,a,l,c,u;for(s=0,a=e.length;s<a;++s)c=e[s],c>=n&&c<=i&&r.push(c);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(s=0,a=r.length;s<a;++s)u=r[s+1],l=r[s-1],c=r[s],Math.round((u+l)/2)!==c&&o.push({time:c,pos:s/(a-1)});return o}_generate(){let e=this.min,n=this.max,i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;let n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Gf(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){let n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Gf(this._table,i*this._tableRange+this._minPos,!0)}},b5=Object.freeze({__proto__:null,CategoryScale:e5,LinearScale:bb,LogarithmicScale:Cb,RadialLinearScale:Db,TimeScale:Eb,TimeSeriesScale:xb}),ip=[AW,n4,Q4,b5];var rp=(()=>{let e=class e{constructor(){this.pesos=[],this.datas=[]}ngOnInit(){Bo.register(...ip);let i=document.getElementById("pesoChart"),r=new Bo(i,{type:"line",data:{labels:this.datas,datasets:[{label:"Peso",data:this.pesos,fill:!1,borderColor:"rgb(75, 192, 192)",tension:.1}]},options:{scales:{y:{title:{display:!0,text:"Peso"}},x:{title:{display:!0,text:"Data"}}}}})}};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-controle-peso"]],inputs:{pesos:"pesos",datas:"datas"},decls:2,vars:0,consts:[[1,"controle-peso"],["id","pesoChart"]],template:function(r,o){r&1&&(b(0,"div",0),se(1,"canvas",1),_())}});let t=e;return t})();Bo.register(...ip);var EP=Bo;var xP=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suino={}}ngOnInit(){}salvarEdicao(){this.suinoService.updateSuino(this.suino).then(()=>{console.log("Su\xEDno editado com sucesso.")}).catch(i=>console.error("Erro ao editar su\xEDno:",i))}};e.\u0275fac=function(r){return new(r||e)(k(xn))},e.\u0275cmp=Fe({type:e,selectors:[["app-suino-edicao"]],inputs:{suino:"suino"},decls:41,vars:7,consts:[[3,"ngSubmit"],["for","brinco"],["type","text","id","brinco","name","brinco","required","",3,"ngModelChange","ngModel"],["for","brincoPai"],["type","text","id","brincoPai","name","brincoPai",3,"ngModelChange","ngModel"],["for","brincoMae"],["type","text","id","brincoMae","name","brincoMae",3,"ngModelChange","ngModel"],["for","dataNascimento"],["type","date","id","dataNascimento","name","dataNascimento",3,"ngModelChange","ngModel"],["for","dataSaida"],["type","date","id","dataSaida","name","dataSaida",3,"ngModelChange","ngModel"],["for","status"],["id","status","name","status",3,"ngModelChange","ngModel"],["value","Ativo"],["value","Vendido"],["value","Morto"],["for","sexo"],["id","sexo","name","sexo",3,"ngModelChange","ngModel"],["value","M"],["value","F"],["type","submit"]],template:function(r,o){r&1&&(b(0,"form",0),J("ngSubmit",function(){return o.salvarEdicao()}),b(1,"div")(2,"label",1),E(3,"Brinco:"),_(),b(4,"input",2),lt("ngModelChange",function(a){return _t(o.suino.brinco,a)||(o.suino.brinco=a),a}),_()(),b(5,"div")(6,"label",3),E(7,"Brinco do Pai:"),_(),b(8,"input",4),lt("ngModelChange",function(a){return _t(o.suino.brincoPai,a)||(o.suino.brincoPai=a),a}),_()(),b(9,"div")(10,"label",5),E(11,"Brinco da M\xE3e:"),_(),b(12,"input",6),lt("ngModelChange",function(a){return _t(o.suino.brincoMae,a)||(o.suino.brincoMae=a),a}),_()(),b(13,"div")(14,"label",7),E(15,"Data de Nascimento:"),_(),b(16,"input",8),lt("ngModelChange",function(a){return _t(o.suino.dataNascimento,a)||(o.suino.dataNascimento=a),a}),_()(),b(17,"div")(18,"label",9),E(19,"Data de Sa\xEDda:"),_(),b(20,"input",10),lt("ngModelChange",function(a){return _t(o.suino.dataSaida,a)||(o.suino.dataSaida=a),a}),_()(),b(21,"div")(22,"label",11),E(23,"Status:"),_(),b(24,"select",12),lt("ngModelChange",function(a){return _t(o.suino.status,a)||(o.suino.status=a),a}),b(25,"option",13),E(26,"Ativo"),_(),b(27,"option",14),E(28,"Vendido"),_(),b(29,"option",15),E(30,"Morto"),_()()(),b(31,"div")(32,"label",16),E(33,"Sexo:"),_(),b(34,"select",17),lt("ngModelChange",function(a){return _t(o.suino.sexo,a)||(o.suino.sexo=a),a}),b(35,"option",18),E(36,"Macho"),_(),b(37,"option",19),E(38,"F\xEAmea"),_()()(),b(39,"button",20),E(40,"Salvar"),_()()),r&2&&(S(4),at("ngModel",o.suino.brinco),S(4),at("ngModel",o.suino.brincoPai),S(4),at("ngModel",o.suino.brincoMae),S(4),at("ngModel",o.suino.dataNascimento),S(4),at("ngModel",o.suino.dataSaida),S(4),at("ngModel",o.suino.status),S(10),at("ngModel",o.suino.sexo))},dependencies:[Cn,Cr,wr,ut,br,It,bn,Rl,bo,ov],styles:["form[_ngcontent-%COMP%]{max-width:400px;margin:0 auto;padding:20px;border:1px solid #ccc;border-radius:5px;background-color:#f9f9f9}form[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();var D5=["pesosChart"];function E5(t,e){if(t&1&&se(0,"app-suino-edicao",27),t&2){let n=We(2);V("suino",n.suinoSelecionado)}}function x5(t,e){t&1&&(b(0,"div",28),se(1,"canvas",null,0),_())}function I5(t,e){if(t&1){let n=Ni();b(0,"div")(1,"p")(2,"strong"),E(3,"Brinco:"),_(),E(4),_(),b(5,"p")(6,"strong"),E(7,"Brinco do Pai:"),_(),E(8),_(),b(9,"p")(10,"strong"),E(11,"Brinco da M\xE3e:"),_(),E(12),_(),b(13,"p")(14,"strong"),E(15,"Data de Nascimento:"),_(),E(16),Ka(17,"date"),_(),b(18,"p")(19,"strong"),E(20,"Data de Sa\xEDda:"),_(),E(21),Ka(22,"date"),_(),b(23,"p")(24,"strong"),E(25,"Idade:"),_(),E(26),_(),b(27,"p")(28,"strong"),E(29,"Status:"),_(),E(30),_(),b(31,"p")(32,"strong"),E(33,"Sexo:"),_(),E(34),_(),b(35,"div",24)(36,"button",21),J("click",function(){let r=Ht(n).$implicit,o=We();return zt(o.editarSuino(r))}),E(37,"Editar"),_(),b(38,"button",21),J("click",function(){let r=Ht(n).$implicit,o=We();return zt(o.excluirSuino(r))}),E(39,"Excluir"),_(),b(40,"button",21),J("click",function(){let r=Ht(n).$implicit,o=We();return zt(o.mostrarControlePeso(r))}),E(41,"Controle Peso"),_(),re(42,E5,1,1,"app-suino-edicao",25)(43,x5,3,0,"div",26),_()()}if(t&2){let n=e.$implicit,i=We();S(4),kt(" ",n.brinco,""),S(4),kt(" ",n.brincoPai,""),S(4),kt(" ",n.brincoMae,""),S(4),kt(" ",km(17,10,n.dataNascimento),""),S(5),kt(" ",km(22,12,n.dataSaida),""),S(5),kt(" ",i.calcularIdade(n.dataNascimento),""),S(4),kt(" ",n.status,""),S(4),kt(" ",n.sexo,""),S(8),V("ngIf",i.editando&&i.suinoSelecionado&&i.suinoSelecionado.brinco===n.brinco),S(),V("ngIf",i.exibirControlePeso&&i.suinoSelecionado&&i.suinoSelecionado.brinco===n.brinco)}}var op=(()=>{let e=class e{constructor(i){this.suinoService=i,this.suinos=[],this.suinosFiltrados=[],this.filtro={},this.suinoSelecionado=null,this.editando=!1,this.exibirControlePeso=!1,this.pesos=[],this.datas=[],this.chart=null}ngOnInit(){this.carregarSuinos()}ngOnDestroy(){this.chart&&this.chart.destroy()}ngAfterViewInit(){this.exibirControlePeso&&this.pesosChartRef&&this.renderizarGrafico()}carregarSuinos(){this.suinoService.getSuinos().subscribe(i=>{this.suinos=i,this.aplicarFiltro()})}calcularIdade(i){let r=new Date,o=new Date(i);return((r.getTime()-o.getTime())/(1e3*60*60*24*30)).toFixed(0)+" meses"}editarSuino(i){console.log("Editar su\xEDno com ID:",i.brinco),this.suinoSelecionado=i,this.editando=!0}salvarEdicao(){this.suinoSelecionado&&this.suinoService.updateSuino(this.suinoSelecionado).then(()=>{console.log("Su\xEDno editado com sucesso."),this.carregarSuinos(),this.editando=!1,this.suinoSelecionado=null}).catch(i=>console.error("Erro ao editar su\xEDno:",i))}cancelarEdicao(){this.suinoSelecionado=null,this.editando=!1}excluirSuino(i){this.suinoService.excluirSuino(i).then(()=>{console.log("Su\xEDno exclu\xEDdo com sucesso."),this.suinos=this.suinos.filter(r=>r!==i)}).catch(r=>console.error("Erro ao excluir su\xEDno:",r))}mostrarControlePeso(i){this.pesos=[],this.datas=[],this.suinoService.getPeso(i.brinco.toString()).subscribe(r=>{r.forEach(o=>{this.pesos.push(o.peso),this.datas.push(o.dataPesagem.toString())}),this.suinoSelecionado=i,this.exibirControlePeso=!0,setTimeout(()=>{this.renderizarGrafico()})})}aplicarFiltro(){this.suinosFiltrados=this.suinos.filter(i=>{let r=!0;return this.filtro.brincoPai&&i.brincoPai!==this.filtro.brincoPai&&(r=!1),this.filtro.brincoMae&&i.brincoMae!==this.filtro.brincoMae&&(r=!1),this.filtro.dataNascimento&&i.dataNascimento!==this.filtro.dataNascimento&&(r=!1),this.filtro.dataSaida&&i.dataSaida!==this.filtro.dataSaida&&(r=!1),this.filtro.sexo&&i.sexo!==this.filtro.sexo&&(r=!1),this.filtro.status&&i.status!==this.filtro.status&&(r=!1),r})}limparFiltro(){this.filtro={},this.aplicarFiltro()}renderizarGrafico(){if(this.pesosChartRef&&this.pesosChartRef.nativeElement){let i=this.pesosChartRef.nativeElement.getContext("2d");this.chart&&this.chart.destroy(),this.chart=new EP(i,{type:"line",data:{labels:this.datas,datasets:[{label:"Peso",data:this.pesos,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1}]},options:{scales:{y:{beginAtZero:!0}}}})}}};e.\u0275fac=function(r){return new(r||e)(k(xn))},e.\u0275cmp=Fe({type:e,selectors:[["app-suino-listagem"]],viewQuery:function(r,o){if(r&1&&XD(D5,5),r&2){let s;Nm(s=Rm())&&(o.pesosChartRef=s.first)}},decls:53,vars:7,consts:[["pesosChart",""],[1,"suino-listagem"],[1,"filtros"],["for","filtroBrincoPai"],["type","text","id","filtroBrincoPai",3,"ngModelChange","ngModel"],["for","filtroBrincoMae"],["type","text","id","filtroBrincoMae",3,"ngModelChange","ngModel"],["for","filtroDataNascimento"],["type","date","id","filtroDataNascimento",3,"ngModelChange","ngModel"],["for","filtroDataSaida"],["type","date","id","filtroDataSaida",3,"ngModelChange","ngModel"],["for","filtroSexo"],["id","filtroSexo",3,"ngModelChange","ngModel"],["value",""],["value","M"],["value","F"],["for","filtroStatus"],["id","filtroStatus",3,"ngModelChange","ngModel"],["value","Ativo"],["value","Vendido"],["value","Morto"],[3,"click"],[1,"lista-suinos"],[4,"ngFor","ngForOf"],[1,"botoes-acao"],[3,"suino",4,"ngIf"],["class","grafico-container",4,"ngIf"],[3,"suino"],[1,"grafico-container"]],template:function(r,o){r&1&&(b(0,"div",1)(1,"h2"),E(2,"Listagem de Su\xEDnos"),_(),b(3,"div",2)(4,"h3"),E(5,"Filtros"),_(),b(6,"div")(7,"label",3),E(8,"Brinco do Pai:"),_(),b(9,"input",4),lt("ngModelChange",function(a){return _t(o.filtro.brincoPai,a)||(o.filtro.brincoPai=a),a}),_()(),b(10,"div")(11,"label",5),E(12,"Brinco da M\xE3e:"),_(),b(13,"input",6),lt("ngModelChange",function(a){return _t(o.filtro.brincoMae,a)||(o.filtro.brincoMae=a),a}),_()(),b(14,"div")(15,"label",7),E(16,"Data de Nascimento:"),_(),b(17,"input",8),lt("ngModelChange",function(a){return _t(o.filtro.dataNascimento,a)||(o.filtro.dataNascimento=a),a}),_()(),b(18,"div")(19,"label",9),E(20,"Data de Sa\xEDda:"),_(),b(21,"input",10),lt("ngModelChange",function(a){return _t(o.filtro.dataSaida,a)||(o.filtro.dataSaida=a),a}),_()(),b(22,"div")(23,"label",11),E(24,"Sexo:"),_(),b(25,"select",12),lt("ngModelChange",function(a){return _t(o.filtro.sexo,a)||(o.filtro.sexo=a),a}),b(26,"option",13),E(27,"Todos"),_(),b(28,"option",14),E(29,"Macho"),_(),b(30,"option",15),E(31,"F\xEAmea"),_()()(),b(32,"div")(33,"label",16),E(34,"Status:"),_(),b(35,"select",17),lt("ngModelChange",function(a){return _t(o.filtro.status,a)||(o.filtro.status=a),a}),b(36,"option",13),E(37,"Todos"),_(),b(38,"option",18),E(39,"Ativo"),_(),b(40,"option",19),E(41,"Vendido"),_(),b(42,"option",20),E(43,"Morto"),_()()(),b(44,"div")(45,"button",21),J("click",function(){return o.aplicarFiltro()}),E(46,"Aplicar Filtro"),_(),b(47,"button",21),J("click",function(){return o.limparFiltro()}),E(48,"Limpar Filtro"),_()()(),b(49,"div",22)(50,"h3"),E(51,"Su\xEDnos"),_(),re(52,I5,44,14,"div",23),_()()),r&2&&(S(9),at("ngModel",o.filtro.brincoPai),S(4),at("ngModel",o.filtro.brincoMae),S(4),at("ngModel",o.filtro.dataNascimento),S(4),at("ngModel",o.filtro.dataSaida),S(4),at("ngModel",o.filtro.sexo),S(10),at("ngModel",o.filtro.status),S(17),V("ngForOf",o.suinosFiltrados))},dependencies:[Is,qt,Cr,wr,ut,br,It,bo,xP,Rd],styles:[".suino-listagem[_ngcontent-%COMP%]{margin:20px auto;width:80%}.filtros[_ngcontent-%COMP%]{margin-bottom:20px}.filtros[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px}.filtros[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:10px}.filtros[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-weight:700}.filtros[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], .filtros[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:8px;border-radius:5px;border:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:5px}.lista-suinos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.2em;margin-bottom:10px;padding:10px;background-color:#f0f0f0;border-bottom:1px solid #ccc;border-radius:5px 5px 0 0}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:10px;border-bottom:1px solid #ccc}.lista-suinos[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{border-bottom:none}.lista-suinos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:5px 0}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:5px 10px;margin-right:10px;border:none;border-radius:3px;cursor:pointer}.botoes-acao[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f0f0f0}"]});let t=e;return t})();function M5(t,e){t&1&&(b(0,"small"),E(1," A data da pesagem \xE9 obrigat\xF3ria. "),_())}function T5(t,e){t&1&&(b(0,"small"),E(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),_())}var sp=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.pesoId="",this.peso={},this.edicaoPesoForm=this.formBuilder.group({dataPesagem:["",Ce.required],peso:["",[Ce.required,Ce.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){this.carregarPeso()}carregarPeso(){this.suinoService.getPeso(this.pesoId).subscribe(i=>{this.peso=i[0],this.edicaoPesoForm.patchValue({dataPesagem:this.peso.dataPesagem,peso:this.peso.peso})})}salvarEdicao(){if(this.edicaoPesoForm.valid){let{dataPesagem:i,peso:r}=this.edicaoPesoForm.value;this.suinoService.atualizarPeso(this.pesoId,"ID_DO_HISTORICO",i,r).then(()=>{console.log("Peso atualizado com sucesso.")}).catch(o=>{console.error("Erro ao atualizar peso:",o)})}else this.edicaoPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(oi),k(xn))},e.\u0275cmp=Fe({type:e,selectors:[["app-edicao-peso"]],inputs:{pesoId:"pesoId"},decls:16,vars:4,consts:[[3,"ngSubmit","formGroup"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],[4,"ngIf"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(b(0,"div")(1,"h2"),E(2,"Edi\xE7\xE3o de Peso"),_(),b(3,"form",0),J("ngSubmit",function(){return o.salvarEdicao()}),b(4,"div")(5,"label",1),E(6,"Data da Pesagem:"),_(),se(7,"input",2),re(8,M5,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Peso (em Kg):"),_(),se(12,"input",5),re(13,T5,2,0,"small",3),_(),b(14,"button",6),E(15,"Salvar Edi\xE7\xE3o"),_()()()),r&2){let s,a;S(3),V("formGroup",o.edicaoPesoForm),S(5),V("ngIf",((s=o.edicaoPesoForm.get("dataPesagem"))==null?null:s.invalid)&&((s=o.edicaoPesoForm.get("dataPesagem"))==null?null:s.touched)),S(5),V("ngIf",((a=o.edicaoPesoForm.get("peso"))==null?null:a.invalid)&&((a=o.edicaoPesoForm.get("peso"))==null?null:a.touched)),S(),V("disabled",!o.edicaoPesoForm.valid)}},dependencies:[qt,Cn,ut,It,bn,jn,Bn],styles:["div[_ngcontent-%COMP%]{margin:20px;padding:20px;border:1px solid #ccc;border-radius:5px}h2[_ngcontent-%COMP%]{font-size:1.5em;margin-bottom:20px}label[_ngcontent-%COMP%]{font-weight:700}input[type=date][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:5px}small[_ngcontent-%COMP%]{color:red}button[_ngcontent-%COMP%]{padding:10px 20px;background-color:#007bff;color:#fff;border:none;border-radius:5px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]});let t=e;return t})();var ap=(()=>{let e=class e{constructor(i,r){this.afAuth=i,this.router=r,this.user$=i.authState}login(i,r){this.afAuth.signInWithEmailAndPassword(i,r).then(()=>{console.log("Login bem-sucedido!"),this.router.navigate(["/dashboard"])}).catch(o=>{console.error("Erro no login:",o),alert("Email ou senha incorretos. Por favor, tente novamente.")})}signUp(i,r){this.afAuth.createUserWithEmailAndPassword(i,r).then(()=>{console.log("Cadastro bem-sucedido!"),this.router.navigate(["/deshbord"])}).catch(o=>{console.error("Erro no cadastro:",o)})}logout(){this.afAuth.signOut().then(()=>{console.log("Logout bem-sucedido!"),this.router.navigate(["/login"])}).catch(i=>{console.error("Erro no logout:",i)})}};e.\u0275fac=function(r){return new(r||e)(I(Fl),I(ji))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function P5(t,e){t&1&&(b(0,"small"),E(1," O n\xFAmero de brinco \xE9 obrigat\xF3rio. "),_())}function N5(t,e){t&1&&(b(0,"small"),E(1," A data da pesagem \xE9 obrigat\xF3ria. "),_())}function R5(t,e){t&1&&(b(0,"small"),E(1," O peso \xE9 obrigat\xF3rio e deve ser um n\xFAmero v\xE1lido. "),_())}var SP=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.cadastroPesoForm=this.formBuilder.group({numeroBrinco:["",Ce.required],dataPesagem:["",Ce.required],peso:["",[Ce.required,Ce.pattern(/^\d*\.?\d*$/)]]})}ngOnInit(){}cadastrarPeso(){if(this.cadastroPesoForm.valid){let{numeroBrinco:i,dataPesagem:r,peso:o}=this.cadastroPesoForm.value;he(this.suinoService.cadastrarPeso(i,r,o)).subscribe(()=>{console.log("Peso cadastrado com sucesso."),this.cadastroPesoForm.reset()},s=>{console.error("Erro ao cadastrar peso:",s)})}else this.cadastroPesoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(oi),k(xn))},e.\u0275cmp=Fe({type:e,selectors:[["app-cadastro-peso"]],decls:21,vars:5,consts:[[3,"ngSubmit","formGroup"],["for","numeroBrinco"],["type","number","id","numeroBrinco","formControlName","numeroBrinco"],[4,"ngIf"],["for","dataPesagem"],["type","date","id","dataPesagem","formControlName","dataPesagem"],["for","peso"],["type","text","id","peso","formControlName","peso"],["type","submit",3,"disabled"]],template:function(r,o){if(r&1&&(b(0,"div")(1,"h2"),E(2,"Cadastro de Peso"),_(),b(3,"form",0),J("ngSubmit",function(){return o.cadastrarPeso()}),b(4,"div")(5,"label",1),E(6,"N\xFAmero de Brinco:"),_(),se(7,"input",2),re(8,P5,2,0,"small",3),_(),b(9,"div")(10,"label",4),E(11,"Data da Pesagem:"),_(),se(12,"input",5),re(13,N5,2,0,"small",3),_(),b(14,"div")(15,"label",6),E(16,"Peso (em Kg):"),_(),se(17,"input",7),re(18,R5,2,0,"small",3),_(),b(19,"button",8),E(20,"Cadastrar Peso"),_()()()),r&2){let s,a,l;S(3),V("formGroup",o.cadastroPesoForm),S(5),V("ngIf",((s=o.cadastroPesoForm.get("numeroBrinco"))==null?null:s.invalid)&&((s=o.cadastroPesoForm.get("numeroBrinco"))==null?null:s.touched)),S(5),V("ngIf",((a=o.cadastroPesoForm.get("dataPesagem"))==null?null:a.invalid)&&((a=o.cadastroPesoForm.get("dataPesagem"))==null?null:a.touched)),S(5),V("ngIf",((l=o.cadastroPesoForm.get("peso"))==null?null:l.invalid)&&((l=o.cadastroPesoForm.get("peso"))==null?null:l.touched)),S(),V("disabled",!o.cadastroPesoForm.valid)}},dependencies:[qt,Cn,ut,Nl,It,bn,jn,Bn],styles:["div[_ngcontent-%COMP%]{max-width:400px;margin:0 auto}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px}form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:10px}form[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=date][_ngcontent-%COMP%], form[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]{width:100%;padding:10px;margin-bottom:15px;border:1px solid #ccc;border-radius:5px;box-sizing:border-box}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}form[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}form[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:red}"]});let t=e;return t})();function k5(t,e){t&1&&(b(0,"small"),E(1," A data \xE9 obrigat\xF3ria. "),_())}function F5(t,e){t&1&&(b(0,"small"),E(1," A descri\xE7\xE3o \xE9 obrigat\xF3ria. "),_())}function L5(t,e){if(t&1&&(b(0,"option",16),E(1),_()),t&2){let n=e.$implicit;V("value",n),S(),Ri(n)}}function V5(t,e){if(t&1&&(b(0,"div")(1,"label",14),E(2,"Su\xEDnos Selecionados:"),_(),b(3,"select",15),re(4,L5,2,2,"option",9),_()()),t&2){let n=We();S(4),V("ngForOf",n.suinosSelecionados)}}function j5(t,e){if(t&1&&(b(0,"option",16),E(1),_()),t&2){let n=e.$implicit;V("value",n==null?null:n.brinco),S(),Ri(n==null?null:n.brinco)}}function B5(t,e){t&1&&(b(0,"small"),E(1," As atividades s\xE3o obrigat\xF3rias. "),_())}var lp=(()=>{let e=class e{constructor(i,r){this.formBuilder=i,this.suinoService=r,this.suinos=[],this.suinosSelecionados=[],this.manejoForm=this.formBuilder.group({data:["",Ce.required],descricao:["",Ce.required],suinosSelecionados:[[],Ce.required],atividades:["",Ce.required],realizadas:[[]]})}ngOnInit(){this.carregarSuinos()}carregarSuinos(){this.suinoService.getSuinos().subscribe(i=>{this.suinos=i})}adicionarSuino(i){this.suinosSelecionados.includes(i)?console.error("Su\xEDno selecionado j\xE1 foi adicionado."):(this.suinosSelecionados.push(i),this.manejoForm.get("suinosSelecionados")?.setValue(this.suinosSelecionados))}cadastrarManejo(){if(this.manejoForm.valid){let{data:i,descricao:r,suinosSelecionados:o,atividades:s}=this.manejoForm.value,a=s.split(",").map(u=>u.trim()),l={};for(let u of o)l[u]=a.map(()=>"n\xE3o");let c={data:i,descricao:r,brincos:o,atividades:a,atividadesRealizadas:l};this.suinoService.cadastrarManejo(c).then(()=>{console.log("Manejo sanit\xE1rio cadastrado com sucesso."),this.manejoForm.reset(),this.suinosSelecionados=[]}).catch(u=>{console.error("Erro ao cadastrar manejo sanit\xE1rio:",u)})}else this.manejoForm.markAllAsTouched()}};e.\u0275fac=function(r){return new(r||e)(k(oi),k(xn))},e.\u0275cmp=Fe({type:e,selectors:[["app-manejo-sanitario"]],decls:30,vars:7,consts:[["selectSuinosDisponiveis",""],[3,"ngSubmit","formGroup"],["for","data"],["type","date","id","data","formControlName","data"],[4,"ngIf"],["for","descricao"],["type","text","id","descricao","formControlName","descricao"],["id","suinosDisponiveis",3,"change"],["value","","disabled","","selected","","hidden",""],[3,"value",4,"ngFor","ngForOf"],["for","atividades"],["id","atividades","formControlName","atividades"],[2,"color","red"],["type","submit",3,"disabled"],["for","suinosSelecionados"],["id","suinosSelecionados","formControlName","suinosSelecionados","multiple",""],[3,"value"]],template:function(r,o){if(r&1){let s=Ni();b(0,"div")(1,"h2"),E(2,"Cadastro de Manejo Sanit\xE1rio"),_(),b(3,"form",1),J("ngSubmit",function(){return Ht(s),zt(o.cadastrarManejo())}),b(4,"div")(5,"label",2),E(6,"Data:"),_(),se(7,"input",3),re(8,k5,2,0,"small",4),_(),b(9,"div")(10,"label",5),E(11,"Descri\xE7\xE3o:"),_(),se(12,"input",6),re(13,F5,2,0,"small",4),_(),re(14,V5,5,1,"div",4),b(15,"div")(16,"select",7,0),J("change",function(){Ht(s);let l=JD(17);return zt(o.adicionarSuino(l.value))}),b(18,"option",8),E(19,"Selecione um su\xEDno"),_(),re(20,j5,2,2,"option",9),_()(),b(21,"div")(22,"label",10),E(23,"Atividades:"),_(),se(24,"textarea",11),re(25,B5,2,0,"small",4),b(26,"p",12),E(27,"Por favor, insira as atividades separadas por v\xEDrgula."),_()(),b(28,"button",13),E(29,"Cadastrar Manejo"),_()()()}if(r&2){let s,a,l;S(3),V("formGroup",o.manejoForm),S(5),V("ngIf",((s=o.manejoForm.get("data"))==null?null:s.invalid)&&((s=o.manejoForm.get("data"))==null?null:s.touched)),S(5),V("ngIf",((a=o.manejoForm.get("descricao"))==null?null:a.invalid)&&((a=o.manejoForm.get("descricao"))==null?null:a.touched)),S(),V("ngIf",o.suinosSelecionados.length>0),S(6),V("ngForOf",o.suinos),S(5),V("ngIf",((l=o.manejoForm.get("atividades"))==null?null:l.invalid)&&((l=o.manejoForm.get("atividades"))==null?null:l.touched)),S(3),V("disabled",!o.manejoForm.valid)}},dependencies:[Is,qt,Cn,Cr,wr,ut,_h,It,bn,jn,Bn],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.titulo[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}form[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:20px;border-radius:5px;box-shadow:0 0 10px #0000001a}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=date][_ngcontent-%COMP%], input[type=text][_ngcontent-%COMP%], select[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%;padding:8px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px;box-sizing:border-box}small[_ngcontent-%COMP%]{color:red}button[type=submit][_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer}button[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}"]});let t=e;return t})();var MP=(()=>{let e=class e{constructor(i){this.db=i,this.manejoRef=i.list("/manejoSanitario")}getHistoricoManejos(){return this.manejoRef.valueChanges()}atualizarAtividades(i,r){return this.manejoRef.update(`${i}/atividadesRealizadas`,r)}deletarManejo(i){return this.manejoRef.remove(i)}};e.\u0275fac=function(r){return new(r||e)(I(mc))},e.\u0275prov=O({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function H5(t,e){if(t&1&&(b(0,"th"),E(1),_()),t&2){let n=e.$implicit;S(),Ri(n)}}function z5(t,e){if(t&1){let n=Ni();b(0,"td")(1,"input",2),lt("ngModelChange",function(r){let o=Ht(n).index,s=We().$implicit,a=We().$implicit;return _t(a.atividadesRealizadas[s][o],r)||(a.atividadesRealizadas[s][o]=r),zt(r)}),_()()}if(t&2){let n=e.index,i=We().$implicit,r=We().$implicit;S(),at("ngModel",r.atividadesRealizadas[i][n])}}function W5(t,e){if(t&1&&(b(0,"tr")(1,"td"),E(2),_(),re(3,z5,2,1,"td",0),_()),t&2){let n=e.$implicit,i=We().$implicit;S(2),Ri(n),S(),V("ngForOf",i.atividades)}}function G5(t,e){if(t&1){let n=Ni();b(0,"div")(1,"table")(2,"thead")(3,"tr")(4,"th"),E(5),Ka(6,"date"),_()(),b(7,"tr")(8,"th"),E(9,"Brinco"),_(),re(10,H5,2,1,"th",0),_()(),b(11,"tbody"),re(12,W5,4,2,"tr",0),_()(),b(13,"button",1),J("click",function(){let r=Ht(n).$implicit,o=We();return zt(o.salvarAtividades(r))}),E(14,"Salvar"),_(),b(15,"button",1),J("click",function(){let r=Ht(n).$implicit,o=We();return zt(o.deletarManejo(r))}),E(16,"Deletar"),_()()}if(t&2){let n=e.$implicit;S(4),Ds("colspan",n.atividades.length+1),S(),Om("",iE(6,5,n.data,"dd/MM/yyyy")," # ",n.descricao,""),S(5),V("ngForOf",n.atividades),S(2),V("ngForOf",n.brincos)}}var cp=(()=>{let e=class e{constructor(i){this.manejoService=i,this.historicoManejos=[],this.atividades=[]}ngOnInit(){this.carregarHistoricoManejos()}carregarHistoricoManejos(){this.manejoService.getHistoricoManejos().subscribe(i=>{console.log("Dados obtidos do Firebase:",i),this.historicoManejos=i.map(r=>{let o={};return Object.keys(r.atividadesRealizadas).forEach(s=>{o[s]=[...r.atividadesRealizadas[s]]}),ce(N({},r),{atividadesRealizadas:o})}),console.log("Hist\xF3rico de manejo sanit\xE1rio:",this.historicoManejos),this.atividades=this.extrairAtividades(this.historicoManejos),console.log("Atividades extra\xEDdas:",this.atividades)})}criarEstadoAtividades(i){return[]}extrairAtividades(i){let r=[];return i.forEach(o=>{o.atividades.forEach(s=>{r.includes(s)||r.push(s)})}),r}salvarAtividades(i){i.id?this.manejoService.atualizarAtividades(i.id,i.atividadesRealizadas).then(()=>{console.log("Atividades atualizadas com sucesso.")}).catch(r=>{console.error("Erro ao atualizar atividades:",r)}):console.error("ID do manejo inv\xE1lido:",i.id)}deletarManejo(i){i.id?this.manejoService.deletarManejo(i.id).then(()=>{console.log("Manejo deletado com sucesso.")}).catch(r=>{console.error("Erro ao deletar manejo:",r)}):console.error("ID do manejo inv\xE1lido:",i.id)}};e.\u0275fac=function(r){return new(r||e)(k(MP))},e.\u0275cmp=Fe({type:e,selectors:[["app-historico-manejo"]],decls:3,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"click"],["type","text",3,"ngModelChange","ngModel"]],template:function(r,o){r&1&&(b(0,"h2"),E(1,"Hist\xF3rico de Manejo Sanit\xE1rio"),_(),re(2,G5,17,8,"div",0)),r&2&&(S(2),V("ngForOf",o.historicoManejos))},dependencies:[Is,ut,It,bo,Rd],styles:["div[_ngcontent-%COMP%]{margin-top:20px}h2[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;border-spacing:0}th[_ngcontent-%COMP%]{background-color:#f0f0f0;padding:10px;text-align:left}td[_ngcontent-%COMP%]{padding:10px}tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#f9f9f9}ul[_ngcontent-%COMP%]{margin:0;padding:0;list-style-type:none}li[_ngcontent-%COMP%]{margin-bottom:5px}li.highlight[_ngcontent-%COMP%]{font-weight:700;color:#007bff}"]});let t=e;return t})();function Y5(t,e){t&1&&(Ai(0),se(1,"app-suino-cadastro"),Pi())}function K5(t,e){t&1&&(Ai(0),se(1,"app-suino-listagem"),Pi())}function Q5(t,e){t&1&&(Ai(0),se(1,"app-controle-peso"),Pi())}function Z5(t,e){t&1&&(Ai(0),se(1,"app-edicao-peso"),Pi())}function X5(t,e){t&1&&(Ai(0),se(1,"app-cadastro-peso"),Pi())}function J5(t,e){t&1&&(Ai(0),se(1,"app-manejo-sanitario"),Pi())}function eG(t,e){t&1&&(Ai(0),se(1,"app-historico-manejo"),Pi())}var TP=(()=>{let e=class e{constructor(i){this.authService=i,this.currentComponent="",this.currentYear=new Date().getFullYear(),this.sidebarHidden=!1}showCadastro(){this.currentComponent="cadastro"}showListagem(){this.currentComponent="listagem"}showControlePeso(){this.currentComponent="controlePeso"}showEdicaoPeso(){this.currentComponent="edicaoPeso"}showCadastroPeso(){this.currentComponent="cadastroPeso"}toggleSidebar(){this.sidebarHidden=!this.sidebarHidden}showManejoSanitario(){this.currentComponent="manejo-sanitario"}showHistoricoManejo(){this.currentComponent="historico-manejo"}logout(){this.authService.logout()}};e.\u0275fac=function(r){return new(r||e)(k(ap))},e.\u0275cmp=Fe({type:e,selectors:[["app-dashboard"]],decls:36,vars:20,consts:[[1,"dashboard"],[1,"header"],[1,"toggle-button",3,"click"],[1,"logout-button",3,"click"],[1,"content"],[1,"sidebar"],[1,"button-container"],[3,"click"],[1,"main-content"],[4,"ngIf"],[1,"footer"]],template:function(r,o){r&1&&(b(0,"div",0)(1,"div",1)(2,"h2"),E(3,"Su\xEDnoFarm"),_(),b(4,"button",2),J("click",function(){return o.toggleSidebar()}),E(5,"\u2630"),_(),b(6,"button",3),J("click",function(){return o.logout()}),E(7,"Logout"),_()(),b(8,"div",4)(9,"div",5)(10,"div",6)(11,"button",7),J("click",function(){return o.showCadastro()}),E(12,"Cadastro de Su\xEDno"),_()(),b(13,"div",6)(14,"button",7),J("click",function(){return o.showListagem()}),E(15,"Listagem de Su\xEDnos"),_()(),b(16,"div",6)(17,"button",7),J("click",function(){return o.showCadastroPeso()}),E(18,"Cadastro de Peso"),_()(),b(19,"div",6)(20,"button",7),J("click",function(){return o.showManejoSanitario()}),E(21,"Manejo Sanitario"),_()(),b(22,"div",6)(23,"button",7),J("click",function(){return o.showHistoricoManejo()}),E(24,"Historico Manejo"),_()()(),b(25,"div",8),re(26,Y5,2,0,"ng-container",9)(27,K5,2,0,"ng-container",9)(28,Q5,2,0,"ng-container",9)(29,Z5,2,0,"ng-container",9)(30,X5,2,0,"ng-container",9)(31,J5,2,0,"ng-container",9)(32,eG,2,0,"ng-container",9),_()(),b(33,"div",10)(34,"p"),E(35),_()()()),r&2&&(S(9),Ln("hide",o.sidebarHidden),S(2),Ln("active",o.currentComponent==="cadastro"),S(3),Ln("active",o.currentComponent==="listagem"),S(3),Ln("active",o.currentComponent==="cadastroPeso"),S(3),Ln("active",o.currentComponent==="manejo-sanitario"),S(3),Ln("active",o.currentComponent==="historico-manejo"),S(3),V("ngIf",o.currentComponent==="cadastro"),S(),V("ngIf",o.currentComponent==="listagem"),S(),V("ngIf",o.currentComponent==="controlePeso"),S(),V("ngIf",o.currentComponent==="edicaoPeso"),S(),V("ngIf",o.currentComponent==="cadastroPeso"),S(),V("ngIf",o.currentComponent==="manejo-sanitario"),S(),V("ngIf",o.currentComponent==="historico-manejo"),S(3),kt("\xA9 ",o.currentYear," Su\xEDnoFarm. Todos os direitos reservados."))},dependencies:[qt,SP,rp,sp,vf,op,lp,cp],styles:[".dashboard[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh}.header[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.content[_ngcontent-%COMP%]{display:flex;flex:1}.sidebar[_ngcontent-%COMP%]{width:200px;background-color:#f0f0f0;padding:10px;transition:width .3s ease}.main-content[_ngcontent-%COMP%]{flex:1;padding:10px}.footer[_ngcontent-%COMP%]{background-color:#333;color:#fff;padding:10px;text-align:center}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:20px}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 20px;margin:0 10px;background-color:#4caf50;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease}.button-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .active[_ngcontent-%COMP%]{background-color:#45a049}.hide[_ngcontent-%COMP%]{display:none}.toggle-button[_ngcontent-%COMP%]{background-color:transparent;border:none;color:#fff;font-size:20px;cursor:pointer}"]});let t=e;return t})();function AP(){return t=>{let e=t.value||"";return/[A-Z]/.test(e)?null:{uppercase:!0}}}function tG(t,e){t&1&&(b(0,"small"),E(1,"O e-mail \xE9 obrigat\xF3rio."),_())}function nG(t,e){t&1&&(b(0,"small"),E(1,"O e-mail n\xE3o \xE9 v\xE1lido."),_())}function iG(t,e){if(t&1&&(b(0,"div"),re(1,tG,2,0,"small",4)(2,nG,2,0,"small",4),_()),t&2){let n,i,r=We(2);S(),V("ngIf",(n=r.authForm.get("email"))==null||n.errors==null?null:n.errors.required),S(),V("ngIf",(i=r.authForm.get("email"))==null||i.errors==null?null:i.errors.email)}}function rG(t,e){t&1&&(b(0,"small"),E(1,"A senha \xE9 obrigat\xF3ria."),_())}function oG(t,e){t&1&&(b(0,"small"),E(1,"A senha deve ter pelo menos 6 caracteres."),_())}function sG(t,e){t&1&&(b(0,"small"),E(1,"A senha deve conter pelo menos uma letra mai\xFAscula."),_())}function aG(t,e){if(t&1&&(b(0,"div"),re(1,rG,2,0,"small",4)(2,oG,2,0,"small",4)(3,sG,2,0,"small",4),_()),t&2){let n,i,r,o=We(2);S(),V("ngIf",(n=o.authForm.get("password"))==null||n.errors==null?null:n.errors.required),S(),V("ngIf",(i=o.authForm.get("password"))==null||i.errors==null?null:i.errors.minlength),S(),V("ngIf",(r=o.authForm.get("password"))==null||r.errors==null?null:r.errors.uppercase)}}function lG(t,e){if(t&1){let n=Ni();b(0,"form",1),J("ngSubmit",function(){Ht(n);let r=We();return zt(r.submitForm())}),se(1,"input",2)(2,"input",3),re(3,iG,3,2,"div",4)(4,aG,4,3,"div",4),b(5,"button",5),E(6),_(),b(7,"button",6),J("click",function(){Ht(n);let r=We();return zt(r.toggleMode())}),E(8),_()()}if(t&2){let n,i,r=We();V("formGroup",r.authForm),S(3),V("ngIf",(n=r.authForm.get("email"))==null?null:n.errors),S(),V("ngIf",(i=r.authForm.get("password"))==null?null:i.errors),S(2),Ri(r.isLoginMode?"Login":"Cadastrar"),S(2),kt(" ",r.isLoginMode?"N\xE3o tem uma conta? Clique aqui para se cadastrar.":"J\xE1 tem uma conta? Clique aqui para fazer login."," ")}}var PP=(()=>{let e=class e{constructor(i,r){this.authService=i,this.fb=r,this.email="",this.password="",this.isLoginMode=!0,this.authForm=this.fb.group({email:["",[Ce.required,Ce.email]],password:["",[Ce.required,Ce.minLength(6),AP()]]})}submitForm(){let i=this.authForm.value.email,r=this.authForm.value.password;this.isLoginMode?this.authService.login(i,r):this.authService.signUp(i,r)}toggleMode(){this.isLoginMode=!this.isLoginMode,this.authForm.reset()}};e.\u0275fac=function(r){return new(r||e)(k(ap),k(oi))},e.\u0275cmp=Fe({type:e,selectors:[["app-auth"]],decls:1,vars:1,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],[3,"ngSubmit","formGroup"],["type","email","formControlName","email","placeholder","E-mail","required",""],["type","password","formControlName","password","placeholder","Senha","required",""],[4,"ngIf"],["type","submit"],["type","button",3,"click"]],template:function(r,o){r&1&&re(0,lG,9,5,"form",0),r&2&&V("ngIf",o.authForm)},dependencies:[qt,Cn,ut,It,bn,Rl,jn,Bn],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:100vh}input[_ngcontent-%COMP%]{margin-bottom:.5rem;padding:.5rem;border:1px solid #ccc;border-radius:5px;font-size:1rem;width:300px}button[_ngcontent-%COMP%]{margin-top:.5rem;margin-bottom:.5rem;padding:.5rem 1rem;background-color:#007bff;color:#fff;border:none;border-radius:5px;font-size:1rem;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}button[_ngcontent-%COMP%]:focus{outline:none}nav[_ngcontent-%COMP%]{background-color:#333;padding:10px 20px}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-right:20px;transition:color .3s ease}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#ff8c00}"]});let t=e;return t})();var cG=[{path:"historico-manejo",component:cp},{path:"login",component:PP},{path:"dashboard",component:TP},{path:"cadastro",component:vf},{path:"controle-peso",component:rp},{path:"edicao/:id",component:sp},{path:"listagem",component:op},{path:"manejo-sanitario",component:lp},{path:"**",redirectTo:"/login",pathMatch:"full"}],NP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e}),e.\u0275inj=je({imports:[Qy.forRoot(cG),Qy]});let t=e;return t})();var RP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=Fe({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,o){r&1&&se(0,"router-outlet")},dependencies:[Hy]});let t=e;return t})();var OP=(()=>{let e=class e{};e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=Be({type:e,bootstrap:[RP]}),e.\u0275inj=je({imports:[QE,NP,UE,bI,CI,LI.initializeApp({apiKey:"AIzaSyAEenTbuLW6QkWSCPd-gMNr93VQPP9AwVk",authDomain:"suinofarm-manager.firebaseapp.com",databaseURL:"https://suinofarm-manager-default-rtdb.firebaseio.com",projectId:"suinofarm-manager",storageBucket:"suinofarm-manager.appspot.com",messagingSenderId:"960113480429",appId:"1:960113480429:web:4fc9a410a1ca5c9d2cf2e4"}),lT,VI]});let t=e;return t})();KE().bootstrapModule(OP).catch(t=>console.error(t));
